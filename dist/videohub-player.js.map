{"version":3,"sources":["webpack:///videohub-player.js","webpack:///webpack/bootstrap 170fc9b2283a505d13b7","webpack:///./src/export-module.js","webpack:///./bower_components/video.js/dist/video-js/video.dev.js","webpack:///./bower_components/isMobile/isMobile.js","webpack:///./bower_components/succinct/jQuery.succinct.js","webpack:///./bower_components/videojs-autoplay-toggle/videojs.autoplay-toggle.js","webpack:///./bower_components/videojs-ga/dist/videojs.ga.js","webpack:///./bower_components/videojs-vp-plugin/index.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/_sharetools.js","webpack:///./src/loaded_metadata.js","webpack:///./src/player.js","webpack:///./src/sharetools.js","webpack:///./src/streamsense.4.1411.18.min.js","webpack:///./src/utils/swfobject.js","webpack:///./src/videojs-analytics.js","webpack:///./src/videojs-endcard.js","webpack:///./src/videojs-sharetools.js","webpack:///./src/videojs-videometrix.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_handleMultipleEvents","fn","elem","type","callback","vjs","arr","forEach","_logType","args","argsArray","noop","console","Array","prototype","slice","window","log","warn","error","unshift","toUpperCase","history","push","apply","join","document","createElement","options","ready","tag","indexOf","players","el","nodeName","TypeError","Player","videojs","CDN_VERSION","ACCESS_PROTOCOL","location","protocol","techOrder","html5","flash","width","height","defaultVolume","playbackRates","inactivityTimeout","children","mediaLoader","posterImage","loadingSpinner","textTrackDisplay","bigPlayButton","controlBar","errorDisplay","textTrackSettings","language","getElementsByTagName","getAttribute","navigator","languages","userLanguage","notSupportedMessage","addLanguage","code","data","undefined","util","mergeOptions","CoreObject","extend","props","init","subObj","this","arguments","obj","create","constructor","name","hasOwnProperty","inst","on","isArray","getData","handlers","guid","dispatcher","disabled","event","fixEvent","handlersCopy","n","length","isImmediatePropagationStopped","addEventListener","attachEvent","off","hasData","removeType","t","cleanUpEvents","splice","removeEventListener","detachEvent","isEmpty","removeData","returnTrue","returnFalse","isPropagationStopped","old","key","preventDefault","target","srcElement","relatedTarget","fromElement","toElement","returnValue","isDefaultPrevented","defaultPrevented","stopPropagation","cancelBubble","stopImmediatePropagation","clientX","doc","documentElement","body","pageX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","which","charCode","keyCode","button","trigger","elemData","parent","parentNode","ownerDocument","bubbles","targetData","one","func","hasOwnProp","Object","createEl","tagName","properties","each","propName","val","setAttribute","capitalize","string","charAt","F","context","merge","obj1","obj2","deepMerge","val1","val2","copy","isPlain","toString","isNaN","num","bind","uid","ret","cache","expando","Date","getTime","e","removeAttribute","prop","hasClass","element","classToCheck","className","addClass","classToAdd","removeClass","classToRemove","classNames","i","split","TEST_VID","track","kind","srclang","label","appendChild","USER_AGENT","userAgent","IS_IPHONE","test","IS_IPAD","IS_IPOD","IS_IOS","IOS_VERSION","match","IS_ANDROID","ANDROID_VERSION","major","minor","parseFloat","IS_OLD_ANDROID","IS_FIREFOX","IS_CHROME","IS_IE8","TOUCH_ENABLED","DocumentTouch","BACKGROUND_SIZE_SUPPORTED","style","setElementAttributes","attributes","attrName","attrValue","getElementAttributes","knownBooleans","attrs","attrVal","value","getComputedDimension","strCssRule","strValue","defaultView","getComputedStyle","getPropertyValue","currentStyle","substr","insertFirst","child","firstChild","insertBefore","browser","getElementById","formatTime","seconds","guide","s","Math","floor","h","gm","gh","Infinity","blockTextSelection","focus","onselectstart","unblockTextSelection","trim","str","replace","round","dec","pow","createTimeRange","start","end","Error","setLocalStorage","localStorage","getAbsoluteURL","url","innerHTML","href","parseUrl","div","a","addToBody","details","host","removeChild","findPosition","box","docEl","left","top","getBoundingClientRect","pageXOffset","pageYOffset","array","thisArg","Function","len","xhr","XHR","request","urlInfo","winLoc","fileUrl","crossOrigin","abortTimeout","successHandler","errorHandler","uri","method","timeout","clearTimeout","response","responseText","err","XMLHttpRequest","ActiveXObject","f","g","XDomainRequest","onreadystatechange","readyState","timedout","status","setTimeout","abort","onload","onerror","onprogress","ontimeout","open","withCredentials","responseType","send","EventEmitter","allowedEvents_","ael","dispatchEvent","Component","player","player_","options_","id_","name_","el_","children_","childIndex_","childNameIndex_","initChildren","reportTouchActivity","enableTouchActivity","dispose","localize","lang","contentEl_","contentEl","getChildById","getChild","addChild","component","componentClass","componentName","childFound","compEl","parentOptions","opts","handleAdd","buildCSSClass","first","second","third","removeOnDispose","cleanRemover","thisComponent","newFunc","isReady_","isReadyOnInitFinish_","readyQueue_","triggerReady","readyQueue","j","show","hide","lockShowing","unlockShowing","disable","skipListeners","dimension","dimensions","widthOrHeight","pxIndex","parseInt","onResize","emitTapEvents","touchStart","firstTouch","touchTime","couldBeTap","noTap","xdiff","ydiff","touchDistance","tapMovementThreshold","touchTimeThreshold","touches","sqrt","report","touchHolding","touchEnd","reportUserActivity","clearInterval","setInterval","timeoutId","disposeFn","interval","intervalId","Button","onClick","onFocus","onBlur","role","aria-live","tabIndex","controlText_","buttonText","onKeyPress","Slider","bar","handle","onMouseDown","update","playerEvent","aria-valuenow","aria-valuemin","aria-valuemax","onMouseMove","onMouseUp","barProgress","progress","getPercent","boxWidth","offsetWidth","handleWidth","handlePercent","boxAdjustedPercent","adjustedProgress","calculateDistance","boxX","boxY","boxW","boxH","changedTouches","handleH","offsetHeight","max","min","handleW","stepBack","stepForward","SliderHandle","defaultValue","Menu","addItem","contentElType","append","MenuItem","selected","MenuButton","menu","createMenu","items","buttonPressed_","title","tabindex","createItems","blur","unpressButton","pressButton","MediaError","message","defaultMessages","errorTypes",1,2,3,4,5,"errNum","apiMap","specApi","browserApi","fullscreenAPI","tagAttributes","getTagSettings","language_","languages_","cache_","poster_","controls_","controls","isAudio","toLowerCase","listenForUserActivity","languageCode","tech","tagOptions","dataSetup","sources","tracks","JSON","parse","hasChildNodes","childName","childNodes","attr","initNetworkState_","networkState","onLoadStart","onWaiting","onWaitEnd","onSeeking","onSeeked","onEnded","onPlay","onFirstPlay","onPause","onProgress","onDurationChange","onFullscreenChange","loadTech","techName","source","unloadTech","Html5","disposeMediaElement","techReady","techOptions","parentEl","currentType_","src","currentTime","paused","hasStarted","hasStarted_","onLoadedMetaData","onLoadedData","onLoadedAllData","onTimeUpdate","bufferedPercent","play","pause","duration","techGet","onVolumeChange","isFullscreen","onError","getCache","techCall","arg","remainingTime","buffered","bufferedDuration","bufferedEnd","volume","percentAsDecimal","vol","muted","supportsFullScreen","isFullscreen_","isFS","isFullScreen","requestFullscreen","fsApi","fullscreenElement","callee","enterFullWindow","requestFullScreen","exitFullscreen","exitFullWindow","cancelFullScreen","isFullWindow","docOrigOverflow","overflow","fullWindowOnEscKey","selectSource","isSupported","b","sourceList_","load","sourceTech","currentSrc","currentType","preload","autoplay","loop","poster","bool","usingNativeControls_","usingNativeControls","error_","ended","seeking","seekable","userActivity_","userActive_","userActive","onActivity","mouseInProgress","activityCheck","lastMoveX","lastMoveY","screenX","screenY","playbackRate","rate","isAudio_","textTracks","remoteTextTracks","addTextTrack","addRemoteTextTrack","removeRemoteTextTrack","ControlBar","loadEvent","playToggle","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","liveDisplay","progressControl","fullscreenToggle","volumeControl","muteToggle","playbackRateMenuButton","subtitlesButton","captionsButton","chaptersButton","LiveDisplay","PlayToggle","CurrentTimeDisplay","updateContent","time","DurationDisplay","TimeDivider","RemainingTimeDisplay","FullscreenToggle","ProgressControl","seekBar","SeekBar","updateARIAAttributes","loadProgressBar","playProgressBar","seekHandle","barName","handleName","aria-label","scrubbing","videoWasPlaying","newTime","LoadProgressBar","part","percentify","percent","PlayProgressBar","SeekHandle","VolumeControl","volumeBar","VolumeBar","volumeLevel","volumeHandle","VolumeLevel","VolumeHandle","MuteToggle","level","VolumeMenuButton","volumeUpdate","vc","PlaybackRateMenuButton","updateVisibility","updateLabel","labelEl_","rates","PlaybackRateMenuItem","currentRate","newRate","playbackRateSupported","PosterImage","fallbackImg_","setSrc","backgroundImage","LoadingSpinner","BigPlayButton","ErrorDisplay","createTrackHelper","MediaTechController","manualProgressOn","manualTimeUpdatesOn","initControlsListeners","emulateTextTracks","initTextTrackListeners","activateControls","addControlsListeners","removeControlsListeners","userWasActive","onTap","manualProgress","trackProgress","manualProgressOff","stopTrackingProgress","progressInterval","bufferedPercent_","manualTimeUpdates","trackCurrentTime","stopTrackingCurrentTime","manualTimeUpdatesOff","currentTimeInterval","setCurrentTime","textTrackListChanges","updateDisplay","textTracksChanges","script","mode","textTracks_","TextTrackList","remoteTextTracks_","self","TextTrack","addTrack_","removeTrack_","setPoster","withSourceHandlers","Tech","handler","index","sourceHandlers","selectSourceHandler","can","canPlaySource","srcObj","sh","setSource","disposeSourceHandler","currentSource_","sourceHandler_","media","nodes","nodesLength","node","removeNodes","setupTriggers","useNativeControls","trackEl","clone","cloneNode","class","settingsAttrs","overwriteAttrs","Events","eventHandler","evt","controlsOn","controlsOff","cleanUp","setControls","setVolume","setMuted","webkitEnterFullScreen","enterFullScreen","video","HAVE_METADATA","exitFullScreen","webkitExitFullScreen","returnOriginalIfBlobURI_","elementURI","originalURI","blobURIRegExp","elementSrc","source_","setPreload","setAutoplay","setLoop","defaultMuted","setPlaybackRate","canPlayType","origSetSource","origDisposeSourceHandler","retVal","ext","canControlVolume","canControlPlaybackRate","supportsNativeTextTracks","supportsTextTracks","mpegurlRE","mp4RE","patchCanPlayType","unpatchCanPlayType","r","Flash","objId","playerOptions","flashVars","readyFunction","eventProxyFunction","errorEventProxyFunction","params","wmode","bgcolor","embed","vjs_play","vjs_pause","vjs_src","lastSeekTarget_","vjs_setProperty","vjs_getProperty","vjs_load","createSetter","attrUpper","api","createGetter","readWrite","readOnly","version","formats","video/flv","video/x-flv","video/mp4","video/m4v","currSwf","swfID","eventName","msg","GetVariable","mimeTypes","enabledPlugin","plugins","description","swf","placeHolder","getEmbedCode","par","replaceChild","newObj","display","objTag","flashVarsString","paramsString","attrsString","movie","flashvars","allowScriptAccess","allowNetworking","streamingFormats","rtmp/mp4","rtmp/flv","streamFromParts","connection","stream","streamToParts","parts","streamBegin","connEnd","lastIndexOf","substring","isStreamingType","srcType","RTMP_RE","isStreamingSrc","rtmpSourceHandler","srcParts","MediaLoader","TextTrackMode","hidden","showing","TextTrackKind","subtitles","captions","descriptions","chapters","metadata","tt","cues","activeCues","timeupdateHandler","changed","cues_","activeCues_","TextTrackCueList","defineProperty","get","set","newMode","loaded_","l","active","ct","cue","setCues_","loadTrack","cuechange","addCue","removeCue","removed","parseCues","responseBody","srcContent","parser","searchElement","fromIndex","k","O","abs","list","tracks_","change","addtrack","removetrack","rtrack","getTrackById","result","length_","defineProp","oldLength","getCueById","TextTrackDisplay","toggleDisplay","clearDisplay","constructColor","color","opacity","darkGray","lightGray","fontMap","monospace","sansSerif","serif","monospaceSansSerif","monospaceSerif","proportionalSansSerif","proportionalSerif","casual","smallcaps","tryUpdateStyle","rule","updateForTrack","cueDiv","fontSize","overrides","getValues","displayState","textOpacity","backgroundColor","backgroundOpacity","windowColor","windowOpacity","edgeStyle","textShadow","fontPercent","bottom","fontFamily","fontVariant","TextTrackMenuItem","changeHandler","OffTextTrackMenuItem","onchange","Event","createEvent","initEvent","default","CaptionSettingsMenuItem","TextTrackButton","updateHandler","CaptionsButton","kind_","threshold","SubtitlesButton","ChaptersButton","chaptersTrack","mi","ChaptersTrackMenuItem","text","startTime","getSelectedOptionValue","selectedOption","selectedOptions","selectedIndex","setSelectedOption","option","captionOptionsMenuTemplate","TextTrackSettings","querySelector","saveSettings","restoreSettings","bgOpacity","textEdge","fgColor","bgColor","setValues","values","toFixed","getItem","removeItem","setItem","stringify","ttDisplay","cx","reviver","walk","holder","v","String","lastIndex","charCodeAt","eval","","SyntaxError","autoSetup","mediaEl","vids","audios","mediaEls","autoSetupTimeout","windowLoaded","wait","plugin","root","vttjs","cueShim","VTTCue","regionShim","VTTRegion","oldVTTCue","oldVTTRegion","shim","restore","findDirectionSetting","dir","directionSetting","findAlignSetting","align","alignSetting","cobj","endTime","isIE8","baseObj","enumerable","hasBeenReset","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","setting","autoKeyword","lr","rl","middle","right","getCueAsHTML","WebVTT","convertCueToDOMTree","findScrollSetting","scroll","scrollSetting","isValidPercentValue","_width","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","defineProperties","lines","regionAnchorY","regionAnchorX","viewportAnchorY","viewportAnchorX","up","global","ParsingError","errorData","parseTimeStamp","input","computeSeconds","Settings","_objCreate","parseOptions","keyValueDelim","groupDelim","groups","kv","parseCue","regionList","consumeTimeStamp","ts","Errors","BadTimeStamp","oInput","consumeCueSettings","settings","region","alt","vals","vals0","integer","vertical","line","lineAlign","snapToLines","size","position","positionAlign","skipWhitespace","parseContent","nextToken","consume","unescape1","ESCAPE","unescape","shouldAdd","current","NEEDS_PARENT","localName","annotation","TAG_NAME","TAG_ANNOTATION","rootDiv","tagStack","createTextNode","pop","createProcessingInstruction","determineBidi","pushNodes","nodeStack","nextTextNode","textContent","innerText","strongRTLChars","computeLinePos","textTrackList","mediaElement","trackList","count","StyleBox","CueStyleBox","styleOptions","styles","writingMode","unicodeBidi","applyStyles","textAlign","font","whiteSpace","direction","stylesunicodeBidi","textPos","formatStyle","move","BoxPosition","lh","offsetTop","rects","getClientRects","lineHeight","moveBoxToLinePosition","styleBox","containerBox","boxPositions","findBestPosition","axis","bestPosition","specifiedPosition","percentage","overlapsOppositeAxis","within","overlapsAny","intersectPercentage","boxPosition","linePos","step","maxPosition","initialAxis","ceil","reverse","calculatedPercentage","toCSSCompatValues","o","BadSignature","dflt","defaultKey","has","&amp;","&lt;","&gt;","&lrm;","&rlm;","&nbsp;","u","ruby","rt","unit","toMove","overlaps","b2","boxes","container","x","y","intersectArea","reference","getSimpleBoxPosition","StringDecoder","decode","decodeURIComponent","encodeURIComponent","cuetext","FONT_SIZE_PERCENT","FONT_STYLE","CUE_BACKGROUND_PADDING","processCues","overlay","shouldCompute","paddedOverlay","margin","Parser","decoder","state","buffer","TextDecoder","reportOrThrowError","onparsingerror","collectNextLine","pos","parseRegion","xy","anchor","onregion","parseHeader","alreadyCollectedLine","hasSubstring","oncue","flush","onflush","__WEBPACK_AMD_DEFINE_FACTORY__","apple_phone","apple_ipod","apple_tablet","android_phone","android_tablet","amazon_phone","amazon_tablet","windows_phone","windows_tablet","other_blackberry","other_blackberry_10","other_opera","other_chrome","other_firefox","seven_inch","RegExp","regex","IsMobileClass","ua","tmp","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","instantiate","IM","Class","isMobile","$","succinct","omission","ignore","textDefault","textTruncated","elements","html","jQuery","cookies","sKey","cookie","sValue","vEnd","sPath","sDomain","bSecure","sExpires","Number","toUTCString","hasItem","available","storage","defaults","namespace","autoplayToggle","autoplayBtn","autoplayToggleButton","activate","videos","querySelectorAll","toggleBtnSelector","toggleBtn","toggleOn","toggleOff","turnOn","onclick","toggle","autoplaySettingFromStorage","__indexOf","item","dataSetupOptions","defaultsEventsToTrack","eventCategory","eventLabel","eventsToTrack","fullscreen","parsedOptions","percentsAlreadyTracked","percentsPlayedInterval","resize","seekEnd","seekStart","sendbeacon","timeupdate","volumeChange","ga","debug","percentPlayed","_i","action","nonInteraction","gaPrefix","eventAction","eventValue","_gaq","require","define","browserify_shim__define__module__export__","swfobject","L","ac","ad","C","ae","aa","X","ab","M","Q","D","Y","q","ag","pv","af","H","aj","ai","callbackFn","success","ah","swfVersion","wk","expressInstall","A","al","styleclass","ak","R","w","ref","z","SetVariable","win","mac","W","E","B","I","J","S","ie","nodeType","P","U","K","G","styleSheets","addRule","visibility","N","exec","T","Z","V","platform","appName","w3","doScroll","registerObject","getObjectById","embedSWF","an","aq","ar","ao","am","ap","at","au","switchOffAutoHideShow","enableUriEncoding","getFlashPlayerVersion","release","hasFlashPlayerVersion","createSWF","showExpressInstall","removeSWF","createCSS","addDomLoadEvent","addLoadEvent","getQueryParamValue","search","hash","expressInstallCallback","ex","events","ii","register","setImmediate","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","clearImmediate","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","cancelContentPlay","ads","cancelPlayTimeout","getPlayerSnapshot","suppressedTracks","snapshot","nativePoster","classes","newClasses","restorePlayerSnapshot","trackSnapshot","srcChanged","attempts","restoreTracks","resume","updateEnded","tryToResume","removeNativePoster","prerollTimeout","postrollTimeout","adFramework","fsmHandler","videoEvents","triggerEvent","originalEvent","redispatch","startLinearAdMode","endLinearAdMode","skipLinearAdMode","fsm","content-set","adscanceled","adsready","adserror","adskip","ads-ready","preroll?","enter","leave","adstart","adtimeout","ads-ready?","ad-playback","triggerevent","adend","content-resuming","_fireEndedTimeout","contentupdate","playing","postroll?","content-playback","contentended","concat","contentSrc","checkSrc","oldValue","newValue","contribAds","bridge","playerObj","config","flashElementId","elementId","loader","setTimeoutValue","vpBridge","flashEventHandler","getSwfObject","optional","flashTimeout","vpTimeoutValue","playPreroll","adSize","getAdPlayerSize","playedPreroll","postroll","swfObject","sendToFlash","logger","adPlaying","isSwfAvailable","vpAvailable","hideAdPlayer","showAdPlayer","toggleFullscreen","i2","i1","playPostroll","playAd","canPlayPreroll","denyPlay","loadingError","playedAd","playDenied","startFlashTimeout","timeoutInitiated","vpTimeout","adIsPlaying","allowPlay","eventType","adPlayerReady","resumePlayback","logging","changeVolume","trackTime","updateTime","volumeChanged","reset","pauseAd","resumeAd","jsutils","createLogger","mute","volumeChangePending","onEnd","flashBridge","pluginInterface","videojsInterface","flashComponent","./videojsInterface","contentduration","bridgeModule","playerEventHandlers","initApi","checkPostroll","vpApi","./bridge",6,"model","format","core","debugMessage","videoplaza","ParseError","Tracker","VpTracker","reportError","d","errorEvents","creative","invalidCreativeUri","invalidCreative","trackingEvents","impression","acceptInvitation","clickThrough","close","creativeView","collapse","complete","expand","firstQuartile","midpoint","rewind","thirdQuartile","timeSpent","unmute","VpXHR","httpErrorCodeTranslation",503,500,404,400,0,"ieError","Bucket","isBucketEvent","add","empty","LocalStorage","pidKey","getObjectFromUri","base","supportsLocalStorage","setData","getPersistentIdFromTicket","trackingUris","pid","getPersistentIdFromLocalStorage","random","vpXHR","bucket","blocked","impression2","creativeView2","acceptInvitation2","interaction","errorEventNames","trackingEventNames","trackUris","block","Trackable","uniqueId","isBlocked","trackCreativeEvent","Creative","Companion","creativeTypes","companion","nonLinear","resourceType","NonLinearCreative","resourceTypes","staticResource","trackAdEvent","Ad","types","inventory","VpAdCallModule","vpHost","adCallModuleSettings","videoplazaXHR","vastParser","VastXmlParser","vpLocalStorage","HTMLElement","isSafari","isChrome","isIE","isFirefox","validateNumber","isNumber","isFinite","verifyRequestSettings","maxBitRate","insertionPointType","playbackPosition","verifyContentMetadata","contentForm","translateInsertionPointType","buildUrl","versionNumber","flags","tags","category","contentPartner","translateContentForm","contentId","customParameters","referrerUrl","deviceContainer","persistentId","getURLParameter","generateUniqueId","requestAds","vastAdTagUri","creatives","mediaFiles","clickThroughUri","generateTrackingUris","campaignId","customId","customGoalId","customCampaignId","goalId","labels","variant","standard","variants","normal","sponsor","linear","MediaFile","bitRate","deliveryMethod","mimeType","LinearCreative","resource","iFrame","zoneId","zoneType","zoneTypes","DOMParser","getAttributeValue","getNamedItem","createTrackingUris","createCreatives","Linear","NonLinearAds","CompanionAds","StaticResource","IFrameResource","HTMLResource","zoneMethod","createAds","COMPANION_BANNER_JAVASCRIPT","translateIncorrectAdType","removeTextNodes","nodeValue","nextSibling","parseFromString","AdCallModule","buildDate",7,"metadataAggregator","_getDataInBridgeFormat","metadataObject","lprop","bridgeFormattedMetadata","oldName","_getDataInSdkFormat","sdkFormattedMetadata","sdkBridgeMetadataTranslator","skdFormattedData","_extend","listOfObjectsToBeAggregated","objects","extended","_removeArrayDuplicates","different","_setContentFormByLongFormLimit","longFormLimit","_changeContentFormFormat","_addContentFormToTags","aggregateData","addExistingMetadata","mergeExisting","_copyObjectProperties","isDataAgreggated","setFlashFormat","copyTo","copyFrom","getContentMetadata","contentMetadata","getAdCallModuleSettings","opt","getRequestSettings","requestSettings","insertionType","getCuePoints","cuepoints","getMetadata","metaObj","flashConverter","environmenturl","contentform","contentpartner","contentid","conv","flashFormatMetadata","getFlashFormat","playerDivId","playMidrollOnSeek",8,"enabled","vplog","isLogEnabledByUrl","getUrlQueryParameter","results",9,"sdke","initCalled","vpData","conf","_parseCuepoints","adCallModule","tracker","adType","hasFlag","eventBus","dispatch","currentAd","_makeVideoplazaAdRequest","_onGetAdsSuccess","_onGetAdsFail","adStarted","playableAds","playerAdState","adClicked","click","adEnded","shift","_setCurrentAd","_setAdComplete","newState","prerollCalled","midrollCalled","cuepoint","postrollCalled","_quartileTracking","e14","e15","e16","e17","e18","_checkForMidroll","cuepointIndex","_getCupointIndex","cuepointPos","_getCuepointHit","_isSeekrollEnabled","_filterPlayableAds","erroMsg","mediaFile","_findMp4","adObject","flag","isAdPlaying","eventBusModule","metadataTools","utils","./utils/eventBus.js","html-metadata-aggregator",10,"registeredEvents","sep","callbacks","selectedEvent","eventObject","eventDefined","_checkCallback","eventCallbackDefined","randomTest",11,"dup",12,"runPlugin","vpConfig","_addPlayerEventHandlers","_initAdvertisingModule","optionalFeatures","skip","skipButton","requestPrerolls","_update","_contentEnded","_showNewAd","vpEvent","startAdPlayback","handleAdError","_resumePlayback","_clickHandling","_reset","adState","evtElement","videoPlayer","skipAd","adObj","_playAd","_checkForPostroll","mstime","potime","_callPostroll","./skip-button.js",13,"flashPlayer","fc","flashComponentModule","addFlashElToPage","getAdMode","muteButton","createFlashElement","flashMetadata","embedFlashElement","styleFlashElement","flashEl","randomIndex","flashWrapperElement","padding","swfObjectParams","placeHolderId","minFlashVersion","expressInstallSwfUrl","parameters","classid","initFlashAdPlayer","info","playerConf","vphost","vpcategory","vptags","vpcustomparameters","divId","../git_modules/js-flashadplayer-bridge/src/main.js","./mute-button",14,"pluginModule","initPlugin","initDependencies","eventHandlers","createConsoleIE9","sdkeModule","vpPlugin","metaModule","metaModuleMain","flashPlayerModule","initialiseApi","checkIfPlayerIsInitialised","adMode","onMetadataLoaded","playerInitialized","forcedPause","setVideoDuration","flashEnabled","getFlashMetadata","../git_modules/sdke-html5/src/main.js","./flashPlayer","./metadata",15,"metadataModule","sdkeInstance","videoMetadata","mappedMetadata","vocentoMeta","urlData","mediainfo","videoCustomFields","custom_fields","_getMappedMetadata","bcCuepoints","_getBcVideoMidrollCuepoints","urlMetadata","urlDataModule","getQueryMetadata","clientConfigOverride","mappedParamValues","cue_points","./url-metadata",16,"insert","cursor","btnBackground","isMuted","unmutedPosition","mutedPosition",17,"textDiv",18,"vpCategory","getParameterByName","webpackPolyfill","deprecate","paths","_shareTools","networks","storageKeyPrefix","addNetwork","getUrlFor","networkName","network","shouldShowPostShareDialog","postShareDialog","flagDontShowPostShareDialog","setupElements","selector","$shareToolElements","shareWidget","euc","image","redirectUrl","screenLeft","screenTop","tp","__webpack_provided_window_dot_isMobile","VideoPlayer","pluginConfig","vpbc","playlistAutoPlay","vpContentForm","sharetools","showOnPause","videoId","facebook","shareUrl","twitter","shareTwitterHandle","nativeControlsForTouch","adsEnabled","setCustomOptions","playedOnce","preventWeakPlay","preventWeakMute","ignoreAutoplay","bindEventHandlerContext","setupPlugins","playerReady","handleMessagePlay","handleMessagePause","handleMessageVolume","handleMessageMuteWeak","handleMessagePauseAllowWeakPlay","handleMessagePlayWeak","isEmbedPlayer","pathname","isAutoplayEnabled","autoplayEnabled","storedAutoplay","AnalyticsManager","sendEvent","channelName","setupPulsePlugin","setupShareToolsPlugin","setupAutoplayTogglePlugin","setupEndCardPlugin","setupVideoMetrixPlugin","isDiscoverable","endcard","videometrix","setupCustomAnalyticsPlugin","videoanalytics","setupGoogleAnalyticsPlugin","defaultConfig","eventActionPrefix","videoUrl","gaConfig","assign","sendParentPlayerEvents","initMessageEventListeners","initPlayerEventListeners","playerVisible","is","that","messageHandler","isPulseAdPlaying","resumePlay","messageHandlers","muteWeak","pauseAllowWeakPlay","playWeak","postMessage","agentIsMobile","check","vendor","objToParams","urlParams","ShareTools","shareTools","link","shareWindow","windowInterval","closed","psd","modal","zIndex","closeText","ps","app_id","redirect_uri","via","twitter_handle","screen_name","subject","ns_","StreamSense","comScore","sitestat","browserAcceptsLargeURLs","URL_LENGTH_LIMIT","RESTRICTED_URL_LENGTH_LIMIT","escape","characterSet","defaultCharset","httpGet","ns_p","lastMeasurement","LABELS_ORDER","URL","referrer","filter","getString","getLong","getInteger","getBoolean","isNotEmpty","__proto__","regionMatches","getHours","getMinutes","getSeconds","isTrue","exists","firstGreaterThan0","cloneObject","safeGet","getBrowserName","getBrowserFullVersion","appVersion","$1","remove","clear","Image","write","deleteFile","read","engine","createHttpClient","createRequest","PLATFORM","httpPost","Storage","IO","getCrossPublisherId","getAppName","Constants","UNKNOWN_VALUE","getAppVersion","getVisitorId","getDeviceName","getVisitorIdSuffix","getPlatformVersion","getPlatformName","getRuntimeName","getRuntimeVersion","getResolution","getLanguage","getPackageName","isConnectionAvailable","isCompatible","autoSelect","isCrossPublisherIdChanged","stats","application","screen","filterMap","getKeys","PLAY","PAUSE","END","BUFFER","KEEP_ALIVE","HEART_BEAT","CUSTOM","AD_PLAY","AD_PAUSE","AD_END","AD_CLICK","IDLE","PLAYING","PAUSED","BUFFERING","toEventType","ADPLAY","ADPAUSE","ADEND","ADCLICK","STREAMSENSE_VERSION","DEFAULT_PLAYERNAME","DEFAULT_HEARTBEAT_INTERVAL","playingtime","DEFAULT_KEEP_ALIVE_INTERVAL","DEFAULT_PAUSED_ON_BUFFERING_INTERVAL","C1_VALUE","C10_VALUE","NS_AP_C12M_VALUE","NS_NC_VALUE","PAGE_NAME_LABEL","ns_st_cl","ns_st_pn","ns_st_tp","setPauses","setStarts","setBufferingTime","setBufferingTimestamp","setPlaybackTime","setPlaybackTimestamp","setLabels","setRegisters","getLabels","setLabel","getLabel","getClipId","setClipId","ns_st_cn","ns_st_bt","ns_st_sq","ns_st_pt","ns_st_pc","createLabels","getBufferingTime","getPlaybackTime","incrementPauses","incrementStarts","getPlaybackTimestamp","getBufferingTimestamp","getPauses","getStarts","setPlaylistId","setRebufferCount","getClip","getPlaylistId","ns_st_sp","ns_st_bc","ns_st_bp","ns_st_id","ns_st_pa","ns_st_pp","didFirstPlayOccurred","ns_st_pb","setFirstPlayOccurred","setPlaylistCounter","incrementPlaylistCounter","addPlaybackTime","addBufferingTime","getRebufferCount","incrementRebufferCount","_","mt","isPauseOnBufferingEnabled","et","pt","lt","ot","ut","dt","ht","nt","ns_st_mp","ns_st_mv","ns_st_ec","st","getPixelURL","it","newApplicationMeasurement","HIDDEN","getQueue","offer","getAppContext","getSalt","ft","ns_st_po","ns_ts","c7","c8","c9","ns_st_ev","isPersistentLabelsShared","gt","ns_st_ub","ns_st_br","ns_st_it","ns_st_sv","ns_type","ns_st_hc","yt","bt","ns_st_ad","notify","wt","setPauseOnBufferingInterval","getPauseOnBufferingInterval","setKeepAliveInterval","getKeepAliveInterval","setHeartbeatIntervals","isPausePlaySwitchDelayEnabled","getState","setPixelURL","ns_pixelUrl","setPersistentLabelsShared","setPauseOnBufferingEnabled","setPausePlaySwitchDelayEnabled","setPausePlaySwitchDelay","getPausePlaySwitchDelay","setClip","setPlaylist","importState","exportState","getVersion","addListener","removeListener","getPlaylist","adNotify","customNotify","viewNotify","activeIndex","newInstance","new","destroyInstance","destroy","newPlaylist","newClip","setPlaylistLabels","getPlaylistLabels","setClipLabels","getClipLabels","resetInstance","resetPlaylist","resetClip","viewEvent","customEvent","AdEvents","PlayerEvents","StreamingTag","customerC2","secure","ns_st_ci","c3","c4","c6","playAdvertisement","ns_st_ct","playVideoAdvertisement","playAudioAdvertisement","playContentPart","playVideoContentPart","playAudioContentPart","stop","outerHTML","VideoAnalytics","handleTimeUpdate","handlePlayerEnded","sentEvents","sendThirtySeconds","sendAnalyticsEvent","sendThreeSeconds","sendNinetyFivePercentComplete","elapsedTime","ninetyFivePercentComplete","warned","initVideoAnalytics","EndCard","videoEnded","countdown","next","allowCountdown","replayAllow","$overlay","timeLeft","setupEndcard","endcardFetched","teardownEndcard","find","clearCountdown","replayVideo","setupReplay","replayButton","startCountdown","updateCountdown","toggleCountdown","$pause","toggleClass","setupCountdown","nextUrl","redirectTo","displayShareTools","isRailPlayer","isFunction","setup","endCardMarkup","playerElement","$shareTool","$endcardShareContainer","appendTo","picturefill","pathInfo","initEndCard","_sharetools","prepareOverlay","data-share-url","data-share-description","share_description","data-share-title","share_title","data-share-redirect-url","setupTwitter","$shareToolDiv","queryParams","serializedParams","param","$twitter","setupFacebook","$facebook","setupEmbedCode","$embed","initShareTools","VideoMetrix","streamingTag","initVideoMetrix"],"mappings":"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ACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,sDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,+CACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,gDACA,iDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA,wDACA;AAkFAM,EAAAjnC,UAAAunC,YAAA,SAAAH,EAAA32B,GACAA,KAAA1M,KAAA0M,GACA,QAAA9F,KAAAy8B,GACAA,EAAA/iC,eAAAsG,KACA8F,EAAAvD,MAAAvC,GAAAy8B,EAAAz8B,KAKAs8B,EAAAjnC,UAAA8nC,YAAA,SAAA9+B,EAAA0hC,GACA,WAAA1hC,EAAA,EAAAA,EAAA0hC,GA4GAxD,EAAAlnC,UAAAujC,E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","file":"videohub-player.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(12);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {/**\n\t * @fileoverview Main function src.\n\t */\n\t\n\t// HTML5 Shiv. Must be in <head> to support older browsers.\n\tdocument.createElement('video');\n\tdocument.createElement('audio');\n\tdocument.createElement('track');\n\t\n\t/**\n\t * Doubles as the main function for users to create a player instance and also\n\t * the main library object.\n\t *\n\t * **ALIASES** videojs, _V_ (deprecated)\n\t *\n\t * The `vjs` function can be used to initialize or retrieve a player.\n\t *\n\t *     var myPlayer = vjs('my_video_id');\n\t *\n\t * @param  {String|Element} id      Video element or video element ID\n\t * @param  {Object=} options        Optional options object for config/settings\n\t * @param  {Function=} ready        Optional ready callback\n\t * @return {vjs.Player}             A player instance\n\t * @namespace\n\t */\n\tvar vjs = function(id, options, ready){\n\t  var tag; // Element of ID\n\t\n\t  // Allow for element or ID to be passed in\n\t  // String ID\n\t  if (typeof id === 'string') {\n\t\n\t    // Adjust for jQuery ID syntax\n\t    if (id.indexOf('#') === 0) {\n\t      id = id.slice(1);\n\t    }\n\t\n\t    // If a player instance has already been created for this ID return it.\n\t    if (vjs.players[id]) {\n\t\n\t      // If options or ready funtion are passed, warn\n\t      if (options) {\n\t        vjs.log.warn ('Player \"' + id + '\" is already initialised. Options will not be applied.');\n\t      }\n\t\n\t      if (ready) {\n\t        vjs.players[id].ready(ready);\n\t      }\n\t\n\t      return vjs.players[id];\n\t\n\t    // Otherwise get element for ID\n\t    } else {\n\t      tag = vjs.el(id);\n\t    }\n\t\n\t  // ID is a media element\n\t  } else {\n\t    tag = id;\n\t  }\n\t\n\t  // Check for a useable element\n\t  if (!tag || !tag.nodeName) { // re: nodeName, could be a box div also\n\t    throw new TypeError('The element or ID supplied is not valid. (videojs)'); // Returns\n\t  }\n\t\n\t  // Element may have a player attr referring to an already created player instance.\n\t  // If not, set up a new player and return the instance.\n\t  return tag['player'] || new vjs.Player(tag, options, ready);\n\t};\n\t\n\t// Extended name, also available externally, window.videojs\n\tvar videojs = window['videojs'] = vjs;\n\t\n\t// CDN Version. Used to target right flash swf.\n\tvjs.CDN_VERSION = '4.12';\n\tvjs.ACCESS_PROTOCOL = ('https:' == document.location.protocol ? 'https://' : 'http://');\n\t\n\t/**\n\t* Full player version\n\t* @type {string}\n\t*/\n\tvjs['VERSION'] = '4.12.15';\n\t\n\t/**\n\t * Global Player instance options, surfaced from vjs.Player.prototype.options_\n\t * vjs.options = vjs.Player.prototype.options_\n\t * All options should use string keys so they avoid\n\t * renaming by closure compiler\n\t * @type {Object}\n\t */\n\tvjs.options = {\n\t  // Default order of fallback technology\n\t  'techOrder': ['html5','flash'],\n\t  // techOrder: ['flash','html5'],\n\t\n\t  'html5': {},\n\t  'flash': {},\n\t\n\t  // Default of web browser is 300x150. Should rely on source width/height.\n\t  'width': 300,\n\t  'height': 150,\n\t  // defaultVolume: 0.85,\n\t  'defaultVolume': 0.00, // The freakin seaguls are driving me crazy!\n\t\n\t  // default playback rates\n\t  'playbackRates': [],\n\t  // Add playback rate selection by adding rates\n\t  // 'playbackRates': [0.5, 1, 1.5, 2],\n\t\n\t  // default inactivity timeout\n\t  'inactivityTimeout': 2000,\n\t\n\t  // Included control sets\n\t  'children': {\n\t    'mediaLoader': {},\n\t    'posterImage': {},\n\t    'loadingSpinner': {},\n\t    'textTrackDisplay': {},\n\t    'bigPlayButton': {},\n\t    'controlBar': {},\n\t    'errorDisplay': {},\n\t    'textTrackSettings': {}\n\t  },\n\t\n\t  'language': document.getElementsByTagName('html')[0].getAttribute('lang') || navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language || 'en',\n\t\n\t  // locales and their language translations\n\t  'languages': {},\n\t\n\t  // Default message to show when a video cannot be played.\n\t  'notSupportedMessage': 'No compatible source was found for this video.'\n\t};\n\t\n\t// Set CDN Version of swf\n\t// The added (+) blocks the replace from changing this 4.12 string\n\tif (vjs.CDN_VERSION !== 'GENERATED'+'_CDN_VSN') {\n\t  videojs.options['flash']['swf'] = vjs.ACCESS_PROTOCOL + 'vjs.zencdn.net/'+vjs.CDN_VERSION+'/video-js.swf';\n\t}\n\t\n\t/**\n\t * Utility function for adding languages to the default options. Useful for\n\t * amending multiple language support at runtime.\n\t *\n\t * Example: vjs.addLanguage('es', {'Hello':'Hola'});\n\t *\n\t * @param  {String} code The language code or dictionary property\n\t * @param  {Object} data The data values to be translated\n\t * @return {Object} The resulting global languages dictionary object\n\t */\n\tvjs.addLanguage = function(code, data){\n\t  if(vjs.options['languages'][code] !== undefined) {\n\t    vjs.options['languages'][code] = vjs.util.mergeOptions(vjs.options['languages'][code], data);\n\t  } else {\n\t    vjs.options['languages'][code] = data;\n\t  }\n\t  return vjs.options['languages'];\n\t};\n\t\n\t/**\n\t * Global player list\n\t * @type {Object}\n\t */\n\tvjs.players = {};\n\t\n\t/*!\n\t * Custom Universal Module Definition (UMD)\n\t *\n\t * Video.js will never be a non-browser lib so we can simplify UMD a bunch and\n\t * still support requirejs and browserify. This also needs to be closure\n\t * compiler compatible, so string keys are used.\n\t */\n\tif (\"function\" === 'function' && __webpack_require__(8)['amd']) {\n\t  !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function(){ return videojs; }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\n\t// checking that module is an object too because of umdjs/umd#35\n\t} else if (true) {\n\t  module['exports'] = videojs;\n\t}\n\t/**\n\t * Core Object/Class for objects that use inheritance + constructors\n\t *\n\t * To create a class that can be subclassed itself, extend the CoreObject class.\n\t *\n\t *     var Animal = CoreObject.extend();\n\t *     var Horse = Animal.extend();\n\t *\n\t * The constructor can be defined through the init property of an object argument.\n\t *\n\t *     var Animal = CoreObject.extend({\n\t *       init: function(name, sound){\n\t *         this.name = name;\n\t *       }\n\t *     });\n\t *\n\t * Other methods and properties can be added the same way, or directly to the\n\t * prototype.\n\t *\n\t *    var Animal = CoreObject.extend({\n\t *       init: function(name){\n\t *         this.name = name;\n\t *       },\n\t *       getName: function(){\n\t *         return this.name;\n\t *       },\n\t *       sound: '...'\n\t *    });\n\t *\n\t *    Animal.prototype.makeSound = function(){\n\t *      alert(this.sound);\n\t *    };\n\t *\n\t * To create an instance of a class, use the create method.\n\t *\n\t *    var fluffy = Animal.create('Fluffy');\n\t *    fluffy.getName(); // -> Fluffy\n\t *\n\t * Methods and properties can be overridden in subclasses.\n\t *\n\t *     var Horse = Animal.extend({\n\t *       sound: 'Neighhhhh!'\n\t *     });\n\t *\n\t *     var horsey = Horse.create('Horsey');\n\t *     horsey.getName(); // -> Horsey\n\t *     horsey.makeSound(); // -> Alert: Neighhhhh!\n\t *\n\t * @class\n\t * @constructor\n\t */\n\tvjs.CoreObject = vjs['CoreObject'] = function(){};\n\t// Manually exporting vjs['CoreObject'] here for Closure Compiler\n\t// because of the use of the extend/create class methods\n\t// If we didn't do this, those functions would get flattened to something like\n\t// `a = ...` and `this.prototype` would refer to the global object instead of\n\t// CoreObject\n\t\n\t/**\n\t * Create a new object that inherits from this Object\n\t *\n\t *     var Animal = CoreObject.extend();\n\t *     var Horse = Animal.extend();\n\t *\n\t * @param {Object} props Functions and properties to be applied to the\n\t *                       new object's prototype\n\t * @return {vjs.CoreObject} An object that inherits from CoreObject\n\t * @this {*}\n\t */\n\tvjs.CoreObject.extend = function(props){\n\t  var init, subObj;\n\t\n\t  props = props || {};\n\t  // Set up the constructor using the supplied init method\n\t  // or using the init of the parent object\n\t  // Make sure to check the unobfuscated version for external libs\n\t  init = props['init'] || props.init || this.prototype['init'] || this.prototype.init || function(){};\n\t  // In Resig's simple class inheritance (previously used) the constructor\n\t  //  is a function that calls `this.init.apply(arguments)`\n\t  // However that would prevent us from using `ParentObject.call(this);`\n\t  //  in a Child constructor because the `this` in `this.init`\n\t  //  would still refer to the Child and cause an infinite loop.\n\t  // We would instead have to do\n\t  //    `ParentObject.prototype.init.apply(this, arguments);`\n\t  //  Bleh. We're not creating a _super() function, so it's good to keep\n\t  //  the parent constructor reference simple.\n\t  subObj = function(){\n\t    init.apply(this, arguments);\n\t  };\n\t\n\t  // Inherit from this object's prototype\n\t  subObj.prototype = vjs.obj.create(this.prototype);\n\t  // Reset the constructor property for subObj otherwise\n\t  // instances of subObj would have the constructor of the parent Object\n\t  subObj.prototype.constructor = subObj;\n\t\n\t  // Make the class extendable\n\t  subObj.extend = vjs.CoreObject.extend;\n\t  // Make a function for creating instances\n\t  subObj.create = vjs.CoreObject.create;\n\t\n\t  // Extend subObj's prototype with functions and other properties from props\n\t  for (var name in props) {\n\t    if (props.hasOwnProperty(name)) {\n\t      subObj.prototype[name] = props[name];\n\t    }\n\t  }\n\t\n\t  return subObj;\n\t};\n\t\n\t/**\n\t * Create a new instance of this Object class\n\t *\n\t *     var myAnimal = Animal.create();\n\t *\n\t * @return {vjs.CoreObject} An instance of a CoreObject subclass\n\t * @this {*}\n\t */\n\tvjs.CoreObject.create = function(){\n\t  // Create a new object that inherits from this object's prototype\n\t  var inst = vjs.obj.create(this.prototype);\n\t\n\t  // Apply this constructor function to the new object\n\t  this.apply(inst, arguments);\n\t\n\t  // Return the new object\n\t  return inst;\n\t};\n\t/**\n\t * @fileoverview Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n\t * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n\t * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n\t * robust as jquery's, so there's probably some differences.\n\t */\n\t\n\t/**\n\t * Add an event listener to element\n\t * It stores the handler function in a separate cache object\n\t * and adds a generic handler to the element's event,\n\t * along with a unique id (guid) to the element.\n\t * @param  {Element|Object}   elem Element or object to bind listeners to\n\t * @param  {String|Array}   type Type of event to bind to.\n\t * @param  {Function} fn   Event listener.\n\t * @private\n\t */\n\tvjs.on = function(elem, type, fn){\n\t  if (vjs.obj.isArray(type)) {\n\t    return _handleMultipleEvents(vjs.on, elem, type, fn);\n\t  }\n\t\n\t  var data = vjs.getData(elem);\n\t\n\t  // We need a place to store all our handler data\n\t  if (!data.handlers) data.handlers = {};\n\t\n\t  if (!data.handlers[type]) data.handlers[type] = [];\n\t\n\t  if (!fn.guid) fn.guid = vjs.guid++;\n\t\n\t  data.handlers[type].push(fn);\n\t\n\t  if (!data.dispatcher) {\n\t    data.disabled = false;\n\t\n\t    data.dispatcher = function (event){\n\t\n\t      if (data.disabled) return;\n\t      event = vjs.fixEvent(event);\n\t\n\t      var handlers = data.handlers[event.type];\n\t\n\t      if (handlers) {\n\t        // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n\t        var handlersCopy = handlers.slice(0);\n\t\n\t        for (var m = 0, n = handlersCopy.length; m < n; m++) {\n\t          if (event.isImmediatePropagationStopped()) {\n\t            break;\n\t          } else {\n\t            handlersCopy[m].call(elem, event);\n\t          }\n\t        }\n\t      }\n\t    };\n\t  }\n\t\n\t  if (data.handlers[type].length == 1) {\n\t    if (elem.addEventListener) {\n\t      elem.addEventListener(type, data.dispatcher, false);\n\t    } else if (elem.attachEvent) {\n\t      elem.attachEvent('on' + type, data.dispatcher);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Removes event listeners from an element\n\t * @param  {Element|Object}   elem Object to remove listeners from\n\t * @param  {String|Array=}   type Type of listener to remove. Don't include to remove all events from element.\n\t * @param  {Function} fn   Specific listener to remove. Don't include to remove listeners for an event type.\n\t * @private\n\t */\n\tvjs.off = function(elem, type, fn) {\n\t  // Don't want to add a cache object through getData if not needed\n\t  if (!vjs.hasData(elem)) return;\n\t\n\t  var data = vjs.getData(elem);\n\t\n\t  // If no events exist, nothing to unbind\n\t  if (!data.handlers) { return; }\n\t\n\t  if (vjs.obj.isArray(type)) {\n\t    return _handleMultipleEvents(vjs.off, elem, type, fn);\n\t  }\n\t\n\t  // Utility function\n\t  var removeType = function(t){\n\t     data.handlers[t] = [];\n\t     vjs.cleanUpEvents(elem,t);\n\t  };\n\t\n\t  // Are we removing all bound events?\n\t  if (!type) {\n\t    for (var t in data.handlers) removeType(t);\n\t    return;\n\t  }\n\t\n\t  var handlers = data.handlers[type];\n\t\n\t  // If no handlers exist, nothing to unbind\n\t  if (!handlers) return;\n\t\n\t  // If no listener was provided, remove all listeners for type\n\t  if (!fn) {\n\t    removeType(type);\n\t    return;\n\t  }\n\t\n\t  // We're only removing a single handler\n\t  if (fn.guid) {\n\t    for (var n = 0; n < handlers.length; n++) {\n\t      if (handlers[n].guid === fn.guid) {\n\t        handlers.splice(n--, 1);\n\t      }\n\t    }\n\t  }\n\t\n\t  vjs.cleanUpEvents(elem, type);\n\t};\n\t\n\t/**\n\t * Clean up the listener cache and dispatchers\n\t * @param  {Element|Object} elem Element to clean up\n\t * @param  {String} type Type of event to clean up\n\t * @private\n\t */\n\tvjs.cleanUpEvents = function(elem, type) {\n\t  var data = vjs.getData(elem);\n\t\n\t  // Remove the events of a particular type if there are none left\n\t  if (data.handlers[type].length === 0) {\n\t    delete data.handlers[type];\n\t    // data.handlers[type] = null;\n\t    // Setting to null was causing an error with data.handlers\n\t\n\t    // Remove the meta-handler from the element\n\t    if (elem.removeEventListener) {\n\t      elem.removeEventListener(type, data.dispatcher, false);\n\t    } else if (elem.detachEvent) {\n\t      elem.detachEvent('on' + type, data.dispatcher);\n\t    }\n\t  }\n\t\n\t  // Remove the events object if there are no types left\n\t  if (vjs.isEmpty(data.handlers)) {\n\t    delete data.handlers;\n\t    delete data.dispatcher;\n\t    delete data.disabled;\n\t\n\t    // data.handlers = null;\n\t    // data.dispatcher = null;\n\t    // data.disabled = null;\n\t  }\n\t\n\t  // Finally remove the expando if there is no data left\n\t  if (vjs.isEmpty(data)) {\n\t    vjs.removeData(elem);\n\t  }\n\t};\n\t\n\t/**\n\t * Fix a native event to have standard property values\n\t * @param  {Object} event Event object to fix\n\t * @return {Object}\n\t * @private\n\t */\n\tvjs.fixEvent = function(event) {\n\t\n\t  function returnTrue() { return true; }\n\t  function returnFalse() { return false; }\n\t\n\t  // Test if fixing up is needed\n\t  // Used to check if !event.stopPropagation instead of isPropagationStopped\n\t  // But native events return true for stopPropagation, but don't have\n\t  // other expected methods like isPropagationStopped. Seems to be a problem\n\t  // with the Javascript Ninja code. So we're just overriding all events now.\n\t  if (!event || !event.isPropagationStopped) {\n\t    var old = event || window.event;\n\t\n\t    event = {};\n\t    // Clone the old object so that we can modify the values event = {};\n\t    // IE8 Doesn't like when you mess with native event properties\n\t    // Firefox returns false for event.hasOwnProperty('type') and other props\n\t    //  which makes copying more difficult.\n\t    // TODO: Probably best to create a whitelist of event props\n\t    for (var key in old) {\n\t      // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n\t      // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n\t      if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation') {\n\t        // Chrome 32+ warns if you try to copy deprecated returnValue, but\n\t        // we still want to if preventDefault isn't supported (IE8).\n\t        if (!(key == 'returnValue' && old.preventDefault)) {\n\t          event[key] = old[key];\n\t        }\n\t      }\n\t    }\n\t\n\t    // The event occurred on this element\n\t    if (!event.target) {\n\t      event.target = event.srcElement || document;\n\t    }\n\t\n\t    // Handle which other element the event is related to\n\t    event.relatedTarget = event.fromElement === event.target ?\n\t      event.toElement :\n\t      event.fromElement;\n\t\n\t    // Stop the default browser action\n\t    event.preventDefault = function () {\n\t      if (old.preventDefault) {\n\t        old.preventDefault();\n\t      }\n\t      event.returnValue = false;\n\t      event.isDefaultPrevented = returnTrue;\n\t      event.defaultPrevented = true;\n\t    };\n\t\n\t    event.isDefaultPrevented = returnFalse;\n\t    event.defaultPrevented = false;\n\t\n\t    // Stop the event from bubbling\n\t    event.stopPropagation = function () {\n\t      if (old.stopPropagation) {\n\t        old.stopPropagation();\n\t      }\n\t      event.cancelBubble = true;\n\t      event.isPropagationStopped = returnTrue;\n\t    };\n\t\n\t    event.isPropagationStopped = returnFalse;\n\t\n\t    // Stop the event from bubbling and executing other handlers\n\t    event.stopImmediatePropagation = function () {\n\t      if (old.stopImmediatePropagation) {\n\t        old.stopImmediatePropagation();\n\t      }\n\t      event.isImmediatePropagationStopped = returnTrue;\n\t      event.stopPropagation();\n\t    };\n\t\n\t    event.isImmediatePropagationStopped = returnFalse;\n\t\n\t    // Handle mouse position\n\t    if (event.clientX != null) {\n\t      var doc = document.documentElement, body = document.body;\n\t\n\t      event.pageX = event.clientX +\n\t        (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n\t        (doc && doc.clientLeft || body && body.clientLeft || 0);\n\t      event.pageY = event.clientY +\n\t        (doc && doc.scrollTop || body && body.scrollTop || 0) -\n\t        (doc && doc.clientTop || body && body.clientTop || 0);\n\t    }\n\t\n\t    // Handle key presses\n\t    event.which = event.charCode || event.keyCode;\n\t\n\t    // Fix button for mouse clicks:\n\t    // 0 == left; 1 == middle; 2 == right\n\t    if (event.button != null) {\n\t      event.button = (event.button & 1 ? 0 :\n\t        (event.button & 4 ? 1 :\n\t          (event.button & 2 ? 2 : 0)));\n\t    }\n\t  }\n\t\n\t  // Returns fixed-up instance\n\t  return event;\n\t};\n\t\n\t/**\n\t * Trigger an event for an element\n\t * @param  {Element|Object}      elem  Element to trigger an event on\n\t * @param  {Event|Object|String} event A string (the type) or an event object with a type attribute\n\t * @private\n\t */\n\tvjs.trigger = function(elem, event) {\n\t  // Fetches element data and a reference to the parent (for bubbling).\n\t  // Don't want to add a data object to cache for every parent,\n\t  // so checking hasData first.\n\t  var elemData = (vjs.hasData(elem)) ? vjs.getData(elem) : {};\n\t  var parent = elem.parentNode || elem.ownerDocument;\n\t      // type = event.type || event,\n\t      // handler;\n\t\n\t  // If an event name was passed as a string, creates an event out of it\n\t  if (typeof event === 'string') {\n\t    event = { type:event, target:elem };\n\t  }\n\t  // Normalizes the event properties.\n\t  event = vjs.fixEvent(event);\n\t\n\t  // If the passed element has a dispatcher, executes the established handlers.\n\t  if (elemData.dispatcher) {\n\t    elemData.dispatcher.call(elem, event);\n\t  }\n\t\n\t  // Unless explicitly stopped or the event does not bubble (e.g. media events)\n\t    // recursively calls this function to bubble the event up the DOM.\n\t    if (parent && !event.isPropagationStopped() && event.bubbles !== false) {\n\t    vjs.trigger(parent, event);\n\t\n\t  // If at the top of the DOM, triggers the default action unless disabled.\n\t  } else if (!parent && !event.defaultPrevented) {\n\t    var targetData = vjs.getData(event.target);\n\t\n\t    // Checks if the target has a default action for this event.\n\t    if (event.target[event.type]) {\n\t      // Temporarily disables event dispatching on the target as we have already executed the handler.\n\t      targetData.disabled = true;\n\t      // Executes the default action.\n\t      if (typeof event.target[event.type] === 'function') {\n\t        event.target[event.type]();\n\t      }\n\t      // Re-enables event dispatching.\n\t      targetData.disabled = false;\n\t    }\n\t  }\n\t\n\t  // Inform the triggerer if the default was prevented by returning false\n\t  return !event.defaultPrevented;\n\t  /* Original version of js ninja events wasn't complete.\n\t   * We've since updated to the latest version, but keeping this around\n\t   * for now just in case.\n\t   */\n\t  // // Added in addition to book. Book code was broke.\n\t  // event = typeof event === 'object' ?\n\t  //   event[vjs.expando] ?\n\t  //     event :\n\t  //     new vjs.Event(type, event) :\n\t  //   new vjs.Event(type);\n\t\n\t  // event.type = type;\n\t  // if (handler) {\n\t  //   handler.call(elem, event);\n\t  // }\n\t\n\t  // // Clean up the event in case it is being reused\n\t  // event.result = undefined;\n\t  // event.target = elem;\n\t};\n\t\n\t/**\n\t * Trigger a listener only once for an event\n\t * @param  {Element|Object}   elem Element or object to\n\t * @param  {String|Array}   type\n\t * @param  {Function} fn\n\t * @private\n\t */\n\tvjs.one = function(elem, type, fn) {\n\t  if (vjs.obj.isArray(type)) {\n\t    return _handleMultipleEvents(vjs.one, elem, type, fn);\n\t  }\n\t  var func = function(){\n\t    vjs.off(elem, type, func);\n\t    fn.apply(this, arguments);\n\t  };\n\t  // copy the guid to the new function so it can removed using the original function's ID\n\t  func.guid = fn.guid = fn.guid || vjs.guid++;\n\t  vjs.on(elem, type, func);\n\t};\n\t\n\t/**\n\t * Loops through an array of event types and calls the requested method for each type.\n\t * @param  {Function} fn   The event method we want to use.\n\t * @param  {Element|Object} elem Element or object to bind listeners to\n\t * @param  {String}   type Type of event to bind to.\n\t * @param  {Function} callback   Event listener.\n\t * @private\n\t */\n\tfunction _handleMultipleEvents(fn, elem, type, callback) {\n\t  vjs.arr.forEach(type, function(type) {\n\t    fn(elem, type, callback); //Call the event method for each one of the types\n\t  });\n\t}\n\tvar hasOwnProp = Object.prototype.hasOwnProperty;\n\t\n\t/**\n\t * Creates an element and applies properties.\n\t * @param  {String=} tagName    Name of tag to be created.\n\t * @param  {Object=} properties Element properties to be applied.\n\t * @return {Element}\n\t * @private\n\t */\n\tvjs.createEl = function(tagName, properties){\n\t  var el;\n\t\n\t  tagName = tagName || 'div';\n\t  properties = properties || {};\n\t\n\t  el = document.createElement(tagName);\n\t\n\t  vjs.obj.each(properties, function(propName, val){\n\t    // Not remembering why we were checking for dash\n\t    // but using setAttribute means you have to use getAttribute\n\t\n\t    // The check for dash checks for the aria-* attributes, like aria-label, aria-valuemin.\n\t    // The additional check for \"role\" is because the default method for adding attributes does not\n\t    // add the attribute \"role\". My guess is because it's not a valid attribute in some namespaces, although\n\t    // browsers handle the attribute just fine. The W3C allows for aria-* attributes to be used in pre-HTML5 docs.\n\t    // http://www.w3.org/TR/wai-aria-primer/#ariahtml. Using setAttribute gets around this problem.\n\t    if (propName.indexOf('aria-') !== -1 || propName == 'role') {\n\t     el.setAttribute(propName, val);\n\t    } else {\n\t     el[propName] = val;\n\t    }\n\t  });\n\t\n\t  return el;\n\t};\n\t\n\t/**\n\t * Uppercase the first letter of a string\n\t * @param  {String} string String to be uppercased\n\t * @return {String}\n\t * @private\n\t */\n\tvjs.capitalize = function(string){\n\t  return string.charAt(0).toUpperCase() + string.slice(1);\n\t};\n\t\n\t/**\n\t * Object functions container\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.obj = {};\n\t\n\t/**\n\t * Object.create shim for prototypal inheritance\n\t *\n\t * https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/create\n\t *\n\t * @function\n\t * @param  {Object}   obj Object to use as prototype\n\t * @private\n\t */\n\tvjs.obj.create = Object.create || function(obj){\n\t  //Create a new function called 'F' which is just an empty object.\n\t  function F() {}\n\t\n\t  //the prototype of the 'F' function should point to the\n\t  //parameter of the anonymous function.\n\t  F.prototype = obj;\n\t\n\t  //create a new constructor function based off of the 'F' function.\n\t  return new F();\n\t};\n\t\n\t/**\n\t * Loop through each property in an object and call a function\n\t * whose arguments are (key,value)\n\t * @param  {Object}   obj Object of properties\n\t * @param  {Function} fn  Function to be called on each property.\n\t * @this {*}\n\t * @private\n\t */\n\tvjs.obj.each = function(obj, fn, context){\n\t  for (var key in obj) {\n\t    if (hasOwnProp.call(obj, key)) {\n\t      fn.call(context || this, key, obj[key]);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Merge two objects together and return the original.\n\t * @param  {Object} obj1\n\t * @param  {Object} obj2\n\t * @return {Object}\n\t * @private\n\t */\n\tvjs.obj.merge = function(obj1, obj2){\n\t  if (!obj2) { return obj1; }\n\t  for (var key in obj2){\n\t    if (hasOwnProp.call(obj2, key)) {\n\t      obj1[key] = obj2[key];\n\t    }\n\t  }\n\t  return obj1;\n\t};\n\t\n\t/**\n\t * Merge two objects, and merge any properties that are objects\n\t * instead of just overwriting one. Uses to merge options hashes\n\t * where deeper default settings are important.\n\t * @param  {Object} obj1 Object to override\n\t * @param  {Object} obj2 Overriding object\n\t * @return {Object}      New object. Obj1 and Obj2 will be untouched.\n\t * @private\n\t */\n\tvjs.obj.deepMerge = function(obj1, obj2){\n\t  var key, val1, val2;\n\t\n\t  // make a copy of obj1 so we're not overwriting original values.\n\t  // like prototype.options_ and all sub options objects\n\t  obj1 = vjs.obj.copy(obj1);\n\t\n\t  for (key in obj2){\n\t    if (hasOwnProp.call(obj2, key)) {\n\t      val1 = obj1[key];\n\t      val2 = obj2[key];\n\t\n\t      // Check if both properties are pure objects and do a deep merge if so\n\t      if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {\n\t        obj1[key] = vjs.obj.deepMerge(val1, val2);\n\t      } else {\n\t        obj1[key] = obj2[key];\n\t      }\n\t    }\n\t  }\n\t  return obj1;\n\t};\n\t\n\t/**\n\t * Make a copy of the supplied object\n\t * @param  {Object} obj Object to copy\n\t * @return {Object}     Copy of object\n\t * @private\n\t */\n\tvjs.obj.copy = function(obj){\n\t  return vjs.obj.merge({}, obj);\n\t};\n\t\n\t/**\n\t * Check if an object is plain, and not a dom node or any object sub-instance\n\t * @param  {Object} obj Object to check\n\t * @return {Boolean}     True if plain, false otherwise\n\t * @private\n\t */\n\tvjs.obj.isPlain = function(obj){\n\t  return !!obj\n\t    && typeof obj === 'object'\n\t    && obj.toString() === '[object Object]'\n\t    && obj.constructor === Object;\n\t};\n\t\n\t/**\n\t * Check if an object is Array\n\t*  Since instanceof Array will not work on arrays created in another frame we need to use Array.isArray, but since IE8 does not support Array.isArray we need this shim\n\t * @param  {Object} obj Object to check\n\t * @return {Boolean}     True if plain, false otherwise\n\t * @private\n\t */\n\tvjs.obj.isArray = Array.isArray || function(arr) {\n\t  return Object.prototype.toString.call(arr) === '[object Array]';\n\t};\n\t\n\t/**\n\t * Check to see whether the input is NaN or not.\n\t * NaN is the only JavaScript construct that isn't equal to itself\n\t * @param {Number} num Number to check\n\t * @return {Boolean} True if NaN, false otherwise\n\t * @private\n\t */\n\tvjs.isNaN = function(num) {\n\t  return num !== num;\n\t};\n\t\n\t/**\n\t * Bind (a.k.a proxy or Context). A simple method for changing the context of a function\n\t   It also stores a unique id on the function so it can be easily removed from events\n\t * @param  {*}   context The object to bind as scope\n\t * @param  {Function} fn      The function to be bound to a scope\n\t * @param  {Number=}   uid     An optional unique ID for the function to be set\n\t * @return {Function}\n\t * @private\n\t */\n\tvjs.bind = function(context, fn, uid) {\n\t  // Make sure the function has a unique ID\n\t  if (!fn.guid) { fn.guid = vjs.guid++; }\n\t\n\t  // Create the new function that changes the context\n\t  var ret = function() {\n\t    return fn.apply(context, arguments);\n\t  };\n\t\n\t  // Allow for the ability to individualize this function\n\t  // Needed in the case where multiple objects might share the same prototype\n\t  // IF both items add an event listener with the same function, then you try to remove just one\n\t  // it will remove both because they both have the same guid.\n\t  // when using this, you need to use the bind method when you remove the listener as well.\n\t  // currently used in text tracks\n\t  ret.guid = (uid) ? uid + '_' + fn.guid : fn.guid;\n\t\n\t  return ret;\n\t};\n\t\n\t/**\n\t * Element Data Store. Allows for binding data to an element without putting it directly on the element.\n\t * Ex. Event listeners are stored here.\n\t * (also from jsninja.com, slightly modified and updated for closure compiler)\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.cache = {};\n\t\n\t/**\n\t * Unique ID for an element or function\n\t * @type {Number}\n\t * @private\n\t */\n\tvjs.guid = 1;\n\t\n\t/**\n\t * Unique attribute name to store an element's guid in\n\t * @type {String}\n\t * @constant\n\t * @private\n\t */\n\tvjs.expando = 'vdata' + (new Date()).getTime();\n\t\n\t/**\n\t * Returns the cache object where data for an element is stored\n\t * @param  {Element} el Element to store data for.\n\t * @return {Object}\n\t * @private\n\t */\n\tvjs.getData = function(el){\n\t  var id = el[vjs.expando];\n\t  if (!id) {\n\t    id = el[vjs.expando] = vjs.guid++;\n\t  }\n\t  if (!vjs.cache[id]) {\n\t    vjs.cache[id] = {};\n\t  }\n\t  return vjs.cache[id];\n\t};\n\t\n\t/**\n\t * Returns the cache object where data for an element is stored\n\t * @param  {Element} el Element to store data for.\n\t * @return {Object}\n\t * @private\n\t */\n\tvjs.hasData = function(el){\n\t  var id = el[vjs.expando];\n\t  return !(!id || vjs.isEmpty(vjs.cache[id]));\n\t};\n\t\n\t/**\n\t * Delete data for the element from the cache and the guid attr from getElementById\n\t * @param  {Element} el Remove data for an element\n\t * @private\n\t */\n\tvjs.removeData = function(el){\n\t  var id = el[vjs.expando];\n\t  if (!id) { return; }\n\t  // Remove all stored data\n\t  // Changed to = null\n\t  // http://coding.smashingmagazine.com/2012/11/05/writing-fast-memory-efficient-javascript/\n\t  // vjs.cache[id] = null;\n\t  delete vjs.cache[id];\n\t\n\t  // Remove the expando property from the DOM node\n\t  try {\n\t    delete el[vjs.expando];\n\t  } catch(e) {\n\t    if (el.removeAttribute) {\n\t      el.removeAttribute(vjs.expando);\n\t    } else {\n\t      // IE doesn't appear to support removeAttribute on the document element\n\t      el[vjs.expando] = null;\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Check if an object is empty\n\t * @param  {Object}  obj The object to check for emptiness\n\t * @return {Boolean}\n\t * @private\n\t */\n\tvjs.isEmpty = function(obj) {\n\t  for (var prop in obj) {\n\t    // Inlude null properties as empty.\n\t    if (obj[prop] !== null) {\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t};\n\t\n\t/**\n\t * Check if an element has a CSS class\n\t * @param {Element} element Element to check\n\t * @param {String} classToCheck Classname to check\n\t * @private\n\t */\n\tvjs.hasClass = function(element, classToCheck){\n\t  return ((' ' + element.className + ' ').indexOf(' ' + classToCheck + ' ') !== -1);\n\t};\n\t\n\t\n\t/**\n\t * Add a CSS class name to an element\n\t * @param {Element} element    Element to add class name to\n\t * @param {String} classToAdd Classname to add\n\t * @private\n\t */\n\tvjs.addClass = function(element, classToAdd){\n\t  if (!vjs.hasClass(element, classToAdd)) {\n\t    element.className = element.className === '' ? classToAdd : element.className + ' ' + classToAdd;\n\t  }\n\t};\n\t\n\t/**\n\t * Remove a CSS class name from an element\n\t * @param {Element} element    Element to remove from class name\n\t * @param {String} classToAdd Classname to remove\n\t * @private\n\t */\n\tvjs.removeClass = function(element, classToRemove){\n\t  var classNames, i;\n\t\n\t  if (!vjs.hasClass(element, classToRemove)) {return;}\n\t\n\t  classNames = element.className.split(' ');\n\t\n\t  // no arr.indexOf in ie8, and we don't want to add a big shim\n\t  for (i = classNames.length - 1; i >= 0; i--) {\n\t    if (classNames[i] === classToRemove) {\n\t      classNames.splice(i,1);\n\t    }\n\t  }\n\t\n\t  element.className = classNames.join(' ');\n\t};\n\t\n\t/**\n\t * Element for testing browser HTML5 video capabilities\n\t * @type {Element}\n\t * @constant\n\t * @private\n\t */\n\tvjs.TEST_VID = vjs.createEl('video');\n\t(function() {\n\t  var track = document.createElement('track');\n\t  track.kind = 'captions';\n\t  track.srclang = 'en';\n\t  track.label = 'English';\n\t  vjs.TEST_VID.appendChild(track);\n\t})();\n\t\n\t/**\n\t * Useragent for browser testing.\n\t * @type {String}\n\t * @constant\n\t * @private\n\t */\n\tvjs.USER_AGENT = navigator.userAgent;\n\t\n\t/**\n\t * Device is an iPhone\n\t * @type {Boolean}\n\t * @constant\n\t * @private\n\t */\n\tvjs.IS_IPHONE = (/iPhone/i).test(vjs.USER_AGENT);\n\tvjs.IS_IPAD = (/iPad/i).test(vjs.USER_AGENT);\n\tvjs.IS_IPOD = (/iPod/i).test(vjs.USER_AGENT);\n\tvjs.IS_IOS = vjs.IS_IPHONE || vjs.IS_IPAD || vjs.IS_IPOD;\n\t\n\tvjs.IOS_VERSION = (function(){\n\t  var match = vjs.USER_AGENT.match(/OS (\\d+)_/i);\n\t  if (match && match[1]) { return match[1]; }\n\t})();\n\t\n\tvjs.IS_ANDROID = (/Android/i).test(vjs.USER_AGENT);\n\tvjs.ANDROID_VERSION = (function() {\n\t  // This matches Android Major.Minor.Patch versions\n\t  // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n\t  var match = vjs.USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i),\n\t    major,\n\t    minor;\n\t\n\t  if (!match) {\n\t    return null;\n\t  }\n\t\n\t  major = match[1] && parseFloat(match[1]);\n\t  minor = match[2] && parseFloat(match[2]);\n\t\n\t  if (major && minor) {\n\t    return parseFloat(match[1] + '.' + match[2]);\n\t  } else if (major) {\n\t    return major;\n\t  } else {\n\t    return null;\n\t  }\n\t})();\n\t// Old Android is defined as Version older than 2.3, and requiring a webkit version of the android browser\n\tvjs.IS_OLD_ANDROID = vjs.IS_ANDROID && (/webkit/i).test(vjs.USER_AGENT) && vjs.ANDROID_VERSION < 2.3;\n\t\n\tvjs.IS_FIREFOX = (/Firefox/i).test(vjs.USER_AGENT);\n\tvjs.IS_CHROME = (/Chrome/i).test(vjs.USER_AGENT);\n\tvjs.IS_IE8 = (/MSIE\\s8\\.0/).test(vjs.USER_AGENT);\n\t\n\tvjs.TOUCH_ENABLED = !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof window.DocumentTouch);\n\tvjs.BACKGROUND_SIZE_SUPPORTED = 'backgroundSize' in vjs.TEST_VID.style;\n\t\n\t/**\n\t * Apply attributes to an HTML element.\n\t * @param  {Element} el         Target element.\n\t * @param  {Object=} attributes Element attributes to be applied.\n\t * @private\n\t */\n\tvjs.setElementAttributes = function(el, attributes){\n\t  vjs.obj.each(attributes, function(attrName, attrValue) {\n\t    if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n\t      el.removeAttribute(attrName);\n\t    } else {\n\t      el.setAttribute(attrName, (attrValue === true ? '' : attrValue));\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t * Get an element's attribute values, as defined on the HTML tag\n\t * Attributes are not the same as properties. They're defined on the tag\n\t * or with setAttribute (which shouldn't be used with HTML)\n\t * This will return true or false for boolean attributes.\n\t * @param  {Element} tag Element from which to get tag attributes\n\t * @return {Object}\n\t * @private\n\t */\n\tvjs.getElementAttributes = function(tag){\n\t  var obj, knownBooleans, attrs, attrName, attrVal;\n\t\n\t  obj = {};\n\t\n\t  // known boolean attributes\n\t  // we can check for matching boolean properties, but older browsers\n\t  // won't know about HTML5 boolean attributes that we still read from\n\t  knownBooleans = ','+'autoplay,controls,loop,muted,default'+',';\n\t\n\t  if (tag && tag.attributes && tag.attributes.length > 0) {\n\t    attrs = tag.attributes;\n\t\n\t    for (var i = attrs.length - 1; i >= 0; i--) {\n\t      attrName = attrs[i].name;\n\t      attrVal = attrs[i].value;\n\t\n\t      // check for known booleans\n\t      // the matching element property will return a value for typeof\n\t      if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(','+attrName+',') !== -1) {\n\t        // the value of an included boolean attribute is typically an empty\n\t        // string ('') which would equal false if we just check for a false value.\n\t        // we also don't want support bad code like autoplay='false'\n\t        attrVal = (attrVal !== null) ? true : false;\n\t      }\n\t\n\t      obj[attrName] = attrVal;\n\t    }\n\t  }\n\t\n\t  return obj;\n\t};\n\t\n\t/**\n\t * Get the computed style value for an element\n\t * From http://robertnyman.com/2006/04/24/get-the-rendered-style-of-an-element/\n\t * @param  {Element} el        Element to get style value for\n\t * @param  {String} strCssRule Style name\n\t * @return {String}            Style value\n\t * @private\n\t */\n\tvjs.getComputedDimension = function(el, strCssRule){\n\t  var strValue = '';\n\t  if(document.defaultView && document.defaultView.getComputedStyle){\n\t    strValue = document.defaultView.getComputedStyle(el, '').getPropertyValue(strCssRule);\n\t\n\t  } else if(el.currentStyle){\n\t    // IE8 Width/Height support\n\t    strValue = el['client'+strCssRule.substr(0,1).toUpperCase() + strCssRule.substr(1)] + 'px';\n\t  }\n\t  return strValue;\n\t};\n\t\n\t/**\n\t * Insert an element as the first child node of another\n\t * @param  {Element} child   Element to insert\n\t * @param  {[type]} parent Element to insert child into\n\t * @private\n\t */\n\tvjs.insertFirst = function(child, parent){\n\t  if (parent.firstChild) {\n\t    parent.insertBefore(child, parent.firstChild);\n\t  } else {\n\t    parent.appendChild(child);\n\t  }\n\t};\n\t\n\t/**\n\t * Object to hold browser support information\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.browser = {};\n\t\n\t/**\n\t * Shorthand for document.getElementById()\n\t * Also allows for CSS (jQuery) ID syntax. But nothing other than IDs.\n\t * @param  {String} id  Element ID\n\t * @return {Element}    Element with supplied ID\n\t * @private\n\t */\n\tvjs.el = function(id){\n\t  if (id.indexOf('#') === 0) {\n\t    id = id.slice(1);\n\t  }\n\t\n\t  return document.getElementById(id);\n\t};\n\t\n\t/**\n\t * Format seconds as a time string, H:MM:SS or M:SS\n\t * Supplying a guide (in seconds) will force a number of leading zeros\n\t * to cover the length of the guide\n\t * @param  {Number} seconds Number of seconds to be turned into a string\n\t * @param  {Number} guide   Number (in seconds) to model the string after\n\t * @return {String}         Time formatted as H:MM:SS or M:SS\n\t * @private\n\t */\n\tvjs.formatTime = function(seconds, guide) {\n\t  // Default to using seconds as guide\n\t  guide = guide || seconds;\n\t  var s = Math.floor(seconds % 60),\n\t      m = Math.floor(seconds / 60 % 60),\n\t      h = Math.floor(seconds / 3600),\n\t      gm = Math.floor(guide / 60 % 60),\n\t      gh = Math.floor(guide / 3600);\n\t\n\t  // handle invalid times\n\t  if (isNaN(seconds) || seconds === Infinity) {\n\t    // '-' is false for all relational operators (e.g. <, >=) so this setting\n\t    // will add the minimum number of fields specified by the guide\n\t    h = m = s = '-';\n\t  }\n\t\n\t  // Check if we need to show hours\n\t  h = (h > 0 || gh > 0) ? h + ':' : '';\n\t\n\t  // If hours are showing, we may need to add a leading zero.\n\t  // Always show at least one digit of minutes.\n\t  m = (((h || gm >= 10) && m < 10) ? '0' + m : m) + ':';\n\t\n\t  // Check if leading zero is need for seconds\n\t  s = (s < 10) ? '0' + s : s;\n\t\n\t  return h + m + s;\n\t};\n\t\n\t// Attempt to block the ability to select text while dragging controls\n\tvjs.blockTextSelection = function(){\n\t  document.body.focus();\n\t  document.onselectstart = function () { return false; };\n\t};\n\t// Turn off text selection blocking\n\tvjs.unblockTextSelection = function(){ document.onselectstart = function () { return true; }; };\n\t\n\t/**\n\t * Trim whitespace from the ends of a string.\n\t * @param  {String} string String to trim\n\t * @return {String}        Trimmed string\n\t * @private\n\t */\n\tvjs.trim = function(str){\n\t  return (str+'').replace(/^\\s+|\\s+$/g, '');\n\t};\n\t\n\t/**\n\t * Should round off a number to a decimal place\n\t * @param  {Number} num Number to round\n\t * @param  {Number} dec Number of decimal places to round to\n\t * @return {Number}     Rounded number\n\t * @private\n\t */\n\tvjs.round = function(num, dec) {\n\t  if (!dec) { dec = 0; }\n\t  return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec);\n\t};\n\t\n\t/**\n\t * Should create a fake TimeRange object\n\t * Mimics an HTML5 time range instance, which has functions that\n\t * return the start and end times for a range\n\t * TimeRanges are returned by the buffered() method\n\t * @param  {Number} start Start time in seconds\n\t * @param  {Number} end   End time in seconds\n\t * @return {Object}       Fake TimeRange object\n\t * @private\n\t */\n\tvjs.createTimeRange = function(start, end){\n\t  if (start === undefined && end === undefined) {\n\t    return {\n\t      length: 0,\n\t      start: function() {\n\t        throw new Error('This TimeRanges object is empty');\n\t      },\n\t      end: function() {\n\t        throw new Error('This TimeRanges object is empty');\n\t      }\n\t    };\n\t  }\n\t\n\t  return {\n\t    length: 1,\n\t    start: function() { return start; },\n\t    end: function() { return end; }\n\t  };\n\t};\n\t\n\t/**\n\t * Add to local storage (may removable)\n\t * @private\n\t */\n\tvjs.setLocalStorage = function(key, value){\n\t  try {\n\t    // IE was throwing errors referencing the var anywhere without this\n\t    var localStorage = window.localStorage || false;\n\t    if (!localStorage) { return; }\n\t    localStorage[key] = value;\n\t  } catch(e) {\n\t    if (e.code == 22 || e.code == 1014) { // Webkit == 22 / Firefox == 1014\n\t      vjs.log('LocalStorage Full (VideoJS)', e);\n\t    } else {\n\t      if (e.code == 18) {\n\t        vjs.log('LocalStorage not allowed (VideoJS)', e);\n\t      } else {\n\t        vjs.log('LocalStorage Error (VideoJS)', e);\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Get absolute version of relative URL. Used to tell flash correct URL.\n\t * http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n\t * @param  {String} url URL to make absolute\n\t * @return {String}     Absolute URL\n\t * @private\n\t */\n\tvjs.getAbsoluteURL = function(url){\n\t\n\t  // Check if absolute URL\n\t  if (!url.match(/^https?:\\/\\//)) {\n\t    // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n\t    url = vjs.createEl('div', {\n\t      innerHTML: '<a href=\"'+url+'\">x</a>'\n\t    }).firstChild.href;\n\t  }\n\t\n\t  return url;\n\t};\n\t\n\t\n\t/**\n\t * Resolve and parse the elements of a URL\n\t * @param  {String} url The url to parse\n\t * @return {Object}     An object of url details\n\t */\n\tvjs.parseUrl = function(url) {\n\t  var div, a, addToBody, props, details;\n\t\n\t  props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host'];\n\t\n\t  // add the url to an anchor and let the browser parse the URL\n\t  a = vjs.createEl('a', { href: url });\n\t\n\t  // IE8 (and 9?) Fix\n\t  // ie8 doesn't parse the URL correctly until the anchor is actually\n\t  // added to the body, and an innerHTML is needed to trigger the parsing\n\t  addToBody = (a.host === '' && a.protocol !== 'file:');\n\t  if (addToBody) {\n\t    div = vjs.createEl('div');\n\t    div.innerHTML = '<a href=\"'+url+'\"></a>';\n\t    a = div.firstChild;\n\t    // prevent the div from affecting layout\n\t    div.setAttribute('style', 'display:none; position:absolute;');\n\t    document.body.appendChild(div);\n\t  }\n\t\n\t  // Copy the specific URL properties to a new object\n\t  // This is also needed for IE8 because the anchor loses its\n\t  // properties when it's removed from the dom\n\t  details = {};\n\t  for (var i = 0; i < props.length; i++) {\n\t    details[props[i]] = a[props[i]];\n\t  }\n\t\n\t  // IE9 adds the port to the host property unlike everyone else. If\n\t  // a port identifier is added for standard ports, strip it.\n\t  if (details.protocol === 'http:') {\n\t    details.host = details.host.replace(/:80$/, '');\n\t  }\n\t  if (details.protocol === 'https:') {\n\t    details.host = details.host.replace(/:443$/, '');\n\t  }\n\t\n\t  if (addToBody) {\n\t    document.body.removeChild(div);\n\t  }\n\t\n\t  return details;\n\t};\n\t\n\t/**\n\t * Log messages to the console and history based on the type of message\n\t *\n\t * @param  {String} type The type of message, or `null` for `log`\n\t * @param  {[type]} args The args to be passed to the log\n\t * @private\n\t */\n\tfunction _logType(type, args){\n\t  var argsArray, noop, console;\n\t\n\t  // convert args to an array to get array functions\n\t  argsArray = Array.prototype.slice.call(args);\n\t  // if there's no console then don't try to output messages\n\t  // they will still be stored in vjs.log.history\n\t  // Was setting these once outside of this function, but containing them\n\t  // in the function makes it easier to test cases where console doesn't exist\n\t  noop = function(){};\n\t  console = window['console'] || {\n\t    'log': noop,\n\t    'warn': noop,\n\t    'error': noop\n\t  };\n\t\n\t  if (type) {\n\t    // add the type to the front of the message\n\t    argsArray.unshift(type.toUpperCase()+':');\n\t  } else {\n\t    // default to log with no prefix\n\t    type = 'log';\n\t  }\n\t\n\t  // add to history\n\t  vjs.log.history.push(argsArray);\n\t\n\t  // add console prefix after adding to history\n\t  argsArray.unshift('VIDEOJS:');\n\t\n\t  // call appropriate log function\n\t  if (console[type].apply) {\n\t    console[type].apply(console, argsArray);\n\t  } else {\n\t    // ie8 doesn't allow error.apply, but it will just join() the array anyway\n\t    console[type](argsArray.join(' '));\n\t  }\n\t}\n\t\n\t/**\n\t * Log plain debug messages\n\t */\n\tvjs.log = function(){\n\t  _logType(null, arguments);\n\t};\n\t\n\t/**\n\t * Keep a history of log messages\n\t * @type {Array}\n\t */\n\tvjs.log.history = [];\n\t\n\t/**\n\t * Log error messages\n\t */\n\tvjs.log.error = function(){\n\t  _logType('error', arguments);\n\t};\n\t\n\t/**\n\t * Log warning messages\n\t */\n\tvjs.log.warn = function(){\n\t  _logType('warn', arguments);\n\t};\n\t\n\t// Offset Left\n\t// getBoundingClientRect technique from John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\n\tvjs.findPosition = function(el) {\n\t  var box, docEl, body, clientLeft, scrollLeft, left, clientTop, scrollTop, top;\n\t\n\t  if (el.getBoundingClientRect && el.parentNode) {\n\t    box = el.getBoundingClientRect();\n\t  }\n\t\n\t  if (!box) {\n\t    return {\n\t      left: 0,\n\t      top: 0\n\t    };\n\t  }\n\t\n\t  docEl = document.documentElement;\n\t  body = document.body;\n\t\n\t  clientLeft = docEl.clientLeft || body.clientLeft || 0;\n\t  scrollLeft = window.pageXOffset || body.scrollLeft;\n\t  left = box.left + scrollLeft - clientLeft;\n\t\n\t  clientTop = docEl.clientTop || body.clientTop || 0;\n\t  scrollTop = window.pageYOffset || body.scrollTop;\n\t  top = box.top + scrollTop - clientTop;\n\t\n\t  // Android sometimes returns slightly off decimal values, so need to round\n\t  return {\n\t    left: vjs.round(left),\n\t    top: vjs.round(top)\n\t  };\n\t};\n\t\n\t/**\n\t * Array functions container\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.arr = {};\n\t\n\t/*\n\t * Loops through an array and runs a function for each item inside it.\n\t * @param  {Array}    array       The array\n\t * @param  {Function} callback    The function to be run for each item\n\t * @param  {*}        thisArg     The `this` binding of callback\n\t * @returns {Array}               The array\n\t * @private\n\t */\n\tvjs.arr.forEach = function(array, callback, thisArg) {\n\t  if (vjs.obj.isArray(array) && callback instanceof Function) {\n\t    for (var i = 0, len = array.length; i < len; ++i) {\n\t      callback.call(thisArg || vjs, array[i], i, array);\n\t    }\n\t  }\n\t\n\t  return array;\n\t};\n\t/**\n\t * Simple http request for retrieving external files (e.g. text tracks)\n\t *\n\t * ##### Example\n\t *\n\t *     // using url string\n\t *     videojs.xhr('http://example.com/myfile.vtt', function(error, response, responseBody){});\n\t *\n\t *     // or options block\n\t *     videojs.xhr({\n\t *       uri: 'http://example.com/myfile.vtt',\n\t *       method: 'GET',\n\t *       responseType: 'text'\n\t *     }, function(error, response, responseBody){\n\t *       if (error) {\n\t *         // log the error\n\t *       } else {\n\t *         // successful, do something with the response\n\t *       }\n\t *     });\n\t *\n\t *\n\t * API is modeled after the Raynos/xhr, which we hope to use after\n\t * getting browserify implemented.\n\t * https://github.com/Raynos/xhr/blob/master/index.js\n\t *\n\t * @param  {Object|String}  options   Options block or URL string\n\t * @param  {Function}       callback  The callback function\n\t * @returns {Object}                  The request\n\t */\n\tvjs.xhr = function(options, callback){\n\t  var XHR, request, urlInfo, winLoc, fileUrl, crossOrigin, abortTimeout, successHandler, errorHandler;\n\t\n\t  // If options is a string it's the url\n\t  if (typeof options === 'string') {\n\t    options = {\n\t      uri: options\n\t    };\n\t  }\n\t\n\t  // Merge with default options\n\t  videojs.util.mergeOptions({\n\t    method: 'GET',\n\t    timeout: 45 * 1000\n\t  }, options);\n\t\n\t  callback = callback || function(){};\n\t\n\t  successHandler = function(){\n\t    window.clearTimeout(abortTimeout);\n\t    callback(null, request, request.response || request.responseText);\n\t  };\n\t\n\t  errorHandler = function(err){\n\t    window.clearTimeout(abortTimeout);\n\t\n\t    if (!err || typeof err === 'string') {\n\t      err = new Error(err);\n\t    }\n\t\n\t    callback(err, request);\n\t  };\n\t\n\t  XHR = window.XMLHttpRequest;\n\t\n\t  if (typeof XHR === 'undefined') {\n\t    // Shim XMLHttpRequest for older IEs\n\t    XHR = function () {\n\t      try { return new window.ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch (e) {}\n\t      try { return new window.ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch (f) {}\n\t      try { return new window.ActiveXObject('Msxml2.XMLHTTP'); } catch (g) {}\n\t      throw new Error('This browser does not support XMLHttpRequest.');\n\t    };\n\t  }\n\t\n\t  request = new XHR();\n\t  // Store a reference to the url on the request instance\n\t  request.uri = options.uri;\n\t\n\t  urlInfo = vjs.parseUrl(options.uri);\n\t  winLoc = window.location;\n\t  // Check if url is for another domain/origin\n\t  // IE8 doesn't know location.origin, so we won't rely on it here\n\t  crossOrigin = (urlInfo.protocol + urlInfo.host) !== (winLoc.protocol + winLoc.host);\n\t\n\t  // XDomainRequest -- Use for IE if XMLHTTPRequest2 isn't available\n\t  // 'withCredentials' is only available in XMLHTTPRequest2\n\t  // Also XDomainRequest has a lot of gotchas, so only use if cross domain\n\t  if (crossOrigin && window.XDomainRequest && !('withCredentials' in request)) {\n\t    request = new window.XDomainRequest();\n\t    request.onload = successHandler;\n\t    request.onerror = errorHandler;\n\t    // These blank handlers need to be set to fix ie9\n\t    // http://cypressnorth.com/programming/internet-explorer-aborting-ajax-requests-fixed/\n\t    request.onprogress = function(){};\n\t    request.ontimeout = function(){};\n\t\n\t  // XMLHTTPRequest\n\t  } else {\n\t    fileUrl = (urlInfo.protocol == 'file:' || winLoc.protocol == 'file:');\n\t\n\t    request.onreadystatechange = function() {\n\t      if (request.readyState === 4) {\n\t        if (request.timedout) {\n\t          return errorHandler('timeout');\n\t        }\n\t\n\t        if (request.status === 200 || fileUrl && request.status === 0) {\n\t          successHandler();\n\t        } else {\n\t          errorHandler();\n\t        }\n\t      }\n\t    };\n\t\n\t    if (options.timeout) {\n\t      abortTimeout = window.setTimeout(function() {\n\t        if (request.readyState !== 4) {\n\t          request.timedout = true;\n\t          request.abort();\n\t        }\n\t      }, options.timeout);\n\t    }\n\t  }\n\t\n\t  // open the connection\n\t  try {\n\t    // Third arg is async, or ignored by XDomainRequest\n\t    request.open(options.method || 'GET', options.uri, true);\n\t  } catch(err) {\n\t    return errorHandler(err);\n\t  }\n\t\n\t  // withCredentials only supported by XMLHttpRequest2\n\t  if(options.withCredentials) {\n\t    request.withCredentials = true;\n\t  }\n\t\n\t  if (options.responseType) {\n\t    request.responseType = options.responseType;\n\t  }\n\t\n\t  // send the request\n\t  try {\n\t    request.send();\n\t  } catch(err) {\n\t    return errorHandler(err);\n\t  }\n\t\n\t  return request;\n\t};\n\t/**\n\t * Utility functions namespace\n\t * @namespace\n\t * @type {Object}\n\t */\n\tvjs.util = {};\n\t\n\t/**\n\t * Merge two options objects, recursively merging any plain object properties as\n\t * well.  Previously `deepMerge`\n\t *\n\t * @param  {Object} obj1 Object to override values in\n\t * @param  {Object} obj2 Overriding object\n\t * @return {Object}      New object -- obj1 and obj2 will be untouched\n\t */\n\tvjs.util.mergeOptions = function(obj1, obj2){\n\t  var key, val1, val2;\n\t\n\t  // make a copy of obj1 so we're not overwriting original values.\n\t  // like prototype.options_ and all sub options objects\n\t  obj1 = vjs.obj.copy(obj1);\n\t\n\t  for (key in obj2){\n\t    if (obj2.hasOwnProperty(key)) {\n\t      val1 = obj1[key];\n\t      val2 = obj2[key];\n\t\n\t      // Check if both properties are pure objects and do a deep merge if so\n\t      if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {\n\t        obj1[key] = vjs.util.mergeOptions(val1, val2);\n\t      } else {\n\t        obj1[key] = obj2[key];\n\t      }\n\t    }\n\t  }\n\t  return obj1;\n\t};vjs.EventEmitter = function() {\n\t};\n\t\n\tvjs.EventEmitter.prototype.allowedEvents_ = {\n\t};\n\t\n\tvjs.EventEmitter.prototype.on = function(type, fn) {\n\t  // Remove the addEventListener alias before calling vjs.on\n\t  // so we don't get into an infinite type loop\n\t  var ael = this.addEventListener;\n\t  this.addEventListener = Function.prototype;\n\t  vjs.on(this, type, fn);\n\t  this.addEventListener = ael;\n\t};\n\tvjs.EventEmitter.prototype.addEventListener = vjs.EventEmitter.prototype.on;\n\t\n\tvjs.EventEmitter.prototype.off = function(type, fn) {\n\t  vjs.off(this, type, fn);\n\t};\n\tvjs.EventEmitter.prototype.removeEventListener = vjs.EventEmitter.prototype.off;\n\t\n\tvjs.EventEmitter.prototype.one = function(type, fn) {\n\t  vjs.one(this, type, fn);\n\t};\n\t\n\tvjs.EventEmitter.prototype.trigger = function(event) {\n\t  var type = event.type || event;\n\t\n\t  if (typeof event === 'string') {\n\t    event = {\n\t      type: type\n\t    };\n\t  }\n\t  event = vjs.fixEvent(event);\n\t\n\t  if (this.allowedEvents_[type] && this['on' + type]) {\n\t    this['on' + type](event);\n\t  }\n\t\n\t  vjs.trigger(this, event);\n\t};\n\t// The standard DOM EventTarget.dispatchEvent() is aliased to trigger()\n\tvjs.EventEmitter.prototype.dispatchEvent = vjs.EventEmitter.prototype.trigger;\n\t/**\n\t * @fileoverview Player Component - Base class for all UI objects\n\t *\n\t */\n\t\n\t/**\n\t * Base UI Component class\n\t *\n\t * Components are embeddable UI objects that are represented by both a\n\t * javascript object and an element in the DOM. They can be children of other\n\t * components, and can have many children themselves.\n\t *\n\t *     // adding a button to the player\n\t *     var button = player.addChild('button');\n\t *     button.el(); // -> button element\n\t *\n\t *     <div class=\"video-js\">\n\t *       <div class=\"vjs-button\">Button</div>\n\t *     </div>\n\t *\n\t * Components are also event emitters.\n\t *\n\t *     button.on('click', function(){\n\t *       console.log('Button Clicked!');\n\t *     });\n\t *\n\t *     button.trigger('customevent');\n\t *\n\t * @param {Object} player  Main Player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t * @extends vjs.CoreObject\n\t */\n\tvjs.Component = vjs.CoreObject.extend({\n\t  /**\n\t   * the constructor function for the class\n\t   *\n\t   * @constructor\n\t   */\n\t  init: function(player, options, ready){\n\t    this.player_ = player;\n\t\n\t    // Make a copy of prototype.options_ to protect against overriding global defaults\n\t    this.options_ = vjs.obj.copy(this.options_);\n\t\n\t    // Updated options with supplied options\n\t    options = this.options(options);\n\t\n\t    // Get ID from options or options element if one is supplied\n\t    this.id_ = options['id'] || (options['el'] && options['el']['id']);\n\t\n\t    // If there was no ID from the options, generate one\n\t    if (!this.id_) {\n\t      // Don't require the player ID function in the case of mock players\n\t      this.id_ = ((player.id && player.id()) || 'no_player') + '_component_' + vjs.guid++;\n\t    }\n\t\n\t    this.name_ = options['name'] || null;\n\t\n\t    // Create element if one wasn't provided in options\n\t    this.el_ = options['el'] || this.createEl();\n\t\n\t    this.children_ = [];\n\t    this.childIndex_ = {};\n\t    this.childNameIndex_ = {};\n\t\n\t    // Add any child components in options\n\t    this.initChildren();\n\t\n\t    this.ready(ready);\n\t    // Don't want to trigger ready here or it will before init is actually\n\t    // finished for all children that run this constructor\n\t\n\t    if (options.reportTouchActivity !== false) {\n\t      this.enableTouchActivity();\n\t    }\n\t  }\n\t});\n\t\n\t/**\n\t * Dispose of the component and all child components\n\t */\n\tvjs.Component.prototype.dispose = function(){\n\t  this.trigger({ type: 'dispose', 'bubbles': false });\n\t\n\t  // Dispose all children.\n\t  if (this.children_) {\n\t    for (var i = this.children_.length - 1; i >= 0; i--) {\n\t      if (this.children_[i].dispose) {\n\t        this.children_[i].dispose();\n\t      }\n\t    }\n\t  }\n\t\n\t  // Delete child references\n\t  this.children_ = null;\n\t  this.childIndex_ = null;\n\t  this.childNameIndex_ = null;\n\t\n\t  // Remove all event listeners.\n\t  this.off();\n\t\n\t  // Remove element from DOM\n\t  if (this.el_.parentNode) {\n\t    this.el_.parentNode.removeChild(this.el_);\n\t  }\n\t\n\t  vjs.removeData(this.el_);\n\t  this.el_ = null;\n\t};\n\t\n\t/**\n\t * Reference to main player instance\n\t *\n\t * @type {vjs.Player}\n\t * @private\n\t */\n\tvjs.Component.prototype.player_ = true;\n\t\n\t/**\n\t * Return the component's player\n\t *\n\t * @return {vjs.Player}\n\t */\n\tvjs.Component.prototype.player = function(){\n\t  return this.player_;\n\t};\n\t\n\t/**\n\t * The component's options object\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.Component.prototype.options_;\n\t\n\t/**\n\t * Deep merge of options objects\n\t *\n\t * Whenever a property is an object on both options objects\n\t * the two properties will be merged using vjs.obj.deepMerge.\n\t *\n\t * This is used for merging options for child components. We\n\t * want it to be easy to override individual options on a child\n\t * component without having to rewrite all the other default options.\n\t *\n\t *     Parent.prototype.options_ = {\n\t *       children: {\n\t *         'childOne': { 'foo': 'bar', 'asdf': 'fdsa' },\n\t *         'childTwo': {},\n\t *         'childThree': {}\n\t *       }\n\t *     }\n\t *     newOptions = {\n\t *       children: {\n\t *         'childOne': { 'foo': 'baz', 'abc': '123' }\n\t *         'childTwo': null,\n\t *         'childFour': {}\n\t *       }\n\t *     }\n\t *\n\t *     this.options(newOptions);\n\t *\n\t * RESULT\n\t *\n\t *     {\n\t *       children: {\n\t *         'childOne': { 'foo': 'baz', 'asdf': 'fdsa', 'abc': '123' },\n\t *         'childTwo': null, // Disabled. Won't be initialized.\n\t *         'childThree': {},\n\t *         'childFour': {}\n\t *       }\n\t *     }\n\t *\n\t * @param  {Object} obj Object of new option values\n\t * @return {Object}     A NEW object of this.options_ and obj merged\n\t */\n\tvjs.Component.prototype.options = function(obj){\n\t  if (obj === undefined) return this.options_;\n\t\n\t  return this.options_ = vjs.util.mergeOptions(this.options_, obj);\n\t};\n\t\n\t/**\n\t * The DOM element for the component\n\t *\n\t * @type {Element}\n\t * @private\n\t */\n\tvjs.Component.prototype.el_;\n\t\n\t/**\n\t * Create the component's DOM element\n\t *\n\t * @param  {String=} tagName  Element's node type. e.g. 'div'\n\t * @param  {Object=} attributes An object of element attributes that should be set on the element\n\t * @return {Element}\n\t */\n\tvjs.Component.prototype.createEl = function(tagName, attributes){\n\t  return vjs.createEl(tagName, attributes);\n\t};\n\t\n\tvjs.Component.prototype.localize = function(string){\n\t  var lang = this.player_.language(),\n\t      languages = this.player_.languages();\n\t  if (languages && languages[lang] && languages[lang][string]) {\n\t    return languages[lang][string];\n\t  }\n\t  return string;\n\t};\n\t\n\t/**\n\t * Get the component's DOM element\n\t *\n\t *     var domEl = myComponent.el();\n\t *\n\t * @return {Element}\n\t */\n\tvjs.Component.prototype.el = function(){\n\t  return this.el_;\n\t};\n\t\n\t/**\n\t * An optional element where, if defined, children will be inserted instead of\n\t * directly in `el_`\n\t *\n\t * @type {Element}\n\t * @private\n\t */\n\tvjs.Component.prototype.contentEl_;\n\t\n\t/**\n\t * Return the component's DOM element for embedding content.\n\t * Will either be el_ or a new element defined in createEl.\n\t *\n\t * @return {Element}\n\t */\n\tvjs.Component.prototype.contentEl = function(){\n\t  return this.contentEl_ || this.el_;\n\t};\n\t\n\t/**\n\t * The ID for the component\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tvjs.Component.prototype.id_;\n\t\n\t/**\n\t * Get the component's ID\n\t *\n\t *     var id = myComponent.id();\n\t *\n\t * @return {String}\n\t */\n\tvjs.Component.prototype.id = function(){\n\t  return this.id_;\n\t};\n\t\n\t/**\n\t * The name for the component. Often used to reference the component.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tvjs.Component.prototype.name_;\n\t\n\t/**\n\t * Get the component's name. The name is often used to reference the component.\n\t *\n\t *     var name = myComponent.name();\n\t *\n\t * @return {String}\n\t */\n\tvjs.Component.prototype.name = function(){\n\t  return this.name_;\n\t};\n\t\n\t/**\n\t * Array of child components\n\t *\n\t * @type {Array}\n\t * @private\n\t */\n\tvjs.Component.prototype.children_;\n\t\n\t/**\n\t * Get an array of all child components\n\t *\n\t *     var kids = myComponent.children();\n\t *\n\t * @return {Array} The children\n\t */\n\tvjs.Component.prototype.children = function(){\n\t  return this.children_;\n\t};\n\t\n\t/**\n\t * Object of child components by ID\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.Component.prototype.childIndex_;\n\t\n\t/**\n\t * Returns a child component with the provided ID\n\t *\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.getChildById = function(id){\n\t  return this.childIndex_[id];\n\t};\n\t\n\t/**\n\t * Object of child components by name\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.Component.prototype.childNameIndex_;\n\t\n\t/**\n\t * Returns a child component with the provided name\n\t *\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.getChild = function(name){\n\t  return this.childNameIndex_[name];\n\t};\n\t\n\t/**\n\t * Adds a child component inside this component\n\t *\n\t *     myComponent.el();\n\t *     // -> <div class='my-component'></div>\n\t *     myComonent.children();\n\t *     // [empty array]\n\t *\n\t *     var myButton = myComponent.addChild('MyButton');\n\t *     // -> <div class='my-component'><div class=\"my-button\">myButton<div></div>\n\t *     // -> myButton === myComonent.children()[0];\n\t *\n\t * Pass in options for child constructors and options for children of the child\n\t *\n\t *     var myButton = myComponent.addChild('MyButton', {\n\t *       text: 'Press Me',\n\t *       children: {\n\t *         buttonChildExample: {\n\t *           buttonChildOption: true\n\t *         }\n\t *       }\n\t *     });\n\t *\n\t * @param {String|vjs.Component} child The class name or instance of a child to add\n\t * @param {Object=} options Options, including options to be passed to children of the child.\n\t * @return {vjs.Component} The child component (created by this process if a string was used)\n\t * @suppress {accessControls|checkRegExp|checkTypes|checkVars|const|constantProperty|deprecated|duplicate|es5Strict|fileoverviewTags|globalThis|invalidCasts|missingProperties|nonStandardJsDocs|strictModuleDepCheck|undefinedNames|undefinedVars|unknownDefines|uselessCode|visibility}\n\t */\n\tvjs.Component.prototype.addChild = function(child, options){\n\t  var component, componentClass, componentName;\n\t\n\t  // If child is a string, create new component with options\n\t  if (typeof child === 'string') {\n\t    componentName = child;\n\t\n\t    // Make sure options is at least an empty object to protect against errors\n\t    options = options || {};\n\t\n\t    // If no componentClass in options, assume componentClass is the name lowercased\n\t    // (e.g. playButton)\n\t    componentClass = options['componentClass'] || vjs.capitalize(componentName);\n\t\n\t    // Set name through options\n\t    options['name'] = componentName;\n\t\n\t    // Create a new object & element for this controls set\n\t    // If there's no .player_, this is a player\n\t    // Closure Compiler throws an 'incomplete alias' warning if we use the vjs variable directly.\n\t    // Every class should be exported, so this should never be a problem here.\n\t    component = new window['videojs'][componentClass](this.player_ || this, options);\n\t\n\t  // child is a component instance\n\t  } else {\n\t    component = child;\n\t  }\n\t\n\t  this.children_.push(component);\n\t\n\t  if (typeof component.id === 'function') {\n\t    this.childIndex_[component.id()] = component;\n\t  }\n\t\n\t  // If a name wasn't used to create the component, check if we can use the\n\t  // name function of the component\n\t  componentName = componentName || (component.name && component.name());\n\t\n\t  if (componentName) {\n\t    this.childNameIndex_[componentName] = component;\n\t  }\n\t\n\t  // Add the UI object's element to the container div (box)\n\t  // Having an element is not required\n\t  if (typeof component['el'] === 'function' && component['el']()) {\n\t    this.contentEl().appendChild(component['el']());\n\t  }\n\t\n\t  // Return so it can stored on parent object if desired.\n\t  return component;\n\t};\n\t\n\t/**\n\t * Remove a child component from this component's list of children, and the\n\t * child component's element from this component's element\n\t *\n\t * @param  {vjs.Component} component Component to remove\n\t */\n\tvjs.Component.prototype.removeChild = function(component){\n\t  if (typeof component === 'string') {\n\t    component = this.getChild(component);\n\t  }\n\t\n\t  if (!component || !this.children_) return;\n\t\n\t  var childFound = false;\n\t  for (var i = this.children_.length - 1; i >= 0; i--) {\n\t    if (this.children_[i] === component) {\n\t      childFound = true;\n\t      this.children_.splice(i,1);\n\t      break;\n\t    }\n\t  }\n\t\n\t  if (!childFound) return;\n\t\n\t  this.childIndex_[component.id()] = null;\n\t  this.childNameIndex_[component.name()] = null;\n\t\n\t  var compEl = component.el();\n\t  if (compEl && compEl.parentNode === this.contentEl()) {\n\t    this.contentEl().removeChild(component.el());\n\t  }\n\t};\n\t\n\t/**\n\t * Add and initialize default child components from options\n\t *\n\t *     // when an instance of MyComponent is created, all children in options\n\t *     // will be added to the instance by their name strings and options\n\t *     MyComponent.prototype.options_.children = {\n\t *       myChildComponent: {\n\t *         myChildOption: true\n\t *       }\n\t *     }\n\t *\n\t *     // Or when creating the component\n\t *     var myComp = new MyComponent(player, {\n\t *       children: {\n\t *         myChildComponent: {\n\t *           myChildOption: true\n\t *         }\n\t *       }\n\t *     });\n\t *\n\t * The children option can also be an Array of child names or\n\t * child options objects (that also include a 'name' key).\n\t *\n\t *     var myComp = new MyComponent(player, {\n\t *       children: [\n\t *         'button',\n\t *         {\n\t *           name: 'button',\n\t *           someOtherOption: true\n\t *         }\n\t *       ]\n\t *     });\n\t *\n\t */\n\tvjs.Component.prototype.initChildren = function(){\n\t  var parent, parentOptions, children, child, name, opts, handleAdd;\n\t\n\t  parent = this;\n\t  parentOptions = parent.options();\n\t  children = parentOptions['children'];\n\t\n\t  if (children) {\n\t    handleAdd = function(name, opts){\n\t      // Allow options for children to be set at the parent options\n\t      // e.g. videojs(id, { controlBar: false });\n\t      // instead of videojs(id, { children: { controlBar: false });\n\t      if (parentOptions[name] !== undefined) {\n\t        opts = parentOptions[name];\n\t      }\n\t\n\t      // Allow for disabling default components\n\t      // e.g. vjs.options['children']['posterImage'] = false\n\t      if (opts === false) return;\n\t\n\t      // Create and add the child component.\n\t      // Add a direct reference to the child by name on the parent instance.\n\t      // If two of the same component are used, different names should be supplied\n\t      // for each\n\t      parent[name] = parent.addChild(name, opts);\n\t    };\n\t\n\t    // Allow for an array of children details to passed in the options\n\t    if (vjs.obj.isArray(children)) {\n\t      for (var i = 0; i < children.length; i++) {\n\t        child = children[i];\n\t\n\t        if (typeof child == 'string') {\n\t          // ['myComponent']\n\t          name = child;\n\t          opts = {};\n\t        } else {\n\t          // [{ name: 'myComponent', otherOption: true }]\n\t          name = child.name;\n\t          opts = child;\n\t        }\n\t\n\t        handleAdd(name, opts);\n\t      }\n\t    } else {\n\t      vjs.obj.each(children, handleAdd);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Allows sub components to stack CSS class names\n\t *\n\t * @return {String} The constructed class name\n\t */\n\tvjs.Component.prototype.buildCSSClass = function(){\n\t    // Child classes can include a function that does:\n\t    // return 'CLASS NAME' + this._super();\n\t    return '';\n\t};\n\t\n\t/* Events\n\t============================================================================= */\n\t\n\t/**\n\t * Add an event listener to this component's element\n\t *\n\t *     var myFunc = function(){\n\t *       var myComponent = this;\n\t *       // Do something when the event is fired\n\t *     };\n\t *\n\t *     myComponent.on('eventType', myFunc);\n\t *\n\t * The context of myFunc will be myComponent unless previously bound.\n\t *\n\t * Alternatively, you can add a listener to another element or component.\n\t *\n\t *     myComponent.on(otherElement, 'eventName', myFunc);\n\t *     myComponent.on(otherComponent, 'eventName', myFunc);\n\t *\n\t * The benefit of using this over `vjs.on(otherElement, 'eventName', myFunc)`\n\t * and `otherComponent.on('eventName', myFunc)` is that this way the listeners\n\t * will be automatically cleaned up when either component is disposed.\n\t * It will also bind myComponent as the context of myFunc.\n\t *\n\t * **NOTE**: When using this on elements in the page other than window\n\t * and document (both permanent), if you remove the element from the DOM\n\t * you need to call `vjs.trigger(el, 'dispose')` on it to clean up\n\t * references to it and allow the browser to garbage collect it.\n\t *\n\t * @param  {String|vjs.Component} first   The event type or other component\n\t * @param  {Function|String}      second  The event handler or event type\n\t * @param  {Function}             third   The event handler\n\t * @return {vjs.Component}        self\n\t */\n\tvjs.Component.prototype.on = function(first, second, third){\n\t  var target, type, fn, removeOnDispose, cleanRemover, thisComponent;\n\t\n\t  if (typeof first === 'string' || vjs.obj.isArray(first)) {\n\t    vjs.on(this.el_, first, vjs.bind(this, second));\n\t\n\t  // Targeting another component or element\n\t  } else {\n\t    target = first;\n\t    type = second;\n\t    fn = vjs.bind(this, third);\n\t    thisComponent = this;\n\t\n\t    // When this component is disposed, remove the listener from the other component\n\t    removeOnDispose = function(){\n\t      thisComponent.off(target, type, fn);\n\t    };\n\t    // Use the same function ID so we can remove it later it using the ID\n\t    // of the original listener\n\t    removeOnDispose.guid = fn.guid;\n\t    this.on('dispose', removeOnDispose);\n\t\n\t    // If the other component is disposed first we need to clean the reference\n\t    // to the other component in this component's removeOnDispose listener\n\t    // Otherwise we create a memory leak.\n\t    cleanRemover = function(){\n\t      thisComponent.off('dispose', removeOnDispose);\n\t    };\n\t    // Add the same function ID so we can easily remove it later\n\t    cleanRemover.guid = fn.guid;\n\t\n\t    // Check if this is a DOM node\n\t    if (first.nodeName) {\n\t      // Add the listener to the other element\n\t      vjs.on(target, type, fn);\n\t      vjs.on(target, 'dispose', cleanRemover);\n\t\n\t    // Should be a component\n\t    // Not using `instanceof vjs.Component` because it makes mock players difficult\n\t    } else if (typeof first.on === 'function') {\n\t      // Add the listener to the other component\n\t      target.on(type, fn);\n\t      target.on('dispose', cleanRemover);\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove an event listener from this component's element\n\t *\n\t *     myComponent.off('eventType', myFunc);\n\t *\n\t * If myFunc is excluded, ALL listeners for the event type will be removed.\n\t * If eventType is excluded, ALL listeners will be removed from the component.\n\t *\n\t * Alternatively you can use `off` to remove listeners that were added to other\n\t * elements or components using `myComponent.on(otherComponent...`.\n\t * In this case both the event type and listener function are REQUIRED.\n\t *\n\t *     myComponent.off(otherElement, 'eventType', myFunc);\n\t *     myComponent.off(otherComponent, 'eventType', myFunc);\n\t *\n\t * @param  {String=|vjs.Component}  first  The event type or other component\n\t * @param  {Function=|String}       second The listener function or event type\n\t * @param  {Function=}              third  The listener for other component\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.off = function(first, second, third){\n\t  var target, otherComponent, type, fn, otherEl;\n\t\n\t  if (!first || typeof first === 'string' || vjs.obj.isArray(first)) {\n\t    vjs.off(this.el_, first, second);\n\t  } else {\n\t    target = first;\n\t    type = second;\n\t    // Ensure there's at least a guid, even if the function hasn't been used\n\t    fn = vjs.bind(this, third);\n\t\n\t    // Remove the dispose listener on this component,\n\t    // which was given the same guid as the event listener\n\t    this.off('dispose', fn);\n\t\n\t    if (first.nodeName) {\n\t      // Remove the listener\n\t      vjs.off(target, type, fn);\n\t      // Remove the listener for cleaning the dispose listener\n\t      vjs.off(target, 'dispose', fn);\n\t    } else {\n\t      target.off(type, fn);\n\t      target.off('dispose', fn);\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Add an event listener to be triggered only once and then removed\n\t *\n\t *     myComponent.one('eventName', myFunc);\n\t *\n\t * Alternatively you can add a listener to another element or component\n\t * that will be triggered only once.\n\t *\n\t *     myComponent.one(otherElement, 'eventName', myFunc);\n\t *     myComponent.one(otherComponent, 'eventName', myFunc);\n\t *\n\t * @param  {String|vjs.Component}  first   The event type or other component\n\t * @param  {Function|String}       second  The listener function or event type\n\t * @param  {Function=}             third   The listener function for other component\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.one = function(first, second, third) {\n\t  var target, type, fn, thisComponent, newFunc;\n\t\n\t  if (typeof first === 'string' || vjs.obj.isArray(first)) {\n\t    vjs.one(this.el_, first, vjs.bind(this, second));\n\t  } else {\n\t    target = first;\n\t    type = second;\n\t    fn = vjs.bind(this, third);\n\t    thisComponent = this;\n\t\n\t    newFunc = function(){\n\t      thisComponent.off(target, type, newFunc);\n\t      fn.apply(this, arguments);\n\t    };\n\t    // Keep the same function ID so we can remove it later\n\t    newFunc.guid = fn.guid;\n\t\n\t    this.on(target, type, newFunc);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Trigger an event on an element\n\t *\n\t *     myComponent.trigger('eventName');\n\t *     myComponent.trigger({'type':'eventName'});\n\t *\n\t * @param  {Event|Object|String} event  A string (the type) or an event object with a type attribute\n\t * @return {vjs.Component}       self\n\t */\n\tvjs.Component.prototype.trigger = function(event){\n\t  vjs.trigger(this.el_, event);\n\t  return this;\n\t};\n\t\n\t/* Ready\n\t================================================================================ */\n\t/**\n\t * Is the component loaded\n\t * This can mean different things depending on the component.\n\t *\n\t * @private\n\t * @type {Boolean}\n\t */\n\tvjs.Component.prototype.isReady_;\n\t\n\t/**\n\t * Trigger ready as soon as initialization is finished\n\t *\n\t * Allows for delaying ready. Override on a sub class prototype.\n\t * If you set this.isReadyOnInitFinish_ it will affect all components.\n\t * Specially used when waiting for the Flash player to asynchronously load.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tvjs.Component.prototype.isReadyOnInitFinish_ = true;\n\t\n\t/**\n\t * List of ready listeners\n\t *\n\t * @type {Array}\n\t * @private\n\t */\n\tvjs.Component.prototype.readyQueue_;\n\t\n\t/**\n\t * Bind a listener to the component's ready state\n\t *\n\t * Different from event listeners in that if the ready event has already happened\n\t * it will trigger the function immediately.\n\t *\n\t * @param  {Function} fn Ready listener\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.ready = function(fn){\n\t  if (fn) {\n\t    if (this.isReady_) {\n\t      fn.call(this);\n\t    } else {\n\t      if (this.readyQueue_ === undefined) {\n\t        this.readyQueue_ = [];\n\t      }\n\t      this.readyQueue_.push(fn);\n\t    }\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Trigger the ready listeners\n\t *\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.triggerReady = function(){\n\t  this.isReady_ = true;\n\t\n\t  var readyQueue = this.readyQueue_;\n\t\n\t  // Reset Ready Queue\n\t  this.readyQueue_ = [];\n\t\n\t  if (readyQueue && readyQueue.length > 0) {\n\t\n\t    for (var i = 0, j = readyQueue.length; i < j; i++) {\n\t      readyQueue[i].call(this);\n\t    }\n\t\n\t    // Allow for using event listeners also, in case you want to do something everytime a source is ready.\n\t    this.trigger('ready');\n\t  }\n\t};\n\t\n\t/* Display\n\t============================================================================= */\n\t\n\t/**\n\t * Check if a component's element has a CSS class name\n\t *\n\t * @param {String} classToCheck Classname to check\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.hasClass = function(classToCheck){\n\t  return vjs.hasClass(this.el_, classToCheck);\n\t};\n\t\n\t/**\n\t * Add a CSS class name to the component's element\n\t *\n\t * @param {String} classToAdd Classname to add\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.addClass = function(classToAdd){\n\t  vjs.addClass(this.el_, classToAdd);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove a CSS class name from the component's element\n\t *\n\t * @param {String} classToRemove Classname to remove\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.removeClass = function(classToRemove){\n\t  vjs.removeClass(this.el_, classToRemove);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Show the component element if hidden\n\t *\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.show = function(){\n\t  this.removeClass('vjs-hidden');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Hide the component element if currently showing\n\t *\n\t * @return {vjs.Component}\n\t */\n\tvjs.Component.prototype.hide = function(){\n\t  this.addClass('vjs-hidden');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Lock an item in its visible state\n\t * To be used with fadeIn/fadeOut.\n\t *\n\t * @return {vjs.Component}\n\t * @private\n\t */\n\tvjs.Component.prototype.lockShowing = function(){\n\t  this.addClass('vjs-lock-showing');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Unlock an item to be hidden\n\t * To be used with fadeIn/fadeOut.\n\t *\n\t * @return {vjs.Component}\n\t * @private\n\t */\n\tvjs.Component.prototype.unlockShowing = function(){\n\t  this.removeClass('vjs-lock-showing');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Disable component by making it unshowable\n\t *\n\t * Currently private because we're moving towards more css-based states.\n\t * @private\n\t */\n\tvjs.Component.prototype.disable = function(){\n\t  this.hide();\n\t  this.show = function(){};\n\t};\n\t\n\t/**\n\t * Set or get the width of the component (CSS values)\n\t *\n\t * Setting the video tag dimension values only works with values in pixels.\n\t * Percent values will not work.\n\t * Some percents can be used, but width()/height() will return the number + %,\n\t * not the actual computed width/height.\n\t *\n\t * @param  {Number|String=} num   Optional width number\n\t * @param  {Boolean} skipListeners Skip the 'resize' event trigger\n\t * @return {vjs.Component} This component, when setting the width\n\t * @return {Number|String} The width, when getting\n\t */\n\tvjs.Component.prototype.width = function(num, skipListeners){\n\t  return this.dimension('width', num, skipListeners);\n\t};\n\t\n\t/**\n\t * Get or set the height of the component (CSS values)\n\t *\n\t * Setting the video tag dimension values only works with values in pixels.\n\t * Percent values will not work.\n\t * Some percents can be used, but width()/height() will return the number + %,\n\t * not the actual computed width/height.\n\t *\n\t * @param  {Number|String=} num     New component height\n\t * @param  {Boolean=} skipListeners Skip the resize event trigger\n\t * @return {vjs.Component} This component, when setting the height\n\t * @return {Number|String} The height, when getting\n\t */\n\tvjs.Component.prototype.height = function(num, skipListeners){\n\t  return this.dimension('height', num, skipListeners);\n\t};\n\t\n\t/**\n\t * Set both width and height at the same time\n\t *\n\t * @param  {Number|String} width\n\t * @param  {Number|String} height\n\t * @return {vjs.Component} The component\n\t */\n\tvjs.Component.prototype.dimensions = function(width, height){\n\t  // Skip resize listeners on width for optimization\n\t  return this.width(width, true).height(height);\n\t};\n\t\n\t/**\n\t * Get or set width or height\n\t *\n\t * This is the shared code for the width() and height() methods.\n\t * All for an integer, integer + 'px' or integer + '%';\n\t *\n\t * Known issue: Hidden elements officially have a width of 0. We're defaulting\n\t * to the style.width value and falling back to computedStyle which has the\n\t * hidden element issue. Info, but probably not an efficient fix:\n\t * http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/\n\t *\n\t * @param  {String} widthOrHeight  'width' or 'height'\n\t * @param  {Number|String=} num     New dimension\n\t * @param  {Boolean=} skipListeners Skip resize event trigger\n\t * @return {vjs.Component} The component if a dimension was set\n\t * @return {Number|String} The dimension if nothing was set\n\t * @private\n\t */\n\tvjs.Component.prototype.dimension = function(widthOrHeight, num, skipListeners){\n\t  if (num !== undefined) {\n\t    if (num === null || vjs.isNaN(num)) {\n\t      num = 0;\n\t    }\n\t\n\t    // Check if using css width/height (% or px) and adjust\n\t    if ((''+num).indexOf('%') !== -1 || (''+num).indexOf('px') !== -1) {\n\t      this.el_.style[widthOrHeight] = num;\n\t    } else if (num === 'auto') {\n\t      this.el_.style[widthOrHeight] = '';\n\t    } else {\n\t      this.el_.style[widthOrHeight] = num+'px';\n\t    }\n\t\n\t    // skipListeners allows us to avoid triggering the resize event when setting both width and height\n\t    if (!skipListeners) { this.trigger('resize'); }\n\t\n\t    // Return component\n\t    return this;\n\t  }\n\t\n\t  // Not setting a value, so getting it\n\t  // Make sure element exists\n\t  if (!this.el_) return 0;\n\t\n\t  // Get dimension value from style\n\t  var val = this.el_.style[widthOrHeight];\n\t  var pxIndex = val.indexOf('px');\n\t  if (pxIndex !== -1) {\n\t    // Return the pixel value with no 'px'\n\t    return parseInt(val.slice(0,pxIndex), 10);\n\t\n\t  // No px so using % or no style was set, so falling back to offsetWidth/height\n\t  // If component has display:none, offset will return 0\n\t  // TODO: handle display:none and no dimension style using px\n\t  } else {\n\t\n\t    return parseInt(this.el_['offset'+vjs.capitalize(widthOrHeight)], 10);\n\t\n\t    // ComputedStyle version.\n\t    // Only difference is if the element is hidden it will return\n\t    // the percent value (e.g. '100%'')\n\t    // instead of zero like offsetWidth returns.\n\t    // var val = vjs.getComputedStyleValue(this.el_, widthOrHeight);\n\t    // var pxIndex = val.indexOf('px');\n\t\n\t    // if (pxIndex !== -1) {\n\t    //   return val.slice(0, pxIndex);\n\t    // } else {\n\t    //   return val;\n\t    // }\n\t  }\n\t};\n\t\n\t/**\n\t * Fired when the width and/or height of the component changes\n\t * @event resize\n\t */\n\tvjs.Component.prototype.onResize;\n\t\n\t/**\n\t * Emit 'tap' events when touch events are supported\n\t *\n\t * This is used to support toggling the controls through a tap on the video.\n\t *\n\t * We're requiring them to be enabled because otherwise every component would\n\t * have this extra overhead unnecessarily, on mobile devices where extra\n\t * overhead is especially bad.\n\t * @private\n\t */\n\tvjs.Component.prototype.emitTapEvents = function(){\n\t  var touchStart, firstTouch, touchTime, couldBeTap, noTap,\n\t      xdiff, ydiff, touchDistance, tapMovementThreshold, touchTimeThreshold;\n\t\n\t  // Track the start time so we can determine how long the touch lasted\n\t  touchStart = 0;\n\t  firstTouch = null;\n\t\n\t  // Maximum movement allowed during a touch event to still be considered a tap\n\t  // Other popular libs use anywhere from 2 (hammer.js) to 15, so 10 seems like a nice, round number.\n\t  tapMovementThreshold = 10;\n\t\n\t  // The maximum length a touch can be while still being considered a tap\n\t  touchTimeThreshold = 200;\n\t\n\t  this.on('touchstart', function(event) {\n\t    // If more than one finger, don't consider treating this as a click\n\t    if (event.touches.length === 1) {\n\t      firstTouch = vjs.obj.copy(event.touches[0]);\n\t      // Record start time so we can detect a tap vs. \"touch and hold\"\n\t      touchStart = new Date().getTime();\n\t      // Reset couldBeTap tracking\n\t      couldBeTap = true;\n\t    }\n\t  });\n\t\n\t  this.on('touchmove', function(event) {\n\t    // If more than one finger, don't consider treating this as a click\n\t    if (event.touches.length > 1) {\n\t      couldBeTap = false;\n\t    } else if (firstTouch) {\n\t      // Some devices will throw touchmoves for all but the slightest of taps.\n\t      // So, if we moved only a small distance, this could still be a tap\n\t      xdiff = event.touches[0].pageX - firstTouch.pageX;\n\t      ydiff = event.touches[0].pageY - firstTouch.pageY;\n\t      touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n\t      if (touchDistance > tapMovementThreshold) {\n\t        couldBeTap = false;\n\t      }\n\t    }\n\t  });\n\t\n\t  noTap = function(){\n\t    couldBeTap = false;\n\t  };\n\t  // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n\t  this.on('touchleave', noTap);\n\t  this.on('touchcancel', noTap);\n\t\n\t  // When the touch ends, measure how long it took and trigger the appropriate\n\t  // event\n\t  this.on('touchend', function(event) {\n\t    firstTouch = null;\n\t    // Proceed only if the touchmove/leave/cancel event didn't happen\n\t    if (couldBeTap === true) {\n\t      // Measure how long the touch lasted\n\t      touchTime = new Date().getTime() - touchStart;\n\t      // Make sure the touch was less than the threshold to be considered a tap\n\t      if (touchTime < touchTimeThreshold) {\n\t        event.preventDefault(); // Don't let browser turn this into a click\n\t        this.trigger('tap');\n\t        // It may be good to copy the touchend event object and change the\n\t        // type to tap, if the other event properties aren't exact after\n\t        // vjs.fixEvent runs (e.g. event.target)\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t * Report user touch activity when touch events occur\n\t *\n\t * User activity is used to determine when controls should show/hide. It's\n\t * relatively simple when it comes to mouse events, because any mouse event\n\t * should show the controls. So we capture mouse events that bubble up to the\n\t * player and report activity when that happens.\n\t *\n\t * With touch events it isn't as easy. We can't rely on touch events at the\n\t * player level, because a tap (touchstart + touchend) on the video itself on\n\t * mobile devices is meant to turn controls off (and on). User activity is\n\t * checked asynchronously, so what could happen is a tap event on the video\n\t * turns the controls off, then the touchend event bubbles up to the player,\n\t * which if it reported user activity, would turn the controls right back on.\n\t * (We also don't want to completely block touch events from bubbling up)\n\t *\n\t * Also a touchmove, touch+hold, and anything other than a tap is not supposed\n\t * to turn the controls back on on a mobile device.\n\t *\n\t * Here we're setting the default component behavior to report user activity\n\t * whenever touch events happen, and this can be turned off by components that\n\t * want touch events to act differently.\n\t */\n\tvjs.Component.prototype.enableTouchActivity = function() {\n\t  var report, touchHolding, touchEnd;\n\t\n\t  // Don't continue if the root player doesn't support reporting user activity\n\t  if (!this.player().reportUserActivity) {\n\t    return;\n\t  }\n\t\n\t  // listener for reporting that the user is active\n\t  report = vjs.bind(this.player(), this.player().reportUserActivity);\n\t\n\t  this.on('touchstart', function() {\n\t    report();\n\t    // For as long as the they are touching the device or have their mouse down,\n\t    // we consider them active even if they're not moving their finger or mouse.\n\t    // So we want to continue to update that they are active\n\t    this.clearInterval(touchHolding);\n\t    // report at the same interval as activityCheck\n\t    touchHolding = this.setInterval(report, 250);\n\t  });\n\t\n\t  touchEnd = function(event) {\n\t    report();\n\t    // stop the interval that maintains activity if the touch is holding\n\t    this.clearInterval(touchHolding);\n\t  };\n\t\n\t  this.on('touchmove', report);\n\t  this.on('touchend', touchEnd);\n\t  this.on('touchcancel', touchEnd);\n\t};\n\t\n\t/**\n\t * Creates timeout and sets up disposal automatically.\n\t * @param {Function} fn The function to run after the timeout.\n\t * @param {Number} timeout Number of ms to delay before executing specified function.\n\t * @return {Number} Returns the timeout ID\n\t */\n\tvjs.Component.prototype.setTimeout = function(fn, timeout) {\n\t  fn = vjs.bind(this, fn);\n\t\n\t  // window.setTimeout would be preferable here, but due to some bizarre issue with Sinon and/or Phantomjs, we can't.\n\t  var timeoutId = setTimeout(fn, timeout);\n\t\n\t  var disposeFn = function() {\n\t    this.clearTimeout(timeoutId);\n\t  };\n\t\n\t  disposeFn.guid = 'vjs-timeout-'+ timeoutId;\n\t\n\t  this.on('dispose', disposeFn);\n\t\n\t  return timeoutId;\n\t};\n\t\n\t\n\t/**\n\t * Clears a timeout and removes the associated dispose listener\n\t * @param {Number} timeoutId The id of the timeout to clear\n\t * @return {Number} Returns the timeout ID\n\t */\n\tvjs.Component.prototype.clearTimeout = function(timeoutId) {\n\t  clearTimeout(timeoutId);\n\t\n\t  var disposeFn = function(){};\n\t  disposeFn.guid = 'vjs-timeout-'+ timeoutId;\n\t\n\t  this.off('dispose', disposeFn);\n\t\n\t  return timeoutId;\n\t};\n\t\n\t/**\n\t * Creates an interval and sets up disposal automatically.\n\t * @param {Function} fn The function to run every N seconds.\n\t * @param {Number} interval Number of ms to delay before executing specified function.\n\t * @return {Number} Returns the interval ID\n\t */\n\tvjs.Component.prototype.setInterval = function(fn, interval) {\n\t  fn = vjs.bind(this, fn);\n\t\n\t  var intervalId = setInterval(fn, interval);\n\t\n\t  var disposeFn = function() {\n\t    this.clearInterval(intervalId);\n\t  };\n\t\n\t  disposeFn.guid = 'vjs-interval-'+ intervalId;\n\t\n\t  this.on('dispose', disposeFn);\n\t\n\t  return intervalId;\n\t};\n\t\n\t/**\n\t * Clears an interval and removes the associated dispose listener\n\t * @param {Number} intervalId The id of the interval to clear\n\t * @return {Number} Returns the interval ID\n\t */\n\tvjs.Component.prototype.clearInterval = function(intervalId) {\n\t  clearInterval(intervalId);\n\t\n\t  var disposeFn = function(){};\n\t  disposeFn.guid = 'vjs-interval-'+ intervalId;\n\t\n\t  this.off('dispose', disposeFn);\n\t\n\t  return intervalId;\n\t};\n\t/* Button - Base class for all buttons\n\t================================================================================ */\n\t/**\n\t * Base class for all buttons\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t */\n\tvjs.Button = vjs.Component.extend({\n\t  /**\n\t   * @constructor\n\t   * @inheritDoc\n\t   */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    this.emitTapEvents();\n\t\n\t    this.on('tap', this.onClick);\n\t    this.on('click', this.onClick);\n\t    this.on('focus', this.onFocus);\n\t    this.on('blur', this.onBlur);\n\t  }\n\t});\n\t\n\tvjs.Button.prototype.createEl = function(type, props){\n\t  var el;\n\t\n\t  // Add standard Aria and Tabindex info\n\t  props = vjs.obj.merge({\n\t    className: this.buildCSSClass(),\n\t    'role': 'button',\n\t    'aria-live': 'polite', // let the screen reader user know that the text of the button may change\n\t    tabIndex: 0\n\t  }, props);\n\t\n\t  el = vjs.Component.prototype.createEl.call(this, type, props);\n\t\n\t  // if innerHTML hasn't been overridden (bigPlayButton), add content elements\n\t  if (!props.innerHTML) {\n\t    this.contentEl_ = vjs.createEl('div', {\n\t      className: 'vjs-control-content'\n\t    });\n\t\n\t    this.controlText_ = vjs.createEl('span', {\n\t      className: 'vjs-control-text',\n\t      innerHTML: this.localize(this.buttonText) || 'Need Text'\n\t    });\n\t\n\t    this.contentEl_.appendChild(this.controlText_);\n\t    el.appendChild(this.contentEl_);\n\t  }\n\t\n\t  return el;\n\t};\n\t\n\tvjs.Button.prototype.buildCSSClass = function(){\n\t  // TODO: Change vjs-control to vjs-button?\n\t  return 'vjs-control ' + vjs.Component.prototype.buildCSSClass.call(this);\n\t};\n\t\n\t  // Click - Override with specific functionality for button\n\tvjs.Button.prototype.onClick = function(){};\n\t\n\t  // Focus - Add keyboard functionality to element\n\tvjs.Button.prototype.onFocus = function(){\n\t  vjs.on(document, 'keydown', vjs.bind(this, this.onKeyPress));\n\t};\n\t\n\t  // KeyPress (document level) - Trigger click when keys are pressed\n\tvjs.Button.prototype.onKeyPress = function(event){\n\t  // Check for space bar (32) or enter (13) keys\n\t  if (event.which == 32 || event.which == 13) {\n\t    event.preventDefault();\n\t    this.onClick();\n\t  }\n\t};\n\t\n\t// Blur - Remove keyboard triggers\n\tvjs.Button.prototype.onBlur = function(){\n\t  vjs.off(document, 'keydown', vjs.bind(this, this.onKeyPress));\n\t};\n\t/* Slider\n\t================================================================================ */\n\t/**\n\t * The base functionality for sliders like the volume bar and seek bar\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.Slider = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    // Set property names to bar and handle to match with the child Slider class is looking for\n\t    this.bar = this.getChild(this.options_['barName']);\n\t    this.handle = this.getChild(this.options_['handleName']);\n\t\n\t    this.on('mousedown', this.onMouseDown);\n\t    this.on('touchstart', this.onMouseDown);\n\t    this.on('focus', this.onFocus);\n\t    this.on('blur', this.onBlur);\n\t    this.on('click', this.onClick);\n\t\n\t    this.on(player, 'controlsvisible', this.update);\n\t    this.on(player, this.playerEvent, this.update);\n\t  }\n\t});\n\t\n\tvjs.Slider.prototype.createEl = function(type, props) {\n\t  props = props || {};\n\t  // Add the slider element class to all sub classes\n\t  props.className = props.className + ' vjs-slider';\n\t  props = vjs.obj.merge({\n\t    'role': 'slider',\n\t    'aria-valuenow': 0,\n\t    'aria-valuemin': 0,\n\t    'aria-valuemax': 100,\n\t    tabIndex: 0\n\t  }, props);\n\t\n\t  return vjs.Component.prototype.createEl.call(this, type, props);\n\t};\n\t\n\tvjs.Slider.prototype.onMouseDown = function(event){\n\t  event.preventDefault();\n\t  vjs.blockTextSelection();\n\t  this.addClass('vjs-sliding');\n\t\n\t  this.on(document, 'mousemove', this.onMouseMove);\n\t  this.on(document, 'mouseup', this.onMouseUp);\n\t  this.on(document, 'touchmove', this.onMouseMove);\n\t  this.on(document, 'touchend', this.onMouseUp);\n\t\n\t  this.onMouseMove(event);\n\t};\n\t\n\t// To be overridden by a subclass\n\tvjs.Slider.prototype.onMouseMove = function(){};\n\t\n\tvjs.Slider.prototype.onMouseUp = function() {\n\t  vjs.unblockTextSelection();\n\t  this.removeClass('vjs-sliding');\n\t\n\t  this.off(document, 'mousemove', this.onMouseMove);\n\t  this.off(document, 'mouseup', this.onMouseUp);\n\t  this.off(document, 'touchmove', this.onMouseMove);\n\t  this.off(document, 'touchend', this.onMouseUp);\n\t\n\t  this.update();\n\t};\n\t\n\tvjs.Slider.prototype.update = function(){\n\t  // In VolumeBar init we have a setTimeout for update that pops and update to the end of the\n\t  // execution stack. The player is destroyed before then update will cause an error\n\t  if (!this.el_) return;\n\t\n\t  // If scrubbing, we could use a cached value to make the handle keep up with the user's mouse.\n\t  // On HTML5 browsers scrubbing is really smooth, but some flash players are slow, so we might want to utilize this later.\n\t  // var progress =  (this.player_.scrubbing) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\t\n\t  var barProgress,\n\t      progress = this.getPercent(),\n\t      handle = this.handle,\n\t      bar = this.bar;\n\t\n\t  // Protect against no duration and other division issues\n\t  if (typeof progress !== 'number' ||\n\t      progress !== progress ||\n\t      progress < 0 ||\n\t      progress === Infinity) {\n\t        progress = 0;\n\t  }\n\t\n\t  barProgress = progress;\n\t\n\t  // If there is a handle, we need to account for the handle in our calculation for progress bar\n\t  // so that it doesn't fall short of or extend past the handle.\n\t  if (handle) {\n\t\n\t    var box = this.el_,\n\t        boxWidth = box.offsetWidth,\n\t\n\t        handleWidth = handle.el().offsetWidth,\n\t\n\t        // The width of the handle in percent of the containing box\n\t        // In IE, widths may not be ready yet causing NaN\n\t        handlePercent = (handleWidth) ? handleWidth / boxWidth : 0,\n\t\n\t        // Get the adjusted size of the box, considering that the handle's center never touches the left or right side.\n\t        // There is a margin of half the handle's width on both sides.\n\t        boxAdjustedPercent = 1 - handlePercent,\n\t\n\t        // Adjust the progress that we'll use to set widths to the new adjusted box width\n\t        adjustedProgress = progress * boxAdjustedPercent;\n\t\n\t    // The bar does reach the left side, so we need to account for this in the bar's width\n\t    barProgress = adjustedProgress + (handlePercent / 2);\n\t\n\t    // Move the handle from the left based on the adjected progress\n\t    handle.el().style.left = vjs.round(adjustedProgress * 100, 2) + '%';\n\t  }\n\t\n\t  // Set the new bar width\n\t  if (bar) {\n\t    bar.el().style.width = vjs.round(barProgress * 100, 2) + '%';\n\t  }\n\t};\n\t\n\tvjs.Slider.prototype.calculateDistance = function(event){\n\t  var el, box, boxX, boxY, boxW, boxH, handle, pageX, pageY;\n\t\n\t  el = this.el_;\n\t  box = vjs.findPosition(el);\n\t  boxW = boxH = el.offsetWidth;\n\t  handle = this.handle;\n\t\n\t  if (this.options()['vertical']) {\n\t    boxY = box.top;\n\t\n\t    if (event.changedTouches) {\n\t      pageY = event.changedTouches[0].pageY;\n\t    } else {\n\t      pageY = event.pageY;\n\t    }\n\t\n\t    if (handle) {\n\t      var handleH = handle.el().offsetHeight;\n\t      // Adjusted X and Width, so handle doesn't go outside the bar\n\t      boxY = boxY + (handleH / 2);\n\t      boxH = boxH - handleH;\n\t    }\n\t\n\t    // Percent that the click is through the adjusted area\n\t    return Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH));\n\t\n\t  } else {\n\t    boxX = box.left;\n\t\n\t    if (event.changedTouches) {\n\t      pageX = event.changedTouches[0].pageX;\n\t    } else {\n\t      pageX = event.pageX;\n\t    }\n\t\n\t    if (handle) {\n\t      var handleW = handle.el().offsetWidth;\n\t\n\t      // Adjusted X and Width, so handle doesn't go outside the bar\n\t      boxX = boxX + (handleW / 2);\n\t      boxW = boxW - handleW;\n\t    }\n\t\n\t    // Percent that the click is through the adjusted area\n\t    return Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\t  }\n\t};\n\t\n\tvjs.Slider.prototype.onFocus = function(){\n\t  this.on(document, 'keydown', this.onKeyPress);\n\t};\n\t\n\tvjs.Slider.prototype.onKeyPress = function(event){\n\t  if (event.which == 37 || event.which == 40) { // Left and Down Arrows\n\t    event.preventDefault();\n\t    this.stepBack();\n\t  } else if (event.which == 38 || event.which == 39) { // Up and Right Arrows\n\t    event.preventDefault();\n\t    this.stepForward();\n\t  }\n\t};\n\t\n\tvjs.Slider.prototype.onBlur = function(){\n\t  this.off(document, 'keydown', this.onKeyPress);\n\t};\n\t\n\t/**\n\t * Listener for click events on slider, used to prevent clicks\n\t *   from bubbling up to parent elements like button menus.\n\t * @param  {Object} event Event object\n\t */\n\tvjs.Slider.prototype.onClick = function(event){\n\t  event.stopImmediatePropagation();\n\t  event.preventDefault();\n\t};\n\t\n\t/**\n\t * SeekBar Behavior includes play progress bar, and seek handle\n\t * Needed so it can determine seek position based on handle position/size\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.SliderHandle = vjs.Component.extend();\n\t\n\t/**\n\t * Default value of the slider\n\t *\n\t * @type {Number}\n\t * @private\n\t */\n\tvjs.SliderHandle.prototype.defaultValue = 0;\n\t\n\t/** @inheritDoc */\n\tvjs.SliderHandle.prototype.createEl = function(type, props) {\n\t  props = props || {};\n\t  // Add the slider element class to all sub classes\n\t  props.className = props.className + ' vjs-slider-handle';\n\t  props = vjs.obj.merge({\n\t    innerHTML: '<span class=\"vjs-control-text\">'+this.defaultValue+'</span>'\n\t  }, props);\n\t\n\t  return vjs.Component.prototype.createEl.call(this, 'div', props);\n\t};\n\t/* Menu\n\t================================================================================ */\n\t/**\n\t * The Menu component is used to build pop up menus, including subtitle and\n\t * captions selection menus.\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t */\n\tvjs.Menu = vjs.Component.extend();\n\t\n\t/**\n\t * Add a menu item to the menu\n\t * @param {Object|String} component Component or component type to add\n\t */\n\tvjs.Menu.prototype.addItem = function(component){\n\t  this.addChild(component);\n\t  component.on('click', vjs.bind(this, function(){\n\t    this.unlockShowing();\n\t  }));\n\t};\n\t\n\t/** @inheritDoc */\n\tvjs.Menu.prototype.createEl = function(){\n\t  var contentElType = this.options().contentElType || 'ul';\n\t  this.contentEl_ = vjs.createEl(contentElType, {\n\t    className: 'vjs-menu-content'\n\t  });\n\t  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n\t    append: this.contentEl_,\n\t    className: 'vjs-menu'\n\t  });\n\t  el.appendChild(this.contentEl_);\n\t\n\t  // Prevent clicks from bubbling up. Needed for Menu Buttons,\n\t  // where a click on the parent is significant\n\t  vjs.on(el, 'click', function(event){\n\t    event.preventDefault();\n\t    event.stopImmediatePropagation();\n\t  });\n\t\n\t  return el;\n\t};\n\t\n\t/**\n\t * The component for a menu item. `<li>`\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t */\n\tvjs.MenuItem = vjs.Button.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Button.call(this, player, options);\n\t    this.selected(options['selected']);\n\t  }\n\t});\n\t\n\t/** @inheritDoc */\n\tvjs.MenuItem.prototype.createEl = function(type, props){\n\t  return vjs.Button.prototype.createEl.call(this, 'li', vjs.obj.merge({\n\t    className: 'vjs-menu-item',\n\t    innerHTML: this.localize(this.options_['label'])\n\t  }, props));\n\t};\n\t\n\t/**\n\t * Handle a click on the menu item, and set it to selected\n\t */\n\tvjs.MenuItem.prototype.onClick = function(){\n\t  this.selected(true);\n\t};\n\t\n\t/**\n\t * Set this menu item as selected or not\n\t * @param  {Boolean} selected\n\t */\n\tvjs.MenuItem.prototype.selected = function(selected){\n\t  if (selected) {\n\t    this.addClass('vjs-selected');\n\t    this.el_.setAttribute('aria-selected',true);\n\t  } else {\n\t    this.removeClass('vjs-selected');\n\t    this.el_.setAttribute('aria-selected',false);\n\t  }\n\t};\n\t\n\t\n\t/**\n\t * A button class with a popup menu\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.MenuButton = vjs.Button.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Button.call(this, player, options);\n\t\n\t    this.update();\n\t\n\t    this.on('keydown', this.onKeyPress);\n\t    this.el_.setAttribute('aria-haspopup', true);\n\t    this.el_.setAttribute('role', 'button');\n\t  }\n\t});\n\t\n\tvjs.MenuButton.prototype.update = function() {\n\t  var menu = this.createMenu();\n\t\n\t  if (this.menu) {\n\t    this.removeChild(this.menu);\n\t  }\n\t\n\t  this.menu = menu;\n\t  this.addChild(menu);\n\t\n\t  if (this.items && this.items.length === 0) {\n\t    this.hide();\n\t  } else if (this.items && this.items.length > 1) {\n\t    this.show();\n\t  }\n\t};\n\t\n\t/**\n\t * Track the state of the menu button\n\t * @type {Boolean}\n\t * @private\n\t */\n\tvjs.MenuButton.prototype.buttonPressed_ = false;\n\t\n\tvjs.MenuButton.prototype.createMenu = function(){\n\t  var menu = new vjs.Menu(this.player_);\n\t\n\t  // Add a title list item to the top\n\t  if (this.options().title) {\n\t    menu.contentEl().appendChild(vjs.createEl('li', {\n\t      className: 'vjs-menu-title',\n\t      innerHTML: vjs.capitalize(this.options().title),\n\t      tabindex: -1\n\t    }));\n\t  }\n\t\n\t  this.items = this['createItems']();\n\t\n\t  if (this.items) {\n\t    // Add menu items to the menu\n\t    for (var i = 0; i < this.items.length; i++) {\n\t      menu.addItem(this.items[i]);\n\t    }\n\t  }\n\t\n\t  return menu;\n\t};\n\t\n\t/**\n\t * Create the list of menu items. Specific to each subclass.\n\t */\n\tvjs.MenuButton.prototype.createItems = function(){};\n\t\n\t/** @inheritDoc */\n\tvjs.MenuButton.prototype.buildCSSClass = function(){\n\t  return this.className + ' vjs-menu-button ' + vjs.Button.prototype.buildCSSClass.call(this);\n\t};\n\t\n\t// Focus - Add keyboard functionality to element\n\t// This function is not needed anymore. Instead, the keyboard functionality is handled by\n\t// treating the button as triggering a submenu. When the button is pressed, the submenu\n\t// appears. Pressing the button again makes the submenu disappear.\n\tvjs.MenuButton.prototype.onFocus = function(){};\n\t// Can't turn off list display that we turned on with focus, because list would go away.\n\tvjs.MenuButton.prototype.onBlur = function(){};\n\t\n\tvjs.MenuButton.prototype.onClick = function(){\n\t  // When you click the button it adds focus, which will show the menu indefinitely.\n\t  // So we'll remove focus when the mouse leaves the button.\n\t  // Focus is needed for tab navigation.\n\t  this.one('mouseout', vjs.bind(this, function(){\n\t    this.menu.unlockShowing();\n\t    this.el_.blur();\n\t  }));\n\t  if (this.buttonPressed_){\n\t    this.unpressButton();\n\t  } else {\n\t    this.pressButton();\n\t  }\n\t};\n\t\n\tvjs.MenuButton.prototype.onKeyPress = function(event){\n\t\n\t  // Check for space bar (32) or enter (13) keys\n\t  if (event.which == 32 || event.which == 13) {\n\t    if (this.buttonPressed_){\n\t      this.unpressButton();\n\t    } else {\n\t      this.pressButton();\n\t    }\n\t    event.preventDefault();\n\t  // Check for escape (27) key\n\t  } else if (event.which == 27){\n\t    if (this.buttonPressed_){\n\t      this.unpressButton();\n\t    }\n\t    event.preventDefault();\n\t  }\n\t};\n\t\n\tvjs.MenuButton.prototype.pressButton = function(){\n\t  this.buttonPressed_ = true;\n\t  this.menu.lockShowing();\n\t  this.el_.setAttribute('aria-pressed', true);\n\t  if (this.items && this.items.length > 0) {\n\t    this.items[0].el().focus(); // set the focus to the title of the submenu\n\t  }\n\t};\n\t\n\tvjs.MenuButton.prototype.unpressButton = function(){\n\t  this.buttonPressed_ = false;\n\t  this.menu.unlockShowing();\n\t  this.el_.setAttribute('aria-pressed', false);\n\t};\n\t/**\n\t * Custom MediaError to mimic the HTML5 MediaError\n\t * @param {Number} code The media error code\n\t */\n\tvjs.MediaError = function(code){\n\t  if (typeof code === 'number') {\n\t    this.code = code;\n\t  } else if (typeof code === 'string') {\n\t    // default code is zero, so this is a custom error\n\t    this.message = code;\n\t  } else if (typeof code === 'object') { // object\n\t    vjs.obj.merge(this, code);\n\t  }\n\t\n\t  if (!this.message) {\n\t    this.message = vjs.MediaError.defaultMessages[this.code] || '';\n\t  }\n\t};\n\t\n\t/**\n\t * The error code that refers two one of the defined\n\t * MediaError types\n\t * @type {Number}\n\t */\n\tvjs.MediaError.prototype.code = 0;\n\t\n\t/**\n\t * An optional message to be shown with the error.\n\t * Message is not part of the HTML5 video spec\n\t * but allows for more informative custom errors.\n\t * @type {String}\n\t */\n\tvjs.MediaError.prototype.message = '';\n\t\n\t/**\n\t * An optional status code that can be set by plugins\n\t * to allow even more detail about the error.\n\t * For example the HLS plugin might provide the specific\n\t * HTTP status code that was returned when the error\n\t * occurred, then allowing a custom error overlay\n\t * to display more information.\n\t * @type {[type]}\n\t */\n\tvjs.MediaError.prototype.status = null;\n\t\n\tvjs.MediaError.errorTypes = [\n\t  'MEDIA_ERR_CUSTOM',            // = 0\n\t  'MEDIA_ERR_ABORTED',           // = 1\n\t  'MEDIA_ERR_NETWORK',           // = 2\n\t  'MEDIA_ERR_DECODE',            // = 3\n\t  'MEDIA_ERR_SRC_NOT_SUPPORTED', // = 4\n\t  'MEDIA_ERR_ENCRYPTED'          // = 5\n\t];\n\t\n\tvjs.MediaError.defaultMessages = {\n\t  1: 'You aborted the video playback',\n\t  2: 'A network error caused the video download to fail part-way.',\n\t  3: 'The video playback was aborted due to a corruption problem or because the video used features your browser did not support.',\n\t  4: 'The video could not be loaded, either because the server or network failed or because the format is not supported.',\n\t  5: 'The video is encrypted and we do not have the keys to decrypt it.'\n\t};\n\t\n\t// Add types as properties on MediaError\n\t// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\n\tfor (var errNum = 0; errNum < vjs.MediaError.errorTypes.length; errNum++) {\n\t  vjs.MediaError[vjs.MediaError.errorTypes[errNum]] = errNum;\n\t  // values should be accessible on both the class and instance\n\t  vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]] = errNum;\n\t}\n\t(function(){\n\t  var apiMap, specApi, browserApi, i;\n\t\n\t  /**\n\t   * Store the browser-specific methods for the fullscreen API\n\t   * @type {Object|undefined}\n\t   * @private\n\t   */\n\t  vjs.browser.fullscreenAPI;\n\t\n\t  // browser API methods\n\t  // map approach from Screenful.js - https://github.com/sindresorhus/screenfull.js\n\t  apiMap = [\n\t    // Spec: https://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html\n\t    [\n\t      'requestFullscreen',\n\t      'exitFullscreen',\n\t      'fullscreenElement',\n\t      'fullscreenEnabled',\n\t      'fullscreenchange',\n\t      'fullscreenerror'\n\t    ],\n\t    // WebKit\n\t    [\n\t      'webkitRequestFullscreen',\n\t      'webkitExitFullscreen',\n\t      'webkitFullscreenElement',\n\t      'webkitFullscreenEnabled',\n\t      'webkitfullscreenchange',\n\t      'webkitfullscreenerror'\n\t    ],\n\t    // Old WebKit (Safari 5.1)\n\t    [\n\t      'webkitRequestFullScreen',\n\t      'webkitCancelFullScreen',\n\t      'webkitCurrentFullScreenElement',\n\t      'webkitCancelFullScreen',\n\t      'webkitfullscreenchange',\n\t      'webkitfullscreenerror'\n\t    ],\n\t    // Mozilla\n\t    [\n\t      'mozRequestFullScreen',\n\t      'mozCancelFullScreen',\n\t      'mozFullScreenElement',\n\t      'mozFullScreenEnabled',\n\t      'mozfullscreenchange',\n\t      'mozfullscreenerror'\n\t    ],\n\t    // Microsoft\n\t    [\n\t      'msRequestFullscreen',\n\t      'msExitFullscreen',\n\t      'msFullscreenElement',\n\t      'msFullscreenEnabled',\n\t      'MSFullscreenChange',\n\t      'MSFullscreenError'\n\t    ]\n\t  ];\n\t\n\t  specApi = apiMap[0];\n\t\n\t  // determine the supported set of functions\n\t  for (i=0; i<apiMap.length; i++) {\n\t    // check for exitFullscreen function\n\t    if (apiMap[i][1] in document) {\n\t      browserApi = apiMap[i];\n\t      break;\n\t    }\n\t  }\n\t\n\t  // map the browser API names to the spec API names\n\t  // or leave vjs.browser.fullscreenAPI undefined\n\t  if (browserApi) {\n\t    vjs.browser.fullscreenAPI = {};\n\t\n\t    for (i=0; i<browserApi.length; i++) {\n\t      vjs.browser.fullscreenAPI[specApi[i]] = browserApi[i];\n\t    }\n\t  }\n\t\n\t})();\n\t/**\n\t * An instance of the `vjs.Player` class is created when any of the Video.js setup methods are used to initialize a video.\n\t *\n\t * ```js\n\t * var myPlayer = videojs('example_video_1');\n\t * ```\n\t *\n\t * In the following example, the `data-setup` attribute tells the Video.js library to create a player instance when the library is ready.\n\t *\n\t * ```html\n\t * <video id=\"example_video_1\" data-setup='{}' controls>\n\t *   <source src=\"my-source.mp4\" type=\"video/mp4\">\n\t * </video>\n\t * ```\n\t *\n\t * After an instance has been created it can be accessed globally using `Video('example_video_1')`.\n\t *\n\t * @class\n\t * @extends vjs.Component\n\t */\n\tvjs.Player = vjs.Component.extend({\n\t\n\t  /**\n\t   * player's constructor function\n\t   *\n\t   * @constructs\n\t   * @method init\n\t   * @param {Element} tag        The original video tag used for configuring options\n\t   * @param {Object=} options    Player options\n\t   * @param {Function=} ready    Ready callback function\n\t   */\n\t  init: function(tag, options, ready){\n\t    this.tag = tag; // Store the original tag used to set options\n\t\n\t    // Make sure tag ID exists\n\t    tag.id = tag.id || 'vjs_video_' + vjs.guid++;\n\t\n\t    // Store the tag attributes used to restore html5 element\n\t    this.tagAttributes = tag && vjs.getElementAttributes(tag);\n\t\n\t    // Set Options\n\t    // The options argument overrides options set in the video tag\n\t    // which overrides globally set options.\n\t    // This latter part coincides with the load order\n\t    // (tag must exist before Player)\n\t    options = vjs.obj.merge(this.getTagSettings(tag), options);\n\t\n\t    // Update Current Language\n\t    this.language_ = options['language'] || vjs.options['language'];\n\t\n\t    // Update Supported Languages\n\t    this.languages_ = options['languages'] || vjs.options['languages'];\n\t\n\t    // Cache for video property values.\n\t    this.cache_ = {};\n\t\n\t    // Set poster\n\t    this.poster_ = options['poster'] || '';\n\t\n\t    // Set controls\n\t    this.controls_ = !!options['controls'];\n\t    // Original tag settings stored in options\n\t    // now remove immediately so native controls don't flash.\n\t    // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n\t    tag.controls = false;\n\t\n\t    // we don't want the player to report touch activity on itself\n\t    // see enableTouchActivity in Component\n\t    options.reportTouchActivity = false;\n\t\n\t    // Set isAudio based on whether or not an audio tag was used\n\t    this.isAudio(this.tag.nodeName.toLowerCase() === 'audio');\n\t\n\t    // Run base component initializing with new options.\n\t    // Builds the element through createEl()\n\t    // Inits and embeds any child components in opts\n\t    vjs.Component.call(this, this, options, ready);\n\t\n\t    // Update controls className. Can't do this when the controls are initially\n\t    // set because the element doesn't exist yet.\n\t    if (this.controls()) {\n\t      this.addClass('vjs-controls-enabled');\n\t    } else {\n\t      this.addClass('vjs-controls-disabled');\n\t    }\n\t\n\t    if (this.isAudio()) {\n\t      this.addClass('vjs-audio');\n\t    }\n\t\n\t    // TODO: Make this smarter. Toggle user state between touching/mousing\n\t    // using events, since devices can have both touch and mouse events.\n\t    // if (vjs.TOUCH_ENABLED) {\n\t    //   this.addClass('vjs-touch-enabled');\n\t    // }\n\t\n\t    // Make player easily findable by ID\n\t    vjs.players[this.id_] = this;\n\t\n\t    if (options['plugins']) {\n\t      vjs.obj.each(options['plugins'], function(key, val){\n\t        this[key](val);\n\t      }, this);\n\t    }\n\t\n\t    this.listenForUserActivity();\n\t  }\n\t});\n\t\n\t/**\n\t * The player's stored language code\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tvjs.Player.prototype.language_;\n\t\n\t/**\n\t * The player's language code\n\t * @param  {String} languageCode  The locale string\n\t * @return {String}             The locale string when getting\n\t * @return {vjs.Player}         self, when setting\n\t */\n\tvjs.Player.prototype.language = function (languageCode) {\n\t  if (languageCode === undefined) {\n\t    return this.language_;\n\t  }\n\t\n\t  this.language_ = languageCode;\n\t  return this;\n\t};\n\t\n\t/**\n\t * The player's stored language dictionary\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.Player.prototype.languages_;\n\t\n\tvjs.Player.prototype.languages = function(){\n\t  return this.languages_;\n\t};\n\t\n\t/**\n\t * Player instance options, surfaced using vjs.options\n\t * vjs.options = vjs.Player.prototype.options_\n\t * Make changes in vjs.options, not here.\n\t * All options should use string keys so they avoid\n\t * renaming by closure compiler\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.Player.prototype.options_ = vjs.options;\n\t\n\t/**\n\t * Destroys the video player and does any necessary cleanup\n\t *\n\t *     myPlayer.dispose();\n\t *\n\t * This is especially helpful if you are dynamically adding and removing videos\n\t * to/from the DOM.\n\t */\n\tvjs.Player.prototype.dispose = function(){\n\t  this.trigger('dispose');\n\t  // prevent dispose from being called twice\n\t  this.off('dispose');\n\t\n\t  // Kill reference to this player\n\t  vjs.players[this.id_] = null;\n\t  if (this.tag && this.tag['player']) { this.tag['player'] = null; }\n\t  if (this.el_ && this.el_['player']) { this.el_['player'] = null; }\n\t\n\t  if (this.tech) { this.tech.dispose(); }\n\t\n\t  // Component dispose\n\t  vjs.Component.prototype.dispose.call(this);\n\t};\n\t\n\tvjs.Player.prototype.getTagSettings = function(tag){\n\t  var tagOptions,\n\t      dataSetup,\n\t      options = {\n\t        'sources': [],\n\t        'tracks': []\n\t      };\n\t\n\t  tagOptions = vjs.getElementAttributes(tag);\n\t  dataSetup = tagOptions['data-setup'];\n\t\n\t  // Check if data-setup attr exists.\n\t  if (dataSetup !== null){\n\t    // Parse options JSON\n\t    // If empty string, make it a parsable json object.\n\t    vjs.obj.merge(tagOptions, vjs.JSON.parse(dataSetup || '{}'));\n\t  }\n\t\n\t  vjs.obj.merge(options, tagOptions);\n\t\n\t  // Get tag children settings\n\t  if (tag.hasChildNodes()) {\n\t    var children, child, childName, i, j;\n\t\n\t    children = tag.childNodes;\n\t\n\t    for (i=0,j=children.length; i<j; i++) {\n\t      child = children[i];\n\t      // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n\t      childName = child.nodeName.toLowerCase();\n\t      if (childName === 'source') {\n\t        options['sources'].push(vjs.getElementAttributes(child));\n\t      } else if (childName === 'track') {\n\t        options['tracks'].push(vjs.getElementAttributes(child));\n\t      }\n\t    }\n\t  }\n\t\n\t  return options;\n\t};\n\t\n\tvjs.Player.prototype.createEl = function(){\n\t  var\n\t    el = this.el_ = vjs.Component.prototype.createEl.call(this, 'div'),\n\t    tag = this.tag,\n\t    attrs;\n\t\n\t  // Remove width/height attrs from tag so CSS can make it 100% width/height\n\t  tag.removeAttribute('width');\n\t  tag.removeAttribute('height');\n\t\n\t  // Copy over all the attributes from the tag, including ID and class\n\t  // ID will now reference player box, not the video tag\n\t  attrs = vjs.getElementAttributes(tag);\n\t  vjs.obj.each(attrs, function(attr) {\n\t    // workaround so we don't totally break IE7\n\t    // http://stackoverflow.com/questions/3653444/css-styles-not-applied-on-dynamic-elements-in-internet-explorer-7\n\t    if (attr == 'class') {\n\t      el.className = attrs[attr];\n\t    } else {\n\t      el.setAttribute(attr, attrs[attr]);\n\t    }\n\t  });\n\t\n\t  // Update tag id/class for use as HTML5 playback tech\n\t  // Might think we should do this after embedding in container so .vjs-tech class\n\t  // doesn't flash 100% width/height, but class only applies with .video-js parent\n\t  tag.id += '_html5_api';\n\t  tag.className = 'vjs-tech';\n\t\n\t  // Make player findable on elements\n\t  tag['player'] = el['player'] = this;\n\t  // Default state of video is paused\n\t  this.addClass('vjs-paused');\n\t\n\t  // Make box use width/height of tag, or rely on default implementation\n\t  // Enforce with CSS since width/height attrs don't work on divs\n\t  this.width(this.options_['width'], true); // (true) Skip resize listener on load\n\t  this.height(this.options_['height'], true);\n\t\n\t  // vjs.insertFirst seems to cause the networkState to flicker from 3 to 2, so\n\t  // keep track of the original for later so we can know if the source originally failed\n\t  tag.initNetworkState_ = tag.networkState;\n\t\n\t  // Wrap video tag in div (el/box) container\n\t  if (tag.parentNode) {\n\t    tag.parentNode.insertBefore(el, tag);\n\t  }\n\t  vjs.insertFirst(tag, el); // Breaks iPhone, fixed in HTML5 setup.\n\t\n\t  // The event listeners need to be added before the children are added\n\t  // in the component init because the tech (loaded with mediaLoader) may\n\t  // fire events, like loadstart, that these events need to capture.\n\t  // Long term it might be better to expose a way to do this in component.init\n\t  // like component.initEventListeners() that runs between el creation and\n\t  // adding children\n\t  this.el_ = el;\n\t  this.on('loadstart', this.onLoadStart);\n\t  this.on('waiting', this.onWaiting);\n\t  this.on(['canplay', 'canplaythrough', 'playing', 'ended'], this.onWaitEnd);\n\t  this.on('seeking', this.onSeeking);\n\t  this.on('seeked', this.onSeeked);\n\t  this.on('ended', this.onEnded);\n\t  this.on('play', this.onPlay);\n\t  this.on('firstplay', this.onFirstPlay);\n\t  this.on('pause', this.onPause);\n\t  this.on('progress', this.onProgress);\n\t  this.on('durationchange', this.onDurationChange);\n\t  this.on('fullscreenchange', this.onFullscreenChange);\n\t\n\t  return el;\n\t};\n\t\n\t// /* Media Technology (tech)\n\t// ================================================================================ */\n\t// Load/Create an instance of playback technology including element and API methods\n\t// And append playback element in player div.\n\tvjs.Player.prototype.loadTech = function(techName, source){\n\t\n\t  // Pause and remove current playback technology\n\t  if (this.tech) {\n\t    this.unloadTech();\n\t  }\n\t\n\t  // get rid of the HTML5 video tag as soon as we are using another tech\n\t  if (techName !== 'Html5' && this.tag) {\n\t    vjs.Html5.disposeMediaElement(this.tag);\n\t    this.tag = null;\n\t  }\n\t\n\t  this.techName = techName;\n\t\n\t  // Turn off API access because we're loading a new tech that might load asynchronously\n\t  this.isReady_ = false;\n\t\n\t  var techReady = function(){\n\t    this.player_.triggerReady();\n\t  };\n\t\n\t  // Grab tech-specific options from player options and add source and parent element to use.\n\t  var techOptions = vjs.obj.merge({ 'source': source, 'parentEl': this.el_ }, this.options_[techName.toLowerCase()]);\n\t\n\t  if (source) {\n\t    this.currentType_ = source.type;\n\t    if (source.src == this.cache_.src && this.cache_.currentTime > 0) {\n\t      techOptions['startTime'] = this.cache_.currentTime;\n\t    }\n\t\n\t    this.cache_.src = source.src;\n\t  }\n\t\n\t  // Initialize tech instance\n\t  this.tech = new window['videojs'][techName](this, techOptions);\n\t\n\t  this.tech.ready(techReady);\n\t};\n\t\n\tvjs.Player.prototype.unloadTech = function(){\n\t  this.isReady_ = false;\n\t\n\t  this.tech.dispose();\n\t\n\t  this.tech = false;\n\t};\n\t\n\t// There's many issues around changing the size of a Flash (or other plugin) object.\n\t// First is a plugin reload issue in Firefox that has been around for 11 years: https://bugzilla.mozilla.org/show_bug.cgi?id=90268\n\t// Then with the new fullscreen API, Mozilla and webkit browsers will reload the flash object after going to fullscreen.\n\t// To get around this, we're unloading the tech, caching source and currentTime values, and reloading the tech once the plugin is resized.\n\t// reloadTech: function(betweenFn){\n\t//   vjs.log('unloadingTech')\n\t//   this.unloadTech();\n\t//   vjs.log('unloadedTech')\n\t//   if (betweenFn) { betweenFn.call(); }\n\t//   vjs.log('LoadingTech')\n\t//   this.loadTech(this.techName, { src: this.cache_.src })\n\t//   vjs.log('loadedTech')\n\t// },\n\t\n\t// /* Player event handlers (how the player reacts to certain events)\n\t// ================================================================================ */\n\t\n\t/**\n\t * Fired when the user agent begins looking for media data\n\t * @event loadstart\n\t */\n\tvjs.Player.prototype.onLoadStart = function() {\n\t  // TODO: Update to use `emptied` event instead. See #1277.\n\t\n\t  this.removeClass('vjs-ended');\n\t\n\t  // reset the error state\n\t  this.error(null);\n\t\n\t  // If it's already playing we want to trigger a firstplay event now.\n\t  // The firstplay event relies on both the play and loadstart events\n\t  // which can happen in any order for a new source\n\t  if (!this.paused()) {\n\t    this.trigger('firstplay');\n\t  } else {\n\t    // reset the hasStarted state\n\t    this.hasStarted(false);\n\t  }\n\t};\n\t\n\tvjs.Player.prototype.hasStarted_ = false;\n\t\n\tvjs.Player.prototype.hasStarted = function(hasStarted){\n\t  if (hasStarted !== undefined) {\n\t    // only update if this is a new value\n\t    if (this.hasStarted_ !== hasStarted) {\n\t      this.hasStarted_ = hasStarted;\n\t      if (hasStarted) {\n\t        this.addClass('vjs-has-started');\n\t        // trigger the firstplay event if this newly has played\n\t        this.trigger('firstplay');\n\t      } else {\n\t        this.removeClass('vjs-has-started');\n\t      }\n\t    }\n\t    return this;\n\t  }\n\t  return this.hasStarted_;\n\t};\n\t\n\t/**\n\t * Fired when the player has initial duration and dimension information\n\t * @event loadedmetadata\n\t */\n\tvjs.Player.prototype.onLoadedMetaData;\n\t\n\t/**\n\t * Fired when the player has downloaded data at the current playback position\n\t * @event loadeddata\n\t */\n\tvjs.Player.prototype.onLoadedData;\n\t\n\t/**\n\t * Fired when the player has finished downloading the source data\n\t * @event loadedalldata\n\t */\n\tvjs.Player.prototype.onLoadedAllData;\n\t\n\t/**\n\t * Fired whenever the media begins or resumes playback\n\t * @event play\n\t */\n\tvjs.Player.prototype.onPlay = function(){\n\t  this.removeClass('vjs-ended');\n\t  this.removeClass('vjs-paused');\n\t  this.addClass('vjs-playing');\n\t\n\t  // hide the poster when the user hits play\n\t  // https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play\n\t  this.hasStarted(true);\n\t};\n\t\n\t/**\n\t * Fired whenever the media begins waiting\n\t * @event waiting\n\t */\n\tvjs.Player.prototype.onWaiting = function(){\n\t  this.addClass('vjs-waiting');\n\t};\n\t\n\t/**\n\t * A handler for events that signal that waiting has ended\n\t * which is not consistent between browsers. See #1351\n\t * @private\n\t */\n\tvjs.Player.prototype.onWaitEnd = function(){\n\t  this.removeClass('vjs-waiting');\n\t};\n\t\n\t/**\n\t * Fired whenever the player is jumping to a new time\n\t * @event seeking\n\t */\n\tvjs.Player.prototype.onSeeking = function(){\n\t  this.addClass('vjs-seeking');\n\t};\n\t\n\t/**\n\t * Fired when the player has finished jumping to a new time\n\t * @event seeked\n\t */\n\tvjs.Player.prototype.onSeeked = function(){\n\t  this.removeClass('vjs-seeking');\n\t};\n\t\n\t/**\n\t * Fired the first time a video is played\n\t *\n\t * Not part of the HLS spec, and we're not sure if this is the best\n\t * implementation yet, so use sparingly. If you don't have a reason to\n\t * prevent playback, use `myPlayer.one('play');` instead.\n\t *\n\t * @event firstplay\n\t */\n\tvjs.Player.prototype.onFirstPlay = function(){\n\t    //If the first starttime attribute is specified\n\t    //then we will start at the given offset in seconds\n\t    if(this.options_['starttime']){\n\t      this.currentTime(this.options_['starttime']);\n\t    }\n\t\n\t    this.addClass('vjs-has-started');\n\t};\n\t\n\t/**\n\t * Fired whenever the media has been paused\n\t * @event pause\n\t */\n\tvjs.Player.prototype.onPause = function(){\n\t  this.removeClass('vjs-playing');\n\t  this.addClass('vjs-paused');\n\t};\n\t\n\t/**\n\t * Fired when the current playback position has changed\n\t *\n\t * During playback this is fired every 15-250 milliseconds, depending on the\n\t * playback technology in use.\n\t * @event timeupdate\n\t */\n\tvjs.Player.prototype.onTimeUpdate;\n\t\n\t/**\n\t * Fired while the user agent is downloading media data\n\t * @event progress\n\t */\n\tvjs.Player.prototype.onProgress = function(){\n\t  // Add custom event for when source is finished downloading.\n\t  if (this.bufferedPercent() == 1) {\n\t    this.trigger('loadedalldata');\n\t  }\n\t};\n\t\n\t/**\n\t * Fired when the end of the media resource is reached (currentTime == duration)\n\t * @event ended\n\t */\n\tvjs.Player.prototype.onEnded = function(){\n\t  this.addClass('vjs-ended');\n\t  if (this.options_['loop']) {\n\t    this.currentTime(0);\n\t    this.play();\n\t  } else if (!this.paused()) {\n\t    this.pause();\n\t  }\n\t};\n\t\n\t/**\n\t * Fired when the duration of the media resource is first known or changed\n\t * @event durationchange\n\t */\n\tvjs.Player.prototype.onDurationChange = function(){\n\t  // Allows for caching value instead of asking player each time.\n\t  // We need to get the techGet response and check for a value so we don't\n\t  // accidentally cause the stack to blow up.\n\t  var duration = this.techGet('duration');\n\t  if (duration) {\n\t    if (duration < 0) {\n\t      duration = Infinity;\n\t    }\n\t    this.duration(duration);\n\t    // Determine if the stream is live and propagate styles down to UI.\n\t    if (duration === Infinity) {\n\t      this.addClass('vjs-live');\n\t    } else {\n\t      this.removeClass('vjs-live');\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Fired when the volume changes\n\t * @event volumechange\n\t */\n\tvjs.Player.prototype.onVolumeChange;\n\t\n\t/**\n\t * Fired when the player switches in or out of fullscreen mode\n\t * @event fullscreenchange\n\t */\n\tvjs.Player.prototype.onFullscreenChange = function() {\n\t  if (this.isFullscreen()) {\n\t    this.addClass('vjs-fullscreen');\n\t  } else {\n\t    this.removeClass('vjs-fullscreen');\n\t  }\n\t};\n\t\n\t/**\n\t * Fired when an error occurs\n\t * @event error\n\t */\n\tvjs.Player.prototype.onError;\n\t\n\t// /* Player API\n\t// ================================================================================ */\n\t\n\t/**\n\t * Object for cached values.\n\t * @private\n\t */\n\tvjs.Player.prototype.cache_;\n\t\n\tvjs.Player.prototype.getCache = function(){\n\t  return this.cache_;\n\t};\n\t\n\t// Pass values to the playback tech\n\tvjs.Player.prototype.techCall = function(method, arg){\n\t  // If it's not ready yet, call method when it is\n\t  if (this.tech && !this.tech.isReady_) {\n\t    this.tech.ready(function(){\n\t      this[method](arg);\n\t    });\n\t\n\t  // Otherwise call method now\n\t  } else {\n\t    try {\n\t      this.tech[method](arg);\n\t    } catch(e) {\n\t      vjs.log(e);\n\t      throw e;\n\t    }\n\t  }\n\t};\n\t\n\t// Get calls can't wait for the tech, and sometimes don't need to.\n\tvjs.Player.prototype.techGet = function(method){\n\t  if (this.tech && this.tech.isReady_) {\n\t\n\t    // Flash likes to die and reload when you hide or reposition it.\n\t    // In these cases the object methods go away and we get errors.\n\t    // When that happens we'll catch the errors and inform tech that it's not ready any more.\n\t    try {\n\t      return this.tech[method]();\n\t    } catch(e) {\n\t      // When building additional tech libs, an expected method may not be defined yet\n\t      if (this.tech[method] === undefined) {\n\t        vjs.log('Video.js: ' + method + ' method not defined for '+this.techName+' playback technology.', e);\n\t      } else {\n\t        // When a method isn't available on the object it throws a TypeError\n\t        if (e.name == 'TypeError') {\n\t          vjs.log('Video.js: ' + method + ' unavailable on '+this.techName+' playback technology element.', e);\n\t          this.tech.isReady_ = false;\n\t        } else {\n\t          vjs.log(e);\n\t        }\n\t      }\n\t      throw e;\n\t    }\n\t  }\n\t\n\t  return;\n\t};\n\t\n\t/**\n\t * start media playback\n\t *\n\t *     myPlayer.play();\n\t *\n\t * @return {vjs.Player} self\n\t */\n\tvjs.Player.prototype.play = function(){\n\t  this.techCall('play');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Pause the video playback\n\t *\n\t *     myPlayer.pause();\n\t *\n\t * @return {vjs.Player} self\n\t */\n\tvjs.Player.prototype.pause = function(){\n\t  this.techCall('pause');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Check if the player is paused\n\t *\n\t *     var isPaused = myPlayer.paused();\n\t *     var isPlaying = !myPlayer.paused();\n\t *\n\t * @return {Boolean} false if the media is currently playing, or true otherwise\n\t */\n\tvjs.Player.prototype.paused = function(){\n\t  // The initial state of paused should be true (in Safari it's actually false)\n\t  return (this.techGet('paused') === false) ? false : true;\n\t};\n\t\n\t/**\n\t * Get or set the current time (in seconds)\n\t *\n\t *     // get\n\t *     var whereYouAt = myPlayer.currentTime();\n\t *\n\t *     // set\n\t *     myPlayer.currentTime(120); // 2 minutes into the video\n\t *\n\t * @param  {Number|String=} seconds The time to seek to\n\t * @return {Number}        The time in seconds, when not setting\n\t * @return {vjs.Player}    self, when the current time is set\n\t */\n\tvjs.Player.prototype.currentTime = function(seconds){\n\t  if (seconds !== undefined) {\n\t\n\t    this.techCall('setCurrentTime', seconds);\n\t\n\t    return this;\n\t  }\n\t\n\t  // cache last currentTime and return. default to 0 seconds\n\t  //\n\t  // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n\t  // currentTime when scrubbing, but may not provide much performance benefit afterall.\n\t  // Should be tested. Also something has to read the actual current time or the cache will\n\t  // never get updated.\n\t  return this.cache_.currentTime = (this.techGet('currentTime') || 0);\n\t};\n\t\n\t/**\n\t * Get the length in time of the video in seconds\n\t *\n\t *     var lengthOfVideo = myPlayer.duration();\n\t *\n\t * **NOTE**: The video must have started loading before the duration can be\n\t * known, and in the case of Flash, may not be known until the video starts\n\t * playing.\n\t *\n\t * @return {Number} The duration of the video in seconds\n\t */\n\tvjs.Player.prototype.duration = function(seconds){\n\t  if (seconds !== undefined) {\n\t\n\t    // cache the last set value for optimized scrubbing (esp. Flash)\n\t    this.cache_.duration = parseFloat(seconds);\n\t\n\t    return this;\n\t  }\n\t\n\t  if (this.cache_.duration === undefined) {\n\t    this.onDurationChange();\n\t  }\n\t\n\t  return this.cache_.duration || 0;\n\t};\n\t\n\t/**\n\t * Calculates how much time is left.\n\t *\n\t *     var timeLeft = myPlayer.remainingTime();\n\t *\n\t * Not a native video element function, but useful\n\t * @return {Number} The time remaining in seconds\n\t */\n\tvjs.Player.prototype.remainingTime = function(){\n\t  return this.duration() - this.currentTime();\n\t};\n\t\n\t// http://dev.w3.org/html5/spec/video.html#dom-media-buffered\n\t// Buffered returns a timerange object.\n\t// Kind of like an array of portions of the video that have been downloaded.\n\t\n\t/**\n\t * Get a TimeRange object with the times of the video that have been downloaded\n\t *\n\t * If you just want the percent of the video that's been downloaded,\n\t * use bufferedPercent.\n\t *\n\t *     // Number of different ranges of time have been buffered. Usually 1.\n\t *     numberOfRanges = bufferedTimeRange.length,\n\t *\n\t *     // Time in seconds when the first range starts. Usually 0.\n\t *     firstRangeStart = bufferedTimeRange.start(0),\n\t *\n\t *     // Time in seconds when the first range ends\n\t *     firstRangeEnd = bufferedTimeRange.end(0),\n\t *\n\t *     // Length in seconds of the first time range\n\t *     firstRangeLength = firstRangeEnd - firstRangeStart;\n\t *\n\t * @return {Object} A mock TimeRange object (following HTML spec)\n\t */\n\tvjs.Player.prototype.buffered = function(){\n\t  var buffered = this.techGet('buffered');\n\t\n\t  if (!buffered || !buffered.length) {\n\t    buffered = vjs.createTimeRange(0,0);\n\t  }\n\t\n\t  return buffered;\n\t};\n\t\n\t/**\n\t * Get the percent (as a decimal) of the video that's been downloaded\n\t *\n\t *     var howMuchIsDownloaded = myPlayer.bufferedPercent();\n\t *\n\t * 0 means none, 1 means all.\n\t * (This method isn't in the HTML5 spec, but it's very convenient)\n\t *\n\t * @return {Number} A decimal between 0 and 1 representing the percent\n\t */\n\tvjs.Player.prototype.bufferedPercent = function(){\n\t  var duration = this.duration(),\n\t      buffered = this.buffered(),\n\t      bufferedDuration = 0,\n\t      start, end;\n\t\n\t  if (!duration) {\n\t    return 0;\n\t  }\n\t\n\t  for (var i=0; i<buffered.length; i++){\n\t    start = buffered.start(i);\n\t    end   = buffered.end(i);\n\t\n\t    // buffered end can be bigger than duration by a very small fraction\n\t    if (end > duration) {\n\t      end = duration;\n\t    }\n\t\n\t    bufferedDuration += end - start;\n\t  }\n\t\n\t  return bufferedDuration / duration;\n\t};\n\t\n\t/**\n\t * Get the ending time of the last buffered time range\n\t *\n\t * This is used in the progress bar to encapsulate all time ranges.\n\t * @return {Number} The end of the last buffered time range\n\t */\n\tvjs.Player.prototype.bufferedEnd = function(){\n\t  var buffered = this.buffered(),\n\t      duration = this.duration(),\n\t      end = buffered.end(buffered.length-1);\n\t\n\t  if (end > duration) {\n\t    end = duration;\n\t  }\n\t\n\t  return end;\n\t};\n\t\n\t/**\n\t * Get or set the current volume of the media\n\t *\n\t *     // get\n\t *     var howLoudIsIt = myPlayer.volume();\n\t *\n\t *     // set\n\t *     myPlayer.volume(0.5); // Set volume to half\n\t *\n\t * 0 is off (muted), 1.0 is all the way up, 0.5 is half way.\n\t *\n\t * @param  {Number} percentAsDecimal The new volume as a decimal percent\n\t * @return {Number}                  The current volume, when getting\n\t * @return {vjs.Player}              self, when setting\n\t */\n\tvjs.Player.prototype.volume = function(percentAsDecimal){\n\t  var vol;\n\t\n\t  if (percentAsDecimal !== undefined) {\n\t    vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal))); // Force value to between 0 and 1\n\t    this.cache_.volume = vol;\n\t    this.techCall('setVolume', vol);\n\t    vjs.setLocalStorage('volume', vol);\n\t    return this;\n\t  }\n\t\n\t  // Default to 1 when returning current volume.\n\t  vol = parseFloat(this.techGet('volume'));\n\t  return (isNaN(vol)) ? 1 : vol;\n\t};\n\t\n\t\n\t/**\n\t * Get the current muted state, or turn mute on or off\n\t *\n\t *     // get\n\t *     var isVolumeMuted = myPlayer.muted();\n\t *\n\t *     // set\n\t *     myPlayer.muted(true); // mute the volume\n\t *\n\t * @param  {Boolean=} muted True to mute, false to unmute\n\t * @return {Boolean} True if mute is on, false if not, when getting\n\t * @return {vjs.Player} self, when setting mute\n\t */\n\tvjs.Player.prototype.muted = function(muted){\n\t  if (muted !== undefined) {\n\t    this.techCall('setMuted', muted);\n\t    return this;\n\t  }\n\t  return this.techGet('muted') || false; // Default to false\n\t};\n\t\n\t// Check if current tech can support native fullscreen\n\t// (e.g. with built in controls like iOS, so not our flash swf)\n\tvjs.Player.prototype.supportsFullScreen = function(){\n\t  return this.techGet('supportsFullScreen') || false;\n\t};\n\t\n\t/**\n\t * is the player in fullscreen\n\t * @type {Boolean}\n\t * @private\n\t */\n\tvjs.Player.prototype.isFullscreen_ = false;\n\t\n\t/**\n\t * Check if the player is in fullscreen mode\n\t *\n\t *     // get\n\t *     var fullscreenOrNot = myPlayer.isFullscreen();\n\t *\n\t *     // set\n\t *     myPlayer.isFullscreen(true); // tell the player it's in fullscreen\n\t *\n\t * NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n\t * property and instead document.fullscreenElement is used. But isFullscreen is\n\t * still a valuable property for internal player workings.\n\t *\n\t * @param  {Boolean=} isFS Update the player's fullscreen state\n\t * @return {Boolean} true if fullscreen, false if not\n\t * @return {vjs.Player} self, when setting\n\t */\n\tvjs.Player.prototype.isFullscreen = function(isFS){\n\t  if (isFS !== undefined) {\n\t    this.isFullscreen_ = !!isFS;\n\t    return this;\n\t  }\n\t  return this.isFullscreen_;\n\t};\n\t\n\t/**\n\t * Old naming for isFullscreen()\n\t * @deprecated for lowercase 's' version\n\t */\n\tvjs.Player.prototype.isFullScreen = function(isFS){\n\t  vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase \"s\")');\n\t  return this.isFullscreen(isFS);\n\t};\n\t\n\t/**\n\t * Increase the size of the video to full screen\n\t *\n\t *     myPlayer.requestFullscreen();\n\t *\n\t * In some browsers, full screen is not supported natively, so it enters\n\t * \"full window mode\", where the video fills the browser window.\n\t * In browsers and devices that support native full screen, sometimes the\n\t * browser's default controls will be shown, and not the Video.js custom skin.\n\t * This includes most mobile devices (iOS, Android) and older versions of\n\t * Safari.\n\t *\n\t * @return {vjs.Player} self\n\t */\n\tvjs.Player.prototype.requestFullscreen = function(){\n\t  var fsApi = vjs.browser.fullscreenAPI;\n\t\n\t  this.isFullscreen(true);\n\t\n\t  if (fsApi) {\n\t    // the browser supports going fullscreen at the element level so we can\n\t    // take the controls fullscreen as well as the video\n\t\n\t    // Trigger fullscreenchange event after change\n\t    // We have to specifically add this each time, and remove\n\t    // when canceling fullscreen. Otherwise if there's multiple\n\t    // players on a page, they would all be reacting to the same fullscreen\n\t    // events\n\t    vjs.on(document, fsApi['fullscreenchange'], vjs.bind(this, function(e){\n\t      this.isFullscreen(document[fsApi.fullscreenElement]);\n\t\n\t      // If cancelling fullscreen, remove event listener.\n\t      if (this.isFullscreen() === false) {\n\t        vjs.off(document, fsApi['fullscreenchange'], arguments.callee);\n\t      }\n\t\n\t      this.trigger('fullscreenchange');\n\t    }));\n\t\n\t    this.el_[fsApi.requestFullscreen]();\n\t\n\t  } else if (this.tech.supportsFullScreen()) {\n\t    // we can't take the video.js controls fullscreen but we can go fullscreen\n\t    // with native controls\n\t    this.techCall('enterFullScreen');\n\t  } else {\n\t    // fullscreen isn't supported so we'll just stretch the video element to\n\t    // fill the viewport\n\t    this.enterFullWindow();\n\t    this.trigger('fullscreenchange');\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Old naming for requestFullscreen\n\t * @deprecated for lower case 's' version\n\t */\n\tvjs.Player.prototype.requestFullScreen = function(){\n\t  vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase \"s\")');\n\t  return this.requestFullscreen();\n\t};\n\t\n\t\n\t/**\n\t * Return the video to its normal size after having been in full screen mode\n\t *\n\t *     myPlayer.exitFullscreen();\n\t *\n\t * @return {vjs.Player} self\n\t */\n\tvjs.Player.prototype.exitFullscreen = function(){\n\t  var fsApi = vjs.browser.fullscreenAPI;\n\t  this.isFullscreen(false);\n\t\n\t  // Check for browser element fullscreen support\n\t  if (fsApi) {\n\t    document[fsApi.exitFullscreen]();\n\t  } else if (this.tech.supportsFullScreen()) {\n\t   this.techCall('exitFullScreen');\n\t  } else {\n\t   this.exitFullWindow();\n\t   this.trigger('fullscreenchange');\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Old naming for exitFullscreen\n\t * @deprecated for exitFullscreen\n\t */\n\tvjs.Player.prototype.cancelFullScreen = function(){\n\t  vjs.log.warn('player.cancelFullScreen() has been deprecated, use player.exitFullscreen()');\n\t  return this.exitFullscreen();\n\t};\n\t\n\t// When fullscreen isn't supported we can stretch the video container to as wide as the browser will let us.\n\tvjs.Player.prototype.enterFullWindow = function(){\n\t  this.isFullWindow = true;\n\t\n\t  // Storing original doc overflow value to return to when fullscreen is off\n\t  this.docOrigOverflow = document.documentElement.style.overflow;\n\t\n\t  // Add listener for esc key to exit fullscreen\n\t  vjs.on(document, 'keydown', vjs.bind(this, this.fullWindowOnEscKey));\n\t\n\t  // Hide any scroll bars\n\t  document.documentElement.style.overflow = 'hidden';\n\t\n\t  // Apply fullscreen styles\n\t  vjs.addClass(document.body, 'vjs-full-window');\n\t\n\t  this.trigger('enterFullWindow');\n\t};\n\tvjs.Player.prototype.fullWindowOnEscKey = function(event){\n\t  if (event.keyCode === 27) {\n\t    if (this.isFullscreen() === true) {\n\t      this.exitFullscreen();\n\t    } else {\n\t      this.exitFullWindow();\n\t    }\n\t  }\n\t};\n\t\n\tvjs.Player.prototype.exitFullWindow = function(){\n\t  this.isFullWindow = false;\n\t  vjs.off(document, 'keydown', this.fullWindowOnEscKey);\n\t\n\t  // Unhide scroll bars.\n\t  document.documentElement.style.overflow = this.docOrigOverflow;\n\t\n\t  // Remove fullscreen styles\n\t  vjs.removeClass(document.body, 'vjs-full-window');\n\t\n\t  // Resize the box, controller, and poster to original sizes\n\t  // this.positionAll();\n\t  this.trigger('exitFullWindow');\n\t};\n\t\n\tvjs.Player.prototype.selectSource = function(sources){\n\t  // Loop through each playback technology in the options order\n\t  for (var i=0,j=this.options_['techOrder'];i<j.length;i++) {\n\t    var techName = vjs.capitalize(j[i]),\n\t        tech = window['videojs'][techName];\n\t\n\t    // Check if the current tech is defined before continuing\n\t    if (!tech) {\n\t      vjs.log.error('The \"' + techName + '\" tech is undefined. Skipped browser support check for that tech.');\n\t      continue;\n\t    }\n\t\n\t    // Check if the browser supports this technology\n\t    if (tech.isSupported()) {\n\t      // Loop through each source object\n\t      for (var a=0,b=sources;a<b.length;a++) {\n\t        var source = b[a];\n\t\n\t        // Check if source can be played with this technology\n\t        if (tech['canPlaySource'](source)) {\n\t          return { source: source, tech: techName };\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  return false;\n\t};\n\t\n\t/**\n\t * The source function updates the video source\n\t *\n\t * There are three types of variables you can pass as the argument.\n\t *\n\t * **URL String**: A URL to the the video file. Use this method if you are sure\n\t * the current playback technology (HTML5/Flash) can support the source you\n\t * provide. Currently only MP4 files can be used in both HTML5 and Flash.\n\t *\n\t *     myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n\t *\n\t * **Source Object (or element):** A javascript object containing information\n\t * about the source file. Use this method if you want the player to determine if\n\t * it can support the file using the type information.\n\t *\n\t *     myPlayer.src({ type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" });\n\t *\n\t * **Array of Source Objects:** To provide multiple versions of the source so\n\t * that it can be played using HTML5 across browsers you can use an array of\n\t * source objects. Video.js will detect which version is supported and load that\n\t * file.\n\t *\n\t *     myPlayer.src([\n\t *       { type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" },\n\t *       { type: \"video/webm\", src: \"http://www.example.com/path/to/video.webm\" },\n\t *       { type: \"video/ogg\", src: \"http://www.example.com/path/to/video.ogv\" }\n\t *     ]);\n\t *\n\t * @param  {String|Object|Array=} source The source URL, object, or array of sources\n\t * @return {String} The current video source when getting\n\t * @return {String} The player when setting\n\t */\n\tvjs.Player.prototype.src = function(source){\n\t  if (source === undefined) {\n\t    return this.techGet('src');\n\t  }\n\t\n\t  // case: Array of source objects to choose from and pick the best to play\n\t  if (vjs.obj.isArray(source)) {\n\t    this.sourceList_(source);\n\t\n\t  // case: URL String (http://myvideo...)\n\t  } else if (typeof source === 'string') {\n\t    // create a source object from the string\n\t    this.src({ src: source });\n\t\n\t  // case: Source object { src: '', type: '' ... }\n\t  } else if (source instanceof Object) {\n\t    // check if the source has a type and the loaded tech cannot play the source\n\t    // if there's no type we'll just try the current tech\n\t    if (source.type && !window['videojs'][this.techName]['canPlaySource'](source)) {\n\t      // create a source list with the current source and send through\n\t      // the tech loop to check for a compatible technology\n\t      this.sourceList_([source]);\n\t    } else {\n\t      this.cache_.src = source.src;\n\t      this.currentType_ = source.type || '';\n\t\n\t      // wait until the tech is ready to set the source\n\t      this.ready(function(){\n\t\n\t        // The setSource tech method was added with source handlers\n\t        // so older techs won't support it\n\t        // We need to check the direct prototype for the case where subclasses\n\t        // of the tech do not support source handlers\n\t        if (window['videojs'][this.techName].prototype.hasOwnProperty('setSource')) {\n\t          this.techCall('setSource', source);\n\t        } else {\n\t          this.techCall('src', source.src);\n\t        }\n\t\n\t        if (this.options_['preload'] == 'auto') {\n\t          this.load();\n\t        }\n\t\n\t        if (this.options_['autoplay']) {\n\t          this.play();\n\t        }\n\t      });\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Handle an array of source objects\n\t * @param  {[type]} sources Array of source objects\n\t * @private\n\t */\n\tvjs.Player.prototype.sourceList_ = function(sources){\n\t  var sourceTech = this.selectSource(sources);\n\t\n\t  if (sourceTech) {\n\t    if (sourceTech.tech === this.techName) {\n\t      // if this technology is already loaded, set the source\n\t      this.src(sourceTech.source);\n\t    } else {\n\t      // load this technology with the chosen source\n\t      this.loadTech(sourceTech.tech, sourceTech.source);\n\t    }\n\t  } else {\n\t    // We need to wrap this in a timeout to give folks a chance to add error event handlers\n\t    this.setTimeout( function() {\n\t      this.error({ code: 4, message: this.localize(this.options()['notSupportedMessage']) });\n\t    }, 0);\n\t\n\t    // we could not find an appropriate tech, but let's still notify the delegate that this is it\n\t    // this needs a better comment about why this is needed\n\t    this.triggerReady();\n\t  }\n\t};\n\t\n\t/**\n\t * Begin loading the src data.\n\t * @return {vjs.Player} Returns the player\n\t */\n\tvjs.Player.prototype.load = function(){\n\t  this.techCall('load');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n\t * Can be used in conjuction with `currentType` to assist in rebuilding the current source object.\n\t * @return {String} The current source\n\t */\n\tvjs.Player.prototype.currentSrc = function(){\n\t  return this.techGet('currentSrc') || this.cache_.src || '';\n\t};\n\t\n\t/**\n\t * Get the current source type e.g. video/mp4\n\t * This can allow you rebuild the current source object so that you could load the same\n\t * source and tech later\n\t * @return {String} The source MIME type\n\t */\n\tvjs.Player.prototype.currentType = function(){\n\t    return this.currentType_ || '';\n\t};\n\t\n\t/**\n\t * Get or set the preload attribute.\n\t * @return {String} The preload attribute value when getting\n\t * @return {vjs.Player} Returns the player when setting\n\t */\n\tvjs.Player.prototype.preload = function(value){\n\t  if (value !== undefined) {\n\t    this.techCall('setPreload', value);\n\t    this.options_['preload'] = value;\n\t    return this;\n\t  }\n\t  return this.techGet('preload');\n\t};\n\t\n\t/**\n\t * Get or set the autoplay attribute.\n\t * @return {String} The autoplay attribute value when getting\n\t * @return {vjs.Player} Returns the player when setting\n\t */\n\tvjs.Player.prototype.autoplay = function(value){\n\t  if (value !== undefined) {\n\t    this.techCall('setAutoplay', value);\n\t    this.options_['autoplay'] = value;\n\t    return this;\n\t  }\n\t  return this.techGet('autoplay', value);\n\t};\n\t\n\t/**\n\t * Get or set the loop attribute on the video element.\n\t * @return {String} The loop attribute value when getting\n\t * @return {vjs.Player} Returns the player when setting\n\t */\n\tvjs.Player.prototype.loop = function(value){\n\t  if (value !== undefined) {\n\t    this.techCall('setLoop', value);\n\t    this.options_['loop'] = value;\n\t    return this;\n\t  }\n\t  return this.techGet('loop');\n\t};\n\t\n\t/**\n\t * the url of the poster image source\n\t * @type {String}\n\t * @private\n\t */\n\tvjs.Player.prototype.poster_;\n\t\n\t/**\n\t * get or set the poster image source url\n\t *\n\t * ##### EXAMPLE:\n\t *\n\t *     // getting\n\t *     var currentPoster = myPlayer.poster();\n\t *\n\t *     // setting\n\t *     myPlayer.poster('http://example.com/myImage.jpg');\n\t *\n\t * @param  {String=} [src] Poster image source URL\n\t * @return {String} poster URL when getting\n\t * @return {vjs.Player} self when setting\n\t */\n\tvjs.Player.prototype.poster = function(src){\n\t  if (src === undefined) {\n\t    return this.poster_;\n\t  }\n\t\n\t  // The correct way to remove a poster is to set as an empty string\n\t  // other falsey values will throw errors\n\t  if (!src) {\n\t    src = '';\n\t  }\n\t\n\t  // update the internal poster variable\n\t  this.poster_ = src;\n\t\n\t  // update the tech's poster\n\t  this.techCall('setPoster', src);\n\t\n\t  // alert components that the poster has been set\n\t  this.trigger('posterchange');\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Whether or not the controls are showing\n\t * @type {Boolean}\n\t * @private\n\t */\n\tvjs.Player.prototype.controls_;\n\t\n\t/**\n\t * Get or set whether or not the controls are showing.\n\t * @param  {Boolean} controls Set controls to showing or not\n\t * @return {Boolean}    Controls are showing\n\t */\n\tvjs.Player.prototype.controls = function(bool){\n\t  if (bool !== undefined) {\n\t    bool = !!bool; // force boolean\n\t    // Don't trigger a change event unless it actually changed\n\t    if (this.controls_ !== bool) {\n\t      this.controls_ = bool;\n\t      if (bool) {\n\t        this.removeClass('vjs-controls-disabled');\n\t        this.addClass('vjs-controls-enabled');\n\t        this.trigger('controlsenabled');\n\t      } else {\n\t        this.removeClass('vjs-controls-enabled');\n\t        this.addClass('vjs-controls-disabled');\n\t        this.trigger('controlsdisabled');\n\t      }\n\t    }\n\t    return this;\n\t  }\n\t  return this.controls_;\n\t};\n\t\n\tvjs.Player.prototype.usingNativeControls_;\n\t\n\t/**\n\t * Toggle native controls on/off. Native controls are the controls built into\n\t * devices (e.g. default iPhone controls), Flash, or other techs\n\t * (e.g. Vimeo Controls)\n\t *\n\t * **This should only be set by the current tech, because only the tech knows\n\t * if it can support native controls**\n\t *\n\t * @param  {Boolean} bool    True signals that native controls are on\n\t * @return {vjs.Player}      Returns the player\n\t * @private\n\t */\n\tvjs.Player.prototype.usingNativeControls = function(bool){\n\t  if (bool !== undefined) {\n\t    bool = !!bool; // force boolean\n\t    // Don't trigger a change event unless it actually changed\n\t    if (this.usingNativeControls_ !== bool) {\n\t      this.usingNativeControls_ = bool;\n\t      if (bool) {\n\t        this.addClass('vjs-using-native-controls');\n\t\n\t        /**\n\t         * player is using the native device controls\n\t         *\n\t         * @event usingnativecontrols\n\t         * @memberof vjs.Player\n\t         * @instance\n\t         * @private\n\t         */\n\t        this.trigger('usingnativecontrols');\n\t      } else {\n\t        this.removeClass('vjs-using-native-controls');\n\t\n\t        /**\n\t         * player is using the custom HTML controls\n\t         *\n\t         * @event usingcustomcontrols\n\t         * @memberof vjs.Player\n\t         * @instance\n\t         * @private\n\t         */\n\t        this.trigger('usingcustomcontrols');\n\t      }\n\t    }\n\t    return this;\n\t  }\n\t  return this.usingNativeControls_;\n\t};\n\t\n\t/**\n\t * Store the current media error\n\t * @type {Object}\n\t * @private\n\t */\n\tvjs.Player.prototype.error_ = null;\n\t\n\t/**\n\t * Set or get the current MediaError\n\t * @param  {*} err A MediaError or a String/Number to be turned into a MediaError\n\t * @return {vjs.MediaError|null}     when getting\n\t * @return {vjs.Player}              when setting\n\t */\n\tvjs.Player.prototype.error = function(err){\n\t  if (err === undefined) {\n\t    return this.error_;\n\t  }\n\t\n\t  // restoring to default\n\t  if (err === null) {\n\t    this.error_ = err;\n\t    this.removeClass('vjs-error');\n\t    return this;\n\t  }\n\t\n\t  // error instance\n\t  if (err instanceof vjs.MediaError) {\n\t    this.error_ = err;\n\t  } else {\n\t    this.error_ = new vjs.MediaError(err);\n\t  }\n\t\n\t  // fire an error event on the player\n\t  this.trigger('error');\n\t\n\t  // add the vjs-error classname to the player\n\t  this.addClass('vjs-error');\n\t\n\t  // log the name of the error type and any message\n\t  // ie8 just logs \"[object object]\" if you just log the error object\n\t  vjs.log.error('(CODE:'+this.error_.code+' '+vjs.MediaError.errorTypes[this.error_.code]+')', this.error_.message, this.error_);\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Returns whether or not the player is in the \"ended\" state.\n\t * @return {Boolean} True if the player is in the ended state, false if not.\n\t */\n\tvjs.Player.prototype.ended = function(){ return this.techGet('ended'); };\n\t\n\t/**\n\t * Returns whether or not the player is in the \"seeking\" state.\n\t * @return {Boolean} True if the player is in the seeking state, false if not.\n\t */\n\tvjs.Player.prototype.seeking = function(){ return this.techGet('seeking'); };\n\t\n\t/**\n\t * Returns the TimeRanges of the media that are currently available\n\t * for seeking to.\n\t * @return {TimeRanges} the seekable intervals of the media timeline\n\t */\n\tvjs.Player.prototype.seekable = function(){ return this.techGet('seekable'); };\n\t\n\t// When the player is first initialized, trigger activity so components\n\t// like the control bar show themselves if needed\n\tvjs.Player.prototype.userActivity_ = true;\n\tvjs.Player.prototype.reportUserActivity = function(event){\n\t  this.userActivity_ = true;\n\t};\n\t\n\tvjs.Player.prototype.userActive_ = true;\n\tvjs.Player.prototype.userActive = function(bool){\n\t  if (bool !== undefined) {\n\t    bool = !!bool;\n\t    if (bool !== this.userActive_) {\n\t      this.userActive_ = bool;\n\t      if (bool) {\n\t        // If the user was inactive and is now active we want to reset the\n\t        // inactivity timer\n\t        this.userActivity_ = true;\n\t        this.removeClass('vjs-user-inactive');\n\t        this.addClass('vjs-user-active');\n\t        this.trigger('useractive');\n\t      } else {\n\t        // We're switching the state to inactive manually, so erase any other\n\t        // activity\n\t        this.userActivity_ = false;\n\t\n\t        // Chrome/Safari/IE have bugs where when you change the cursor it can\n\t        // trigger a mousemove event. This causes an issue when you're hiding\n\t        // the cursor when the user is inactive, and a mousemove signals user\n\t        // activity. Making it impossible to go into inactive mode. Specifically\n\t        // this happens in fullscreen when we really need to hide the cursor.\n\t        //\n\t        // When this gets resolved in ALL browsers it can be removed\n\t        // https://code.google.com/p/chromium/issues/detail?id=103041\n\t        if(this.tech) {\n\t          this.tech.one('mousemove', function(e){\n\t            e.stopPropagation();\n\t            e.preventDefault();\n\t          });\n\t        }\n\t\n\t        this.removeClass('vjs-user-active');\n\t        this.addClass('vjs-user-inactive');\n\t        this.trigger('userinactive');\n\t      }\n\t    }\n\t    return this;\n\t  }\n\t  return this.userActive_;\n\t};\n\t\n\tvjs.Player.prototype.listenForUserActivity = function(){\n\t  var onActivity, onMouseMove, onMouseDown, mouseInProgress, onMouseUp,\n\t      activityCheck, inactivityTimeout, lastMoveX, lastMoveY;\n\t\n\t  onActivity = vjs.bind(this, this.reportUserActivity);\n\t\n\t  onMouseMove = function(e) {\n\t    // #1068 - Prevent mousemove spamming\n\t    // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n\t    if(e.screenX != lastMoveX || e.screenY != lastMoveY) {\n\t      lastMoveX = e.screenX;\n\t      lastMoveY = e.screenY;\n\t      onActivity();\n\t    }\n\t  };\n\t\n\t  onMouseDown = function() {\n\t    onActivity();\n\t    // For as long as the they are touching the device or have their mouse down,\n\t    // we consider them active even if they're not moving their finger or mouse.\n\t    // So we want to continue to update that they are active\n\t    this.clearInterval(mouseInProgress);\n\t    // Setting userActivity=true now and setting the interval to the same time\n\t    // as the activityCheck interval (250) should ensure we never miss the\n\t    // next activityCheck\n\t    mouseInProgress = this.setInterval(onActivity, 250);\n\t  };\n\t\n\t  onMouseUp = function(event) {\n\t    onActivity();\n\t    // Stop the interval that maintains activity if the mouse/touch is down\n\t    this.clearInterval(mouseInProgress);\n\t  };\n\t\n\t  // Any mouse movement will be considered user activity\n\t  this.on('mousedown', onMouseDown);\n\t  this.on('mousemove', onMouseMove);\n\t  this.on('mouseup', onMouseUp);\n\t\n\t  // Listen for keyboard navigation\n\t  // Shouldn't need to use inProgress interval because of key repeat\n\t  this.on('keydown', onActivity);\n\t  this.on('keyup', onActivity);\n\t\n\t  // Run an interval every 250 milliseconds instead of stuffing everything into\n\t  // the mousemove/touchmove function itself, to prevent performance degradation.\n\t  // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n\t  // then gets picked up by this loop\n\t  // http://ejohn.org/blog/learning-from-twitter/\n\t  activityCheck = this.setInterval(function() {\n\t    // Check to see if mouse/touch activity has happened\n\t    if (this.userActivity_) {\n\t      // Reset the activity tracker\n\t      this.userActivity_ = false;\n\t\n\t      // If the user state was inactive, set the state to active\n\t      this.userActive(true);\n\t\n\t      // Clear any existing inactivity timeout to start the timer over\n\t      this.clearTimeout(inactivityTimeout);\n\t\n\t      var timeout = this.options()['inactivityTimeout'];\n\t      if (timeout > 0) {\n\t          // In <timeout> milliseconds, if no more activity has occurred the\n\t          // user will be considered inactive\n\t          inactivityTimeout = this.setTimeout(function () {\n\t              // Protect against the case where the inactivityTimeout can trigger just\n\t              // before the next user activity is picked up by the activityCheck loop\n\t              // causing a flicker\n\t              if (!this.userActivity_) {\n\t                  this.userActive(false);\n\t              }\n\t          }, timeout);\n\t      }\n\t    }\n\t  }, 250);\n\t};\n\t\n\t/**\n\t * Gets or sets the current playback rate.\n\t * @param  {Boolean} rate   New playback rate to set.\n\t * @return {Number}         Returns the new playback rate when setting\n\t * @return {Number}         Returns the current playback rate when getting\n\t */\n\tvjs.Player.prototype.playbackRate = function(rate) {\n\t  if (rate !== undefined) {\n\t    this.techCall('setPlaybackRate', rate);\n\t    return this;\n\t  }\n\t\n\t  if (this.tech && this.tech['featuresPlaybackRate']) {\n\t    return this.techGet('playbackRate');\n\t  } else {\n\t    return 1.0;\n\t  }\n\t\n\t};\n\t\n\t/**\n\t * Store the current audio state\n\t * @type {Boolean}\n\t * @private\n\t */\n\tvjs.Player.prototype.isAudio_ = false;\n\t\n\t/**\n\t * Gets or sets the audio flag\n\t *\n\t * @param  {Boolean} bool    True signals that this is an audio player.\n\t * @return {Boolean}         Returns true if player is audio, false if not when getting\n\t * @return {vjs.Player}      Returns the player if setting\n\t * @private\n\t */\n\tvjs.Player.prototype.isAudio = function(bool) {\n\t  if (bool !== undefined) {\n\t    this.isAudio_ = !!bool;\n\t    return this;\n\t  }\n\t\n\t  return this.isAudio_;\n\t};\n\t\n\t/**\n\t * Returns the current state of network activity for the element, from\n\t * the codes in the list below.\n\t * - NETWORK_EMPTY (numeric value 0)\n\t *   The element has not yet been initialised. All attributes are in\n\t *   their initial states.\n\t * - NETWORK_IDLE (numeric value 1)\n\t *   The element's resource selection algorithm is active and has\n\t *   selected a resource, but it is not actually using the network at\n\t *   this time.\n\t * - NETWORK_LOADING (numeric value 2)\n\t *   The user agent is actively trying to download data.\n\t * - NETWORK_NO_SOURCE (numeric value 3)\n\t *   The element's resource selection algorithm is active, but it has\n\t *   not yet found a resource to use.\n\t * @return {Number} the current network activity state\n\t * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n\t */\n\tvjs.Player.prototype.networkState = function(){\n\t  return this.techGet('networkState');\n\t};\n\t\n\t/**\n\t * Returns a value that expresses the current state of the element\n\t * with respect to rendering the current playback position, from the\n\t * codes in the list below.\n\t * - HAVE_NOTHING (numeric value 0)\n\t *   No information regarding the media resource is available.\n\t * - HAVE_METADATA (numeric value 1)\n\t *   Enough of the resource has been obtained that the duration of the\n\t *   resource is available.\n\t * - HAVE_CURRENT_DATA (numeric value 2)\n\t *   Data for the immediate current playback position is available.\n\t * - HAVE_FUTURE_DATA (numeric value 3)\n\t *   Data for the immediate current playback position is available, as\n\t *   well as enough data for the user agent to advance the current\n\t *   playback position in the direction of playback.\n\t * - HAVE_ENOUGH_DATA (numeric value 4)\n\t *   The user agent estimates that enough data is available for\n\t *   playback to proceed uninterrupted.\n\t * @return {Number} the current playback rendering state\n\t * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n\t */\n\tvjs.Player.prototype.readyState = function(){\n\t  return this.techGet('readyState');\n\t};\n\t\n\t/**\n\t * Text tracks are tracks of timed text events.\n\t * Captions - text displayed over the video for the hearing impaired\n\t * Subtitles - text displayed over the video for those who don't understand language in the video\n\t * Chapters - text displayed in a menu allowing the user to jump to particular points (chapters) in the video\n\t * Descriptions (not supported yet) - audio descriptions that are read back to the user by a screen reading device\n\t */\n\t\n\t/**\n\t * Get an array of associated text tracks. captions, subtitles, chapters, descriptions\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n\t * @return {Array}           Array of track objects\n\t */\n\tvjs.Player.prototype.textTracks = function(){\n\t  // cannot use techGet directly because it checks to see whether the tech is ready.\n\t  // Flash is unlikely to be ready in time but textTracks should still work.\n\t  return this.tech && this.tech['textTracks']();\n\t};\n\t\n\tvjs.Player.prototype.remoteTextTracks = function() {\n\t  return this.tech && this.tech['remoteTextTracks']();\n\t};\n\t\n\t/**\n\t * Add a text track\n\t * In addition to the W3C settings we allow adding additional info through options.\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n\t * @param {String}  kind        Captions, subtitles, chapters, descriptions, or metadata\n\t * @param {String=} label       Optional label\n\t * @param {String=} language    Optional language\n\t */\n\tvjs.Player.prototype.addTextTrack = function(kind, label, language) {\n\t  return this.tech && this.tech['addTextTrack'](kind, label, language);\n\t};\n\t\n\tvjs.Player.prototype.addRemoteTextTrack = function(options) {\n\t  return this.tech && this.tech['addRemoteTextTrack'](options);\n\t};\n\t\n\tvjs.Player.prototype.removeRemoteTextTrack = function(track) {\n\t  this.tech && this.tech['removeRemoteTextTrack'](track);\n\t};\n\t\n\t// Methods to add support for\n\t// initialTime: function(){ return this.techCall('initialTime'); },\n\t// startOffsetTime: function(){ return this.techCall('startOffsetTime'); },\n\t// played: function(){ return this.techCall('played'); },\n\t// seekable: function(){ return this.techCall('seekable'); },\n\t// videoTracks: function(){ return this.techCall('videoTracks'); },\n\t// audioTracks: function(){ return this.techCall('audioTracks'); },\n\t// videoWidth: function(){ return this.techCall('videoWidth'); },\n\t// videoHeight: function(){ return this.techCall('videoHeight'); },\n\t// defaultPlaybackRate: function(){ return this.techCall('defaultPlaybackRate'); },\n\t// mediaGroup: function(){ return this.techCall('mediaGroup'); },\n\t// controller: function(){ return this.techCall('controller'); },\n\t// defaultMuted: function(){ return this.techCall('defaultMuted'); }\n\t\n\t// TODO\n\t// currentSrcList: the array of sources including other formats and bitrates\n\t// playList: array of source lists in order of playback\n\t/**\n\t * Container of main controls\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t * @extends vjs.Component\n\t */\n\tvjs.ControlBar = vjs.Component.extend();\n\t\n\tvjs.ControlBar.prototype.options_ = {\n\t  loadEvent: 'play',\n\t  children: {\n\t    'playToggle': {},\n\t    'currentTimeDisplay': {},\n\t    'timeDivider': {},\n\t    'durationDisplay': {},\n\t    'remainingTimeDisplay': {},\n\t    'liveDisplay': {},\n\t    'progressControl': {},\n\t    'fullscreenToggle': {},\n\t    'volumeControl': {},\n\t    'muteToggle': {},\n\t    // 'volumeMenuButton': {},\n\t    'playbackRateMenuButton': {},\n\t    'subtitlesButton': {},\n\t    'captionsButton': {},\n\t    'chaptersButton': {}\n\t  }\n\t};\n\t\n\tvjs.ControlBar.prototype.createEl = function(){\n\t  return vjs.createEl('div', {\n\t    className: 'vjs-control-bar'\n\t  });\n\t};\n\t/**\n\t * Displays the live indicator\n\t * TODO - Future make it click to snap to live\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.LiveDisplay = vjs.Component.extend({\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t  }\n\t});\n\t\n\tvjs.LiveDisplay.prototype.createEl = function(){\n\t  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-live-controls vjs-control'\n\t  });\n\t\n\t  this.contentEl_ = vjs.createEl('div', {\n\t    className: 'vjs-live-display',\n\t    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Stream Type') + '</span>' + this.localize('LIVE'),\n\t    'aria-live': 'off'\n\t  });\n\t\n\t  el.appendChild(this.contentEl_);\n\t\n\t  return el;\n\t};\n\t/**\n\t * Button to toggle between play and pause\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t */\n\tvjs.PlayToggle = vjs.Button.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Button.call(this, player, options);\n\t\n\t    this.on(player, 'play', this.onPlay);\n\t    this.on(player, 'pause', this.onPause);\n\t  }\n\t});\n\t\n\tvjs.PlayToggle.prototype.buttonText = 'Play';\n\t\n\tvjs.PlayToggle.prototype.buildCSSClass = function(){\n\t  return 'vjs-play-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n\t};\n\t\n\t// OnClick - Toggle between play and pause\n\tvjs.PlayToggle.prototype.onClick = function(){\n\t  if (this.player_.paused()) {\n\t    this.player_.play();\n\t  } else {\n\t    this.player_.pause();\n\t  }\n\t};\n\t\n\t  // OnPlay - Add the vjs-playing class to the element so it can change appearance\n\tvjs.PlayToggle.prototype.onPlay = function(){\n\t  this.removeClass('vjs-paused');\n\t  this.addClass('vjs-playing');\n\t  this.el_.children[0].children[0].innerHTML = this.localize('Pause'); // change the button text to \"Pause\"\n\t};\n\t\n\t  // OnPause - Add the vjs-paused class to the element so it can change appearance\n\tvjs.PlayToggle.prototype.onPause = function(){\n\t  this.removeClass('vjs-playing');\n\t  this.addClass('vjs-paused');\n\t  this.el_.children[0].children[0].innerHTML = this.localize('Play'); // change the button text to \"Play\"\n\t};\n\t/**\n\t * Displays the current time\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.CurrentTimeDisplay = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    this.on(player, 'timeupdate', this.updateContent);\n\t  }\n\t});\n\t\n\tvjs.CurrentTimeDisplay.prototype.createEl = function(){\n\t  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-current-time vjs-time-controls vjs-control'\n\t  });\n\t\n\t  this.contentEl_ = vjs.createEl('div', {\n\t    className: 'vjs-current-time-display',\n\t    innerHTML: '<span class=\"vjs-control-text\">Current Time </span>' + '0:00', // label the current time for screen reader users\n\t    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n\t  });\n\t\n\t  el.appendChild(this.contentEl_);\n\t  return el;\n\t};\n\t\n\tvjs.CurrentTimeDisplay.prototype.updateContent = function(){\n\t  // Allows for smooth scrubbing, when player can't keep up.\n\t  var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n\t  this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Current Time') + '</span> ' + vjs.formatTime(time, this.player_.duration());\n\t};\n\t\n\t/**\n\t * Displays the duration\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.DurationDisplay = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    // this might need to be changed to 'durationchange' instead of 'timeupdate' eventually,\n\t    // however the durationchange event fires before this.player_.duration() is set,\n\t    // so the value cannot be written out using this method.\n\t    // Once the order of durationchange and this.player_.duration() being set is figured out,\n\t    // this can be updated.\n\t    this.on(player, 'timeupdate', this.updateContent);\n\t    this.on(player, 'loadedmetadata', this.updateContent);\n\t  }\n\t});\n\t\n\tvjs.DurationDisplay.prototype.createEl = function(){\n\t  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-duration vjs-time-controls vjs-control'\n\t  });\n\t\n\t  this.contentEl_ = vjs.createEl('div', {\n\t    className: 'vjs-duration-display',\n\t    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Duration Time') + '</span> ' + '0:00', // label the duration time for screen reader users\n\t    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n\t  });\n\t\n\t  el.appendChild(this.contentEl_);\n\t  return el;\n\t};\n\t\n\tvjs.DurationDisplay.prototype.updateContent = function(){\n\t  var duration = this.player_.duration();\n\t  if (duration) {\n\t      this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Duration Time') + '</span> ' + vjs.formatTime(duration); // label the duration time for screen reader users\n\t  }\n\t};\n\t\n\t/**\n\t * The separator between the current time and duration\n\t *\n\t * Can be hidden if it's not needed in the design.\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.TimeDivider = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t  }\n\t});\n\t\n\tvjs.TimeDivider.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-time-divider',\n\t    innerHTML: '<div><span>/</span></div>'\n\t  });\n\t};\n\t\n\t/**\n\t * Displays the time left in the video\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.RemainingTimeDisplay = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    this.on(player, 'timeupdate', this.updateContent);\n\t  }\n\t});\n\t\n\tvjs.RemainingTimeDisplay.prototype.createEl = function(){\n\t  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-remaining-time vjs-time-controls vjs-control'\n\t  });\n\t\n\t  this.contentEl_ = vjs.createEl('div', {\n\t    className: 'vjs-remaining-time-display',\n\t    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Remaining Time') + '</span> ' + '-0:00', // label the remaining time for screen reader users\n\t    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n\t  });\n\t\n\t  el.appendChild(this.contentEl_);\n\t  return el;\n\t};\n\t\n\tvjs.RemainingTimeDisplay.prototype.updateContent = function(){\n\t  if (this.player_.duration()) {\n\t    this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Remaining Time') + '</span> ' + '-'+ vjs.formatTime(this.player_.remainingTime());\n\t  }\n\t\n\t  // Allows for smooth scrubbing, when player can't keep up.\n\t  // var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n\t  // this.contentEl_.innerHTML = vjs.formatTime(time, this.player_.duration());\n\t};\n\t/**\n\t * Toggle fullscreen video\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @extends vjs.Button\n\t */\n\tvjs.FullscreenToggle = vjs.Button.extend({\n\t  /**\n\t   * @constructor\n\t   * @memberof vjs.FullscreenToggle\n\t   * @instance\n\t   */\n\t  init: function(player, options){\n\t    vjs.Button.call(this, player, options);\n\t  }\n\t});\n\t\n\tvjs.FullscreenToggle.prototype.buttonText = 'Fullscreen';\n\t\n\tvjs.FullscreenToggle.prototype.buildCSSClass = function(){\n\t  return 'vjs-fullscreen-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n\t};\n\t\n\tvjs.FullscreenToggle.prototype.onClick = function(){\n\t  if (!this.player_.isFullscreen()) {\n\t    this.player_.requestFullscreen();\n\t    this.controlText_.innerHTML = this.localize('Non-Fullscreen');\n\t  } else {\n\t    this.player_.exitFullscreen();\n\t    this.controlText_.innerHTML = this.localize('Fullscreen');\n\t  }\n\t};\n\t/**\n\t * The Progress Control component contains the seek bar, load progress,\n\t * and play progress\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.ProgressControl = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t  }\n\t});\n\t\n\tvjs.ProgressControl.prototype.options_ = {\n\t  children: {\n\t    'seekBar': {}\n\t  }\n\t};\n\t\n\tvjs.ProgressControl.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-progress-control vjs-control'\n\t  });\n\t};\n\t\n\t/**\n\t * Seek Bar and holder for the progress bars\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.SeekBar = vjs.Slider.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Slider.call(this, player, options);\n\t    this.on(player, 'timeupdate', this.updateARIAAttributes);\n\t    player.ready(vjs.bind(this, this.updateARIAAttributes));\n\t  }\n\t});\n\t\n\tvjs.SeekBar.prototype.options_ = {\n\t  children: {\n\t    'loadProgressBar': {},\n\t    'playProgressBar': {},\n\t    'seekHandle': {}\n\t  },\n\t  'barName': 'playProgressBar',\n\t  'handleName': 'seekHandle'\n\t};\n\t\n\tvjs.SeekBar.prototype.playerEvent = 'timeupdate';\n\t\n\tvjs.SeekBar.prototype.createEl = function(){\n\t  return vjs.Slider.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-progress-holder',\n\t    'aria-label': 'video progress bar'\n\t  });\n\t};\n\t\n\tvjs.SeekBar.prototype.updateARIAAttributes = function(){\n\t    // Allows for smooth scrubbing, when player can't keep up.\n\t    var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n\t    this.el_.setAttribute('aria-valuenow',vjs.round(this.getPercent()*100, 2)); // machine readable value of progress bar (percentage complete)\n\t    this.el_.setAttribute('aria-valuetext',vjs.formatTime(time, this.player_.duration())); // human readable value of progress bar (time complete)\n\t};\n\t\n\tvjs.SeekBar.prototype.getPercent = function(){\n\t  return this.player_.currentTime() / this.player_.duration();\n\t};\n\t\n\tvjs.SeekBar.prototype.onMouseDown = function(event){\n\t  vjs.Slider.prototype.onMouseDown.call(this, event);\n\t\n\t  this.player_.scrubbing = true;\n\t  this.player_.addClass('vjs-scrubbing');\n\t\n\t  this.videoWasPlaying = !this.player_.paused();\n\t  this.player_.pause();\n\t};\n\t\n\tvjs.SeekBar.prototype.onMouseMove = function(event){\n\t  var newTime = this.calculateDistance(event) * this.player_.duration();\n\t\n\t  // Don't let video end while scrubbing.\n\t  if (newTime == this.player_.duration()) { newTime = newTime - 0.1; }\n\t\n\t  // Set new time (tell player to seek to new time)\n\t  this.player_.currentTime(newTime);\n\t};\n\t\n\tvjs.SeekBar.prototype.onMouseUp = function(event){\n\t  vjs.Slider.prototype.onMouseUp.call(this, event);\n\t\n\t  this.player_.scrubbing = false;\n\t  this.player_.removeClass('vjs-scrubbing');\n\t  if (this.videoWasPlaying) {\n\t    this.player_.play();\n\t  }\n\t};\n\t\n\tvjs.SeekBar.prototype.stepForward = function(){\n\t  this.player_.currentTime(this.player_.currentTime() + 5); // more quickly fast forward for keyboard-only users\n\t};\n\t\n\tvjs.SeekBar.prototype.stepBack = function(){\n\t  this.player_.currentTime(this.player_.currentTime() - 5); // more quickly rewind for keyboard-only users\n\t};\n\t\n\t/**\n\t * Shows load progress\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.LoadProgressBar = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t    this.on(player, 'progress', this.update);\n\t  }\n\t});\n\t\n\tvjs.LoadProgressBar.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-load-progress',\n\t    innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Loaded') + '</span>: 0%</span>'\n\t  });\n\t};\n\t\n\tvjs.LoadProgressBar.prototype.update = function(){\n\t  var i, start, end, part,\n\t      buffered = this.player_.buffered(),\n\t      duration = this.player_.duration(),\n\t      bufferedEnd = this.player_.bufferedEnd(),\n\t      children = this.el_.children,\n\t      // get the percent width of a time compared to the total end\n\t      percentify = function (time, end){\n\t        var percent = (time / end) || 0; // no NaN\n\t        return (percent * 100) + '%';\n\t      };\n\t\n\t  // update the width of the progress bar\n\t  this.el_.style.width = percentify(bufferedEnd, duration);\n\t\n\t  // add child elements to represent the individual buffered time ranges\n\t  for (i = 0; i < buffered.length; i++) {\n\t    start = buffered.start(i),\n\t    end = buffered.end(i),\n\t    part = children[i];\n\t\n\t    if (!part) {\n\t      part = this.el_.appendChild(vjs.createEl());\n\t    }\n\t\n\t    // set the percent based on the width of the progress bar (bufferedEnd)\n\t    part.style.left = percentify(start, bufferedEnd);\n\t    part.style.width = percentify(end - start, bufferedEnd);\n\t  }\n\t\n\t  // remove unused buffered range elements\n\t  for (i = children.length; i > buffered.length; i--) {\n\t    this.el_.removeChild(children[i-1]);\n\t  }\n\t};\n\t\n\t/**\n\t * Shows play progress\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.PlayProgressBar = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t  }\n\t});\n\t\n\tvjs.PlayProgressBar.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-play-progress',\n\t    innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Progress') + '</span>: 0%</span>'\n\t  });\n\t};\n\t\n\t/**\n\t * The Seek Handle shows the current position of the playhead during playback,\n\t * and can be dragged to adjust the playhead.\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.SeekHandle = vjs.SliderHandle.extend({\n\t  init: function(player, options) {\n\t    vjs.SliderHandle.call(this, player, options);\n\t    this.on(player, 'timeupdate', this.updateContent);\n\t  }\n\t});\n\t\n\t/**\n\t * The default value for the handle content, which may be read by screen readers\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tvjs.SeekHandle.prototype.defaultValue = '00:00';\n\t\n\t/** @inheritDoc */\n\tvjs.SeekHandle.prototype.createEl = function() {\n\t  return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-seek-handle',\n\t    'aria-live': 'off'\n\t  });\n\t};\n\t\n\tvjs.SeekHandle.prototype.updateContent = function() {\n\t  var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n\t  this.el_.innerHTML = '<span class=\"vjs-control-text\">' + vjs.formatTime(time, this.player_.duration()) + '</span>';\n\t};\n\t/**\n\t * The component for controlling the volume level\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.VolumeControl = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    // hide volume controls when they're not supported by the current tech\n\t    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n\t      this.addClass('vjs-hidden');\n\t    }\n\t    this.on(player, 'loadstart', function(){\n\t      if (player.tech['featuresVolumeControl'] === false) {\n\t        this.addClass('vjs-hidden');\n\t      } else {\n\t        this.removeClass('vjs-hidden');\n\t      }\n\t    });\n\t  }\n\t});\n\t\n\tvjs.VolumeControl.prototype.options_ = {\n\t  children: {\n\t    'volumeBar': {}\n\t  }\n\t};\n\t\n\tvjs.VolumeControl.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-volume-control vjs-control'\n\t  });\n\t};\n\t\n\t/**\n\t * The bar that contains the volume level and can be clicked on to adjust the level\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.VolumeBar = vjs.Slider.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Slider.call(this, player, options);\n\t    this.on(player, 'volumechange', this.updateARIAAttributes);\n\t    player.ready(vjs.bind(this, this.updateARIAAttributes));\n\t  }\n\t});\n\t\n\tvjs.VolumeBar.prototype.updateARIAAttributes = function(){\n\t  // Current value of volume bar as a percentage\n\t  this.el_.setAttribute('aria-valuenow',vjs.round(this.player_.volume()*100, 2));\n\t  this.el_.setAttribute('aria-valuetext',vjs.round(this.player_.volume()*100, 2)+'%');\n\t};\n\t\n\tvjs.VolumeBar.prototype.options_ = {\n\t  children: {\n\t    'volumeLevel': {},\n\t    'volumeHandle': {}\n\t  },\n\t  'barName': 'volumeLevel',\n\t  'handleName': 'volumeHandle'\n\t};\n\t\n\tvjs.VolumeBar.prototype.playerEvent = 'volumechange';\n\t\n\tvjs.VolumeBar.prototype.createEl = function(){\n\t  return vjs.Slider.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-volume-bar',\n\t    'aria-label': 'volume level'\n\t  });\n\t};\n\t\n\tvjs.VolumeBar.prototype.onMouseMove = function(event) {\n\t  if (this.player_.muted()) {\n\t    this.player_.muted(false);\n\t  }\n\t\n\t  this.player_.volume(this.calculateDistance(event));\n\t};\n\t\n\tvjs.VolumeBar.prototype.getPercent = function(){\n\t  if (this.player_.muted()) {\n\t    return 0;\n\t  } else {\n\t    return this.player_.volume();\n\t  }\n\t};\n\t\n\tvjs.VolumeBar.prototype.stepForward = function(){\n\t  this.player_.volume(this.player_.volume() + 0.1);\n\t};\n\t\n\tvjs.VolumeBar.prototype.stepBack = function(){\n\t  this.player_.volume(this.player_.volume() - 0.1);\n\t};\n\t\n\t/**\n\t * Shows volume level\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.VolumeLevel = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t  }\n\t});\n\t\n\tvjs.VolumeLevel.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-volume-level',\n\t    innerHTML: '<span class=\"vjs-control-text\"></span>'\n\t  });\n\t};\n\t\n\t/**\n\t * The volume handle can be dragged to adjust the volume level\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\t vjs.VolumeHandle = vjs.SliderHandle.extend();\n\t\n\t vjs.VolumeHandle.prototype.defaultValue = '00:00';\n\t\n\t /** @inheritDoc */\n\t vjs.VolumeHandle.prototype.createEl = function(){\n\t   return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n\t     className: 'vjs-volume-handle'\n\t   });\n\t };\n\t/**\n\t * A button component for muting the audio\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.MuteToggle = vjs.Button.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Button.call(this, player, options);\n\t\n\t    this.on(player, 'volumechange', this.update);\n\t\n\t    // hide mute toggle if the current tech doesn't support volume control\n\t    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n\t      this.addClass('vjs-hidden');\n\t    }\n\t\n\t    this.on(player, 'loadstart', function(){\n\t      if (player.tech['featuresVolumeControl'] === false) {\n\t        this.addClass('vjs-hidden');\n\t      } else {\n\t        this.removeClass('vjs-hidden');\n\t      }\n\t    });\n\t  }\n\t});\n\t\n\tvjs.MuteToggle.prototype.createEl = function(){\n\t  return vjs.Button.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-mute-control vjs-control',\n\t    innerHTML: '<div><span class=\"vjs-control-text\">' + this.localize('Mute') + '</span></div>'\n\t  });\n\t};\n\t\n\tvjs.MuteToggle.prototype.onClick = function(){\n\t  this.player_.muted( this.player_.muted() ? false : true );\n\t};\n\t\n\tvjs.MuteToggle.prototype.update = function(){\n\t  var vol = this.player_.volume(),\n\t      level = 3;\n\t\n\t  if (vol === 0 || this.player_.muted()) {\n\t    level = 0;\n\t  } else if (vol < 0.33) {\n\t    level = 1;\n\t  } else if (vol < 0.67) {\n\t    level = 2;\n\t  }\n\t\n\t  // Don't rewrite the button text if the actual text doesn't change.\n\t  // This causes unnecessary and confusing information for screen reader users.\n\t  // This check is needed because this function gets called every time the volume level is changed.\n\t  if(this.player_.muted()){\n\t      if(this.el_.children[0].children[0].innerHTML!=this.localize('Unmute')){\n\t          this.el_.children[0].children[0].innerHTML = this.localize('Unmute'); // change the button text to \"Unmute\"\n\t      }\n\t  } else {\n\t      if(this.el_.children[0].children[0].innerHTML!=this.localize('Mute')){\n\t          this.el_.children[0].children[0].innerHTML = this.localize('Mute'); // change the button text to \"Mute\"\n\t      }\n\t  }\n\t\n\t  /* TODO improve muted icon classes */\n\t  for (var i = 0; i < 4; i++) {\n\t    vjs.removeClass(this.el_, 'vjs-vol-'+i);\n\t  }\n\t  vjs.addClass(this.el_, 'vjs-vol-'+level);\n\t};\n\t/**\n\t * Menu button with a popup for showing the volume slider.\n\t * @constructor\n\t */\n\tvjs.VolumeMenuButton = vjs.MenuButton.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.MenuButton.call(this, player, options);\n\t\n\t    // Same listeners as MuteToggle\n\t    this.on(player, 'volumechange', this.volumeUpdate);\n\t\n\t    // hide mute toggle if the current tech doesn't support volume control\n\t    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n\t      this.addClass('vjs-hidden');\n\t    }\n\t    this.on(player, 'loadstart', function(){\n\t      if (player.tech['featuresVolumeControl'] === false) {\n\t        this.addClass('vjs-hidden');\n\t      } else {\n\t        this.removeClass('vjs-hidden');\n\t      }\n\t    });\n\t    this.addClass('vjs-menu-button');\n\t  }\n\t});\n\t\n\tvjs.VolumeMenuButton.prototype.createMenu = function(){\n\t  var menu = new vjs.Menu(this.player_, {\n\t    contentElType: 'div'\n\t  });\n\t  var vc = new vjs.VolumeBar(this.player_, this.options_['volumeBar']);\n\t  vc.on('focus', function() {\n\t    menu.lockShowing();\n\t  });\n\t  vc.on('blur', function() {\n\t    menu.unlockShowing();\n\t  });\n\t  menu.addChild(vc);\n\t  return menu;\n\t};\n\t\n\tvjs.VolumeMenuButton.prototype.onClick = function(){\n\t  vjs.MuteToggle.prototype.onClick.call(this);\n\t  vjs.MenuButton.prototype.onClick.call(this);\n\t};\n\t\n\tvjs.VolumeMenuButton.prototype.createEl = function(){\n\t  return vjs.Button.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-volume-menu-button vjs-menu-button vjs-control',\n\t    innerHTML: '<div><span class=\"vjs-control-text\">' + this.localize('Mute') + '</span></div>'\n\t  });\n\t};\n\tvjs.VolumeMenuButton.prototype.volumeUpdate = vjs.MuteToggle.prototype.update;\n\t/**\n\t * The component for controlling the playback rate\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.PlaybackRateMenuButton = vjs.MenuButton.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.MenuButton.call(this, player, options);\n\t\n\t    this.updateVisibility();\n\t    this.updateLabel();\n\t\n\t    this.on(player, 'loadstart', this.updateVisibility);\n\t    this.on(player, 'ratechange', this.updateLabel);\n\t  }\n\t});\n\t\n\tvjs.PlaybackRateMenuButton.prototype.buttonText = 'Playback Rate';\n\tvjs.PlaybackRateMenuButton.prototype.className = 'vjs-playback-rate';\n\t\n\tvjs.PlaybackRateMenuButton.prototype.createEl = function(){\n\t  var el = vjs.MenuButton.prototype.createEl.call(this);\n\t\n\t  this.labelEl_ = vjs.createEl('div', {\n\t    className: 'vjs-playback-rate-value',\n\t    innerHTML: 1.0\n\t  });\n\t\n\t  el.appendChild(this.labelEl_);\n\t\n\t  return el;\n\t};\n\t\n\t// Menu creation\n\tvjs.PlaybackRateMenuButton.prototype.createMenu = function(){\n\t  var menu = new vjs.Menu(this.player());\n\t  var rates = this.player().options()['playbackRates'];\n\t\n\t  if (rates) {\n\t    for (var i = rates.length - 1; i >= 0; i--) {\n\t      menu.addChild(\n\t        new vjs.PlaybackRateMenuItem(this.player(), { 'rate': rates[i] + 'x'})\n\t        );\n\t    }\n\t  }\n\t\n\t  return menu;\n\t};\n\t\n\tvjs.PlaybackRateMenuButton.prototype.updateARIAAttributes = function(){\n\t  // Current playback rate\n\t  this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n\t};\n\t\n\tvjs.PlaybackRateMenuButton.prototype.onClick = function(){\n\t  // select next rate option\n\t  var currentRate = this.player().playbackRate();\n\t  var rates = this.player().options()['playbackRates'];\n\t  // this will select first one if the last one currently selected\n\t  var newRate = rates[0];\n\t  for (var i = 0; i <rates.length ; i++) {\n\t    if (rates[i] > currentRate) {\n\t      newRate = rates[i];\n\t      break;\n\t    }\n\t  }\n\t  this.player().playbackRate(newRate);\n\t};\n\t\n\tvjs.PlaybackRateMenuButton.prototype.playbackRateSupported = function(){\n\t  return this.player().tech\n\t    && this.player().tech['featuresPlaybackRate']\n\t    && this.player().options()['playbackRates']\n\t    && this.player().options()['playbackRates'].length > 0\n\t  ;\n\t};\n\t\n\t/**\n\t * Hide playback rate controls when they're no playback rate options to select\n\t */\n\tvjs.PlaybackRateMenuButton.prototype.updateVisibility = function(){\n\t  if (this.playbackRateSupported()) {\n\t    this.removeClass('vjs-hidden');\n\t  } else {\n\t    this.addClass('vjs-hidden');\n\t  }\n\t};\n\t\n\t/**\n\t * Update button label when rate changed\n\t */\n\tvjs.PlaybackRateMenuButton.prototype.updateLabel = function(){\n\t  if (this.playbackRateSupported()) {\n\t    this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n\t  }\n\t};\n\t\n\t/**\n\t * The specific menu item type for selecting a playback rate\n\t *\n\t * @constructor\n\t */\n\tvjs.PlaybackRateMenuItem = vjs.MenuItem.extend({\n\t  contentElType: 'button',\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    var label = this.label = options['rate'];\n\t    var rate = this.rate = parseFloat(label, 10);\n\t\n\t    // Modify options for parent MenuItem class's init.\n\t    options['label'] = label;\n\t    options['selected'] = rate === 1;\n\t    vjs.MenuItem.call(this, player, options);\n\t\n\t    this.on(player, 'ratechange', this.update);\n\t  }\n\t});\n\t\n\tvjs.PlaybackRateMenuItem.prototype.onClick = function(){\n\t  vjs.MenuItem.prototype.onClick.call(this);\n\t  this.player().playbackRate(this.rate);\n\t};\n\t\n\tvjs.PlaybackRateMenuItem.prototype.update = function(){\n\t  this.selected(this.player().playbackRate() == this.rate);\n\t};\n\t/* Poster Image\n\t================================================================================ */\n\t/**\n\t * The component that handles showing the poster image.\n\t *\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.PosterImage = vjs.Button.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Button.call(this, player, options);\n\t\n\t    this.update();\n\t    player.on('posterchange', vjs.bind(this, this.update));\n\t  }\n\t});\n\t\n\t/**\n\t * Clean up the poster image\n\t */\n\tvjs.PosterImage.prototype.dispose = function(){\n\t  this.player().off('posterchange', this.update);\n\t  vjs.Button.prototype.dispose.call(this);\n\t};\n\t\n\t/**\n\t * Create the poster image element\n\t * @return {Element}\n\t */\n\tvjs.PosterImage.prototype.createEl = function(){\n\t  var el = vjs.createEl('div', {\n\t    className: 'vjs-poster',\n\t\n\t    // Don't want poster to be tabbable.\n\t    tabIndex: -1\n\t  });\n\t\n\t  // To ensure the poster image resizes while maintaining its original aspect\n\t  // ratio, use a div with `background-size` when available. For browsers that\n\t  // do not support `background-size` (e.g. IE8), fall back on using a regular\n\t  // img element.\n\t  if (!vjs.BACKGROUND_SIZE_SUPPORTED) {\n\t    this.fallbackImg_ = vjs.createEl('img');\n\t    el.appendChild(this.fallbackImg_);\n\t  }\n\t\n\t  return el;\n\t};\n\t\n\t/**\n\t * Event handler for updates to the player's poster source\n\t */\n\tvjs.PosterImage.prototype.update = function(){\n\t  var url = this.player().poster();\n\t\n\t  this.setSrc(url);\n\t\n\t  // If there's no poster source we should display:none on this component\n\t  // so it's not still clickable or right-clickable\n\t  if (url) {\n\t    this.show();\n\t  } else {\n\t    this.hide();\n\t  }\n\t};\n\t\n\t/**\n\t * Set the poster source depending on the display method\n\t */\n\tvjs.PosterImage.prototype.setSrc = function(url){\n\t  var backgroundImage;\n\t\n\t  if (this.fallbackImg_) {\n\t    this.fallbackImg_.src = url;\n\t  } else {\n\t    backgroundImage = '';\n\t    // Any falsey values should stay as an empty string, otherwise\n\t    // this will throw an extra error\n\t    if (url) {\n\t      backgroundImage = 'url(\"' + url + '\")';\n\t    }\n\t\n\t    this.el_.style.backgroundImage = backgroundImage;\n\t  }\n\t};\n\t\n\t/**\n\t * Event handler for clicks on the poster image\n\t */\n\tvjs.PosterImage.prototype.onClick = function(){\n\t  // We don't want a click to trigger playback when controls are disabled\n\t  // but CSS should be hiding the poster to prevent that from happening\n\t  this.player_.play();\n\t};\n\t/* Loading Spinner\n\t================================================================================ */\n\t/**\n\t * Loading spinner for waiting events\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t */\n\tvjs.LoadingSpinner = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    // MOVING DISPLAY HANDLING TO CSS\n\t\n\t    // player.on('canplay', vjs.bind(this, this.hide));\n\t    // player.on('canplaythrough', vjs.bind(this, this.hide));\n\t    // player.on('playing', vjs.bind(this, this.hide));\n\t    // player.on('seeking', vjs.bind(this, this.show));\n\t\n\t    // in some browsers seeking does not trigger the 'playing' event,\n\t    // so we also need to trap 'seeked' if we are going to set a\n\t    // 'seeking' event\n\t    // player.on('seeked', vjs.bind(this, this.hide));\n\t\n\t    // player.on('ended', vjs.bind(this, this.hide));\n\t\n\t    // Not showing spinner on stalled any more. Browsers may stall and then not trigger any events that would remove the spinner.\n\t    // Checked in Chrome 16 and Safari 5.1.2. http://help.videojs.com/discussions/problems/883-why-is-the-download-progress-showing\n\t    // player.on('stalled', vjs.bind(this, this.show));\n\t\n\t    // player.on('waiting', vjs.bind(this, this.show));\n\t  }\n\t});\n\t\n\tvjs.LoadingSpinner.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-loading-spinner'\n\t  });\n\t};\n\t/* Big Play Button\n\t================================================================================ */\n\t/**\n\t * Initial play button. Shows before the video has played. The hiding of the\n\t * big play button is done via CSS and player states.\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @class\n\t * @constructor\n\t */\n\tvjs.BigPlayButton = vjs.Button.extend();\n\t\n\tvjs.BigPlayButton.prototype.createEl = function(){\n\t  return vjs.Button.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-big-play-button',\n\t    innerHTML: '<span aria-hidden=\"true\"></span>',\n\t    'aria-label': 'play video'\n\t  });\n\t};\n\t\n\tvjs.BigPlayButton.prototype.onClick = function(){\n\t  this.player_.play();\n\t};\n\t/**\n\t * Display that an error has occurred making the video unplayable\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @constructor\n\t */\n\tvjs.ErrorDisplay = vjs.Component.extend({\n\t  init: function(player, options){\n\t    vjs.Component.call(this, player, options);\n\t\n\t    this.update();\n\t    this.on(player, 'error', this.update);\n\t  }\n\t});\n\t\n\tvjs.ErrorDisplay.prototype.createEl = function(){\n\t  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-error-display'\n\t  });\n\t\n\t  this.contentEl_ = vjs.createEl('div');\n\t  el.appendChild(this.contentEl_);\n\t\n\t  return el;\n\t};\n\t\n\tvjs.ErrorDisplay.prototype.update = function(){\n\t  if (this.player().error()) {\n\t    this.contentEl_.innerHTML = this.localize(this.player().error().message);\n\t  }\n\t};\n\t(function() {\n\t  var createTrackHelper;\n\t/**\n\t * @fileoverview Media Technology Controller - Base class for media playback\n\t * technology controllers like Flash and HTML5\n\t */\n\t\n\t/**\n\t * Base class for media (HTML5 Video, Flash) controllers\n\t * @param {vjs.Player|Object} player  Central player instance\n\t * @param {Object=} options Options object\n\t * @constructor\n\t */\n\tvjs.MediaTechController = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    options = options || {};\n\t    // we don't want the tech to report user activity automatically.\n\t    // This is done manually in addControlsListeners\n\t    options.reportTouchActivity = false;\n\t    vjs.Component.call(this, player, options, ready);\n\t\n\t    // Manually track progress in cases where the browser/flash player doesn't report it.\n\t    if (!this['featuresProgressEvents']) {\n\t      this.manualProgressOn();\n\t    }\n\t\n\t    // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n\t    if (!this['featuresTimeupdateEvents']) {\n\t      this.manualTimeUpdatesOn();\n\t    }\n\t\n\t    this.initControlsListeners();\n\t\n\t    if (!this['featuresNativeTextTracks']) {\n\t      this.emulateTextTracks();\n\t    }\n\t\n\t    this.initTextTrackListeners();\n\t  }\n\t});\n\t\n\t/**\n\t * Set up click and touch listeners for the playback element\n\t * On desktops, a click on the video itself will toggle playback,\n\t * on a mobile device a click on the video toggles controls.\n\t * (toggling controls is done by toggling the user state between active and\n\t * inactive)\n\t *\n\t * A tap can signal that a user has become active, or has become inactive\n\t * e.g. a quick tap on an iPhone movie should reveal the controls. Another\n\t * quick tap should hide them again (signaling the user is in an inactive\n\t * viewing state)\n\t *\n\t * In addition to this, we still want the user to be considered inactive after\n\t * a few seconds of inactivity.\n\t *\n\t * Note: the only part of iOS interaction we can't mimic with this setup\n\t * is a touch and hold on the video element counting as activity in order to\n\t * keep the controls showing, but that shouldn't be an issue. A touch and hold on\n\t * any controls will still keep the user active\n\t */\n\tvjs.MediaTechController.prototype.initControlsListeners = function(){\n\t  var player, activateControls;\n\t\n\t  player = this.player();\n\t\n\t  activateControls = function(){\n\t    if (player.controls() && !player.usingNativeControls()) {\n\t      this.addControlsListeners();\n\t    }\n\t  };\n\t\n\t  // Set up event listeners once the tech is ready and has an element to apply\n\t  // listeners to\n\t  this.ready(activateControls);\n\t  this.on(player, 'controlsenabled', activateControls);\n\t  this.on(player, 'controlsdisabled', this.removeControlsListeners);\n\t\n\t  // if we're loading the playback object after it has started loading or playing the\n\t  // video (often with autoplay on) then the loadstart event has already fired and we\n\t  // need to fire it manually because many things rely on it.\n\t  // Long term we might consider how we would do this for other events like 'canplay'\n\t  // that may also have fired.\n\t  this.ready(function(){\n\t    if (this.networkState && this.networkState() > 0) {\n\t      this.player().trigger('loadstart');\n\t    }\n\t  });\n\t};\n\t\n\tvjs.MediaTechController.prototype.addControlsListeners = function(){\n\t  var userWasActive;\n\t\n\t  // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n\t  // trigger mousedown/up.\n\t  // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n\t  // Any touch events are set to block the mousedown event from happening\n\t  this.on('mousedown', this.onClick);\n\t\n\t  // If the controls were hidden we don't want that to change without a tap event\n\t  // so we'll check if the controls were already showing before reporting user\n\t  // activity\n\t  this.on('touchstart', function(event) {\n\t    userWasActive = this.player_.userActive();\n\t  });\n\t\n\t  this.on('touchmove', function(event) {\n\t    if (userWasActive){\n\t      this.player().reportUserActivity();\n\t    }\n\t  });\n\t\n\t  this.on('touchend', function(event) {\n\t    // Stop the mouse events from also happening\n\t    event.preventDefault();\n\t  });\n\t\n\t  // Turn on component tap events\n\t  this.emitTapEvents();\n\t\n\t  // The tap listener needs to come after the touchend listener because the tap\n\t  // listener cancels out any reportedUserActivity when setting userActive(false)\n\t  this.on('tap', this.onTap);\n\t};\n\t\n\t/**\n\t * Remove the listeners used for click and tap controls. This is needed for\n\t * toggling to controls disabled, where a tap/touch should do nothing.\n\t */\n\tvjs.MediaTechController.prototype.removeControlsListeners = function(){\n\t  // We don't want to just use `this.off()` because there might be other needed\n\t  // listeners added by techs that extend this.\n\t  this.off('tap');\n\t  this.off('touchstart');\n\t  this.off('touchmove');\n\t  this.off('touchleave');\n\t  this.off('touchcancel');\n\t  this.off('touchend');\n\t  this.off('click');\n\t  this.off('mousedown');\n\t};\n\t\n\t/**\n\t * Handle a click on the media element. By default will play/pause the media.\n\t */\n\tvjs.MediaTechController.prototype.onClick = function(event){\n\t  // We're using mousedown to detect clicks thanks to Flash, but mousedown\n\t  // will also be triggered with right-clicks, so we need to prevent that\n\t  if (event.button !== 0) return;\n\t\n\t  // When controls are disabled a click should not toggle playback because\n\t  // the click is considered a control\n\t  if (this.player().controls()) {\n\t    if (this.player().paused()) {\n\t      this.player().play();\n\t    } else {\n\t      this.player().pause();\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Handle a tap on the media element. By default it will toggle the user\n\t * activity state, which hides and shows the controls.\n\t */\n\tvjs.MediaTechController.prototype.onTap = function(){\n\t  this.player().userActive(!this.player().userActive());\n\t};\n\t\n\t/* Fallbacks for unsupported event types\n\t================================================================================ */\n\t// Manually trigger progress events based on changes to the buffered amount\n\t// Many flash players and older HTML5 browsers don't send progress or progress-like events\n\tvjs.MediaTechController.prototype.manualProgressOn = function(){\n\t  this.manualProgress = true;\n\t\n\t  // Trigger progress watching when a source begins loading\n\t  this.trackProgress();\n\t};\n\t\n\tvjs.MediaTechController.prototype.manualProgressOff = function(){\n\t  this.manualProgress = false;\n\t  this.stopTrackingProgress();\n\t};\n\t\n\tvjs.MediaTechController.prototype.trackProgress = function(){\n\t  this.progressInterval = this.setInterval(function(){\n\t    // Don't trigger unless buffered amount is greater than last time\n\t\n\t    var bufferedPercent = this.player().bufferedPercent();\n\t\n\t    if (this.bufferedPercent_ != bufferedPercent) {\n\t      this.player().trigger('progress');\n\t    }\n\t\n\t    this.bufferedPercent_ = bufferedPercent;\n\t\n\t    if (bufferedPercent === 1) {\n\t      this.stopTrackingProgress();\n\t    }\n\t  }, 500);\n\t};\n\tvjs.MediaTechController.prototype.stopTrackingProgress = function(){ this.clearInterval(this.progressInterval); };\n\t\n\t/*! Time Tracking -------------------------------------------------------------- */\n\tvjs.MediaTechController.prototype.manualTimeUpdatesOn = function(){\n\t  var player = this.player_;\n\t\n\t  this.manualTimeUpdates = true;\n\t\n\t  this.on(player, 'play', this.trackCurrentTime);\n\t  this.on(player, 'pause', this.stopTrackingCurrentTime);\n\t  // timeupdate is also called by .currentTime whenever current time is set\n\t\n\t  // Watch for native timeupdate event\n\t  this.one('timeupdate', function(){\n\t    // Update known progress support for this playback technology\n\t    this['featuresTimeupdateEvents'] = true;\n\t    // Turn off manual progress tracking\n\t    this.manualTimeUpdatesOff();\n\t  });\n\t};\n\t\n\tvjs.MediaTechController.prototype.manualTimeUpdatesOff = function(){\n\t  var player = this.player_;\n\t\n\t  this.manualTimeUpdates = false;\n\t  this.stopTrackingCurrentTime();\n\t  this.off(player, 'play', this.trackCurrentTime);\n\t  this.off(player, 'pause', this.stopTrackingCurrentTime);\n\t};\n\t\n\tvjs.MediaTechController.prototype.trackCurrentTime = function(){\n\t  if (this.currentTimeInterval) { this.stopTrackingCurrentTime(); }\n\t  this.currentTimeInterval = this.setInterval(function(){\n\t    this.player().trigger('timeupdate');\n\t  }, 250); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n\t};\n\t\n\t// Turn off play progress tracking (when paused or dragging)\n\tvjs.MediaTechController.prototype.stopTrackingCurrentTime = function(){\n\t  this.clearInterval(this.currentTimeInterval);\n\t\n\t  // #1002 - if the video ends right before the next timeupdate would happen,\n\t  // the progress bar won't make it all the way to the end\n\t  this.player().trigger('timeupdate');\n\t};\n\t\n\tvjs.MediaTechController.prototype.dispose = function() {\n\t  // Turn off any manual progress or timeupdate tracking\n\t  if (this.manualProgress) { this.manualProgressOff(); }\n\t\n\t  if (this.manualTimeUpdates) { this.manualTimeUpdatesOff(); }\n\t\n\t  vjs.Component.prototype.dispose.call(this);\n\t};\n\t\n\tvjs.MediaTechController.prototype.setCurrentTime = function() {\n\t  // improve the accuracy of manual timeupdates\n\t  if (this.manualTimeUpdates) { this.player().trigger('timeupdate'); }\n\t};\n\t\n\t// TODO: Consider looking at moving this into the text track display directly\n\t// https://github.com/videojs/video.js/issues/1863\n\tvjs.MediaTechController.prototype.initTextTrackListeners = function() {\n\t  var player = this.player_,\n\t      tracks,\n\t      textTrackListChanges = function() {\n\t        var textTrackDisplay = player.getChild('textTrackDisplay'),\n\t            controlBar;\n\t\n\t        if (textTrackDisplay) {\n\t          textTrackDisplay.updateDisplay();\n\t        }\n\t      };\n\t\n\t  tracks = this.textTracks();\n\t\n\t  if (!tracks) {\n\t    return;\n\t  }\n\t\n\t  tracks.addEventListener('removetrack', textTrackListChanges);\n\t  tracks.addEventListener('addtrack', textTrackListChanges);\n\t\n\t  this.on('dispose', vjs.bind(this, function() {\n\t    tracks.removeEventListener('removetrack', textTrackListChanges);\n\t    tracks.removeEventListener('addtrack', textTrackListChanges);\n\t  }));\n\t};\n\t\n\tvjs.MediaTechController.prototype.emulateTextTracks = function() {\n\t  var player = this.player_,\n\t      textTracksChanges,\n\t      tracks,\n\t      script;\n\t\n\t  if (!window['WebVTT']) {\n\t    script = document.createElement('script');\n\t    script.src = player.options()['vtt.js'] || '../node_modules/vtt.js/dist/vtt.js';\n\t    player.el().appendChild(script);\n\t    window['WebVTT'] = true;\n\t  }\n\t\n\t  tracks = this.textTracks();\n\t  if (!tracks) {\n\t    return;\n\t  }\n\t\n\t  textTracksChanges = function() {\n\t    var i, track, textTrackDisplay;\n\t\n\t    textTrackDisplay = player.getChild('textTrackDisplay'),\n\t\n\t    textTrackDisplay.updateDisplay();\n\t\n\t    for (i = 0; i < this.length; i++) {\n\t      track = this[i];\n\t      track.removeEventListener('cuechange', vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay));\n\t      if (track.mode === 'showing') {\n\t        track.addEventListener('cuechange', vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay));\n\t      }\n\t    }\n\t  };\n\t\n\t  tracks.addEventListener('change', textTracksChanges);\n\t\n\t  this.on('dispose', vjs.bind(this, function() {\n\t    tracks.removeEventListener('change', textTracksChanges);\n\t  }));\n\t};\n\t\n\t/**\n\t * Provide default methods for text tracks.\n\t *\n\t * Html5 tech overrides these.\n\t */\n\t\n\t/**\n\t * List of associated text tracks\n\t * @type {Array}\n\t * @private\n\t */\n\tvjs.MediaTechController.prototype.textTracks_;\n\t\n\tvjs.MediaTechController.prototype.textTracks = function() {\n\t  this.player_.textTracks_ = this.player_.textTracks_ || new vjs.TextTrackList();\n\t  return this.player_.textTracks_;\n\t};\n\t\n\tvjs.MediaTechController.prototype.remoteTextTracks = function() {\n\t  this.player_.remoteTextTracks_ = this.player_.remoteTextTracks_ || new vjs.TextTrackList();\n\t  return this.player_.remoteTextTracks_;\n\t};\n\t\n\tcreateTrackHelper = function(self, kind, label, language, options) {\n\t  var tracks = self.textTracks(),\n\t      track;\n\t\n\t  options = options || {};\n\t\n\t  options['kind'] = kind;\n\t  if (label) {\n\t    options['label'] = label;\n\t  }\n\t  if (language) {\n\t    options['language'] = language;\n\t  }\n\t  options['player'] = self.player_;\n\t\n\t  track = new vjs.TextTrack(options);\n\t  tracks.addTrack_(track);\n\t\n\t  return track;\n\t};\n\t\n\tvjs.MediaTechController.prototype.addTextTrack = function(kind, label, language) {\n\t  if (!kind) {\n\t    throw new Error('TextTrack kind is required but was not provided');\n\t  }\n\t\n\t  return createTrackHelper(this, kind, label, language);\n\t};\n\t\n\tvjs.MediaTechController.prototype.addRemoteTextTrack = function(options) {\n\t  var track = createTrackHelper(this, options['kind'], options['label'], options['language'], options);\n\t  this.remoteTextTracks().addTrack_(track);\n\t  return {\n\t    track: track\n\t  };\n\t};\n\t\n\tvjs.MediaTechController.prototype.removeRemoteTextTrack = function(track) {\n\t  this.textTracks().removeTrack_(track);\n\t  this.remoteTextTracks().removeTrack_(track);\n\t};\n\t\n\t/**\n\t * Provide a default setPoster method for techs\n\t *\n\t * Poster support for techs should be optional, so we don't want techs to\n\t * break if they don't have a way to set a poster.\n\t */\n\tvjs.MediaTechController.prototype.setPoster = function(){};\n\t\n\tvjs.MediaTechController.prototype['featuresVolumeControl'] = true;\n\t\n\t// Resizing plugins using request fullscreen reloads the plugin\n\tvjs.MediaTechController.prototype['featuresFullscreenResize'] = false;\n\tvjs.MediaTechController.prototype['featuresPlaybackRate'] = false;\n\t\n\t// Optional events that we can manually mimic with timers\n\t// currently not triggered by video-js-swf\n\tvjs.MediaTechController.prototype['featuresProgressEvents'] = false;\n\tvjs.MediaTechController.prototype['featuresTimeupdateEvents'] = false;\n\t\n\tvjs.MediaTechController.prototype['featuresNativeTextTracks'] = false;\n\t\n\t/**\n\t * A functional mixin for techs that want to use the Source Handler pattern.\n\t *\n\t * ##### EXAMPLE:\n\t *\n\t *   videojs.MediaTechController.withSourceHandlers.call(MyTech);\n\t *\n\t */\n\tvjs.MediaTechController.withSourceHandlers = function(Tech){\n\t  /**\n\t   * Register a source handler\n\t   * Source handlers are scripts for handling specific formats.\n\t   * The source handler pattern is used for adaptive formats (HLS, DASH) that\n\t   * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n\t   * @param  {Function} handler  The source handler\n\t   * @param  {Boolean}  first    Register it before any existing handlers\n\t   */\n\t  Tech['registerSourceHandler'] = function(handler, index){\n\t    var handlers = Tech.sourceHandlers;\n\t\n\t    if (!handlers) {\n\t      handlers = Tech.sourceHandlers = [];\n\t    }\n\t\n\t    if (index === undefined) {\n\t      // add to the end of the list\n\t      index = handlers.length;\n\t    }\n\t\n\t    handlers.splice(index, 0, handler);\n\t  };\n\t\n\t  /**\n\t   * Return the first source handler that supports the source\n\t   * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n\t   * @param  {Object} source The source object\n\t   * @returns {Object}       The first source handler that supports the source\n\t   * @returns {null}         Null if no source handler is found\n\t   */\n\t  Tech.selectSourceHandler = function(source){\n\t    var handlers = Tech.sourceHandlers || [],\n\t        can;\n\t\n\t    for (var i = 0; i < handlers.length; i++) {\n\t      can = handlers[i]['canHandleSource'](source);\n\t\n\t      if (can) {\n\t        return handlers[i];\n\t      }\n\t    }\n\t\n\t    return null;\n\t  };\n\t\n\t  /**\n\t  * Check if the tech can support the given source\n\t  * @param  {Object} srcObj  The source object\n\t  * @return {String}         'probably', 'maybe', or '' (empty string)\n\t  */\n\t  Tech.canPlaySource = function(srcObj){\n\t    var sh = Tech.selectSourceHandler(srcObj);\n\t\n\t    if (sh) {\n\t      return sh['canHandleSource'](srcObj);\n\t    }\n\t\n\t    return '';\n\t  };\n\t\n\t  /**\n\t   * Create a function for setting the source using a source object\n\t   * and source handlers.\n\t   * Should never be called unless a source handler was found.\n\t   * @param {Object} source  A source object with src and type keys\n\t   * @return {vjs.MediaTechController} self\n\t   */\n\t  Tech.prototype.setSource = function(source){\n\t    var sh = Tech.selectSourceHandler(source);\n\t\n\t    if (!sh) {\n\t      // Fall back to a native source hander when unsupported sources are\n\t      // deliberately set\n\t      if (Tech['nativeSourceHandler']) {\n\t        sh = Tech['nativeSourceHandler'];\n\t      } else {\n\t        vjs.log.error('No source hander found for the current source.');\n\t      }\n\t    }\n\t\n\t    // Dispose any existing source handler\n\t    this.disposeSourceHandler();\n\t    this.off('dispose', this.disposeSourceHandler);\n\t\n\t    this.currentSource_ = source;\n\t    this.sourceHandler_ = sh['handleSource'](source, this);\n\t    this.on('dispose', this.disposeSourceHandler);\n\t\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Clean up any existing source handler\n\t   */\n\t  Tech.prototype.disposeSourceHandler = function(){\n\t    if (this.sourceHandler_ && this.sourceHandler_['dispose']) {\n\t      this.sourceHandler_['dispose']();\n\t    }\n\t  };\n\t\n\t};\n\t\n\tvjs.media = {};\n\t\n\t})();\n\t/**\n\t * @fileoverview HTML5 Media Controller - Wrapper for HTML5 Media API\n\t */\n\t\n\t/**\n\t * HTML5 Media Controller - Wrapper for HTML5 Media API\n\t * @param {vjs.Player|Object} player\n\t * @param {Object=} options\n\t * @param {Function=} ready\n\t * @constructor\n\t */\n\tvjs.Html5 = vjs.MediaTechController.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    var  nodes, nodesLength, i, node, nodeName, removeNodes;\n\t\n\t    if (options['nativeCaptions'] === false || options['nativeTextTracks'] === false) {\n\t      this['featuresNativeTextTracks'] = false;\n\t    }\n\t\n\t    vjs.MediaTechController.call(this, player, options, ready);\n\t\n\t    this.setupTriggers();\n\t\n\t    var source = options['source'];\n\t\n\t    // Set the source if one is provided\n\t    // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n\t    // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n\t    // anyway so the error gets fired.\n\t    if (source && (this.el_.currentSrc !== source.src || (player.tag && player.tag.initNetworkState_ === 3))) {\n\t      this.setSource(source);\n\t    }\n\t\n\t    if (this.el_.hasChildNodes()) {\n\t\n\t      nodes = this.el_.childNodes;\n\t      nodesLength = nodes.length;\n\t      removeNodes = [];\n\t\n\t      while (nodesLength--) {\n\t        node = nodes[nodesLength];\n\t        nodeName = node.nodeName.toLowerCase();\n\t        if (nodeName === 'track') {\n\t          if (!this['featuresNativeTextTracks']) {\n\t            // Empty video tag tracks so the built-in player doesn't use them also.\n\t            // This may not be fast enough to stop HTML5 browsers from reading the tags\n\t            // so we'll need to turn off any default tracks if we're manually doing\n\t            // captions and subtitles. videoElement.textTracks\n\t            removeNodes.push(node);\n\t          } else {\n\t            this.remoteTextTracks().addTrack_(node['track']);\n\t          }\n\t        }\n\t      }\n\t\n\t      for (i=0; i<removeNodes.length; i++) {\n\t        this.el_.removeChild(removeNodes[i]);\n\t      }\n\t    }\n\t\n\t    // Determine if native controls should be used\n\t    // Our goal should be to get the custom controls on mobile solid everywhere\n\t    // so we can remove this all together. Right now this will block custom\n\t    // controls on touch enabled laptops like the Chrome Pixel\n\t    if (vjs.TOUCH_ENABLED && player.options()['nativeControlsForTouch'] === true) {\n\t      this.useNativeControls();\n\t    }\n\t\n\t    // Chrome and Safari both have issues with autoplay.\n\t    // In Safari (5.1.1), when we move the video element into the container div, autoplay doesn't work.\n\t    // In Chrome (15), if you have autoplay + a poster + no controls, the video gets hidden (but audio plays)\n\t    // This fixes both issues. Need to wait for API, so it updates displays correctly\n\t    player.ready(function(){\n\t      if (this.src() && this.tag && this.options_['autoplay'] && this.paused()) {\n\t        delete this.tag['poster']; // Chrome Fix. Fixed in Chrome v16.\n\t        this.play();\n\t      }\n\t    });\n\t\n\t    this.triggerReady();\n\t  }\n\t});\n\t\n\tvjs.Html5.prototype.dispose = function(){\n\t  vjs.Html5.disposeMediaElement(this.el_);\n\t  vjs.MediaTechController.prototype.dispose.call(this);\n\t};\n\t\n\tvjs.Html5.prototype.createEl = function(){\n\t  var player = this.player_,\n\t      track,\n\t      trackEl,\n\t      i,\n\t      // If possible, reuse original tag for HTML5 playback technology element\n\t      el = player.tag,\n\t      attributes,\n\t      newEl,\n\t      clone;\n\t\n\t  // Check if this browser supports moving the element into the box.\n\t  // On the iPhone video will break if you move the element,\n\t  // So we have to create a brand new element.\n\t  if (!el || this['movingMediaElementInDOM'] === false) {\n\t\n\t    // If the original tag is still there, clone and remove it.\n\t    if (el) {\n\t      clone = el.cloneNode(false);\n\t      vjs.Html5.disposeMediaElement(el);\n\t      el = clone;\n\t      player.tag = null;\n\t    } else {\n\t      el = vjs.createEl('video');\n\t\n\t      // determine if native controls should be used\n\t      attributes = videojs.util.mergeOptions({}, player.tagAttributes);\n\t      if (!vjs.TOUCH_ENABLED || player.options()['nativeControlsForTouch'] !== true) {\n\t        delete attributes.controls;\n\t      }\n\t\n\t      vjs.setElementAttributes(el,\n\t        vjs.obj.merge(attributes, {\n\t          id:player.id() + '_html5_api',\n\t          'class':'vjs-tech'\n\t        })\n\t      );\n\t    }\n\t    // associate the player with the new tag\n\t    el['player'] = player;\n\t\n\t    if (player.options_.tracks) {\n\t      for (i = 0; i < player.options_.tracks.length; i++) {\n\t        track = player.options_.tracks[i];\n\t        trackEl = document.createElement('track');\n\t        trackEl.kind = track.kind;\n\t        trackEl.label = track.label;\n\t        trackEl.srclang = track.srclang;\n\t        trackEl.src = track.src;\n\t        if ('default' in track) {\n\t          trackEl.setAttribute('default', 'default');\n\t        }\n\t        el.appendChild(trackEl);\n\t      }\n\t    }\n\t\n\t    vjs.insertFirst(el, player.el());\n\t  }\n\t\n\t  // Update specific tag settings, in case they were overridden\n\t  var settingsAttrs = ['autoplay','preload','loop','muted'];\n\t  for (i = settingsAttrs.length - 1; i >= 0; i--) {\n\t    var attr = settingsAttrs[i];\n\t    var overwriteAttrs = {};\n\t    if (typeof player.options_[attr] !== 'undefined') {\n\t      overwriteAttrs[attr] = player.options_[attr];\n\t    }\n\t    vjs.setElementAttributes(el, overwriteAttrs);\n\t  }\n\t\n\t  return el;\n\t  // jenniisawesome = true;\n\t};\n\t\n\t// Make video events trigger player events\n\t// May seem verbose here, but makes other APIs possible.\n\t// Triggers removed using this.off when disposed\n\tvjs.Html5.prototype.setupTriggers = function(){\n\t  for (var i = vjs.Html5.Events.length - 1; i >= 0; i--) {\n\t    this.on(vjs.Html5.Events[i], this.eventHandler);\n\t  }\n\t};\n\t\n\tvjs.Html5.prototype.eventHandler = function(evt){\n\t  // In the case of an error on the video element, set the error prop\n\t  // on the player and let the player handle triggering the event. On\n\t  // some platforms, error events fire that do not cause the error\n\t  // property on the video element to be set. See #1465 for an example.\n\t  if (evt.type == 'error' && this.error()) {\n\t    this.player().error(this.error().code);\n\t\n\t  // in some cases we pass the event directly to the player\n\t  } else {\n\t    // No need for media events to bubble up.\n\t    evt.bubbles = false;\n\t\n\t    this.player().trigger(evt);\n\t  }\n\t};\n\t\n\tvjs.Html5.prototype.useNativeControls = function(){\n\t  var tech, player, controlsOn, controlsOff, cleanUp;\n\t\n\t  tech = this;\n\t  player = this.player();\n\t\n\t  // If the player controls are enabled turn on the native controls\n\t  tech.setControls(player.controls());\n\t\n\t  // Update the native controls when player controls state is updated\n\t  controlsOn = function(){\n\t    tech.setControls(true);\n\t  };\n\t  controlsOff = function(){\n\t    tech.setControls(false);\n\t  };\n\t  player.on('controlsenabled', controlsOn);\n\t  player.on('controlsdisabled', controlsOff);\n\t\n\t  // Clean up when not using native controls anymore\n\t  cleanUp = function(){\n\t    player.off('controlsenabled', controlsOn);\n\t    player.off('controlsdisabled', controlsOff);\n\t  };\n\t  tech.on('dispose', cleanUp);\n\t  player.on('usingcustomcontrols', cleanUp);\n\t\n\t  // Update the state of the player to using native controls\n\t  player.usingNativeControls(true);\n\t};\n\t\n\t\n\tvjs.Html5.prototype.play = function(){ this.el_.play(); };\n\tvjs.Html5.prototype.pause = function(){ this.el_.pause(); };\n\tvjs.Html5.prototype.paused = function(){ return this.el_.paused; };\n\t\n\tvjs.Html5.prototype.currentTime = function(){ return this.el_.currentTime; };\n\tvjs.Html5.prototype.setCurrentTime = function(seconds){\n\t  try {\n\t    this.el_.currentTime = seconds;\n\t  } catch(e) {\n\t    vjs.log(e, 'Video is not ready. (Video.js)');\n\t    // this.warning(VideoJS.warnings.videoNotReady);\n\t  }\n\t};\n\t\n\tvjs.Html5.prototype.duration = function(){ return this.el_.duration || 0; };\n\tvjs.Html5.prototype.buffered = function(){ return this.el_.buffered; };\n\t\n\tvjs.Html5.prototype.volume = function(){ return this.el_.volume; };\n\tvjs.Html5.prototype.setVolume = function(percentAsDecimal){ this.el_.volume = percentAsDecimal; };\n\tvjs.Html5.prototype.muted = function(){ return this.el_.muted; };\n\tvjs.Html5.prototype.setMuted = function(muted){ this.el_.muted = muted; };\n\t\n\tvjs.Html5.prototype.width = function(){ return this.el_.offsetWidth; };\n\tvjs.Html5.prototype.height = function(){ return this.el_.offsetHeight; };\n\t\n\tvjs.Html5.prototype.supportsFullScreen = function(){\n\t  if (typeof this.el_.webkitEnterFullScreen == 'function') {\n\t\n\t    // Seems to be broken in Chromium/Chrome && Safari in Leopard\n\t    if (/Android/.test(vjs.USER_AGENT) || !/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)) {\n\t      return true;\n\t    }\n\t  }\n\t  return false;\n\t};\n\t\n\tvjs.Html5.prototype.enterFullScreen = function(){\n\t  var video = this.el_;\n\t\n\t  if ('webkitDisplayingFullscreen' in video) {\n\t    this.one('webkitbeginfullscreen', function() {\n\t      this.player_.isFullscreen(true);\n\t\n\t      this.one('webkitendfullscreen', function() {\n\t        this.player_.isFullscreen(false);\n\t        this.player_.trigger('fullscreenchange');\n\t      });\n\t\n\t      this.player_.trigger('fullscreenchange');\n\t    });\n\t  }\n\t\n\t  if (video.paused && video.networkState <= video.HAVE_METADATA) {\n\t    // attempt to prime the video element for programmatic access\n\t    // this isn't necessary on the desktop but shouldn't hurt\n\t    this.el_.play();\n\t\n\t    // playing and pausing synchronously during the transition to fullscreen\n\t    // can get iOS ~6.1 devices into a play/pause loop\n\t    this.setTimeout(function(){\n\t      video.pause();\n\t      video.webkitEnterFullScreen();\n\t    }, 0);\n\t  } else {\n\t    video.webkitEnterFullScreen();\n\t  }\n\t};\n\t\n\tvjs.Html5.prototype.exitFullScreen = function(){\n\t  this.el_.webkitExitFullScreen();\n\t};\n\t\n\t// Checks to see if the element's reported URI (either from `el_.src`\n\t// or `el_.currentSrc`) is a blob-uri and, if so, returns the uri that\n\t// was passed into the source-handler when it was first invoked instead\n\t// of the blob-uri\n\tvjs.Html5.prototype.returnOriginalIfBlobURI_ = function (elementURI, originalURI) {\n\t  var blobURIRegExp = /^blob\\:/i;\n\t\n\t  // If originalURI is undefined then we are probably in a non-source-handler-enabled\n\t  // tech that inherits from the Html5 tech so we should just return the elementURI\n\t  // regardless of it's blobby-ness\n\t  if (originalURI && elementURI && blobURIRegExp.test(elementURI)) {\n\t    return originalURI;\n\t  }\n\t  return elementURI;\n\t};\n\t\n\tvjs.Html5.prototype.src = function(src) {\n\t  var elementSrc = this.el_.src;\n\t\n\t  if (src === undefined) {\n\t    return this.returnOriginalIfBlobURI_(elementSrc, this.source_);\n\t  } else {\n\t    // Setting src through `src` instead of `setSrc` will be deprecated\n\t    this.setSrc(src);\n\t  }\n\t};\n\t\n\tvjs.Html5.prototype.setSrc = function(src) {\n\t  this.el_.src = src;\n\t};\n\t\n\tvjs.Html5.prototype.load = function(){ this.el_.load(); };\n\tvjs.Html5.prototype.currentSrc = function(){\n\t  var elementSrc = this.el_.currentSrc;\n\t\n\t  if (!this.currentSource_) {\n\t    return elementSrc;\n\t  }\n\t\n\t  return this.returnOriginalIfBlobURI_(elementSrc, this.currentSource_.src);\n\t};\n\t\n\tvjs.Html5.prototype.poster = function(){ return this.el_.poster; };\n\tvjs.Html5.prototype.setPoster = function(val){ this.el_.poster = val; };\n\t\n\tvjs.Html5.prototype.preload = function(){ return this.el_.preload; };\n\tvjs.Html5.prototype.setPreload = function(val){ this.el_.preload = val; };\n\t\n\tvjs.Html5.prototype.autoplay = function(){ return this.el_.autoplay; };\n\tvjs.Html5.prototype.setAutoplay = function(val){ this.el_.autoplay = val; };\n\t\n\tvjs.Html5.prototype.controls = function(){ return this.el_.controls; };\n\tvjs.Html5.prototype.setControls = function(val){ this.el_.controls = !!val; };\n\t\n\tvjs.Html5.prototype.loop = function(){ return this.el_.loop; };\n\tvjs.Html5.prototype.setLoop = function(val){ this.el_.loop = val; };\n\t\n\tvjs.Html5.prototype.error = function(){ return this.el_.error; };\n\tvjs.Html5.prototype.seeking = function(){ return this.el_.seeking; };\n\tvjs.Html5.prototype.seekable = function(){ return this.el_.seekable; };\n\tvjs.Html5.prototype.ended = function(){ return this.el_.ended; };\n\tvjs.Html5.prototype.defaultMuted = function(){ return this.el_.defaultMuted; };\n\t\n\tvjs.Html5.prototype.playbackRate = function(){ return this.el_.playbackRate; };\n\tvjs.Html5.prototype.setPlaybackRate = function(val){ this.el_.playbackRate = val; };\n\t\n\tvjs.Html5.prototype.networkState = function(){ return this.el_.networkState; };\n\tvjs.Html5.prototype.readyState = function(){ return this.el_.readyState; };\n\t\n\tvjs.Html5.prototype.textTracks = function() {\n\t  if (!this['featuresNativeTextTracks']) {\n\t    return vjs.MediaTechController.prototype.textTracks.call(this);\n\t  }\n\t\n\t  return this.el_.textTracks;\n\t};\n\tvjs.Html5.prototype.addTextTrack = function(kind, label, language) {\n\t  if (!this['featuresNativeTextTracks']) {\n\t    return vjs.MediaTechController.prototype.addTextTrack.call(this, kind, label, language);\n\t  }\n\t\n\t  return this.el_.addTextTrack(kind, label, language);\n\t};\n\t\n\tvjs.Html5.prototype.addRemoteTextTrack = function(options) {\n\t  if (!this['featuresNativeTextTracks']) {\n\t    return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this, options);\n\t  }\n\t\n\t  var track = document.createElement('track');\n\t  options = options || {};\n\t\n\t  if (options['kind']) {\n\t    track['kind'] = options['kind'];\n\t  }\n\t  if (options['label']) {\n\t    track['label'] = options['label'];\n\t  }\n\t  if (options['language'] || options['srclang']) {\n\t    track['srclang'] = options['language'] || options['srclang'];\n\t  }\n\t  if (options['default']) {\n\t    track['default'] = options['default'];\n\t  }\n\t  if (options['id']) {\n\t    track['id'] = options['id'];\n\t  }\n\t  if (options['src']) {\n\t    track['src'] = options['src'];\n\t  }\n\t\n\t  this.el().appendChild(track);\n\t  this.remoteTextTracks().addTrack_(track.track);\n\t\n\t  return track;\n\t};\n\t\n\tvjs.Html5.prototype.removeRemoteTextTrack = function(track) {\n\t  if (!this['featuresNativeTextTracks']) {\n\t    return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this, track);\n\t  }\n\t\n\t  var tracks, i;\n\t\n\t  this.remoteTextTracks().removeTrack_(track);\n\t\n\t  tracks = this.el()['querySelectorAll']('track');\n\t\n\t  for (i = 0; i < tracks.length; i++) {\n\t    if (tracks[i] === track || tracks[i]['track'] === track) {\n\t      tracks[i]['parentNode']['removeChild'](tracks[i]);\n\t      break;\n\t    }\n\t  }\n\t};\n\t\n\t/* HTML5 Support Testing ---------------------------------------------------- */\n\t\n\t/**\n\t * Check if HTML5 video is supported by this browser/device\n\t * @return {Boolean}\n\t */\n\tvjs.Html5.isSupported = function(){\n\t  // IE9 with no Media Player is a LIAR! (#984)\n\t  try {\n\t    vjs.TEST_VID['volume'] = 0.5;\n\t  } catch (e) {\n\t    return false;\n\t  }\n\t\n\t  return !!vjs.TEST_VID.canPlayType;\n\t};\n\t\n\t// Add Source Handler pattern functions to this tech\n\tvjs.MediaTechController.withSourceHandlers(vjs.Html5);\n\t\n\t/*\n\t * Override the withSourceHandler mixin's methods with our own because\n\t * the HTML5 Media Element returns blob urls when utilizing MSE and we\n\t * want to still return proper source urls even when in that case\n\t */\n\t(function(){\n\t  var\n\t    origSetSource = vjs.Html5.prototype.setSource,\n\t    origDisposeSourceHandler = vjs.Html5.prototype.disposeSourceHandler;\n\t\n\t  vjs.Html5.prototype.setSource = function (source) {\n\t    var retVal = origSetSource.call(this, source);\n\t    this.source_ = source.src;\n\t    return retVal;\n\t  };\n\t\n\t  vjs.Html5.prototype.disposeSourceHandler = function () {\n\t    this.source_ = undefined;\n\t    return origDisposeSourceHandler.call(this);\n\t  };\n\t})();\n\t\n\t/**\n\t * The default native source handler.\n\t * This simply passes the source to the video element. Nothing fancy.\n\t * @param  {Object} source   The source object\n\t * @param  {vjs.Html5} tech  The instance of the HTML5 tech\n\t */\n\tvjs.Html5['nativeSourceHandler'] = {};\n\t\n\t/**\n\t * Check if the video element can handle the source natively\n\t * @param  {Object} source  The source object\n\t * @return {String}         'probably', 'maybe', or '' (empty string)\n\t */\n\tvjs.Html5['nativeSourceHandler']['canHandleSource'] = function(source){\n\t  var match, ext;\n\t\n\t  function canPlayType(type){\n\t    // IE9 on Windows 7 without MediaPlayer throws an error here\n\t    // https://github.com/videojs/video.js/issues/519\n\t    try {\n\t      return vjs.TEST_VID.canPlayType(type);\n\t    } catch(e) {\n\t      return '';\n\t    }\n\t  }\n\t\n\t  // If a type was provided we should rely on that\n\t  if (source.type) {\n\t    return canPlayType(source.type);\n\t  } else if (source.src) {\n\t    // If no type, fall back to checking 'video/[EXTENSION]'\n\t    match = source.src.match(/\\.([^.\\/\\?]+)(\\?[^\\/]+)?$/i);\n\t    ext = match && match[1];\n\t\n\t    return canPlayType('video/'+ext);\n\t  }\n\t\n\t  return '';\n\t};\n\t\n\t/**\n\t * Pass the source to the video element\n\t * Adaptive source handlers will have more complicated workflows before passing\n\t * video data to the video element\n\t * @param  {Object} source    The source object\n\t * @param  {vjs.Html5} tech   The instance of the Html5 tech\n\t */\n\tvjs.Html5['nativeSourceHandler']['handleSource'] = function(source, tech){\n\t  tech.setSrc(source.src);\n\t};\n\t\n\t/**\n\t * Clean up the source handler when disposing the player or switching sources..\n\t * (no cleanup is needed when supporting the format natively)\n\t */\n\tvjs.Html5['nativeSourceHandler']['dispose'] = function(){};\n\t\n\t// Register the native source handler\n\tvjs.Html5['registerSourceHandler'](vjs.Html5['nativeSourceHandler']);\n\t\n\t/**\n\t * Check if the volume can be changed in this browser/device.\n\t * Volume cannot be changed in a lot of mobile devices.\n\t * Specifically, it can't be changed from 1 on iOS.\n\t * @return {Boolean}\n\t */\n\tvjs.Html5.canControlVolume = function(){\n\t  var volume =  vjs.TEST_VID.volume;\n\t  vjs.TEST_VID.volume = (volume / 2) + 0.1;\n\t  return volume !== vjs.TEST_VID.volume;\n\t};\n\t\n\t/**\n\t * Check if playbackRate is supported in this browser/device.\n\t * @return {[type]} [description]\n\t */\n\tvjs.Html5.canControlPlaybackRate = function(){\n\t  var playbackRate =  vjs.TEST_VID.playbackRate;\n\t  vjs.TEST_VID.playbackRate = (playbackRate / 2) + 0.1;\n\t  return playbackRate !== vjs.TEST_VID.playbackRate;\n\t};\n\t\n\t/**\n\t * Check to see if native text tracks are supported by this browser/device\n\t * @return {Boolean}\n\t */\n\tvjs.Html5.supportsNativeTextTracks = function() {\n\t  var supportsTextTracks;\n\t\n\t  // Figure out native text track support\n\t  // If mode is a number, we cannot change it because it'll disappear from view.\n\t  // Browsers with numeric modes include IE10 and older (<=2013) samsung android models.\n\t  // Firefox isn't playing nice either with modifying the mode\n\t  // TODO: Investigate firefox: https://github.com/videojs/video.js/issues/1862\n\t  supportsTextTracks = !!vjs.TEST_VID.textTracks;\n\t  if (supportsTextTracks && vjs.TEST_VID.textTracks.length > 0) {\n\t    supportsTextTracks = typeof vjs.TEST_VID.textTracks[0]['mode'] !== 'number';\n\t  }\n\t  if (supportsTextTracks && vjs.IS_FIREFOX) {\n\t    supportsTextTracks = false;\n\t  }\n\t\n\t  return supportsTextTracks;\n\t};\n\t\n\t/**\n\t * Set the tech's volume control support status\n\t * @type {Boolean}\n\t */\n\tvjs.Html5.prototype['featuresVolumeControl'] = vjs.Html5.canControlVolume();\n\t\n\t/**\n\t * Set the tech's playbackRate support status\n\t * @type {Boolean}\n\t */\n\tvjs.Html5.prototype['featuresPlaybackRate'] = vjs.Html5.canControlPlaybackRate();\n\t\n\t/**\n\t * Set the tech's status on moving the video element.\n\t * In iOS, if you move a video element in the DOM, it breaks video playback.\n\t * @type {Boolean}\n\t */\n\tvjs.Html5.prototype['movingMediaElementInDOM'] = !vjs.IS_IOS;\n\t\n\t/**\n\t * Set the the tech's fullscreen resize support status.\n\t * HTML video is able to automatically resize when going to fullscreen.\n\t * (No longer appears to be used. Can probably be removed.)\n\t */\n\tvjs.Html5.prototype['featuresFullscreenResize'] = true;\n\t\n\t/**\n\t * Set the tech's progress event support status\n\t * (this disables the manual progress events of the MediaTechController)\n\t */\n\tvjs.Html5.prototype['featuresProgressEvents'] = true;\n\t\n\t/**\n\t * Sets the tech's status on native text track support\n\t * @type {Boolean}\n\t */\n\tvjs.Html5.prototype['featuresNativeTextTracks'] = vjs.Html5.supportsNativeTextTracks();\n\t\n\t// HTML5 Feature detection and Device Fixes --------------------------------- //\n\t(function() {\n\t  var canPlayType,\n\t      mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i,\n\t      mp4RE = /^video\\/mp4/i;\n\t\n\t  vjs.Html5.patchCanPlayType = function() {\n\t    // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n\t    if (vjs.ANDROID_VERSION >= 4.0) {\n\t      if (!canPlayType) {\n\t        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType;\n\t      }\n\t\n\t      vjs.TEST_VID.constructor.prototype.canPlayType = function(type) {\n\t        if (type && mpegurlRE.test(type)) {\n\t          return 'maybe';\n\t        }\n\t        return canPlayType.call(this, type);\n\t      };\n\t    }\n\t\n\t    // Override Android 2.2 and less canPlayType method which is broken\n\t    if (vjs.IS_OLD_ANDROID) {\n\t      if (!canPlayType) {\n\t        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType;\n\t      }\n\t\n\t      vjs.TEST_VID.constructor.prototype.canPlayType = function(type){\n\t        if (type && mp4RE.test(type)) {\n\t          return 'maybe';\n\t        }\n\t        return canPlayType.call(this, type);\n\t      };\n\t    }\n\t  };\n\t\n\t  vjs.Html5.unpatchCanPlayType = function() {\n\t    var r = vjs.TEST_VID.constructor.prototype.canPlayType;\n\t    vjs.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n\t    canPlayType = null;\n\t    return r;\n\t  };\n\t\n\t  // by default, patch the video element\n\t  vjs.Html5.patchCanPlayType();\n\t})();\n\t\n\t// List of all HTML5 events (various uses).\n\tvjs.Html5.Events = 'loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange'.split(',');\n\t\n\tvjs.Html5.disposeMediaElement = function(el){\n\t  if (!el) { return; }\n\t\n\t  el['player'] = null;\n\t\n\t  if (el.parentNode) {\n\t    el.parentNode.removeChild(el);\n\t  }\n\t\n\t  // remove any child track or source nodes to prevent their loading\n\t  while(el.hasChildNodes()) {\n\t    el.removeChild(el.firstChild);\n\t  }\n\t\n\t  // remove any src reference. not setting `src=''` because that causes a warning\n\t  // in firefox\n\t  el.removeAttribute('src');\n\t\n\t  // force the media element to update its loading state by calling load()\n\t  // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n\t  if (typeof el.load === 'function') {\n\t    // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n\t    (function() {\n\t      try {\n\t        el.load();\n\t      } catch (e) {\n\t        // not supported\n\t      }\n\t    })();\n\t  }\n\t};\n\t/**\n\t * @fileoverview VideoJS-SWF - Custom Flash Player with HTML5-ish API\n\t * https://github.com/zencoder/video-js-swf\n\t * Not using setupTriggers. Using global onEvent func to distribute events\n\t */\n\t\n\t/**\n\t * Flash Media Controller - Wrapper for fallback SWF API\n\t *\n\t * @param {vjs.Player} player\n\t * @param {Object=} options\n\t * @param {Function=} ready\n\t * @constructor\n\t */\n\tvjs.Flash = vjs.MediaTechController.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    vjs.MediaTechController.call(this, player, options, ready);\n\t\n\t    var source = options['source'],\n\t\n\t        // Generate ID for swf object\n\t        objId = player.id()+'_flash_api',\n\t\n\t        // Store player options in local var for optimization\n\t        // TODO: switch to using player methods instead of options\n\t        // e.g. player.autoplay();\n\t        playerOptions = player.options_,\n\t\n\t        // Merge default flashvars with ones passed in to init\n\t        flashVars = vjs.obj.merge({\n\t\n\t          // SWF Callback Functions\n\t          'readyFunction': 'videojs.Flash.onReady',\n\t          'eventProxyFunction': 'videojs.Flash.onEvent',\n\t          'errorEventProxyFunction': 'videojs.Flash.onError',\n\t\n\t          // Player Settings\n\t          'autoplay': playerOptions.autoplay,\n\t          'preload': playerOptions.preload,\n\t          'loop': playerOptions.loop,\n\t          'muted': playerOptions.muted\n\t\n\t        }, options['flashVars']),\n\t\n\t        // Merge default parames with ones passed in\n\t        params = vjs.obj.merge({\n\t          'wmode': 'opaque', // Opaque is needed to overlay controls, but can affect playback performance\n\t          'bgcolor': '#000000' // Using bgcolor prevents a white flash when the object is loading\n\t        }, options['params']),\n\t\n\t        // Merge default attributes with ones passed in\n\t        attributes = vjs.obj.merge({\n\t          'id': objId,\n\t          'name': objId, // Both ID and Name needed or swf to identify itself\n\t          'class': 'vjs-tech'\n\t        }, options['attributes'])\n\t    ;\n\t\n\t    // If source was supplied pass as a flash var.\n\t    if (source) {\n\t      this.ready(function(){\n\t        this.setSource(source);\n\t      });\n\t    }\n\t\n\t    // Add placeholder to player div\n\t    vjs.insertFirst(this.el_, options['parentEl']);\n\t\n\t    // Having issues with Flash reloading on certain page actions (hide/resize/fullscreen) in certain browsers\n\t    // This allows resetting the playhead when we catch the reload\n\t    if (options['startTime']) {\n\t      this.ready(function(){\n\t        this.load();\n\t        this.play();\n\t        this['currentTime'](options['startTime']);\n\t      });\n\t    }\n\t\n\t    // firefox doesn't bubble mousemove events to parent. videojs/video-js-swf#37\n\t    // bugzilla bug: https://bugzilla.mozilla.org/show_bug.cgi?id=836786\n\t    if (vjs.IS_FIREFOX) {\n\t      this.ready(function(){\n\t        this.on('mousemove', function(){\n\t          // since it's a custom event, don't bubble higher than the player\n\t          this.player().trigger({ 'type':'mousemove', 'bubbles': false });\n\t        });\n\t      });\n\t    }\n\t\n\t    // native click events on the SWF aren't triggered on IE11, Win8.1RT\n\t    // use stageclick events triggered from inside the SWF instead\n\t    player.on('stageclick', player.reportUserActivity);\n\t\n\t    this.el_ = vjs.Flash.embed(options['swf'], this.el_, flashVars, params, attributes);\n\t  }\n\t});\n\t\n\tvjs.Flash.prototype.dispose = function(){\n\t  vjs.MediaTechController.prototype.dispose.call(this);\n\t};\n\t\n\tvjs.Flash.prototype.play = function(){\n\t  if (this.ended()) {\n\t    this['setCurrentTime'](0);\n\t  }\n\t\n\t  this.el_.vjs_play();\n\t};\n\t\n\tvjs.Flash.prototype.pause = function(){\n\t  this.el_.vjs_pause();\n\t};\n\t\n\tvjs.Flash.prototype.src = function(src){\n\t  if (src === undefined) {\n\t    return this['currentSrc']();\n\t  }\n\t\n\t  // Setting src through `src` not `setSrc` will be deprecated\n\t  return this.setSrc(src);\n\t};\n\t\n\tvjs.Flash.prototype.setSrc = function(src){\n\t  // Make sure source URL is absolute.\n\t  src = vjs.getAbsoluteURL(src);\n\t  this.el_.vjs_src(src);\n\t\n\t  // Currently the SWF doesn't autoplay if you load a source later.\n\t  // e.g. Load player w/ no source, wait 2s, set src.\n\t  if (this.player_.autoplay()) {\n\t    var tech = this;\n\t    this.setTimeout(function(){ tech.play(); }, 0);\n\t  }\n\t};\n\t\n\tvjs.Flash.prototype['setCurrentTime'] = function(time){\n\t  this.lastSeekTarget_ = time;\n\t  this.el_.vjs_setProperty('currentTime', time);\n\t  vjs.MediaTechController.prototype.setCurrentTime.call(this);\n\t};\n\t\n\tvjs.Flash.prototype['currentTime'] = function(time){\n\t  // when seeking make the reported time keep up with the requested time\n\t  // by reading the time we're seeking to\n\t  if (this.seeking()) {\n\t    return this.lastSeekTarget_ || 0;\n\t  }\n\t  return this.el_.vjs_getProperty('currentTime');\n\t};\n\t\n\tvjs.Flash.prototype['currentSrc'] = function(){\n\t  if (this.currentSource_) {\n\t    return this.currentSource_.src;\n\t  } else {\n\t    return this.el_.vjs_getProperty('currentSrc');\n\t  }\n\t};\n\t\n\tvjs.Flash.prototype.load = function(){\n\t  this.el_.vjs_load();\n\t};\n\t\n\tvjs.Flash.prototype.poster = function(){\n\t  this.el_.vjs_getProperty('poster');\n\t};\n\tvjs.Flash.prototype['setPoster'] = function(){\n\t  // poster images are not handled by the Flash tech so make this a no-op\n\t};\n\t\n\tvjs.Flash.prototype.seekable = function() {\n\t  var duration = this.duration();\n\t  if (duration === 0) {\n\t    // The SWF reports a duration of zero when the actual duration is unknown\n\t    return vjs.createTimeRange();\n\t  }\n\t  return vjs.createTimeRange(0, this.duration());\n\t};\n\t\n\tvjs.Flash.prototype.buffered = function(){\n\t  if (!this.el_.vjs_getProperty) {\n\t    return vjs.createTimeRange();\n\t  }\n\t  return vjs.createTimeRange(0, this.el_.vjs_getProperty('buffered'));\n\t};\n\t\n\tvjs.Flash.prototype.duration = function(){\n\t  if (!this.el_.vjs_getProperty) {\n\t    return 0;\n\t  }\n\t  return this.el_.vjs_getProperty('duration');\n\t};\n\t\n\tvjs.Flash.prototype.supportsFullScreen = function(){\n\t  return false; // Flash does not allow fullscreen through javascript\n\t};\n\t\n\tvjs.Flash.prototype.enterFullScreen = function(){\n\t  return false;\n\t};\n\t\n\t(function(){\n\t  // Create setters and getters for attributes\n\t  var api = vjs.Flash.prototype,\n\t    readWrite = 'rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(','),\n\t    readOnly = 'error,networkState,readyState,seeking,initialTime,startOffsetTime,paused,played,ended,videoTracks,audioTracks,videoWidth,videoHeight'.split(','),\n\t    // Overridden: buffered, currentTime, currentSrc\n\t    i;\n\t\n\t  function createSetter(attr){\n\t    var attrUpper = attr.charAt(0).toUpperCase() + attr.slice(1);\n\t    api['set'+attrUpper] = function(val){ return this.el_.vjs_setProperty(attr, val); };\n\t  }\n\t  function createGetter(attr) {\n\t    api[attr] = function(){ return this.el_.vjs_getProperty(attr); };\n\t  }\n\t\n\t  // Create getter and setters for all read/write attributes\n\t  for (i = 0; i < readWrite.length; i++) {\n\t    createGetter(readWrite[i]);\n\t    createSetter(readWrite[i]);\n\t  }\n\t\n\t  // Create getters for read-only attributes\n\t  for (i = 0; i < readOnly.length; i++) {\n\t    createGetter(readOnly[i]);\n\t  }\n\t})();\n\t\n\t/* Flash Support Testing -------------------------------------------------------- */\n\t\n\tvjs.Flash.isSupported = function(){\n\t  return vjs.Flash.version()[0] >= 10;\n\t  // return swfobject.hasFlashPlayerVersion('10');\n\t};\n\t\n\t// Add Source Handler pattern functions to this tech\n\tvjs.MediaTechController.withSourceHandlers(vjs.Flash);\n\t\n\t/**\n\t * The default native source handler.\n\t * This simply passes the source to the video element. Nothing fancy.\n\t * @param  {Object} source   The source object\n\t * @param  {vjs.Flash} tech  The instance of the Flash tech\n\t */\n\tvjs.Flash['nativeSourceHandler'] = {};\n\t\n\t/**\n\t * Check Flash can handle the source natively\n\t * @param  {Object} source  The source object\n\t * @return {String}         'probably', 'maybe', or '' (empty string)\n\t */\n\tvjs.Flash['nativeSourceHandler']['canHandleSource'] = function(source){\n\t  var type;\n\t\n\t  if (!source.type) {\n\t    return '';\n\t  }\n\t\n\t  // Strip code information from the type because we don't get that specific\n\t  type = source.type.replace(/;.*/,'').toLowerCase();\n\t\n\t  if (type in vjs.Flash.formats) {\n\t    return 'maybe';\n\t  }\n\t\n\t  return '';\n\t};\n\t\n\t/**\n\t * Pass the source to the flash object\n\t * Adaptive source handlers will have more complicated workflows before passing\n\t * video data to the video element\n\t * @param  {Object} source    The source object\n\t * @param  {vjs.Flash} tech   The instance of the Flash tech\n\t */\n\tvjs.Flash['nativeSourceHandler']['handleSource'] = function(source, tech){\n\t  tech.setSrc(source.src);\n\t};\n\t\n\t/**\n\t * Clean up the source handler when disposing the player or switching sources..\n\t * (no cleanup is needed when supporting the format natively)\n\t */\n\tvjs.Flash['nativeSourceHandler']['dispose'] = function(){};\n\t\n\t// Register the native source handler\n\tvjs.Flash['registerSourceHandler'](vjs.Flash['nativeSourceHandler']);\n\t\n\tvjs.Flash.formats = {\n\t  'video/flv': 'FLV',\n\t  'video/x-flv': 'FLV',\n\t  'video/mp4': 'MP4',\n\t  'video/m4v': 'MP4'\n\t};\n\t\n\tvjs.Flash['onReady'] = function(currSwf){\n\t  var el, player;\n\t\n\t  el = vjs.el(currSwf);\n\t\n\t  // get player from the player div property\n\t  player = el && el.parentNode && el.parentNode['player'];\n\t\n\t  // if there is no el or player then the tech has been disposed\n\t  // and the tech element was removed from the player div\n\t  if (player) {\n\t    // reference player on tech element\n\t    el['player'] = player;\n\t    // check that the flash object is really ready\n\t    vjs.Flash['checkReady'](player.tech);\n\t  }\n\t};\n\t\n\t// The SWF isn't always ready when it says it is. Sometimes the API functions still need to be added to the object.\n\t// If it's not ready, we set a timeout to check again shortly.\n\tvjs.Flash['checkReady'] = function(tech){\n\t  // stop worrying if the tech has been disposed\n\t  if (!tech.el()) {\n\t    return;\n\t  }\n\t\n\t  // check if API property exists\n\t  if (tech.el().vjs_getProperty) {\n\t    // tell tech it's ready\n\t    tech.triggerReady();\n\t  } else {\n\t    // wait longer\n\t    this.setTimeout(function(){\n\t      vjs.Flash['checkReady'](tech);\n\t    }, 50);\n\t  }\n\t};\n\t\n\t// Trigger events from the swf on the player\n\tvjs.Flash['onEvent'] = function(swfID, eventName){\n\t  var player = vjs.el(swfID)['player'];\n\t  player.trigger(eventName);\n\t};\n\t\n\t// Log errors from the swf\n\tvjs.Flash['onError'] = function(swfID, err){\n\t  var player = vjs.el(swfID)['player'];\n\t  var msg = 'FLASH: '+err;\n\t\n\t  if (err == 'srcnotfound') {\n\t    player.error({ code: 4, message: msg });\n\t\n\t  // errors we haven't categorized into the media errors\n\t  } else {\n\t    player.error(msg);\n\t  }\n\t};\n\t\n\t// Flash Version Check\n\tvjs.Flash.version = function(){\n\t  var version = '0,0,0';\n\t\n\t  // IE\n\t  try {\n\t    version = new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n\t\n\t  // other browsers\n\t  } catch(e) {\n\t    try {\n\t      if (navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin){\n\t        version = (navigator.plugins['Shockwave Flash 2.0'] || navigator.plugins['Shockwave Flash']).description.replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n\t      }\n\t    } catch(err) {}\n\t  }\n\t  return version.split(',');\n\t};\n\t\n\t// Flash embedding method. Only used in non-iframe mode\n\tvjs.Flash.embed = function(swf, placeHolder, flashVars, params, attributes){\n\t  var code = vjs.Flash.getEmbedCode(swf, flashVars, params, attributes),\n\t\n\t      // Get element by embedding code and retrieving created element\n\t      obj = vjs.createEl('div', { innerHTML: code }).childNodes[0],\n\t\n\t      par = placeHolder.parentNode\n\t  ;\n\t\n\t  placeHolder.parentNode.replaceChild(obj, placeHolder);\n\t  obj[vjs.expando] = placeHolder[vjs.expando];\n\t\n\t  // IE6 seems to have an issue where it won't initialize the swf object after injecting it.\n\t  // This is a dumb fix\n\t  var newObj = par.childNodes[0];\n\t  setTimeout(function(){\n\t    newObj.style.display = 'block';\n\t  }, 1000);\n\t\n\t  return obj;\n\t\n\t};\n\t\n\tvjs.Flash.getEmbedCode = function(swf, flashVars, params, attributes){\n\t\n\t  var objTag = '<object type=\"application/x-shockwave-flash\" ',\n\t      flashVarsString = '',\n\t      paramsString = '',\n\t      attrsString = '';\n\t\n\t  // Convert flash vars to string\n\t  if (flashVars) {\n\t    vjs.obj.each(flashVars, function(key, val){\n\t      flashVarsString += (key + '=' + val + '&amp;');\n\t    });\n\t  }\n\t\n\t  // Add swf, flashVars, and other default params\n\t  params = vjs.obj.merge({\n\t    'movie': swf,\n\t    'flashvars': flashVarsString,\n\t    'allowScriptAccess': 'always', // Required to talk to swf\n\t    'allowNetworking': 'all' // All should be default, but having security issues.\n\t  }, params);\n\t\n\t  // Create param tags string\n\t  vjs.obj.each(params, function(key, val){\n\t    paramsString += '<param name=\"'+key+'\" value=\"'+val+'\" />';\n\t  });\n\t\n\t  attributes = vjs.obj.merge({\n\t    // Add swf to attributes (need both for IE and Others to work)\n\t    'data': swf,\n\t\n\t    // Default to 100% width/height\n\t    'width': '100%',\n\t    'height': '100%'\n\t\n\t  }, attributes);\n\t\n\t  // Create Attributes string\n\t  vjs.obj.each(attributes, function(key, val){\n\t    attrsString += (key + '=\"' + val + '\" ');\n\t  });\n\t\n\t  return objTag + attrsString + '>' + paramsString + '</object>';\n\t};\n\tvjs.Flash.streamingFormats = {\n\t  'rtmp/mp4': 'MP4',\n\t  'rtmp/flv': 'FLV'\n\t};\n\t\n\tvjs.Flash.streamFromParts = function(connection, stream) {\n\t  return connection + '&' + stream;\n\t};\n\t\n\tvjs.Flash.streamToParts = function(src) {\n\t  var parts = {\n\t    connection: '',\n\t    stream: ''\n\t  };\n\t\n\t  if (! src) {\n\t    return parts;\n\t  }\n\t\n\t  // Look for the normal URL separator we expect, '&'.\n\t  // If found, we split the URL into two pieces around the\n\t  // first '&'.\n\t  var connEnd = src.indexOf('&');\n\t  var streamBegin;\n\t  if (connEnd !== -1) {\n\t    streamBegin = connEnd + 1;\n\t  }\n\t  else {\n\t    // If there's not a '&', we use the last '/' as the delimiter.\n\t    connEnd = streamBegin = src.lastIndexOf('/') + 1;\n\t    if (connEnd === 0) {\n\t      // really, there's not a '/'?\n\t      connEnd = streamBegin = src.length;\n\t    }\n\t  }\n\t  parts.connection = src.substring(0, connEnd);\n\t  parts.stream = src.substring(streamBegin, src.length);\n\t\n\t  return parts;\n\t};\n\t\n\tvjs.Flash.isStreamingType = function(srcType) {\n\t  return srcType in vjs.Flash.streamingFormats;\n\t};\n\t\n\t// RTMP has four variations, any string starting\n\t// with one of these protocols should be valid\n\tvjs.Flash.RTMP_RE = /^rtmp[set]?:\\/\\//i;\n\t\n\tvjs.Flash.isStreamingSrc = function(src) {\n\t  return vjs.Flash.RTMP_RE.test(src);\n\t};\n\t\n\t/**\n\t * A source handler for RTMP urls\n\t * @type {Object}\n\t */\n\tvjs.Flash.rtmpSourceHandler = {};\n\t\n\t/**\n\t * Check Flash can handle the source natively\n\t * @param  {Object} source  The source object\n\t * @return {String}         'probably', 'maybe', or '' (empty string)\n\t */\n\tvjs.Flash.rtmpSourceHandler['canHandleSource'] = function(source){\n\t  if (vjs.Flash.isStreamingType(source.type) || vjs.Flash.isStreamingSrc(source.src)) {\n\t    return 'maybe';\n\t  }\n\t\n\t  return '';\n\t};\n\t\n\t/**\n\t * Pass the source to the flash object\n\t * Adaptive source handlers will have more complicated workflows before passing\n\t * video data to the video element\n\t * @param  {Object} source    The source object\n\t * @param  {vjs.Flash} tech   The instance of the Flash tech\n\t */\n\tvjs.Flash.rtmpSourceHandler['handleSource'] = function(source, tech){\n\t  var srcParts = vjs.Flash.streamToParts(source.src);\n\t\n\t  tech['setRtmpConnection'](srcParts.connection);\n\t  tech['setRtmpStream'](srcParts.stream);\n\t};\n\t\n\t// Register the native source handler\n\tvjs.Flash['registerSourceHandler'](vjs.Flash.rtmpSourceHandler);\n\t/**\n\t * The Media Loader is the component that decides which playback technology to load\n\t * when the player is initialized.\n\t *\n\t * @constructor\n\t */\n\tvjs.MediaLoader = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    vjs.Component.call(this, player, options, ready);\n\t\n\t    // If there are no sources when the player is initialized,\n\t    // load the first supported playback technology.\n\t    if (!player.options_['sources'] || player.options_['sources'].length === 0) {\n\t      for (var i=0,j=player.options_['techOrder']; i<j.length; i++) {\n\t        var techName = vjs.capitalize(j[i]),\n\t            tech = window['videojs'][techName];\n\t\n\t        // Check if the browser supports this technology\n\t        if (tech && tech.isSupported()) {\n\t          player.loadTech(techName);\n\t          break;\n\t        }\n\t      }\n\t    } else {\n\t      // // Loop through playback technologies (HTML5, Flash) and check for support.\n\t      // // Then load the best source.\n\t      // // A few assumptions here:\n\t      // //   All playback technologies respect preload false.\n\t      player.src(player.options_['sources']);\n\t    }\n\t  }\n\t});\n\t/*\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n\t *\n\t * enum TextTrackMode { \"disabled\",  \"hidden\",  \"showing\" };\n\t */\n\tvjs.TextTrackMode = {\n\t  'disabled': 'disabled',\n\t  'hidden': 'hidden',\n\t  'showing': 'showing'\n\t};\n\t\n\t/*\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackkind\n\t *\n\t * enum TextTrackKind { \"subtitles\",  \"captions\",  \"descriptions\",  \"chapters\",  \"metadata\" };\n\t */\n\tvjs.TextTrackKind = {\n\t  'subtitles': 'subtitles',\n\t  'captions': 'captions',\n\t  'descriptions': 'descriptions',\n\t  'chapters': 'chapters',\n\t  'metadata': 'metadata'\n\t};\n\t(function() {\n\t/*\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack\n\t *\n\t * interface TextTrack : EventTarget {\n\t *   readonly attribute TextTrackKind kind;\n\t *   readonly attribute DOMString label;\n\t *   readonly attribute DOMString language;\n\t *\n\t *   readonly attribute DOMString id;\n\t *   readonly attribute DOMString inBandMetadataTrackDispatchType;\n\t *\n\t *   attribute TextTrackMode mode;\n\t *\n\t *   readonly attribute TextTrackCueList? cues;\n\t *   readonly attribute TextTrackCueList? activeCues;\n\t *\n\t *   void addCue(TextTrackCue cue);\n\t *   void removeCue(TextTrackCue cue);\n\t *\n\t *   attribute EventHandler oncuechange;\n\t * };\n\t */\n\t\n\tvjs.TextTrack = function(options) {\n\t  var tt, id, mode, kind, label, language, cues, activeCues, timeupdateHandler, changed, prop;\n\t\n\t  options = options || {};\n\t\n\t  if (!options['player']) {\n\t    throw new Error('A player was not provided.');\n\t  }\n\t\n\t  tt = this;\n\t  if (vjs.IS_IE8) {\n\t    tt = document.createElement('custom');\n\t\n\t    for (prop in vjs.TextTrack.prototype) {\n\t      tt[prop] = vjs.TextTrack.prototype[prop];\n\t    }\n\t  }\n\t\n\t  tt.player_ = options['player'];\n\t\n\t  mode = vjs.TextTrackMode[options['mode']] || 'disabled';\n\t  kind = vjs.TextTrackKind[options['kind']] || 'subtitles';\n\t  label = options['label'] || '';\n\t  language = options['language'] || options['srclang'] || '';\n\t  id = options['id'] || 'vjs_text_track_' + vjs.guid++;\n\t\n\t  if (kind === 'metadata' || kind === 'chapters') {\n\t    mode = 'hidden';\n\t  }\n\t\n\t  tt.cues_ = [];\n\t  tt.activeCues_ = [];\n\t\n\t  cues = new vjs.TextTrackCueList(tt.cues_);\n\t  activeCues = new vjs.TextTrackCueList(tt.activeCues_);\n\t\n\t  changed = false;\n\t  timeupdateHandler = vjs.bind(tt, function() {\n\t    this['activeCues'];\n\t    if (changed) {\n\t      this['trigger']('cuechange');\n\t      changed = false;\n\t    }\n\t  });\n\t  if (mode !== 'disabled') {\n\t    tt.player_.on('timeupdate', timeupdateHandler);\n\t  }\n\t\n\t  Object.defineProperty(tt, 'kind', {\n\t    get: function() {\n\t      return kind;\n\t    },\n\t    set: Function.prototype\n\t  });\n\t\n\t  Object.defineProperty(tt, 'label', {\n\t    get: function() {\n\t      return label;\n\t    },\n\t    set: Function.prototype\n\t  });\n\t\n\t  Object.defineProperty(tt, 'language', {\n\t    get: function() {\n\t      return language;\n\t    },\n\t    set: Function.prototype\n\t  });\n\t\n\t  Object.defineProperty(tt, 'id', {\n\t    get: function() {\n\t      return id;\n\t    },\n\t    set: Function.prototype\n\t  });\n\t\n\t  Object.defineProperty(tt, 'mode', {\n\t    get: function() {\n\t      return mode;\n\t    },\n\t    set: function(newMode) {\n\t      if (!vjs.TextTrackMode[newMode]) {\n\t        return;\n\t      }\n\t      mode = newMode;\n\t      if (mode === 'showing') {\n\t        this.player_.on('timeupdate', timeupdateHandler);\n\t      }\n\t      this.trigger('modechange');\n\t    }\n\t  });\n\t\n\t  Object.defineProperty(tt, 'cues', {\n\t    get: function() {\n\t      if (!this.loaded_) {\n\t        return null;\n\t      }\n\t\n\t      return cues;\n\t    },\n\t    set: Function.prototype\n\t  });\n\t\n\t  Object.defineProperty(tt, 'activeCues', {\n\t    get: function() {\n\t      var i, l, active, ct, cue;\n\t\n\t      if (!this.loaded_) {\n\t        return null;\n\t      }\n\t\n\t      if (this['cues'].length === 0) {\n\t        return activeCues; // nothing to do\n\t      }\n\t\n\t      ct = this.player_.currentTime();\n\t      i = 0;\n\t      l = this['cues'].length;\n\t      active = [];\n\t\n\t      for (; i < l; i++) {\n\t        cue = this['cues'][i];\n\t        if (cue['startTime'] <= ct && cue['endTime'] >= ct) {\n\t          active.push(cue);\n\t        } else if (cue['startTime'] === cue['endTime'] && cue['startTime'] <= ct && cue['startTime'] + 0.5 >= ct) {\n\t          active.push(cue);\n\t        }\n\t      }\n\t\n\t      changed = false;\n\t\n\t      if (active.length !== this.activeCues_.length) {\n\t        changed = true;\n\t      } else {\n\t        for (i = 0; i < active.length; i++) {\n\t          if (indexOf.call(this.activeCues_, active[i]) === -1) {\n\t            changed = true;\n\t          }\n\t        }\n\t      }\n\t\n\t      this.activeCues_ = active;\n\t      activeCues.setCues_(this.activeCues_);\n\t\n\t      return activeCues;\n\t    },\n\t    set: Function.prototype\n\t  });\n\t\n\t  if (options.src) {\n\t    loadTrack(options.src, tt);\n\t  } else {\n\t    tt.loaded_ = true;\n\t  }\n\t\n\t  if (vjs.IS_IE8) {\n\t    return tt;\n\t  }\n\t};\n\t\n\tvjs.TextTrack.prototype = vjs.obj.create(vjs.EventEmitter.prototype);\n\tvjs.TextTrack.prototype.constructor = vjs.TextTrack;\n\t\n\t/*\n\t * cuechange - One or more cues in the track have become active or stopped being active.\n\t */\n\tvjs.TextTrack.prototype.allowedEvents_ = {\n\t  'cuechange': 'cuechange'\n\t};\n\t\n\tvjs.TextTrack.prototype.addCue = function(cue) {\n\t  var tracks = this.player_.textTracks(),\n\t      i = 0;\n\t\n\t  if (tracks) {\n\t    for (; i < tracks.length; i++) {\n\t      if (tracks[i] !== this) {\n\t        tracks[i].removeCue(cue);\n\t      }\n\t    }\n\t  }\n\t\n\t  this.cues_.push(cue);\n\t  this['cues'].setCues_(this.cues_);\n\t};\n\t\n\tvjs.TextTrack.prototype.removeCue = function(removeCue) {\n\t  var i = 0,\n\t      l = this.cues_.length,\n\t      cue,\n\t      removed = false;\n\t\n\t  for (; i < l; i++) {\n\t    cue = this.cues_[i];\n\t    if (cue === removeCue) {\n\t      this.cues_.splice(i, 1);\n\t      removed = true;\n\t    }\n\t  }\n\t\n\t  if (removed) {\n\t    this.cues.setCues_(this.cues_);\n\t  }\n\t};\n\t\n\t/*\n\t * Downloading stuff happens below this point\n\t */\n\tvar loadTrack, parseCues, indexOf;\n\t\n\tloadTrack = function(src, track) {\n\t  vjs.xhr(src, vjs.bind(this, function(err, response, responseBody){\n\t    if (err) {\n\t      return vjs.log.error(err);\n\t    }\n\t\n\t\n\t    track.loaded_ = true;\n\t    parseCues(responseBody, track);\n\t  }));\n\t};\n\t\n\tparseCues = function(srcContent, track) {\n\t  if (typeof window['WebVTT'] !== 'function') {\n\t    //try again a bit later\n\t    return window.setTimeout(function() {\n\t      parseCues(srcContent, track);\n\t    }, 25);\n\t  }\n\t\n\t  var parser = new window['WebVTT']['Parser'](window, window['vttjs'], window['WebVTT']['StringDecoder']());\n\t\n\t  parser['oncue'] = function(cue) {\n\t    track.addCue(cue);\n\t  };\n\t  parser['onparsingerror'] = function(error) {\n\t    vjs.log.error(error);\n\t  };\n\t\n\t  parser['parse'](srcContent);\n\t  parser['flush']();\n\t};\n\t\n\tindexOf = function(searchElement, fromIndex) {\n\t\n\t  var k;\n\t\n\t  if (this == null) {\n\t    throw new TypeError('\"this\" is null or not defined');\n\t  }\n\t\n\t  var O = Object(this);\n\t\n\t  var len = O.length >>> 0;\n\t\n\t  if (len === 0) {\n\t    return -1;\n\t  }\n\t\n\t  var n = +fromIndex || 0;\n\t\n\t  if (Math.abs(n) === Infinity) {\n\t    n = 0;\n\t  }\n\t\n\t  if (n >= len) {\n\t    return -1;\n\t  }\n\t\n\t  k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\t\n\t  while (k < len) {\n\t    if (k in O && O[k] === searchElement) {\n\t      return k;\n\t    }\n\t    k++;\n\t  }\n\t  return -1;\n\t};\n\t\n\t})();\n\t/*\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist\n\t *\n\t * interface TextTrackList : EventTarget {\n\t *   readonly attribute unsigned long length;\n\t *   getter TextTrack (unsigned long index);\n\t *   TextTrack? getTrackById(DOMString id);\n\t * \n\t *   attribute EventHandler onchange;\n\t *   attribute EventHandler onaddtrack;\n\t *   attribute EventHandler onremovetrack;\n\t * };\n\t */\n\tvjs.TextTrackList = function(tracks) {\n\t  var list = this,\n\t      prop,\n\t      i = 0;\n\t\n\t  if (vjs.IS_IE8) {\n\t    list = document.createElement('custom');\n\t\n\t    for (prop in vjs.TextTrackList.prototype) {\n\t      list[prop] = vjs.TextTrackList.prototype[prop];\n\t    }\n\t  }\n\t\n\t  tracks = tracks || [];\n\t  list.tracks_ = [];\n\t\n\t  Object.defineProperty(list, 'length', {\n\t    get: function() {\n\t      return this.tracks_.length;\n\t    }\n\t  });\n\t\n\t  for (; i < tracks.length; i++) {\n\t    list.addTrack_(tracks[i]);\n\t  }\n\t\n\t  if (vjs.IS_IE8) {\n\t    return list;\n\t  }\n\t};\n\t\n\tvjs.TextTrackList.prototype = vjs.obj.create(vjs.EventEmitter.prototype);\n\tvjs.TextTrackList.prototype.constructor = vjs.TextTrackList;\n\t\n\t/*\n\t * change - One or more tracks in the track list have been enabled or disabled.\n\t * addtrack - A track has been added to the track list.\n\t * removetrack - A track has been removed from the track list.\n\t*/\n\tvjs.TextTrackList.prototype.allowedEvents_ = {\n\t  'change': 'change',\n\t  'addtrack': 'addtrack',\n\t  'removetrack': 'removetrack'\n\t};\n\t\n\t// emulate attribute EventHandler support to allow for feature detection\n\t(function() {\n\t  var event;\n\t\n\t  for (event in vjs.TextTrackList.prototype.allowedEvents_) {\n\t    vjs.TextTrackList.prototype['on' + event] = null;\n\t  }\n\t})();\n\t\n\tvjs.TextTrackList.prototype.addTrack_ = function(track) {\n\t  var index = this.tracks_.length;\n\t  if (!(''+index in this)) {\n\t    Object.defineProperty(this, index, {\n\t      get: function() {\n\t        return this.tracks_[index];\n\t      }\n\t    });\n\t  }\n\t\n\t  track.addEventListener('modechange', vjs.bind(this, function() {\n\t    this.trigger('change');\n\t  }));\n\t  this.tracks_.push(track);\n\t\n\t  this.trigger({\n\t    type: 'addtrack',\n\t    track: track\n\t  });\n\t};\n\t\n\tvjs.TextTrackList.prototype.removeTrack_ = function(rtrack) {\n\t  var i = 0,\n\t      l = this.length,\n\t      result = null,\n\t      track;\n\t\n\t  for (; i < l; i++) {\n\t    track = this[i];\n\t    if (track === rtrack) {\n\t      this.tracks_.splice(i, 1);\n\t      break;\n\t    }\n\t  }\n\t\n\t  this.trigger({\n\t    type: 'removetrack',\n\t    track: rtrack\n\t  });\n\t};\n\t\n\tvjs.TextTrackList.prototype.getTrackById = function(id) {\n\t  var i = 0,\n\t      l = this.length,\n\t      result = null,\n\t      track;\n\t\n\t  for (; i < l; i++) {\n\t    track = this[i];\n\t    if (track.id === id) {\n\t      result = track;\n\t      break;\n\t    }\n\t  }\n\t\n\t  return result;\n\t};\n\t/*\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist\n\t *\n\t * interface TextTrackCueList {\n\t *   readonly attribute unsigned long length;\n\t *   getter TextTrackCue (unsigned long index);\n\t *   TextTrackCue? getCueById(DOMString id);\n\t * };\n\t */\n\t\n\tvjs.TextTrackCueList = function(cues) {\n\t  var list = this,\n\t      prop;\n\t\n\t  if (vjs.IS_IE8) {\n\t    list = document.createElement('custom');\n\t\n\t    for (prop in vjs.TextTrackCueList.prototype) {\n\t      list[prop] = vjs.TextTrackCueList.prototype[prop];\n\t    }\n\t  }\n\t\n\t  vjs.TextTrackCueList.prototype.setCues_.call(list, cues);\n\t\n\t  Object.defineProperty(list, 'length', {\n\t    get: function() {\n\t      return this.length_;\n\t    }\n\t  });\n\t\n\t  if (vjs.IS_IE8) {\n\t    return list;\n\t  }\n\t};\n\t\n\tvjs.TextTrackCueList.prototype.setCues_ = function(cues) {\n\t  var oldLength = this.length || 0,\n\t      i = 0,\n\t      l = cues.length,\n\t      defineProp;\n\t\n\t  this.cues_ = cues;\n\t  this.length_ = cues.length;\n\t\n\t  defineProp = function(i) {\n\t    if (!(''+i in this)) {\n\t      Object.defineProperty(this, '' + i, {\n\t        get: function() {\n\t          return this.cues_[i];\n\t        }\n\t      });\n\t    }\n\t  };\n\t\n\t  if (oldLength < l) {\n\t    i = oldLength;\n\t    for(; i < l; i++) {\n\t      defineProp.call(this, i);\n\t    }\n\t  }\n\t};\n\t\n\tvjs.TextTrackCueList.prototype.getCueById = function(id) {\n\t  var i = 0,\n\t      l = this.length,\n\t      result = null,\n\t      cue;\n\t\n\t  for (; i < l; i++) {\n\t    cue = this[i];\n\t    if (cue.id === id) {\n\t      result = cue;\n\t      break;\n\t    }\n\t  }\n\t\n\t  return result;\n\t};\n\t(function() {\n\t'use strict';\n\t\n\t/* Text Track Display\n\t============================================================================= */\n\t// Global container for both subtitle and captions text. Simple div container.\n\t\n\t/**\n\t * The component for displaying text track cues\n\t *\n\t * @constructor\n\t */\n\tvjs.TextTrackDisplay = vjs.Component.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    vjs.Component.call(this, player, options, ready);\n\t\n\t    player.on('loadstart', vjs.bind(this, this.toggleDisplay));\n\t\n\t    // This used to be called during player init, but was causing an error\n\t    // if a track should show by default and the display hadn't loaded yet.\n\t    // Should probably be moved to an external track loader when we support\n\t    // tracks that don't need a display.\n\t    player.ready(vjs.bind(this, function() {\n\t      if (player.tech && player.tech['featuresNativeTextTracks']) {\n\t        this.hide();\n\t        return;\n\t      }\n\t\n\t      var i, tracks, track;\n\t\n\t      player.on('fullscreenchange', vjs.bind(this, this.updateDisplay));\n\t\n\t      tracks = player.options_['tracks'] || [];\n\t      for (i = 0; i < tracks.length; i++) {\n\t        track = tracks[i];\n\t        this.player_.addRemoteTextTrack(track);\n\t      }\n\t    }));\n\t  }\n\t});\n\t\n\tvjs.TextTrackDisplay.prototype.toggleDisplay = function() {\n\t  if (this.player_.tech && this.player_.tech['featuresNativeTextTracks']) {\n\t    this.hide();\n\t  } else {\n\t    this.show();\n\t  }\n\t};\n\t\n\tvjs.TextTrackDisplay.prototype.createEl = function(){\n\t  return vjs.Component.prototype.createEl.call(this, 'div', {\n\t    className: 'vjs-text-track-display'\n\t  });\n\t};\n\t\n\tvjs.TextTrackDisplay.prototype.clearDisplay = function() {\n\t  if (typeof window['WebVTT'] === 'function') {\n\t    window['WebVTT']['processCues'](window, [], this.el_);\n\t  }\n\t};\n\t\n\t// Add cue HTML to display\n\tvar constructColor = function(color, opacity) {\n\t  return 'rgba(' +\n\t    // color looks like \"#f0e\"\n\t    parseInt(color[1] + color[1], 16) + ',' +\n\t    parseInt(color[2] + color[2], 16) + ',' +\n\t    parseInt(color[3] + color[3], 16) + ',' +\n\t    opacity + ')';\n\t};\n\tvar darkGray = '#222';\n\tvar lightGray = '#ccc';\n\tvar fontMap = {\n\t  monospace:             'monospace',\n\t  sansSerif:             'sans-serif',\n\t  serif:                 'serif',\n\t  monospaceSansSerif:    '\"Andale Mono\", \"Lucida Console\", monospace',\n\t  monospaceSerif:        '\"Courier New\", monospace',\n\t  proportionalSansSerif: 'sans-serif',\n\t  proportionalSerif:     'serif',\n\t  casual:                '\"Comic Sans MS\", Impact, fantasy',\n\t  script:                '\"Monotype Corsiva\", cursive',\n\t  smallcaps:             '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n\t};\n\tvar tryUpdateStyle = function(el, style, rule) {\n\t  // some style changes will throw an error, particularly in IE8. Those should be noops.\n\t  try {\n\t    el.style[style] = rule;\n\t  } catch (e) {}\n\t};\n\t\n\tvjs.TextTrackDisplay.prototype.updateDisplay = function() {\n\t  var tracks = this.player_.textTracks(),\n\t      i = 0,\n\t      track;\n\t\n\t  this.clearDisplay();\n\t\n\t  if (!tracks) {\n\t    return;\n\t  }\n\t\n\t  for (; i < tracks.length; i++) {\n\t    track = tracks[i];\n\t    if (track['mode'] === 'showing') {\n\t      this.updateForTrack(track);\n\t    }\n\t  }\n\t};\n\t\n\tvjs.TextTrackDisplay.prototype.updateForTrack = function(track) {\n\t  if (typeof window['WebVTT'] !== 'function' || !track['activeCues']) {\n\t    return;\n\t  }\n\t\n\t  var i = 0,\n\t      property,\n\t      cueDiv,\n\t      overrides = this.player_['textTrackSettings'].getValues(),\n\t      fontSize,\n\t      cues = [];\n\t\n\t  for (; i < track['activeCues'].length; i++) {\n\t    cues.push(track['activeCues'][i]);\n\t  }\n\t\n\t  window['WebVTT']['processCues'](window, track['activeCues'], this.el_);\n\t\n\t  i = cues.length;\n\t  while (i--) {\n\t    cueDiv = cues[i].displayState;\n\t    if (overrides.color) {\n\t      cueDiv.firstChild.style.color = overrides.color;\n\t    }\n\t    if (overrides.textOpacity) {\n\t      tryUpdateStyle(cueDiv.firstChild,\n\t                     'color',\n\t                     constructColor(overrides.color || '#fff',\n\t                                    overrides.textOpacity));\n\t    }\n\t    if (overrides.backgroundColor) {\n\t      cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n\t    }\n\t    if (overrides.backgroundOpacity) {\n\t      tryUpdateStyle(cueDiv.firstChild,\n\t                     'backgroundColor',\n\t                     constructColor(overrides.backgroundColor || '#000',\n\t                                    overrides.backgroundOpacity));\n\t    }\n\t    if (overrides.windowColor) {\n\t      if (overrides.windowOpacity) {\n\t        tryUpdateStyle(cueDiv,\n\t                       'backgroundColor',\n\t                       constructColor(overrides.windowColor, overrides.windowOpacity));\n\t      } else {\n\t        cueDiv.style.backgroundColor = overrides.windowColor;\n\t      }\n\t    }\n\t    if (overrides.edgeStyle) {\n\t      if (overrides.edgeStyle === 'dropshadow') {\n\t        cueDiv.firstChild.style.textShadow = '2px 2px 3px ' + darkGray + ', 2px 2px 4px ' + darkGray + ', 2px 2px 5px ' + darkGray;\n\t      } else if (overrides.edgeStyle === 'raised') {\n\t        cueDiv.firstChild.style.textShadow = '1px 1px ' + darkGray + ', 2px 2px ' + darkGray + ', 3px 3px ' + darkGray;\n\t      } else if (overrides.edgeStyle === 'depressed') {\n\t        cueDiv.firstChild.style.textShadow = '1px 1px ' + lightGray + ', 0 1px ' + lightGray + ', -1px -1px ' + darkGray + ', 0 -1px ' + darkGray;\n\t      } else if (overrides.edgeStyle === 'uniform') {\n\t        cueDiv.firstChild.style.textShadow = '0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray;\n\t      }\n\t    }\n\t    if (overrides.fontPercent && overrides.fontPercent !== 1) {\n\t      fontSize = window.parseFloat(cueDiv.style.fontSize);\n\t      cueDiv.style.fontSize = (fontSize * overrides.fontPercent) + 'px';\n\t      cueDiv.style.height = 'auto';\n\t      cueDiv.style.top = 'auto';\n\t      cueDiv.style.bottom = '2px';\n\t    }\n\t    if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n\t      if (overrides.fontFamily === 'small-caps') {\n\t        cueDiv.firstChild.style.fontVariant = 'small-caps';\n\t      } else {\n\t        cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t\n\t/**\n\t * The specific menu item type for selecting a language within a text track kind\n\t *\n\t * @constructor\n\t */\n\tvjs.TextTrackMenuItem = vjs.MenuItem.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    var track = this.track = options['track'],\n\t        tracks = player.textTracks(),\n\t        changeHandler,\n\t        event;\n\t\n\t    if (tracks) {\n\t      changeHandler = vjs.bind(this, function() {\n\t        var selected = this.track['mode'] === 'showing',\n\t            track,\n\t            i,\n\t            l;\n\t\n\t        if (this instanceof vjs.OffTextTrackMenuItem) {\n\t          selected = true;\n\t\n\t          i = 0,\n\t          l = tracks.length;\n\t\n\t          for (; i < l; i++) {\n\t            track = tracks[i];\n\t            if (track['kind'] === this.track['kind'] && track['mode'] === 'showing') {\n\t              selected = false;\n\t              break;\n\t            }\n\t          }\n\t        }\n\t\n\t        this.selected(selected);\n\t      });\n\t      tracks.addEventListener('change', changeHandler);\n\t      player.on('dispose', function() {\n\t        tracks.removeEventListener('change', changeHandler);\n\t      });\n\t    }\n\t\n\t    // Modify options for parent MenuItem class's init.\n\t    options['label'] = track['label'] || track['language'] || 'Unknown';\n\t    options['selected'] = track['default'] || track['mode'] === 'showing';\n\t    vjs.MenuItem.call(this, player, options);\n\t\n\t    // iOS7 doesn't dispatch change events to TextTrackLists when an\n\t    // associated track's mode changes. Without something like\n\t    // Object.observe() (also not present on iOS7), it's not\n\t    // possible to detect changes to the mode attribute and polyfill\n\t    // the change event. As a poor substitute, we manually dispatch\n\t    // change events whenever the controls modify the mode.\n\t    if (tracks && tracks.onchange === undefined) {\n\t      this.on(['tap', 'click'], function() {\n\t        if (typeof window.Event !== 'object') {\n\t          // Android 2.3 throws an Illegal Constructor error for window.Event\n\t          try {\n\t            event = new window.Event('change');\n\t          } catch(err){}\n\t        }\n\t\n\t        if (!event) {\n\t          event = document.createEvent('Event');\n\t          event.initEvent('change', true, true);\n\t        }\n\t\n\t        tracks.dispatchEvent(event);\n\t      });\n\t    }\n\t  }\n\t});\n\t\n\tvjs.TextTrackMenuItem.prototype.onClick = function(){\n\t  var kind = this.track['kind'],\n\t      tracks = this.player_.textTracks(),\n\t      mode,\n\t      track,\n\t      i = 0;\n\t\n\t  vjs.MenuItem.prototype.onClick.call(this);\n\t\n\t  if (!tracks) {\n\t    return;\n\t  }\n\t\n\t  for (; i < tracks.length; i++) {\n\t    track = tracks[i];\n\t\n\t    if (track['kind'] !== kind) {\n\t      continue;\n\t    }\n\t\n\t    if (track === this.track) {\n\t      track['mode'] = 'showing';\n\t    } else {\n\t      track['mode'] = 'disabled';\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * A special menu item for turning of a specific type of text track\n\t *\n\t * @constructor\n\t */\n\tvjs.OffTextTrackMenuItem = vjs.TextTrackMenuItem.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    // Create pseudo track info\n\t    // Requires options['kind']\n\t    options['track'] = {\n\t      'kind': options['kind'],\n\t      'player': player,\n\t      'label': options['kind'] + ' off',\n\t      'default': false,\n\t      'mode': 'disabled'\n\t    };\n\t    vjs.TextTrackMenuItem.call(this, player, options);\n\t    this.selected(true);\n\t  }\n\t});\n\t\n\tvjs.CaptionSettingsMenuItem = vjs.TextTrackMenuItem.extend({\n\t  init: function(player, options) {\n\t    options['track'] = {\n\t      'kind': options['kind'],\n\t      'player': player,\n\t      'label': options['kind'] + ' settings',\n\t      'default': false,\n\t      mode: 'disabled'\n\t    };\n\t\n\t    vjs.TextTrackMenuItem.call(this, player, options);\n\t    this.addClass('vjs-texttrack-settings');\n\t  }\n\t});\n\t\n\tvjs.CaptionSettingsMenuItem.prototype.onClick = function() {\n\t  this.player().getChild('textTrackSettings').show();\n\t};\n\t\n\t/**\n\t * The base class for buttons that toggle specific text track types (e.g. subtitles)\n\t *\n\t * @constructor\n\t */\n\tvjs.TextTrackButton = vjs.MenuButton.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    var tracks, updateHandler;\n\t\n\t    vjs.MenuButton.call(this, player, options);\n\t\n\t    tracks = this.player_.textTracks();\n\t\n\t    if (this.items.length <= 1) {\n\t      this.hide();\n\t    }\n\t\n\t    if (!tracks) {\n\t      return;\n\t    }\n\t\n\t    updateHandler = vjs.bind(this, this.update);\n\t    tracks.addEventListener('removetrack', updateHandler);\n\t    tracks.addEventListener('addtrack', updateHandler);\n\t\n\t    this.player_.on('dispose', function() {\n\t      tracks.removeEventListener('removetrack', updateHandler);\n\t      tracks.removeEventListener('addtrack', updateHandler);\n\t    });\n\t  }\n\t});\n\t\n\t// Create a menu item for each text track\n\tvjs.TextTrackButton.prototype.createItems = function(){\n\t  var items = [], track, tracks;\n\t\n\t  if (this instanceof vjs.CaptionsButton && !(this.player().tech && this.player().tech['featuresNativeTextTracks'])) {\n\t    items.push(new vjs.CaptionSettingsMenuItem(this.player_, { 'kind': this.kind_ }));\n\t  }\n\t\n\t  // Add an OFF menu item to turn all tracks off\n\t  items.push(new vjs.OffTextTrackMenuItem(this.player_, { 'kind': this.kind_ }));\n\t\n\t  tracks = this.player_.textTracks();\n\t\n\t  if (!tracks) {\n\t    return items;\n\t  }\n\t\n\t  for (var i = 0; i < tracks.length; i++) {\n\t    track = tracks[i];\n\t\n\t    // only add tracks that are of the appropriate kind and have a label\n\t    if (track['kind'] === this.kind_) {\n\t      items.push(new vjs.TextTrackMenuItem(this.player_, {\n\t        'track': track\n\t      }));\n\t    }\n\t  }\n\t\n\t  return items;\n\t};\n\t\n\t/**\n\t * The button component for toggling and selecting captions\n\t *\n\t * @constructor\n\t */\n\tvjs.CaptionsButton = vjs.TextTrackButton.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    vjs.TextTrackButton.call(this, player, options, ready);\n\t    this.el_.setAttribute('aria-label','Captions Menu');\n\t  }\n\t});\n\tvjs.CaptionsButton.prototype.kind_ = 'captions';\n\tvjs.CaptionsButton.prototype.buttonText = 'Captions';\n\tvjs.CaptionsButton.prototype.className = 'vjs-captions-button';\n\t\n\tvjs.CaptionsButton.prototype.update = function() {\n\t  var threshold = 2;\n\t  vjs.TextTrackButton.prototype.update.call(this);\n\t\n\t  // if native, then threshold is 1 because no settings button\n\t  if (this.player().tech && this.player().tech['featuresNativeTextTracks']) {\n\t    threshold = 1;\n\t  }\n\t\n\t  if (this.items && this.items.length > threshold) {\n\t    this.show();\n\t  } else {\n\t    this.hide();\n\t  }\n\t};\n\t\n\t/**\n\t * The button component for toggling and selecting subtitles\n\t *\n\t * @constructor\n\t */\n\tvjs.SubtitlesButton = vjs.TextTrackButton.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    vjs.TextTrackButton.call(this, player, options, ready);\n\t    this.el_.setAttribute('aria-label','Subtitles Menu');\n\t  }\n\t});\n\tvjs.SubtitlesButton.prototype.kind_ = 'subtitles';\n\tvjs.SubtitlesButton.prototype.buttonText = 'Subtitles';\n\tvjs.SubtitlesButton.prototype.className = 'vjs-subtitles-button';\n\t\n\t// Chapters act much differently than other text tracks\n\t// Cues are navigation vs. other tracks of alternative languages\n\t/**\n\t * The button component for toggling and selecting chapters\n\t *\n\t * @constructor\n\t */\n\tvjs.ChaptersButton = vjs.TextTrackButton.extend({\n\t  /** @constructor */\n\t  init: function(player, options, ready){\n\t    vjs.TextTrackButton.call(this, player, options, ready);\n\t    this.el_.setAttribute('aria-label','Chapters Menu');\n\t  }\n\t});\n\tvjs.ChaptersButton.prototype.kind_ = 'chapters';\n\tvjs.ChaptersButton.prototype.buttonText = 'Chapters';\n\tvjs.ChaptersButton.prototype.className = 'vjs-chapters-button';\n\t\n\t// Create a menu item for each text track\n\tvjs.ChaptersButton.prototype.createItems = function(){\n\t  var items = [], track, tracks;\n\t\n\t  tracks = this.player_.textTracks();\n\t\n\t  if (!tracks) {\n\t    return items;\n\t  }\n\t\n\t  for (var i = 0; i < tracks.length; i++) {\n\t    track = tracks[i];\n\t    if (track['kind'] === this.kind_) {\n\t      items.push(new vjs.TextTrackMenuItem(this.player_, {\n\t        'track': track\n\t      }));\n\t    }\n\t  }\n\t\n\t  return items;\n\t};\n\t\n\tvjs.ChaptersButton.prototype.createMenu = function(){\n\t  var tracks = this.player_.textTracks() || [],\n\t      i = 0,\n\t      l = tracks.length,\n\t      track, chaptersTrack,\n\t      items = this.items = [];\n\t\n\t  for (; i < l; i++) {\n\t    track = tracks[i];\n\t    if (track['kind'] == this.kind_) {\n\t      if (!track.cues) {\n\t        track['mode'] = 'hidden';\n\t        /* jshint loopfunc:true */\n\t        // TODO see if we can figure out a better way of doing this https://github.com/videojs/video.js/issues/1864\n\t        window.setTimeout(vjs.bind(this, function() {\n\t          this.createMenu();\n\t        }), 100);\n\t        /* jshint loopfunc:false */\n\t      } else {\n\t        chaptersTrack = track;\n\t        break;\n\t      }\n\t    }\n\t  }\n\t\n\t  var menu = this.menu;\n\t  if (menu === undefined) {\n\t    menu = new vjs.Menu(this.player_);\n\t    menu.contentEl().appendChild(vjs.createEl('li', {\n\t      className: 'vjs-menu-title',\n\t      innerHTML: vjs.capitalize(this.kind_),\n\t      tabindex: -1\n\t    }));\n\t  }\n\t\n\t  if (chaptersTrack) {\n\t    var cues = chaptersTrack['cues'], cue, mi;\n\t    i = 0;\n\t    l = cues.length;\n\t\n\t    for (; i < l; i++) {\n\t      cue = cues[i];\n\t\n\t      mi = new vjs.ChaptersTrackMenuItem(this.player_, {\n\t        'track': chaptersTrack,\n\t        'cue': cue\n\t      });\n\t\n\t      items.push(mi);\n\t\n\t      menu.addChild(mi);\n\t    }\n\t    this.addChild(menu);\n\t  }\n\t\n\t  if (this.items.length > 0) {\n\t    this.show();\n\t  }\n\t\n\t  return menu;\n\t};\n\t\n\t\n\t/**\n\t * @constructor\n\t */\n\tvjs.ChaptersTrackMenuItem = vjs.MenuItem.extend({\n\t  /** @constructor */\n\t  init: function(player, options){\n\t    var track = this.track = options['track'],\n\t        cue = this.cue = options['cue'],\n\t        currentTime = player.currentTime();\n\t\n\t    // Modify options for parent MenuItem class's init.\n\t    options['label'] = cue.text;\n\t    options['selected'] = (cue['startTime'] <= currentTime && currentTime < cue['endTime']);\n\t    vjs.MenuItem.call(this, player, options);\n\t\n\t    track.addEventListener('cuechange', vjs.bind(this, this.update));\n\t  }\n\t});\n\t\n\tvjs.ChaptersTrackMenuItem.prototype.onClick = function(){\n\t  vjs.MenuItem.prototype.onClick.call(this);\n\t  this.player_.currentTime(this.cue.startTime);\n\t  this.update(this.cue.startTime);\n\t};\n\t\n\tvjs.ChaptersTrackMenuItem.prototype.update = function(){\n\t  var cue = this.cue,\n\t      currentTime = this.player_.currentTime();\n\t\n\t  // vjs.log(currentTime, cue.startTime);\n\t  this.selected(cue['startTime'] <= currentTime && currentTime < cue['endTime']);\n\t};\n\t})();\n\t(function() {\n\t  'use strict';\n\t\n\t  vjs.TextTrackSettings = vjs.Component.extend({\n\t    init: function(player, options) {\n\t      vjs.Component.call(this, player, options);\n\t      this.hide();\n\t\n\t      vjs.on(this.el().querySelector('.vjs-done-button'), 'click', vjs.bind(this, function() {\n\t        this.saveSettings();\n\t        this.hide();\n\t      }));\n\t\n\t      vjs.on(this.el().querySelector('.vjs-default-button'), 'click', vjs.bind(this, function() {\n\t        this.el().querySelector('.vjs-fg-color > select').selectedIndex = 0;\n\t        this.el().querySelector('.vjs-bg-color > select').selectedIndex = 0;\n\t        this.el().querySelector('.window-color > select').selectedIndex = 0;\n\t        this.el().querySelector('.vjs-text-opacity > select').selectedIndex = 0;\n\t        this.el().querySelector('.vjs-bg-opacity > select').selectedIndex = 0;\n\t        this.el().querySelector('.vjs-window-opacity > select').selectedIndex = 0;\n\t        this.el().querySelector('.vjs-edge-style select').selectedIndex = 0;\n\t        this.el().querySelector('.vjs-font-family select').selectedIndex = 0;\n\t        this.el().querySelector('.vjs-font-percent select').selectedIndex = 2;\n\t        this.updateDisplay();\n\t      }));\n\t\n\t      vjs.on(this.el().querySelector('.vjs-fg-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.vjs-bg-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.window-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.vjs-text-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.vjs-bg-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.vjs-window-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.vjs-font-percent select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.vjs-edge-style select'), 'change', vjs.bind(this, this.updateDisplay));\n\t      vjs.on(this.el().querySelector('.vjs-font-family select'), 'change', vjs.bind(this, this.updateDisplay));\n\t\n\t      if (player.options()['persistTextTrackSettings']) {\n\t        this.restoreSettings();\n\t      }\n\t    }\n\t  });\n\t\n\t  vjs.TextTrackSettings.prototype.createEl = function() {\n\t    return vjs.Component.prototype.createEl.call(this, 'div', {\n\t      className: 'vjs-caption-settings vjs-modal-overlay',\n\t      innerHTML: captionOptionsMenuTemplate()\n\t    });\n\t  };\n\t\n\t  vjs.TextTrackSettings.prototype.getValues = function() {\n\t    var el, bgOpacity, textOpacity, windowOpacity, textEdge, fontFamily, fgColor, bgColor, windowColor, result, name, fontPercent;\n\t\n\t    el = this.el();\n\t\n\t    textEdge = getSelectedOptionValue(el.querySelector('.vjs-edge-style select'));\n\t    fontFamily = getSelectedOptionValue(el.querySelector('.vjs-font-family select'));\n\t    fgColor = getSelectedOptionValue(el.querySelector('.vjs-fg-color > select'));\n\t    textOpacity = getSelectedOptionValue(el.querySelector('.vjs-text-opacity > select'));\n\t    bgColor = getSelectedOptionValue(el.querySelector('.vjs-bg-color > select'));\n\t    bgOpacity = getSelectedOptionValue(el.querySelector('.vjs-bg-opacity > select'));\n\t    windowColor = getSelectedOptionValue(el.querySelector('.window-color > select'));\n\t    windowOpacity = getSelectedOptionValue(el.querySelector('.vjs-window-opacity > select'));\n\t    fontPercent = window['parseFloat'](getSelectedOptionValue(el.querySelector('.vjs-font-percent > select')));\n\t\n\t    result = {\n\t      'backgroundOpacity': bgOpacity,\n\t      'textOpacity': textOpacity,\n\t      'windowOpacity': windowOpacity,\n\t      'edgeStyle': textEdge,\n\t      'fontFamily': fontFamily,\n\t      'color': fgColor,\n\t      'backgroundColor': bgColor,\n\t      'windowColor': windowColor,\n\t      'fontPercent': fontPercent\n\t    };\n\t    for (name in result) {\n\t      if (result[name] === '' || result[name] === 'none' || (name === 'fontPercent' && result[name] === 1.00)) {\n\t        delete result[name];\n\t      }\n\t    }\n\t    return result;\n\t  };\n\t\n\t  vjs.TextTrackSettings.prototype.setValues = function(values) {\n\t    var el = this.el(), fontPercent;\n\t\n\t    setSelectedOption(el.querySelector('.vjs-edge-style select'), values.edgeStyle);\n\t    setSelectedOption(el.querySelector('.vjs-font-family select'), values.fontFamily);\n\t    setSelectedOption(el.querySelector('.vjs-fg-color > select'), values.color);\n\t    setSelectedOption(el.querySelector('.vjs-text-opacity > select'), values.textOpacity);\n\t    setSelectedOption(el.querySelector('.vjs-bg-color > select'), values.backgroundColor);\n\t    setSelectedOption(el.querySelector('.vjs-bg-opacity > select'), values.backgroundOpacity);\n\t    setSelectedOption(el.querySelector('.window-color > select'), values.windowColor);\n\t    setSelectedOption(el.querySelector('.vjs-window-opacity > select'), values.windowOpacity);\n\t\n\t    fontPercent = values.fontPercent;\n\t\n\t    if (fontPercent) {\n\t      fontPercent = fontPercent.toFixed(2);\n\t    }\n\t\n\t    setSelectedOption(el.querySelector('.vjs-font-percent > select'), fontPercent);\n\t  };\n\t\n\t  vjs.TextTrackSettings.prototype.restoreSettings = function() {\n\t    var values;\n\t    try {\n\t      values = JSON.parse(window.localStorage.getItem('vjs-text-track-settings'));\n\t    } catch (e) {}\n\t\n\t    if (values) {\n\t      this.setValues(values);\n\t    }\n\t  };\n\t\n\t  vjs.TextTrackSettings.prototype.saveSettings = function() {\n\t    var values;\n\t\n\t    if (!this.player_.options()['persistTextTrackSettings']) {\n\t      return;\n\t    }\n\t\n\t    values = this.getValues();\n\t    try {\n\t      if (!vjs.isEmpty(values)) {\n\t        window.localStorage.setItem('vjs-text-track-settings', JSON.stringify(values));\n\t      } else {\n\t        window.localStorage.removeItem('vjs-text-track-settings');\n\t      }\n\t    } catch (e) {}\n\t  };\n\t\n\t  vjs.TextTrackSettings.prototype.updateDisplay = function() {\n\t    var ttDisplay = this.player_.getChild('textTrackDisplay');\n\t    if (ttDisplay) {\n\t      ttDisplay.updateDisplay();\n\t    }\n\t  };\n\t\n\t  function getSelectedOptionValue(target) {\n\t    var selectedOption;\n\t    // not all browsers support selectedOptions, so, fallback to options\n\t    if (target.selectedOptions) {\n\t      selectedOption = target.selectedOptions[0];\n\t    } else if (target.options) {\n\t      selectedOption = target.options[target.options.selectedIndex];\n\t    }\n\t\n\t    return selectedOption.value;\n\t  }\n\t\n\t  function setSelectedOption(target, value) {\n\t    var i, option;\n\t\n\t    if (!value) {\n\t      return;\n\t    }\n\t\n\t    for (i = 0; i < target.options.length; i++) {\n\t      option = target.options[i];\n\t      if (option.value === value) {\n\t        break;\n\t      }\n\t    }\n\t\n\t    target.selectedIndex = i;\n\t  }\n\t\n\t  function captionOptionsMenuTemplate() {\n\t    return '<div class=\"vjs-tracksettings\">' +\n\t        '<div class=\"vjs-tracksettings-colors\">' +\n\t          '<div class=\"vjs-fg-color vjs-tracksetting\">' +\n\t              '<label class=\"vjs-label\">Foreground</label>' +\n\t              '<select>' +\n\t                '<option value=\"\">---</option>' +\n\t                '<option value=\"#FFF\">White</option>' +\n\t                '<option value=\"#000\">Black</option>' +\n\t                '<option value=\"#F00\">Red</option>' +\n\t                '<option value=\"#0F0\">Green</option>' +\n\t                '<option value=\"#00F\">Blue</option>' +\n\t                '<option value=\"#FF0\">Yellow</option>' +\n\t                '<option value=\"#F0F\">Magenta</option>' +\n\t                '<option value=\"#0FF\">Cyan</option>' +\n\t              '</select>' +\n\t              '<span class=\"vjs-text-opacity vjs-opacity\">' +\n\t                '<select>' +\n\t                  '<option value=\"\">---</option>' +\n\t                  '<option value=\"1\">Opaque</option>' +\n\t                  '<option value=\"0.5\">Semi-Opaque</option>' +\n\t                '</select>' +\n\t              '</span>' +\n\t          '</div>' + // vjs-fg-color\n\t          '<div class=\"vjs-bg-color vjs-tracksetting\">' +\n\t              '<label class=\"vjs-label\">Background</label>' +\n\t              '<select>' +\n\t                '<option value=\"\">---</option>' +\n\t                '<option value=\"#FFF\">White</option>' +\n\t                '<option value=\"#000\">Black</option>' +\n\t                '<option value=\"#F00\">Red</option>' +\n\t                '<option value=\"#0F0\">Green</option>' +\n\t                '<option value=\"#00F\">Blue</option>' +\n\t                '<option value=\"#FF0\">Yellow</option>' +\n\t                '<option value=\"#F0F\">Magenta</option>' +\n\t                '<option value=\"#0FF\">Cyan</option>' +\n\t              '</select>' +\n\t              '<span class=\"vjs-bg-opacity vjs-opacity\">' +\n\t                  '<select>' +\n\t                    '<option value=\"\">---</option>' +\n\t                    '<option value=\"1\">Opaque</option>' +\n\t                    '<option value=\"0.5\">Semi-Transparent</option>' +\n\t                    '<option value=\"0\">Transparent</option>' +\n\t                  '</select>' +\n\t              '</span>' +\n\t          '</div>' + // vjs-bg-color\n\t          '<div class=\"window-color vjs-tracksetting\">' +\n\t              '<label class=\"vjs-label\">Window</label>' +\n\t              '<select>' +\n\t                '<option value=\"\">---</option>' +\n\t                '<option value=\"#FFF\">White</option>' +\n\t                '<option value=\"#000\">Black</option>' +\n\t                '<option value=\"#F00\">Red</option>' +\n\t                '<option value=\"#0F0\">Green</option>' +\n\t                '<option value=\"#00F\">Blue</option>' +\n\t                '<option value=\"#FF0\">Yellow</option>' +\n\t                '<option value=\"#F0F\">Magenta</option>' +\n\t                '<option value=\"#0FF\">Cyan</option>' +\n\t              '</select>' +\n\t              '<span class=\"vjs-window-opacity vjs-opacity\">' +\n\t                  '<select>' +\n\t                    '<option value=\"\">---</option>' +\n\t                    '<option value=\"1\">Opaque</option>' +\n\t                    '<option value=\"0.5\">Semi-Transparent</option>' +\n\t                    '<option value=\"0\">Transparent</option>' +\n\t                  '</select>' +\n\t              '</span>' +\n\t          '</div>' + // vjs-window-color\n\t        '</div>' + // vjs-tracksettings\n\t        '<div class=\"vjs-tracksettings-font\">' +\n\t          '<div class=\"vjs-font-percent vjs-tracksetting\">' +\n\t            '<label class=\"vjs-label\">Font Size</label>' +\n\t            '<select>' +\n\t              '<option value=\"0.50\">50%</option>' +\n\t              '<option value=\"0.75\">75%</option>' +\n\t              '<option value=\"1.00\" selected>100%</option>' +\n\t              '<option value=\"1.25\">125%</option>' +\n\t              '<option value=\"1.50\">150%</option>' +\n\t              '<option value=\"1.75\">175%</option>' +\n\t              '<option value=\"2.00\">200%</option>' +\n\t              '<option value=\"3.00\">300%</option>' +\n\t              '<option value=\"4.00\">400%</option>' +\n\t            '</select>' +\n\t          '</div>' + // vjs-font-percent\n\t          '<div class=\"vjs-edge-style vjs-tracksetting\">' +\n\t            '<label class=\"vjs-label\">Text Edge Style</label>' +\n\t            '<select>' +\n\t              '<option value=\"none\">None</option>' +\n\t              '<option value=\"raised\">Raised</option>' +\n\t              '<option value=\"depressed\">Depressed</option>' +\n\t              '<option value=\"uniform\">Uniform</option>' +\n\t              '<option value=\"dropshadow\">Dropshadow</option>' +\n\t            '</select>' +\n\t          '</div>' + // vjs-edge-style\n\t          '<div class=\"vjs-font-family vjs-tracksetting\">' +\n\t            '<label class=\"vjs-label\">Font Family</label>' +\n\t            '<select>' +\n\t              '<option value=\"\">Default</option>' +\n\t              '<option value=\"monospaceSerif\">Monospace Serif</option>' +\n\t              '<option value=\"proportionalSerif\">Proportional Serif</option>' +\n\t              '<option value=\"monospaceSansSerif\">Monospace Sans-Serif</option>' +\n\t              '<option value=\"proportionalSansSerif\">Proportional Sans-Serif</option>' +\n\t              '<option value=\"casual\">Casual</option>' +\n\t              '<option value=\"script\">Script</option>' +\n\t              '<option value=\"small-caps\">Small Caps</option>' +\n\t            '</select>' +\n\t          '</div>' + // vjs-font-family\n\t        '</div>' +\n\t      '</div>' +\n\t      '<div class=\"vjs-tracksettings-controls\">' +\n\t        '<button class=\"vjs-default-button\">Defaults</button>' +\n\t        '<button class=\"vjs-done-button\">Done</button>' +\n\t      '</div>';\n\t  }\n\t\n\t})();\n\t/**\n\t * @fileoverview Add JSON support\n\t * @suppress {undefinedVars}\n\t * (Compiler doesn't like JSON not being declared)\n\t */\n\t\n\t/**\n\t * Javascript JSON implementation\n\t * (Parse Method Only)\n\t * https://github.com/douglascrockford/JSON-js/blob/master/json2.js\n\t * Only using for parse method when parsing data-setup attribute JSON.\n\t * @suppress {undefinedVars}\n\t * @namespace\n\t * @private\n\t */\n\tvjs.JSON;\n\t\n\tif (typeof window.JSON !== 'undefined' && typeof window.JSON.parse === 'function') {\n\t  vjs.JSON = window.JSON;\n\t\n\t} else {\n\t  vjs.JSON = {};\n\t\n\t  var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\t\n\t  /**\n\t   * parse the json\n\t   *\n\t   * @memberof vjs.JSON\n\t   * @param {String} text The JSON string to parse\n\t   * @param {Function=} [reviver] Optional function that can transform the results\n\t   * @return {Object|Array} The parsed JSON\n\t   */\n\t  vjs.JSON.parse = function (text, reviver) {\n\t      var j;\n\t\n\t      function walk(holder, key) {\n\t          var k, v, value = holder[key];\n\t          if (value && typeof value === 'object') {\n\t              for (k in value) {\n\t                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n\t                      v = walk(value, k);\n\t                      if (v !== undefined) {\n\t                          value[k] = v;\n\t                      } else {\n\t                          delete value[k];\n\t                      }\n\t                  }\n\t              }\n\t          }\n\t          return reviver.call(holder, key, value);\n\t      }\n\t      text = String(text);\n\t      cx.lastIndex = 0;\n\t      if (cx.test(text)) {\n\t          text = text.replace(cx, function (a) {\n\t              return '\\\\u' +\n\t                  ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n\t          });\n\t      }\n\t\n\t      if (/^[\\],:{}\\s]*$/\n\t              .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n\t                  .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n\t                  .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\t\n\t          j = eval('(' + text + ')');\n\t\n\t          return typeof reviver === 'function' ?\n\t              walk({'': j}, '') : j;\n\t      }\n\t\n\t      throw new SyntaxError('JSON.parse(): invalid or malformed JSON data');\n\t  };\n\t}\n\t/**\n\t * @fileoverview Functions for automatically setting up a player\n\t * based on the data-setup attribute of the video tag\n\t */\n\t\n\t// Automatically set up any tags that have a data-setup attribute\n\tvjs.autoSetup = function(){\n\t  var options, mediaEl, player, i, e;\n\t\n\t  // One day, when we stop supporting IE8, go back to this, but in the meantime...*hack hack hack*\n\t  // var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n\t  // var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n\t  // var mediaEls = vids.concat(audios);\n\t\n\t  // Because IE8 doesn't support calling slice on a node list, we need to loop through each list of elements\n\t  // to build up a new, combined list of elements.\n\t  var vids = document.getElementsByTagName('video');\n\t  var audios = document.getElementsByTagName('audio');\n\t  var mediaEls = [];\n\t  if (vids && vids.length > 0) {\n\t    for(i=0, e=vids.length; i<e; i++) {\n\t      mediaEls.push(vids[i]);\n\t    }\n\t  }\n\t  if (audios && audios.length > 0) {\n\t    for(i=0, e=audios.length; i<e; i++) {\n\t      mediaEls.push(audios[i]);\n\t    }\n\t  }\n\t\n\t  // Check if any media elements exist\n\t  if (mediaEls && mediaEls.length > 0) {\n\t\n\t    for (i=0,e=mediaEls.length; i<e; i++) {\n\t      mediaEl = mediaEls[i];\n\t\n\t      // Check if element exists, has getAttribute func.\n\t      // IE seems to consider typeof el.getAttribute == 'object' instead of 'function' like expected, at least when loading the player immediately.\n\t      if (mediaEl && mediaEl.getAttribute) {\n\t\n\t        // Make sure this player hasn't already been set up.\n\t        if (mediaEl['player'] === undefined) {\n\t          options = mediaEl.getAttribute('data-setup');\n\t\n\t          // Check if data-setup attr exists.\n\t          // We only auto-setup if they've added the data-setup attr.\n\t          if (options !== null) {\n\t            // Create new video.js instance.\n\t            player = videojs(mediaEl);\n\t          }\n\t        }\n\t\n\t      // If getAttribute isn't defined, we need to wait for the DOM.\n\t      } else {\n\t        vjs.autoSetupTimeout(1);\n\t        break;\n\t      }\n\t    }\n\t\n\t  // No videos were found, so keep looping unless page is finished loading.\n\t  } else if (!vjs.windowLoaded) {\n\t    vjs.autoSetupTimeout(1);\n\t  }\n\t};\n\t\n\t// Pause to let the DOM keep processing\n\tvjs.autoSetupTimeout = function(wait){\n\t  setTimeout(vjs.autoSetup, wait);\n\t};\n\t\n\tif (document.readyState === 'complete') {\n\t  vjs.windowLoaded = true;\n\t} else {\n\t  vjs.one(window, 'load', function(){\n\t    vjs.windowLoaded = true;\n\t  });\n\t}\n\t\n\t// Run Auto-load players\n\t// You have to wait at least once in case this script is loaded after your video in the DOM (weird behavior only with minified version)\n\tvjs.autoSetupTimeout(1);\n\t/**\n\t * the method for registering a video.js plugin\n\t *\n\t * @param  {String} name The name of the plugin\n\t * @param  {Function} init The function that is run when the player inits\n\t */\n\tvjs.plugin = function(name, init){\n\t  vjs.Player.prototype[name] = init;\n\t};\n\t\n\t/* vtt.js - v0.12.1 (https://github.com/mozilla/vtt.js) built on 08-07-2015 */\n\t\n\t(function(root) {\n\t  var vttjs = root.vttjs = {};\n\t  var cueShim = vttjs.VTTCue;\n\t  var regionShim = vttjs.VTTRegion;\n\t  var oldVTTCue = root.VTTCue;\n\t  var oldVTTRegion = root.VTTRegion;\n\t\n\t  vttjs.shim = function() {\n\t    vttjs.VTTCue = cueShim;\n\t    vttjs.VTTRegion = regionShim;\n\t  };\n\t\n\t  vttjs.restore = function() {\n\t    vttjs.VTTCue = oldVTTCue;\n\t    vttjs.VTTRegion = oldVTTRegion;\n\t  };\n\t}(this));\n\t\n\t/**\n\t * Copyright 2013 vtt.js Contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *   http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t(function(root, vttjs) {\n\t\n\t  var autoKeyword = \"auto\";\n\t  var directionSetting = {\n\t    \"\": true,\n\t    \"lr\": true,\n\t    \"rl\": true\n\t  };\n\t  var alignSetting = {\n\t    \"start\": true,\n\t    \"middle\": true,\n\t    \"end\": true,\n\t    \"left\": true,\n\t    \"right\": true\n\t  };\n\t\n\t  function findDirectionSetting(value) {\n\t    if (typeof value !== \"string\") {\n\t      return false;\n\t    }\n\t    var dir = directionSetting[value.toLowerCase()];\n\t    return dir ? value.toLowerCase() : false;\n\t  }\n\t\n\t  function findAlignSetting(value) {\n\t    if (typeof value !== \"string\") {\n\t      return false;\n\t    }\n\t    var align = alignSetting[value.toLowerCase()];\n\t    return align ? value.toLowerCase() : false;\n\t  }\n\t\n\t  function extend(obj) {\n\t    var i = 1;\n\t    for (; i < arguments.length; i++) {\n\t      var cobj = arguments[i];\n\t      for (var p in cobj) {\n\t        obj[p] = cobj[p];\n\t      }\n\t    }\n\t\n\t    return obj;\n\t  }\n\t\n\t  function VTTCue(startTime, endTime, text) {\n\t    var cue = this;\n\t    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n\t    var baseObj = {};\n\t\n\t    if (isIE8) {\n\t      cue = document.createElement('custom');\n\t    } else {\n\t      baseObj.enumerable = true;\n\t    }\n\t\n\t    /**\n\t     * Shim implementation specific properties. These properties are not in\n\t     * the spec.\n\t     */\n\t\n\t    // Lets us know when the VTTCue's data has changed in such a way that we need\n\t    // to recompute its display state. This lets us compute its display state\n\t    // lazily.\n\t    cue.hasBeenReset = false;\n\t\n\t    /**\n\t     * VTTCue and TextTrackCue properties\n\t     * http://dev.w3.org/html5/webvtt/#vttcue-interface\n\t     */\n\t\n\t    var _id = \"\";\n\t    var _pauseOnExit = false;\n\t    var _startTime = startTime;\n\t    var _endTime = endTime;\n\t    var _text = text;\n\t    var _region = null;\n\t    var _vertical = \"\";\n\t    var _snapToLines = true;\n\t    var _line = \"auto\";\n\t    var _lineAlign = \"start\";\n\t    var _position = 50;\n\t    var _positionAlign = \"middle\";\n\t    var _size = 50;\n\t    var _align = \"middle\";\n\t\n\t    Object.defineProperty(cue,\n\t      \"id\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _id;\n\t        },\n\t        set: function(value) {\n\t          _id = \"\" + value;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"pauseOnExit\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _pauseOnExit;\n\t        },\n\t        set: function(value) {\n\t          _pauseOnExit = !!value;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"startTime\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _startTime;\n\t        },\n\t        set: function(value) {\n\t          if (typeof value !== \"number\") {\n\t            throw new TypeError(\"Start time must be set to a number.\");\n\t          }\n\t          _startTime = value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"endTime\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _endTime;\n\t        },\n\t        set: function(value) {\n\t          if (typeof value !== \"number\") {\n\t            throw new TypeError(\"End time must be set to a number.\");\n\t          }\n\t          _endTime = value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"text\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _text;\n\t        },\n\t        set: function(value) {\n\t          _text = \"\" + value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"region\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _region;\n\t        },\n\t        set: function(value) {\n\t          _region = value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"vertical\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _vertical;\n\t        },\n\t        set: function(value) {\n\t          var setting = findDirectionSetting(value);\n\t          // Have to check for false because the setting an be an empty string.\n\t          if (setting === false) {\n\t            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n\t          }\n\t          _vertical = setting;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"snapToLines\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _snapToLines;\n\t        },\n\t        set: function(value) {\n\t          _snapToLines = !!value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"line\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _line;\n\t        },\n\t        set: function(value) {\n\t          if (typeof value !== \"number\" && value !== autoKeyword) {\n\t            throw new SyntaxError(\"An invalid number or illegal string was specified.\");\n\t          }\n\t          _line = value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"lineAlign\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _lineAlign;\n\t        },\n\t        set: function(value) {\n\t          var setting = findAlignSetting(value);\n\t          if (!setting) {\n\t            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n\t          }\n\t          _lineAlign = setting;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"position\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _position;\n\t        },\n\t        set: function(value) {\n\t          if (value < 0 || value > 100) {\n\t            throw new Error(\"Position must be between 0 and 100.\");\n\t          }\n\t          _position = value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"positionAlign\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _positionAlign;\n\t        },\n\t        set: function(value) {\n\t          var setting = findAlignSetting(value);\n\t          if (!setting) {\n\t            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n\t          }\n\t          _positionAlign = setting;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"size\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _size;\n\t        },\n\t        set: function(value) {\n\t          if (value < 0 || value > 100) {\n\t            throw new Error(\"Size must be between 0 and 100.\");\n\t          }\n\t          _size = value;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    Object.defineProperty(cue,\n\t      \"align\", extend({}, baseObj, {\n\t        get: function() {\n\t          return _align;\n\t        },\n\t        set: function(value) {\n\t          var setting = findAlignSetting(value);\n\t          if (!setting) {\n\t            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n\t          }\n\t          _align = setting;\n\t          this.hasBeenReset = true;\n\t        }\n\t      }));\n\t\n\t    /**\n\t     * Other <track> spec defined properties\n\t     */\n\t\n\t    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n\t    cue.displayState = undefined;\n\t\n\t    if (isIE8) {\n\t      return cue;\n\t    }\n\t  }\n\t\n\t  /**\n\t   * VTTCue methods\n\t   */\n\t\n\t  VTTCue.prototype.getCueAsHTML = function() {\n\t    // Assume WebVTT.convertCueToDOMTree is on the global.\n\t    return WebVTT.convertCueToDOMTree(window, this.text);\n\t  };\n\t\n\t  root.VTTCue = root.VTTCue || VTTCue;\n\t  vttjs.VTTCue = VTTCue;\n\t}(this, (this.vttjs || {})));\n\t\n\t/**\n\t * Copyright 2013 vtt.js Contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *   http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t(function(root, vttjs) {\n\t\n\t  var scrollSetting = {\n\t    \"\": true,\n\t    \"up\": true\n\t  };\n\t\n\t  function findScrollSetting(value) {\n\t    if (typeof value !== \"string\") {\n\t      return false;\n\t    }\n\t    var scroll = scrollSetting[value.toLowerCase()];\n\t    return scroll ? value.toLowerCase() : false;\n\t  }\n\t\n\t  function isValidPercentValue(value) {\n\t    return typeof value === \"number\" && (value >= 0 && value <= 100);\n\t  }\n\t\n\t  // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n\t  function VTTRegion() {\n\t    var _width = 100;\n\t    var _lines = 3;\n\t    var _regionAnchorX = 0;\n\t    var _regionAnchorY = 100;\n\t    var _viewportAnchorX = 0;\n\t    var _viewportAnchorY = 100;\n\t    var _scroll = \"\";\n\t\n\t    Object.defineProperties(this, {\n\t      \"width\": {\n\t        enumerable: true,\n\t        get: function() {\n\t          return _width;\n\t        },\n\t        set: function(value) {\n\t          if (!isValidPercentValue(value)) {\n\t            throw new Error(\"Width must be between 0 and 100.\");\n\t          }\n\t          _width = value;\n\t        }\n\t      },\n\t      \"lines\": {\n\t        enumerable: true,\n\t        get: function() {\n\t          return _lines;\n\t        },\n\t        set: function(value) {\n\t          if (typeof value !== \"number\") {\n\t            throw new TypeError(\"Lines must be set to a number.\");\n\t          }\n\t          _lines = value;\n\t        }\n\t      },\n\t      \"regionAnchorY\": {\n\t        enumerable: true,\n\t        get: function() {\n\t          return _regionAnchorY;\n\t        },\n\t        set: function(value) {\n\t          if (!isValidPercentValue(value)) {\n\t            throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n\t          }\n\t          _regionAnchorY = value;\n\t        }\n\t      },\n\t      \"regionAnchorX\": {\n\t        enumerable: true,\n\t        get: function() {\n\t          return _regionAnchorX;\n\t        },\n\t        set: function(value) {\n\t          if(!isValidPercentValue(value)) {\n\t            throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n\t          }\n\t          _regionAnchorX = value;\n\t        }\n\t      },\n\t      \"viewportAnchorY\": {\n\t        enumerable: true,\n\t        get: function() {\n\t          return _viewportAnchorY;\n\t        },\n\t        set: function(value) {\n\t          if (!isValidPercentValue(value)) {\n\t            throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n\t          }\n\t          _viewportAnchorY = value;\n\t        }\n\t      },\n\t      \"viewportAnchorX\": {\n\t        enumerable: true,\n\t        get: function() {\n\t          return _viewportAnchorX;\n\t        },\n\t        set: function(value) {\n\t          if (!isValidPercentValue(value)) {\n\t            throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n\t          }\n\t          _viewportAnchorX = value;\n\t        }\n\t      },\n\t      \"scroll\": {\n\t        enumerable: true,\n\t        get: function() {\n\t          return _scroll;\n\t        },\n\t        set: function(value) {\n\t          var setting = findScrollSetting(value);\n\t          // Have to check for false as an empty string is a legal value.\n\t          if (setting === false) {\n\t            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n\t          }\n\t          _scroll = setting;\n\t        }\n\t      }\n\t    });\n\t  }\n\t\n\t  root.VTTRegion = root.VTTRegion || VTTRegion;\n\t  vttjs.VTTRegion = VTTRegion;\n\t}(this, (this.vttjs || {})));\n\t\n\t/**\n\t * Copyright 2013 vtt.js Contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *   http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\t/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n\t\n\t(function(global) {\n\t\n\t  var _objCreate = Object.create || (function() {\n\t    function F() {}\n\t    return function(o) {\n\t      if (arguments.length !== 1) {\n\t        throw new Error('Object.create shim only accepts one parameter.');\n\t      }\n\t      F.prototype = o;\n\t      return new F();\n\t    };\n\t  })();\n\t\n\t  // Creates a new ParserError object from an errorData object. The errorData\n\t  // object should have default code and message properties. The default message\n\t  // property can be overriden by passing in a message parameter.\n\t  // See ParsingError.Errors below for acceptable errors.\n\t  function ParsingError(errorData, message) {\n\t    this.name = \"ParsingError\";\n\t    this.code = errorData.code;\n\t    this.message = message || errorData.message;\n\t  }\n\t  ParsingError.prototype = _objCreate(Error.prototype);\n\t  ParsingError.prototype.constructor = ParsingError;\n\t\n\t  // ParsingError metadata for acceptable ParsingErrors.\n\t  ParsingError.Errors = {\n\t    BadSignature: {\n\t      code: 0,\n\t      message: \"Malformed WebVTT signature.\"\n\t    },\n\t    BadTimeStamp: {\n\t      code: 1,\n\t      message: \"Malformed time stamp.\"\n\t    }\n\t  };\n\t\n\t  // Try to parse input as a time stamp.\n\t  function parseTimeStamp(input) {\n\t\n\t    function computeSeconds(h, m, s, f) {\n\t      return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n\t    }\n\t\n\t    var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\n\t    if (!m) {\n\t      return null;\n\t    }\n\t\n\t    if (m[3]) {\n\t      // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n\t      return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n\t    } else if (m[1] > 59) {\n\t      // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n\t      // First position is hours as it's over 59.\n\t      return computeSeconds(m[1], m[2], 0,  m[4]);\n\t    } else {\n\t      // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n\t      return computeSeconds(0, m[1], m[2], m[4]);\n\t    }\n\t  }\n\t\n\t  // A settings object holds key/value pairs and will ignore anything but the first\n\t  // assignment to a specific key.\n\t  function Settings() {\n\t    this.values = _objCreate(null);\n\t  }\n\t\n\t  Settings.prototype = {\n\t    // Only accept the first assignment to any key.\n\t    set: function(k, v) {\n\t      if (!this.get(k) && v !== \"\") {\n\t        this.values[k] = v;\n\t      }\n\t    },\n\t    // Return the value for a key, or a default value.\n\t    // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n\t    // a number of possible default values as properties where 'defaultKey' is\n\t    // the key of the property that will be chosen; otherwise it's assumed to be\n\t    // a single value.\n\t    get: function(k, dflt, defaultKey) {\n\t      if (defaultKey) {\n\t        return this.has(k) ? this.values[k] : dflt[defaultKey];\n\t      }\n\t      return this.has(k) ? this.values[k] : dflt;\n\t    },\n\t    // Check whether we have a value for a key.\n\t    has: function(k) {\n\t      return k in this.values;\n\t    },\n\t    // Accept a setting if its one of the given alternatives.\n\t    alt: function(k, v, a) {\n\t      for (var n = 0; n < a.length; ++n) {\n\t        if (v === a[n]) {\n\t          this.set(k, v);\n\t          break;\n\t        }\n\t      }\n\t    },\n\t    // Accept a setting if its a valid (signed) integer.\n\t    integer: function(k, v) {\n\t      if (/^-?\\d+$/.test(v)) { // integer\n\t        this.set(k, parseInt(v, 10));\n\t      }\n\t    },\n\t    // Accept a setting if its a valid percentage.\n\t    percent: function(k, v) {\n\t      var m;\n\t      if ((m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/))) {\n\t        v = parseFloat(v);\n\t        if (v >= 0 && v <= 100) {\n\t          this.set(k, v);\n\t          return true;\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t  };\n\t\n\t  // Helper function to parse input into groups separated by 'groupDelim', and\n\t  // interprete each group as a key/value pair separated by 'keyValueDelim'.\n\t  function parseOptions(input, callback, keyValueDelim, groupDelim) {\n\t    var groups = groupDelim ? input.split(groupDelim) : [input];\n\t    for (var i in groups) {\n\t      if (typeof groups[i] !== \"string\") {\n\t        continue;\n\t      }\n\t      var kv = groups[i].split(keyValueDelim);\n\t      if (kv.length !== 2) {\n\t        continue;\n\t      }\n\t      var k = kv[0];\n\t      var v = kv[1];\n\t      callback(k, v);\n\t    }\n\t  }\n\t\n\t  function parseCue(input, cue, regionList) {\n\t    // Remember the original input if we need to throw an error.\n\t    var oInput = input;\n\t    // 4.1 WebVTT timestamp\n\t    function consumeTimeStamp() {\n\t      var ts = parseTimeStamp(input);\n\t      if (ts === null) {\n\t        throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n\t                              \"Malformed timestamp: \" + oInput);\n\t      }\n\t      // Remove time stamp from input.\n\t      input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n\t      return ts;\n\t    }\n\t\n\t    // 4.4.2 WebVTT cue settings\n\t    function consumeCueSettings(input, cue) {\n\t      var settings = new Settings();\n\t\n\t      parseOptions(input, function (k, v) {\n\t        switch (k) {\n\t        case \"region\":\n\t          // Find the last region we parsed with the same region id.\n\t          for (var i = regionList.length - 1; i >= 0; i--) {\n\t            if (regionList[i].id === v) {\n\t              settings.set(k, regionList[i].region);\n\t              break;\n\t            }\n\t          }\n\t          break;\n\t        case \"vertical\":\n\t          settings.alt(k, v, [\"rl\", \"lr\"]);\n\t          break;\n\t        case \"line\":\n\t          var vals = v.split(\",\"),\n\t              vals0 = vals[0];\n\t          settings.integer(k, vals0);\n\t          settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n\t          settings.alt(k, vals0, [\"auto\"]);\n\t          if (vals.length === 2) {\n\t            settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n\t          }\n\t          break;\n\t        case \"position\":\n\t          vals = v.split(\",\");\n\t          settings.percent(k, vals[0]);\n\t          if (vals.length === 2) {\n\t            settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n\t          }\n\t          break;\n\t        case \"size\":\n\t          settings.percent(k, v);\n\t          break;\n\t        case \"align\":\n\t          settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\n\t          break;\n\t        }\n\t      }, /:/, /\\s/);\n\t\n\t      // Apply default values for any missing fields.\n\t      cue.region = settings.get(\"region\", null);\n\t      cue.vertical = settings.get(\"vertical\", \"\");\n\t      cue.line = settings.get(\"line\", \"auto\");\n\t      cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n\t      cue.snapToLines = settings.get(\"snapToLines\", true);\n\t      cue.size = settings.get(\"size\", 100);\n\t      cue.align = settings.get(\"align\", \"middle\");\n\t      cue.position = settings.get(\"position\", {\n\t        start: 0,\n\t        left: 0,\n\t        middle: 50,\n\t        end: 100,\n\t        right: 100\n\t      }, cue.align);\n\t      cue.positionAlign = settings.get(\"positionAlign\", {\n\t        start: \"start\",\n\t        left: \"start\",\n\t        middle: \"middle\",\n\t        end: \"end\",\n\t        right: \"end\"\n\t      }, cue.align);\n\t    }\n\t\n\t    function skipWhitespace() {\n\t      input = input.replace(/^\\s+/, \"\");\n\t    }\n\t\n\t    // 4.1 WebVTT cue timings.\n\t    skipWhitespace();\n\t    cue.startTime = consumeTimeStamp();   // (1) collect cue start time\n\t    skipWhitespace();\n\t    if (input.substr(0, 3) !== \"-->\") {     // (3) next characters must match \"-->\"\n\t      throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n\t                             \"Malformed time stamp (time stamps must be separated by '-->'): \" +\n\t                             oInput);\n\t    }\n\t    input = input.substr(3);\n\t    skipWhitespace();\n\t    cue.endTime = consumeTimeStamp();     // (5) collect cue end time\n\t\n\t    // 4.1 WebVTT cue settings list.\n\t    skipWhitespace();\n\t    consumeCueSettings(input, cue);\n\t  }\n\t\n\t  var ESCAPE = {\n\t    \"&amp;\": \"&\",\n\t    \"&lt;\": \"<\",\n\t    \"&gt;\": \">\",\n\t    \"&lrm;\": \"\\u200e\",\n\t    \"&rlm;\": \"\\u200f\",\n\t    \"&nbsp;\": \"\\u00a0\"\n\t  };\n\t\n\t  var TAG_NAME = {\n\t    c: \"span\",\n\t    i: \"i\",\n\t    b: \"b\",\n\t    u: \"u\",\n\t    ruby: \"ruby\",\n\t    rt: \"rt\",\n\t    v: \"span\",\n\t    lang: \"span\"\n\t  };\n\t\n\t  var TAG_ANNOTATION = {\n\t    v: \"title\",\n\t    lang: \"lang\"\n\t  };\n\t\n\t  var NEEDS_PARENT = {\n\t    rt: \"ruby\"\n\t  };\n\t\n\t  // Parse content into a document fragment.\n\t  function parseContent(window, input) {\n\t    function nextToken() {\n\t      // Check for end-of-string.\n\t      if (!input) {\n\t        return null;\n\t      }\n\t\n\t      // Consume 'n' characters from the input.\n\t      function consume(result) {\n\t        input = input.substr(result.length);\n\t        return result;\n\t      }\n\t\n\t      var m = input.match(/^([^<]*)(<[^>]+>?)?/);\n\t      // If there is some text before the next tag, return it, otherwise return\n\t      // the tag.\n\t      return consume(m[1] ? m[1] : m[2]);\n\t    }\n\t\n\t    // Unescape a string 's'.\n\t    function unescape1(e) {\n\t      return ESCAPE[e];\n\t    }\n\t    function unescape(s) {\n\t      while ((m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))) {\n\t        s = s.replace(m[0], unescape1);\n\t      }\n\t      return s;\n\t    }\n\t\n\t    function shouldAdd(current, element) {\n\t      return !NEEDS_PARENT[element.localName] ||\n\t             NEEDS_PARENT[element.localName] === current.localName;\n\t    }\n\t\n\t    // Create an element for this tag.\n\t    function createElement(type, annotation) {\n\t      var tagName = TAG_NAME[type];\n\t      if (!tagName) {\n\t        return null;\n\t      }\n\t      var element = window.document.createElement(tagName);\n\t      element.localName = tagName;\n\t      var name = TAG_ANNOTATION[type];\n\t      if (name && annotation) {\n\t        element[name] = annotation.trim();\n\t      }\n\t      return element;\n\t    }\n\t\n\t    var rootDiv = window.document.createElement(\"div\"),\n\t        current = rootDiv,\n\t        t,\n\t        tagStack = [];\n\t\n\t    while ((t = nextToken()) !== null) {\n\t      if (t[0] === '<') {\n\t        if (t[1] === \"/\") {\n\t          // If the closing tag matches, move back up to the parent node.\n\t          if (tagStack.length &&\n\t              tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n\t            tagStack.pop();\n\t            current = current.parentNode;\n\t          }\n\t          // Otherwise just ignore the end tag.\n\t          continue;\n\t        }\n\t        var ts = parseTimeStamp(t.substr(1, t.length - 2));\n\t        var node;\n\t        if (ts) {\n\t          // Timestamps are lead nodes as well.\n\t          node = window.document.createProcessingInstruction(\"timestamp\", ts);\n\t          current.appendChild(node);\n\t          continue;\n\t        }\n\t        var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);\n\t        // If we can't parse the tag, skip to the next tag.\n\t        if (!m) {\n\t          continue;\n\t        }\n\t        // Try to construct an element, and ignore the tag if we couldn't.\n\t        node = createElement(m[1], m[3]);\n\t        if (!node) {\n\t          continue;\n\t        }\n\t        // Determine if the tag should be added based on the context of where it\n\t        // is placed in the cuetext.\n\t        if (!shouldAdd(current, node)) {\n\t          continue;\n\t        }\n\t        // Set the class list (as a list of classes, separated by space).\n\t        if (m[2]) {\n\t          node.className = m[2].substr(1).replace('.', ' ');\n\t        }\n\t        // Append the node to the current node, and enter the scope of the new\n\t        // node.\n\t        tagStack.push(m[1]);\n\t        current.appendChild(node);\n\t        current = node;\n\t        continue;\n\t      }\n\t\n\t      // Text nodes are leaf nodes.\n\t      current.appendChild(window.document.createTextNode(unescape(t)));\n\t    }\n\t\n\t    return rootDiv;\n\t  }\n\t\n\t  // This is a list of all the Unicode characters that have a strong\n\t  // right-to-left category. What this means is that these characters are\n\t  // written right-to-left for sure. It was generated by pulling all the strong\n\t  // right-to-left characters out of the Unicode data table. That table can\n\t  // found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n\t  var strongRTLChars = [0x05BE, 0x05C0, 0x05C3, 0x05C6, 0x05D0, 0x05D1,\n\t      0x05D2, 0x05D3, 0x05D4, 0x05D5, 0x05D6, 0x05D7, 0x05D8, 0x05D9, 0x05DA,\n\t      0x05DB, 0x05DC, 0x05DD, 0x05DE, 0x05DF, 0x05E0, 0x05E1, 0x05E2, 0x05E3,\n\t      0x05E4, 0x05E5, 0x05E6, 0x05E7, 0x05E8, 0x05E9, 0x05EA, 0x05F0, 0x05F1,\n\t      0x05F2, 0x05F3, 0x05F4, 0x0608, 0x060B, 0x060D, 0x061B, 0x061E, 0x061F,\n\t      0x0620, 0x0621, 0x0622, 0x0623, 0x0624, 0x0625, 0x0626, 0x0627, 0x0628,\n\t      0x0629, 0x062A, 0x062B, 0x062C, 0x062D, 0x062E, 0x062F, 0x0630, 0x0631,\n\t      0x0632, 0x0633, 0x0634, 0x0635, 0x0636, 0x0637, 0x0638, 0x0639, 0x063A,\n\t      0x063B, 0x063C, 0x063D, 0x063E, 0x063F, 0x0640, 0x0641, 0x0642, 0x0643,\n\t      0x0644, 0x0645, 0x0646, 0x0647, 0x0648, 0x0649, 0x064A, 0x066D, 0x066E,\n\t      0x066F, 0x0671, 0x0672, 0x0673, 0x0674, 0x0675, 0x0676, 0x0677, 0x0678,\n\t      0x0679, 0x067A, 0x067B, 0x067C, 0x067D, 0x067E, 0x067F, 0x0680, 0x0681,\n\t      0x0682, 0x0683, 0x0684, 0x0685, 0x0686, 0x0687, 0x0688, 0x0689, 0x068A,\n\t      0x068B, 0x068C, 0x068D, 0x068E, 0x068F, 0x0690, 0x0691, 0x0692, 0x0693,\n\t      0x0694, 0x0695, 0x0696, 0x0697, 0x0698, 0x0699, 0x069A, 0x069B, 0x069C,\n\t      0x069D, 0x069E, 0x069F, 0x06A0, 0x06A1, 0x06A2, 0x06A3, 0x06A4, 0x06A5,\n\t      0x06A6, 0x06A7, 0x06A8, 0x06A9, 0x06AA, 0x06AB, 0x06AC, 0x06AD, 0x06AE,\n\t      0x06AF, 0x06B0, 0x06B1, 0x06B2, 0x06B3, 0x06B4, 0x06B5, 0x06B6, 0x06B7,\n\t      0x06B8, 0x06B9, 0x06BA, 0x06BB, 0x06BC, 0x06BD, 0x06BE, 0x06BF, 0x06C0,\n\t      0x06C1, 0x06C2, 0x06C3, 0x06C4, 0x06C5, 0x06C6, 0x06C7, 0x06C8, 0x06C9,\n\t      0x06CA, 0x06CB, 0x06CC, 0x06CD, 0x06CE, 0x06CF, 0x06D0, 0x06D1, 0x06D2,\n\t      0x06D3, 0x06D4, 0x06D5, 0x06E5, 0x06E6, 0x06EE, 0x06EF, 0x06FA, 0x06FB,\n\t      0x06FC, 0x06FD, 0x06FE, 0x06FF, 0x0700, 0x0701, 0x0702, 0x0703, 0x0704,\n\t      0x0705, 0x0706, 0x0707, 0x0708, 0x0709, 0x070A, 0x070B, 0x070C, 0x070D,\n\t      0x070F, 0x0710, 0x0712, 0x0713, 0x0714, 0x0715, 0x0716, 0x0717, 0x0718,\n\t      0x0719, 0x071A, 0x071B, 0x071C, 0x071D, 0x071E, 0x071F, 0x0720, 0x0721,\n\t      0x0722, 0x0723, 0x0724, 0x0725, 0x0726, 0x0727, 0x0728, 0x0729, 0x072A,\n\t      0x072B, 0x072C, 0x072D, 0x072E, 0x072F, 0x074D, 0x074E, 0x074F, 0x0750,\n\t      0x0751, 0x0752, 0x0753, 0x0754, 0x0755, 0x0756, 0x0757, 0x0758, 0x0759,\n\t      0x075A, 0x075B, 0x075C, 0x075D, 0x075E, 0x075F, 0x0760, 0x0761, 0x0762,\n\t      0x0763, 0x0764, 0x0765, 0x0766, 0x0767, 0x0768, 0x0769, 0x076A, 0x076B,\n\t      0x076C, 0x076D, 0x076E, 0x076F, 0x0770, 0x0771, 0x0772, 0x0773, 0x0774,\n\t      0x0775, 0x0776, 0x0777, 0x0778, 0x0779, 0x077A, 0x077B, 0x077C, 0x077D,\n\t      0x077E, 0x077F, 0x0780, 0x0781, 0x0782, 0x0783, 0x0784, 0x0785, 0x0786,\n\t      0x0787, 0x0788, 0x0789, 0x078A, 0x078B, 0x078C, 0x078D, 0x078E, 0x078F,\n\t      0x0790, 0x0791, 0x0792, 0x0793, 0x0794, 0x0795, 0x0796, 0x0797, 0x0798,\n\t      0x0799, 0x079A, 0x079B, 0x079C, 0x079D, 0x079E, 0x079F, 0x07A0, 0x07A1,\n\t      0x07A2, 0x07A3, 0x07A4, 0x07A5, 0x07B1, 0x07C0, 0x07C1, 0x07C2, 0x07C3,\n\t      0x07C4, 0x07C5, 0x07C6, 0x07C7, 0x07C8, 0x07C9, 0x07CA, 0x07CB, 0x07CC,\n\t      0x07CD, 0x07CE, 0x07CF, 0x07D0, 0x07D1, 0x07D2, 0x07D3, 0x07D4, 0x07D5,\n\t      0x07D6, 0x07D7, 0x07D8, 0x07D9, 0x07DA, 0x07DB, 0x07DC, 0x07DD, 0x07DE,\n\t      0x07DF, 0x07E0, 0x07E1, 0x07E2, 0x07E3, 0x07E4, 0x07E5, 0x07E6, 0x07E7,\n\t      0x07E8, 0x07E9, 0x07EA, 0x07F4, 0x07F5, 0x07FA, 0x0800, 0x0801, 0x0802,\n\t      0x0803, 0x0804, 0x0805, 0x0806, 0x0807, 0x0808, 0x0809, 0x080A, 0x080B,\n\t      0x080C, 0x080D, 0x080E, 0x080F, 0x0810, 0x0811, 0x0812, 0x0813, 0x0814,\n\t      0x0815, 0x081A, 0x0824, 0x0828, 0x0830, 0x0831, 0x0832, 0x0833, 0x0834,\n\t      0x0835, 0x0836, 0x0837, 0x0838, 0x0839, 0x083A, 0x083B, 0x083C, 0x083D,\n\t      0x083E, 0x0840, 0x0841, 0x0842, 0x0843, 0x0844, 0x0845, 0x0846, 0x0847,\n\t      0x0848, 0x0849, 0x084A, 0x084B, 0x084C, 0x084D, 0x084E, 0x084F, 0x0850,\n\t      0x0851, 0x0852, 0x0853, 0x0854, 0x0855, 0x0856, 0x0857, 0x0858, 0x085E,\n\t      0x08A0, 0x08A2, 0x08A3, 0x08A4, 0x08A5, 0x08A6, 0x08A7, 0x08A8, 0x08A9,\n\t      0x08AA, 0x08AB, 0x08AC, 0x200F, 0xFB1D, 0xFB1F, 0xFB20, 0xFB21, 0xFB22,\n\t      0xFB23, 0xFB24, 0xFB25, 0xFB26, 0xFB27, 0xFB28, 0xFB2A, 0xFB2B, 0xFB2C,\n\t      0xFB2D, 0xFB2E, 0xFB2F, 0xFB30, 0xFB31, 0xFB32, 0xFB33, 0xFB34, 0xFB35,\n\t      0xFB36, 0xFB38, 0xFB39, 0xFB3A, 0xFB3B, 0xFB3C, 0xFB3E, 0xFB40, 0xFB41,\n\t      0xFB43, 0xFB44, 0xFB46, 0xFB47, 0xFB48, 0xFB49, 0xFB4A, 0xFB4B, 0xFB4C,\n\t      0xFB4D, 0xFB4E, 0xFB4F, 0xFB50, 0xFB51, 0xFB52, 0xFB53, 0xFB54, 0xFB55,\n\t      0xFB56, 0xFB57, 0xFB58, 0xFB59, 0xFB5A, 0xFB5B, 0xFB5C, 0xFB5D, 0xFB5E,\n\t      0xFB5F, 0xFB60, 0xFB61, 0xFB62, 0xFB63, 0xFB64, 0xFB65, 0xFB66, 0xFB67,\n\t      0xFB68, 0xFB69, 0xFB6A, 0xFB6B, 0xFB6C, 0xFB6D, 0xFB6E, 0xFB6F, 0xFB70,\n\t      0xFB71, 0xFB72, 0xFB73, 0xFB74, 0xFB75, 0xFB76, 0xFB77, 0xFB78, 0xFB79,\n\t      0xFB7A, 0xFB7B, 0xFB7C, 0xFB7D, 0xFB7E, 0xFB7F, 0xFB80, 0xFB81, 0xFB82,\n\t      0xFB83, 0xFB84, 0xFB85, 0xFB86, 0xFB87, 0xFB88, 0xFB89, 0xFB8A, 0xFB8B,\n\t      0xFB8C, 0xFB8D, 0xFB8E, 0xFB8F, 0xFB90, 0xFB91, 0xFB92, 0xFB93, 0xFB94,\n\t      0xFB95, 0xFB96, 0xFB97, 0xFB98, 0xFB99, 0xFB9A, 0xFB9B, 0xFB9C, 0xFB9D,\n\t      0xFB9E, 0xFB9F, 0xFBA0, 0xFBA1, 0xFBA2, 0xFBA3, 0xFBA4, 0xFBA5, 0xFBA6,\n\t      0xFBA7, 0xFBA8, 0xFBA9, 0xFBAA, 0xFBAB, 0xFBAC, 0xFBAD, 0xFBAE, 0xFBAF,\n\t      0xFBB0, 0xFBB1, 0xFBB2, 0xFBB3, 0xFBB4, 0xFBB5, 0xFBB6, 0xFBB7, 0xFBB8,\n\t      0xFBB9, 0xFBBA, 0xFBBB, 0xFBBC, 0xFBBD, 0xFBBE, 0xFBBF, 0xFBC0, 0xFBC1,\n\t      0xFBD3, 0xFBD4, 0xFBD5, 0xFBD6, 0xFBD7, 0xFBD8, 0xFBD9, 0xFBDA, 0xFBDB,\n\t      0xFBDC, 0xFBDD, 0xFBDE, 0xFBDF, 0xFBE0, 0xFBE1, 0xFBE2, 0xFBE3, 0xFBE4,\n\t      0xFBE5, 0xFBE6, 0xFBE7, 0xFBE8, 0xFBE9, 0xFBEA, 0xFBEB, 0xFBEC, 0xFBED,\n\t      0xFBEE, 0xFBEF, 0xFBF0, 0xFBF1, 0xFBF2, 0xFBF3, 0xFBF4, 0xFBF5, 0xFBF6,\n\t      0xFBF7, 0xFBF8, 0xFBF9, 0xFBFA, 0xFBFB, 0xFBFC, 0xFBFD, 0xFBFE, 0xFBFF,\n\t      0xFC00, 0xFC01, 0xFC02, 0xFC03, 0xFC04, 0xFC05, 0xFC06, 0xFC07, 0xFC08,\n\t      0xFC09, 0xFC0A, 0xFC0B, 0xFC0C, 0xFC0D, 0xFC0E, 0xFC0F, 0xFC10, 0xFC11,\n\t      0xFC12, 0xFC13, 0xFC14, 0xFC15, 0xFC16, 0xFC17, 0xFC18, 0xFC19, 0xFC1A,\n\t      0xFC1B, 0xFC1C, 0xFC1D, 0xFC1E, 0xFC1F, 0xFC20, 0xFC21, 0xFC22, 0xFC23,\n\t      0xFC24, 0xFC25, 0xFC26, 0xFC27, 0xFC28, 0xFC29, 0xFC2A, 0xFC2B, 0xFC2C,\n\t      0xFC2D, 0xFC2E, 0xFC2F, 0xFC30, 0xFC31, 0xFC32, 0xFC33, 0xFC34, 0xFC35,\n\t      0xFC36, 0xFC37, 0xFC38, 0xFC39, 0xFC3A, 0xFC3B, 0xFC3C, 0xFC3D, 0xFC3E,\n\t      0xFC3F, 0xFC40, 0xFC41, 0xFC42, 0xFC43, 0xFC44, 0xFC45, 0xFC46, 0xFC47,\n\t      0xFC48, 0xFC49, 0xFC4A, 0xFC4B, 0xFC4C, 0xFC4D, 0xFC4E, 0xFC4F, 0xFC50,\n\t      0xFC51, 0xFC52, 0xFC53, 0xFC54, 0xFC55, 0xFC56, 0xFC57, 0xFC58, 0xFC59,\n\t      0xFC5A, 0xFC5B, 0xFC5C, 0xFC5D, 0xFC5E, 0xFC5F, 0xFC60, 0xFC61, 0xFC62,\n\t      0xFC63, 0xFC64, 0xFC65, 0xFC66, 0xFC67, 0xFC68, 0xFC69, 0xFC6A, 0xFC6B,\n\t      0xFC6C, 0xFC6D, 0xFC6E, 0xFC6F, 0xFC70, 0xFC71, 0xFC72, 0xFC73, 0xFC74,\n\t      0xFC75, 0xFC76, 0xFC77, 0xFC78, 0xFC79, 0xFC7A, 0xFC7B, 0xFC7C, 0xFC7D,\n\t      0xFC7E, 0xFC7F, 0xFC80, 0xFC81, 0xFC82, 0xFC83, 0xFC84, 0xFC85, 0xFC86,\n\t      0xFC87, 0xFC88, 0xFC89, 0xFC8A, 0xFC8B, 0xFC8C, 0xFC8D, 0xFC8E, 0xFC8F,\n\t      0xFC90, 0xFC91, 0xFC92, 0xFC93, 0xFC94, 0xFC95, 0xFC96, 0xFC97, 0xFC98,\n\t      0xFC99, 0xFC9A, 0xFC9B, 0xFC9C, 0xFC9D, 0xFC9E, 0xFC9F, 0xFCA0, 0xFCA1,\n\t      0xFCA2, 0xFCA3, 0xFCA4, 0xFCA5, 0xFCA6, 0xFCA7, 0xFCA8, 0xFCA9, 0xFCAA,\n\t      0xFCAB, 0xFCAC, 0xFCAD, 0xFCAE, 0xFCAF, 0xFCB0, 0xFCB1, 0xFCB2, 0xFCB3,\n\t      0xFCB4, 0xFCB5, 0xFCB6, 0xFCB7, 0xFCB8, 0xFCB9, 0xFCBA, 0xFCBB, 0xFCBC,\n\t      0xFCBD, 0xFCBE, 0xFCBF, 0xFCC0, 0xFCC1, 0xFCC2, 0xFCC3, 0xFCC4, 0xFCC5,\n\t      0xFCC6, 0xFCC7, 0xFCC8, 0xFCC9, 0xFCCA, 0xFCCB, 0xFCCC, 0xFCCD, 0xFCCE,\n\t      0xFCCF, 0xFCD0, 0xFCD1, 0xFCD2, 0xFCD3, 0xFCD4, 0xFCD5, 0xFCD6, 0xFCD7,\n\t      0xFCD8, 0xFCD9, 0xFCDA, 0xFCDB, 0xFCDC, 0xFCDD, 0xFCDE, 0xFCDF, 0xFCE0,\n\t      0xFCE1, 0xFCE2, 0xFCE3, 0xFCE4, 0xFCE5, 0xFCE6, 0xFCE7, 0xFCE8, 0xFCE9,\n\t      0xFCEA, 0xFCEB, 0xFCEC, 0xFCED, 0xFCEE, 0xFCEF, 0xFCF0, 0xFCF1, 0xFCF2,\n\t      0xFCF3, 0xFCF4, 0xFCF5, 0xFCF6, 0xFCF7, 0xFCF8, 0xFCF9, 0xFCFA, 0xFCFB,\n\t      0xFCFC, 0xFCFD, 0xFCFE, 0xFCFF, 0xFD00, 0xFD01, 0xFD02, 0xFD03, 0xFD04,\n\t      0xFD05, 0xFD06, 0xFD07, 0xFD08, 0xFD09, 0xFD0A, 0xFD0B, 0xFD0C, 0xFD0D,\n\t      0xFD0E, 0xFD0F, 0xFD10, 0xFD11, 0xFD12, 0xFD13, 0xFD14, 0xFD15, 0xFD16,\n\t      0xFD17, 0xFD18, 0xFD19, 0xFD1A, 0xFD1B, 0xFD1C, 0xFD1D, 0xFD1E, 0xFD1F,\n\t      0xFD20, 0xFD21, 0xFD22, 0xFD23, 0xFD24, 0xFD25, 0xFD26, 0xFD27, 0xFD28,\n\t      0xFD29, 0xFD2A, 0xFD2B, 0xFD2C, 0xFD2D, 0xFD2E, 0xFD2F, 0xFD30, 0xFD31,\n\t      0xFD32, 0xFD33, 0xFD34, 0xFD35, 0xFD36, 0xFD37, 0xFD38, 0xFD39, 0xFD3A,\n\t      0xFD3B, 0xFD3C, 0xFD3D, 0xFD50, 0xFD51, 0xFD52, 0xFD53, 0xFD54, 0xFD55,\n\t      0xFD56, 0xFD57, 0xFD58, 0xFD59, 0xFD5A, 0xFD5B, 0xFD5C, 0xFD5D, 0xFD5E,\n\t      0xFD5F, 0xFD60, 0xFD61, 0xFD62, 0xFD63, 0xFD64, 0xFD65, 0xFD66, 0xFD67,\n\t      0xFD68, 0xFD69, 0xFD6A, 0xFD6B, 0xFD6C, 0xFD6D, 0xFD6E, 0xFD6F, 0xFD70,\n\t      0xFD71, 0xFD72, 0xFD73, 0xFD74, 0xFD75, 0xFD76, 0xFD77, 0xFD78, 0xFD79,\n\t      0xFD7A, 0xFD7B, 0xFD7C, 0xFD7D, 0xFD7E, 0xFD7F, 0xFD80, 0xFD81, 0xFD82,\n\t      0xFD83, 0xFD84, 0xFD85, 0xFD86, 0xFD87, 0xFD88, 0xFD89, 0xFD8A, 0xFD8B,\n\t      0xFD8C, 0xFD8D, 0xFD8E, 0xFD8F, 0xFD92, 0xFD93, 0xFD94, 0xFD95, 0xFD96,\n\t      0xFD97, 0xFD98, 0xFD99, 0xFD9A, 0xFD9B, 0xFD9C, 0xFD9D, 0xFD9E, 0xFD9F,\n\t      0xFDA0, 0xFDA1, 0xFDA2, 0xFDA3, 0xFDA4, 0xFDA5, 0xFDA6, 0xFDA7, 0xFDA8,\n\t      0xFDA9, 0xFDAA, 0xFDAB, 0xFDAC, 0xFDAD, 0xFDAE, 0xFDAF, 0xFDB0, 0xFDB1,\n\t      0xFDB2, 0xFDB3, 0xFDB4, 0xFDB5, 0xFDB6, 0xFDB7, 0xFDB8, 0xFDB9, 0xFDBA,\n\t      0xFDBB, 0xFDBC, 0xFDBD, 0xFDBE, 0xFDBF, 0xFDC0, 0xFDC1, 0xFDC2, 0xFDC3,\n\t      0xFDC4, 0xFDC5, 0xFDC6, 0xFDC7, 0xFDF0, 0xFDF1, 0xFDF2, 0xFDF3, 0xFDF4,\n\t      0xFDF5, 0xFDF6, 0xFDF7, 0xFDF8, 0xFDF9, 0xFDFA, 0xFDFB, 0xFDFC, 0xFE70,\n\t      0xFE71, 0xFE72, 0xFE73, 0xFE74, 0xFE76, 0xFE77, 0xFE78, 0xFE79, 0xFE7A,\n\t      0xFE7B, 0xFE7C, 0xFE7D, 0xFE7E, 0xFE7F, 0xFE80, 0xFE81, 0xFE82, 0xFE83,\n\t      0xFE84, 0xFE85, 0xFE86, 0xFE87, 0xFE88, 0xFE89, 0xFE8A, 0xFE8B, 0xFE8C,\n\t      0xFE8D, 0xFE8E, 0xFE8F, 0xFE90, 0xFE91, 0xFE92, 0xFE93, 0xFE94, 0xFE95,\n\t      0xFE96, 0xFE97, 0xFE98, 0xFE99, 0xFE9A, 0xFE9B, 0xFE9C, 0xFE9D, 0xFE9E,\n\t      0xFE9F, 0xFEA0, 0xFEA1, 0xFEA2, 0xFEA3, 0xFEA4, 0xFEA5, 0xFEA6, 0xFEA7,\n\t      0xFEA8, 0xFEA9, 0xFEAA, 0xFEAB, 0xFEAC, 0xFEAD, 0xFEAE, 0xFEAF, 0xFEB0,\n\t      0xFEB1, 0xFEB2, 0xFEB3, 0xFEB4, 0xFEB5, 0xFEB6, 0xFEB7, 0xFEB8, 0xFEB9,\n\t      0xFEBA, 0xFEBB, 0xFEBC, 0xFEBD, 0xFEBE, 0xFEBF, 0xFEC0, 0xFEC1, 0xFEC2,\n\t      0xFEC3, 0xFEC4, 0xFEC5, 0xFEC6, 0xFEC7, 0xFEC8, 0xFEC9, 0xFECA, 0xFECB,\n\t      0xFECC, 0xFECD, 0xFECE, 0xFECF, 0xFED0, 0xFED1, 0xFED2, 0xFED3, 0xFED4,\n\t      0xFED5, 0xFED6, 0xFED7, 0xFED8, 0xFED9, 0xFEDA, 0xFEDB, 0xFEDC, 0xFEDD,\n\t      0xFEDE, 0xFEDF, 0xFEE0, 0xFEE1, 0xFEE2, 0xFEE3, 0xFEE4, 0xFEE5, 0xFEE6,\n\t      0xFEE7, 0xFEE8, 0xFEE9, 0xFEEA, 0xFEEB, 0xFEEC, 0xFEED, 0xFEEE, 0xFEEF,\n\t      0xFEF0, 0xFEF1, 0xFEF2, 0xFEF3, 0xFEF4, 0xFEF5, 0xFEF6, 0xFEF7, 0xFEF8,\n\t      0xFEF9, 0xFEFA, 0xFEFB, 0xFEFC, 0x10800, 0x10801, 0x10802, 0x10803,\n\t      0x10804, 0x10805, 0x10808, 0x1080A, 0x1080B, 0x1080C, 0x1080D, 0x1080E,\n\t      0x1080F, 0x10810, 0x10811, 0x10812, 0x10813, 0x10814, 0x10815, 0x10816,\n\t      0x10817, 0x10818, 0x10819, 0x1081A, 0x1081B, 0x1081C, 0x1081D, 0x1081E,\n\t      0x1081F, 0x10820, 0x10821, 0x10822, 0x10823, 0x10824, 0x10825, 0x10826,\n\t      0x10827, 0x10828, 0x10829, 0x1082A, 0x1082B, 0x1082C, 0x1082D, 0x1082E,\n\t      0x1082F, 0x10830, 0x10831, 0x10832, 0x10833, 0x10834, 0x10835, 0x10837,\n\t      0x10838, 0x1083C, 0x1083F, 0x10840, 0x10841, 0x10842, 0x10843, 0x10844,\n\t      0x10845, 0x10846, 0x10847, 0x10848, 0x10849, 0x1084A, 0x1084B, 0x1084C,\n\t      0x1084D, 0x1084E, 0x1084F, 0x10850, 0x10851, 0x10852, 0x10853, 0x10854,\n\t      0x10855, 0x10857, 0x10858, 0x10859, 0x1085A, 0x1085B, 0x1085C, 0x1085D,\n\t      0x1085E, 0x1085F, 0x10900, 0x10901, 0x10902, 0x10903, 0x10904, 0x10905,\n\t      0x10906, 0x10907, 0x10908, 0x10909, 0x1090A, 0x1090B, 0x1090C, 0x1090D,\n\t      0x1090E, 0x1090F, 0x10910, 0x10911, 0x10912, 0x10913, 0x10914, 0x10915,\n\t      0x10916, 0x10917, 0x10918, 0x10919, 0x1091A, 0x1091B, 0x10920, 0x10921,\n\t      0x10922, 0x10923, 0x10924, 0x10925, 0x10926, 0x10927, 0x10928, 0x10929,\n\t      0x1092A, 0x1092B, 0x1092C, 0x1092D, 0x1092E, 0x1092F, 0x10930, 0x10931,\n\t      0x10932, 0x10933, 0x10934, 0x10935, 0x10936, 0x10937, 0x10938, 0x10939,\n\t      0x1093F, 0x10980, 0x10981, 0x10982, 0x10983, 0x10984, 0x10985, 0x10986,\n\t      0x10987, 0x10988, 0x10989, 0x1098A, 0x1098B, 0x1098C, 0x1098D, 0x1098E,\n\t      0x1098F, 0x10990, 0x10991, 0x10992, 0x10993, 0x10994, 0x10995, 0x10996,\n\t      0x10997, 0x10998, 0x10999, 0x1099A, 0x1099B, 0x1099C, 0x1099D, 0x1099E,\n\t      0x1099F, 0x109A0, 0x109A1, 0x109A2, 0x109A3, 0x109A4, 0x109A5, 0x109A6,\n\t      0x109A7, 0x109A8, 0x109A9, 0x109AA, 0x109AB, 0x109AC, 0x109AD, 0x109AE,\n\t      0x109AF, 0x109B0, 0x109B1, 0x109B2, 0x109B3, 0x109B4, 0x109B5, 0x109B6,\n\t      0x109B7, 0x109BE, 0x109BF, 0x10A00, 0x10A10, 0x10A11, 0x10A12, 0x10A13,\n\t      0x10A15, 0x10A16, 0x10A17, 0x10A19, 0x10A1A, 0x10A1B, 0x10A1C, 0x10A1D,\n\t      0x10A1E, 0x10A1F, 0x10A20, 0x10A21, 0x10A22, 0x10A23, 0x10A24, 0x10A25,\n\t      0x10A26, 0x10A27, 0x10A28, 0x10A29, 0x10A2A, 0x10A2B, 0x10A2C, 0x10A2D,\n\t      0x10A2E, 0x10A2F, 0x10A30, 0x10A31, 0x10A32, 0x10A33, 0x10A40, 0x10A41,\n\t      0x10A42, 0x10A43, 0x10A44, 0x10A45, 0x10A46, 0x10A47, 0x10A50, 0x10A51,\n\t      0x10A52, 0x10A53, 0x10A54, 0x10A55, 0x10A56, 0x10A57, 0x10A58, 0x10A60,\n\t      0x10A61, 0x10A62, 0x10A63, 0x10A64, 0x10A65, 0x10A66, 0x10A67, 0x10A68,\n\t      0x10A69, 0x10A6A, 0x10A6B, 0x10A6C, 0x10A6D, 0x10A6E, 0x10A6F, 0x10A70,\n\t      0x10A71, 0x10A72, 0x10A73, 0x10A74, 0x10A75, 0x10A76, 0x10A77, 0x10A78,\n\t      0x10A79, 0x10A7A, 0x10A7B, 0x10A7C, 0x10A7D, 0x10A7E, 0x10A7F, 0x10B00,\n\t      0x10B01, 0x10B02, 0x10B03, 0x10B04, 0x10B05, 0x10B06, 0x10B07, 0x10B08,\n\t      0x10B09, 0x10B0A, 0x10B0B, 0x10B0C, 0x10B0D, 0x10B0E, 0x10B0F, 0x10B10,\n\t      0x10B11, 0x10B12, 0x10B13, 0x10B14, 0x10B15, 0x10B16, 0x10B17, 0x10B18,\n\t      0x10B19, 0x10B1A, 0x10B1B, 0x10B1C, 0x10B1D, 0x10B1E, 0x10B1F, 0x10B20,\n\t      0x10B21, 0x10B22, 0x10B23, 0x10B24, 0x10B25, 0x10B26, 0x10B27, 0x10B28,\n\t      0x10B29, 0x10B2A, 0x10B2B, 0x10B2C, 0x10B2D, 0x10B2E, 0x10B2F, 0x10B30,\n\t      0x10B31, 0x10B32, 0x10B33, 0x10B34, 0x10B35, 0x10B40, 0x10B41, 0x10B42,\n\t      0x10B43, 0x10B44, 0x10B45, 0x10B46, 0x10B47, 0x10B48, 0x10B49, 0x10B4A,\n\t      0x10B4B, 0x10B4C, 0x10B4D, 0x10B4E, 0x10B4F, 0x10B50, 0x10B51, 0x10B52,\n\t      0x10B53, 0x10B54, 0x10B55, 0x10B58, 0x10B59, 0x10B5A, 0x10B5B, 0x10B5C,\n\t      0x10B5D, 0x10B5E, 0x10B5F, 0x10B60, 0x10B61, 0x10B62, 0x10B63, 0x10B64,\n\t      0x10B65, 0x10B66, 0x10B67, 0x10B68, 0x10B69, 0x10B6A, 0x10B6B, 0x10B6C,\n\t      0x10B6D, 0x10B6E, 0x10B6F, 0x10B70, 0x10B71, 0x10B72, 0x10B78, 0x10B79,\n\t      0x10B7A, 0x10B7B, 0x10B7C, 0x10B7D, 0x10B7E, 0x10B7F, 0x10C00, 0x10C01,\n\t      0x10C02, 0x10C03, 0x10C04, 0x10C05, 0x10C06, 0x10C07, 0x10C08, 0x10C09,\n\t      0x10C0A, 0x10C0B, 0x10C0C, 0x10C0D, 0x10C0E, 0x10C0F, 0x10C10, 0x10C11,\n\t      0x10C12, 0x10C13, 0x10C14, 0x10C15, 0x10C16, 0x10C17, 0x10C18, 0x10C19,\n\t      0x10C1A, 0x10C1B, 0x10C1C, 0x10C1D, 0x10C1E, 0x10C1F, 0x10C20, 0x10C21,\n\t      0x10C22, 0x10C23, 0x10C24, 0x10C25, 0x10C26, 0x10C27, 0x10C28, 0x10C29,\n\t      0x10C2A, 0x10C2B, 0x10C2C, 0x10C2D, 0x10C2E, 0x10C2F, 0x10C30, 0x10C31,\n\t      0x10C32, 0x10C33, 0x10C34, 0x10C35, 0x10C36, 0x10C37, 0x10C38, 0x10C39,\n\t      0x10C3A, 0x10C3B, 0x10C3C, 0x10C3D, 0x10C3E, 0x10C3F, 0x10C40, 0x10C41,\n\t      0x10C42, 0x10C43, 0x10C44, 0x10C45, 0x10C46, 0x10C47, 0x10C48, 0x1EE00,\n\t      0x1EE01, 0x1EE02, 0x1EE03, 0x1EE05, 0x1EE06, 0x1EE07, 0x1EE08, 0x1EE09,\n\t      0x1EE0A, 0x1EE0B, 0x1EE0C, 0x1EE0D, 0x1EE0E, 0x1EE0F, 0x1EE10, 0x1EE11,\n\t      0x1EE12, 0x1EE13, 0x1EE14, 0x1EE15, 0x1EE16, 0x1EE17, 0x1EE18, 0x1EE19,\n\t      0x1EE1A, 0x1EE1B, 0x1EE1C, 0x1EE1D, 0x1EE1E, 0x1EE1F, 0x1EE21, 0x1EE22,\n\t      0x1EE24, 0x1EE27, 0x1EE29, 0x1EE2A, 0x1EE2B, 0x1EE2C, 0x1EE2D, 0x1EE2E,\n\t      0x1EE2F, 0x1EE30, 0x1EE31, 0x1EE32, 0x1EE34, 0x1EE35, 0x1EE36, 0x1EE37,\n\t      0x1EE39, 0x1EE3B, 0x1EE42, 0x1EE47, 0x1EE49, 0x1EE4B, 0x1EE4D, 0x1EE4E,\n\t      0x1EE4F, 0x1EE51, 0x1EE52, 0x1EE54, 0x1EE57, 0x1EE59, 0x1EE5B, 0x1EE5D,\n\t      0x1EE5F, 0x1EE61, 0x1EE62, 0x1EE64, 0x1EE67, 0x1EE68, 0x1EE69, 0x1EE6A,\n\t      0x1EE6C, 0x1EE6D, 0x1EE6E, 0x1EE6F, 0x1EE70, 0x1EE71, 0x1EE72, 0x1EE74,\n\t      0x1EE75, 0x1EE76, 0x1EE77, 0x1EE79, 0x1EE7A, 0x1EE7B, 0x1EE7C, 0x1EE7E,\n\t      0x1EE80, 0x1EE81, 0x1EE82, 0x1EE83, 0x1EE84, 0x1EE85, 0x1EE86, 0x1EE87,\n\t      0x1EE88, 0x1EE89, 0x1EE8B, 0x1EE8C, 0x1EE8D, 0x1EE8E, 0x1EE8F, 0x1EE90,\n\t      0x1EE91, 0x1EE92, 0x1EE93, 0x1EE94, 0x1EE95, 0x1EE96, 0x1EE97, 0x1EE98,\n\t      0x1EE99, 0x1EE9A, 0x1EE9B, 0x1EEA1, 0x1EEA2, 0x1EEA3, 0x1EEA5, 0x1EEA6,\n\t      0x1EEA7, 0x1EEA8, 0x1EEA9, 0x1EEAB, 0x1EEAC, 0x1EEAD, 0x1EEAE, 0x1EEAF,\n\t      0x1EEB0, 0x1EEB1, 0x1EEB2, 0x1EEB3, 0x1EEB4, 0x1EEB5, 0x1EEB6, 0x1EEB7,\n\t      0x1EEB8, 0x1EEB9, 0x1EEBA, 0x1EEBB, 0x10FFFD];\n\t\n\t  function determineBidi(cueDiv) {\n\t    var nodeStack = [],\n\t        text = \"\",\n\t        charCode;\n\t\n\t    if (!cueDiv || !cueDiv.childNodes) {\n\t      return \"ltr\";\n\t    }\n\t\n\t    function pushNodes(nodeStack, node) {\n\t      for (var i = node.childNodes.length - 1; i >= 0; i--) {\n\t        nodeStack.push(node.childNodes[i]);\n\t      }\n\t    }\n\t\n\t    function nextTextNode(nodeStack) {\n\t      if (!nodeStack || !nodeStack.length) {\n\t        return null;\n\t      }\n\t\n\t      var node = nodeStack.pop(),\n\t          text = node.textContent || node.innerText;\n\t      if (text) {\n\t        // TODO: This should match all unicode type B characters (paragraph\n\t        // separator characters). See issue #115.\n\t        var m = text.match(/^.*(\\n|\\r)/);\n\t        if (m) {\n\t          nodeStack.length = 0;\n\t          return m[0];\n\t        }\n\t        return text;\n\t      }\n\t      if (node.tagName === \"ruby\") {\n\t        return nextTextNode(nodeStack);\n\t      }\n\t      if (node.childNodes) {\n\t        pushNodes(nodeStack, node);\n\t        return nextTextNode(nodeStack);\n\t      }\n\t    }\n\t\n\t    pushNodes(nodeStack, cueDiv);\n\t    while ((text = nextTextNode(nodeStack))) {\n\t      for (var i = 0; i < text.length; i++) {\n\t        charCode = text.charCodeAt(i);\n\t        for (var j = 0; j < strongRTLChars.length; j++) {\n\t          if (strongRTLChars[j] === charCode) {\n\t            return \"rtl\";\n\t          }\n\t        }\n\t      }\n\t    }\n\t    return \"ltr\";\n\t  }\n\t\n\t  function computeLinePos(cue) {\n\t    if (typeof cue.line === \"number\" &&\n\t        (cue.snapToLines || (cue.line >= 0 && cue.line <= 100))) {\n\t      return cue.line;\n\t    }\n\t    if (!cue.track || !cue.track.textTrackList ||\n\t        !cue.track.textTrackList.mediaElement) {\n\t      return -1;\n\t    }\n\t    var track = cue.track,\n\t        trackList = track.textTrackList,\n\t        count = 0;\n\t    for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n\t      if (trackList[i].mode === \"showing\") {\n\t        count++;\n\t      }\n\t    }\n\t    return ++count * -1;\n\t  }\n\t\n\t  function StyleBox() {\n\t  }\n\t\n\t  // Apply styles to a div. If there is no div passed then it defaults to the\n\t  // div on 'this'.\n\t  StyleBox.prototype.applyStyles = function(styles, div) {\n\t    div = div || this.div;\n\t    for (var prop in styles) {\n\t      if (styles.hasOwnProperty(prop)) {\n\t        div.style[prop] = styles[prop];\n\t      }\n\t    }\n\t  };\n\t\n\t  StyleBox.prototype.formatStyle = function(val, unit) {\n\t    return val === 0 ? 0 : val + unit;\n\t  };\n\t\n\t  // Constructs the computed display state of the cue (a div). Places the div\n\t  // into the overlay which should be a block level element (usually a div).\n\t  function CueStyleBox(window, cue, styleOptions) {\n\t    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n\t    var color = \"rgba(255, 255, 255, 1)\";\n\t    var backgroundColor = \"rgba(0, 0, 0, 0.8)\";\n\t\n\t    if (isIE8) {\n\t      color = \"rgb(255, 255, 255)\";\n\t      backgroundColor = \"rgb(0, 0, 0)\";\n\t    }\n\t\n\t    StyleBox.call(this);\n\t    this.cue = cue;\n\t\n\t    // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n\t    // have inline positioning and will function as the cue background box.\n\t    this.cueDiv = parseContent(window, cue.text);\n\t    var styles = {\n\t      color: color,\n\t      backgroundColor: backgroundColor,\n\t      position: \"relative\",\n\t      left: 0,\n\t      right: 0,\n\t      top: 0,\n\t      bottom: 0,\n\t      display: \"inline\"\n\t    };\n\t\n\t    if (!isIE8) {\n\t      styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\n\t                                               : cue.vertical === \"lr\" ? \"vertical-lr\"\n\t                                                                       : \"vertical-rl\";\n\t      styles.unicodeBidi = \"plaintext\";\n\t    }\n\t    this.applyStyles(styles, this.cueDiv);\n\t\n\t    // Create an absolutely positioned div that will be used to position the cue\n\t    // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n\t    // mirrors of them except \"middle\" which is \"center\" in CSS.\n\t    this.div = window.document.createElement(\"div\");\n\t    styles = {\n\t      textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n\t      font: styleOptions.font,\n\t      whiteSpace: \"pre-line\",\n\t      position: \"absolute\"\n\t    };\n\t\n\t    if (!isIE8) {\n\t      styles.direction = determineBidi(this.cueDiv);\n\t      styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\n\t                                               : cue.vertical === \"lr\" ? \"vertical-lr\"\n\t                                                                       : \"vertical-rl\".\n\t      stylesunicodeBidi =  \"plaintext\";\n\t    }\n\t\n\t    this.applyStyles(styles);\n\t\n\t    this.div.appendChild(this.cueDiv);\n\t\n\t    // Calculate the distance from the reference edge of the viewport to the text\n\t    // position of the cue box. The reference edge will be resolved later when\n\t    // the box orientation styles are applied.\n\t    var textPos = 0;\n\t    switch (cue.positionAlign) {\n\t    case \"start\":\n\t      textPos = cue.position;\n\t      break;\n\t    case \"middle\":\n\t      textPos = cue.position - (cue.size / 2);\n\t      break;\n\t    case \"end\":\n\t      textPos = cue.position - cue.size;\n\t      break;\n\t    }\n\t\n\t    // Horizontal box orientation; textPos is the distance from the left edge of the\n\t    // area to the left edge of the box and cue.size is the distance extending to\n\t    // the right from there.\n\t    if (cue.vertical === \"\") {\n\t      this.applyStyles({\n\t        left:  this.formatStyle(textPos, \"%\"),\n\t        width: this.formatStyle(cue.size, \"%\")\n\t      });\n\t    // Vertical box orientation; textPos is the distance from the top edge of the\n\t    // area to the top edge of the box and cue.size is the height extending\n\t    // downwards from there.\n\t    } else {\n\t      this.applyStyles({\n\t        top: this.formatStyle(textPos, \"%\"),\n\t        height: this.formatStyle(cue.size, \"%\")\n\t      });\n\t    }\n\t\n\t    this.move = function(box) {\n\t      this.applyStyles({\n\t        top: this.formatStyle(box.top, \"px\"),\n\t        bottom: this.formatStyle(box.bottom, \"px\"),\n\t        left: this.formatStyle(box.left, \"px\"),\n\t        right: this.formatStyle(box.right, \"px\"),\n\t        height: this.formatStyle(box.height, \"px\"),\n\t        width: this.formatStyle(box.width, \"px\")\n\t      });\n\t    };\n\t  }\n\t  CueStyleBox.prototype = _objCreate(StyleBox.prototype);\n\t  CueStyleBox.prototype.constructor = CueStyleBox;\n\t\n\t  // Represents the co-ordinates of an Element in a way that we can easily\n\t  // compute things with such as if it overlaps or intersects with another Element.\n\t  // Can initialize it with either a StyleBox or another BoxPosition.\n\t  function BoxPosition(obj) {\n\t    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n\t\n\t    // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n\t    // was passed in and we need to copy the results of 'getBoundingClientRect'\n\t    // as the object returned is readonly. All co-ordinate values are in reference\n\t    // to the viewport origin (top left).\n\t    var lh, height, width, top;\n\t    if (obj.div) {\n\t      height = obj.div.offsetHeight;\n\t      width = obj.div.offsetWidth;\n\t      top = obj.div.offsetTop;\n\t\n\t      var rects = (rects = obj.div.childNodes) && (rects = rects[0]) &&\n\t                  rects.getClientRects && rects.getClientRects();\n\t      obj = obj.div.getBoundingClientRect();\n\t      // In certain cases the outter div will be slightly larger then the sum of\n\t      // the inner div's lines. This could be due to bold text, etc, on some platforms.\n\t      // In this case we should get the average line height and use that. This will\n\t      // result in the desired behaviour.\n\t      lh = rects ? Math.max((rects[0] && rects[0].height) || 0, obj.height / rects.length)\n\t                 : 0;\n\t\n\t    }\n\t    this.left = obj.left;\n\t    this.right = obj.right;\n\t    this.top = obj.top || top;\n\t    this.height = obj.height || height;\n\t    this.bottom = obj.bottom || (top + (obj.height || height));\n\t    this.width = obj.width || width;\n\t    this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n\t\n\t    if (isIE8 && !this.lineHeight) {\n\t      this.lineHeight = 13;\n\t    }\n\t  }\n\t\n\t  // Move the box along a particular axis. Optionally pass in an amount to move\n\t  // the box. If no amount is passed then the default is the line height of the\n\t  // box.\n\t  BoxPosition.prototype.move = function(axis, toMove) {\n\t    toMove = toMove !== undefined ? toMove : this.lineHeight;\n\t    switch (axis) {\n\t    case \"+x\":\n\t      this.left += toMove;\n\t      this.right += toMove;\n\t      break;\n\t    case \"-x\":\n\t      this.left -= toMove;\n\t      this.right -= toMove;\n\t      break;\n\t    case \"+y\":\n\t      this.top += toMove;\n\t      this.bottom += toMove;\n\t      break;\n\t    case \"-y\":\n\t      this.top -= toMove;\n\t      this.bottom -= toMove;\n\t      break;\n\t    }\n\t  };\n\t\n\t  // Check if this box overlaps another box, b2.\n\t  BoxPosition.prototype.overlaps = function(b2) {\n\t    return this.left < b2.right &&\n\t           this.right > b2.left &&\n\t           this.top < b2.bottom &&\n\t           this.bottom > b2.top;\n\t  };\n\t\n\t  // Check if this box overlaps any other boxes in boxes.\n\t  BoxPosition.prototype.overlapsAny = function(boxes) {\n\t    for (var i = 0; i < boxes.length; i++) {\n\t      if (this.overlaps(boxes[i])) {\n\t        return true;\n\t      }\n\t    }\n\t    return false;\n\t  };\n\t\n\t  // Check if this box is within another box.\n\t  BoxPosition.prototype.within = function(container) {\n\t    return this.top >= container.top &&\n\t           this.bottom <= container.bottom &&\n\t           this.left >= container.left &&\n\t           this.right <= container.right;\n\t  };\n\t\n\t  // Check if this box is entirely within the container or it is overlapping\n\t  // on the edge opposite of the axis direction passed. For example, if \"+x\" is\n\t  // passed and the box is overlapping on the left edge of the container, then\n\t  // return true.\n\t  BoxPosition.prototype.overlapsOppositeAxis = function(container, axis) {\n\t    switch (axis) {\n\t    case \"+x\":\n\t      return this.left < container.left;\n\t    case \"-x\":\n\t      return this.right > container.right;\n\t    case \"+y\":\n\t      return this.top < container.top;\n\t    case \"-y\":\n\t      return this.bottom > container.bottom;\n\t    }\n\t  };\n\t\n\t  // Find the percentage of the area that this box is overlapping with another\n\t  // box.\n\t  BoxPosition.prototype.intersectPercentage = function(b2) {\n\t    var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n\t        y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n\t        intersectArea = x * y;\n\t    return intersectArea / (this.height * this.width);\n\t  };\n\t\n\t  // Convert the positions from this box to CSS compatible positions using\n\t  // the reference container's positions. This has to be done because this\n\t  // box's positions are in reference to the viewport origin, whereas, CSS\n\t  // values are in referecne to their respective edges.\n\t  BoxPosition.prototype.toCSSCompatValues = function(reference) {\n\t    return {\n\t      top: this.top - reference.top,\n\t      bottom: reference.bottom - this.bottom,\n\t      left: this.left - reference.left,\n\t      right: reference.right - this.right,\n\t      height: this.height,\n\t      width: this.width\n\t    };\n\t  };\n\t\n\t  // Get an object that represents the box's position without anything extra.\n\t  // Can pass a StyleBox, HTMLElement, or another BoxPositon.\n\t  BoxPosition.getSimpleBoxPosition = function(obj) {\n\t    var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n\t    var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n\t    var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n\t\n\t    obj = obj.div ? obj.div.getBoundingClientRect() :\n\t                  obj.tagName ? obj.getBoundingClientRect() : obj;\n\t    var ret = {\n\t      left: obj.left,\n\t      right: obj.right,\n\t      top: obj.top || top,\n\t      height: obj.height || height,\n\t      bottom: obj.bottom || (top + (obj.height || height)),\n\t      width: obj.width || width\n\t    };\n\t    return ret;\n\t  };\n\t\n\t  // Move a StyleBox to its specified, or next best, position. The containerBox\n\t  // is the box that contains the StyleBox, such as a div. boxPositions are\n\t  // a list of other boxes that the styleBox can't overlap with.\n\t  function moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n\t\n\t    // Find the best position for a cue box, b, on the video. The axis parameter\n\t    // is a list of axis, the order of which, it will move the box along. For example:\n\t    // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n\t    // direction. If it doesn't find a good position for it there it will then move\n\t    // it along the x axis in the negative direction.\n\t    function findBestPosition(b, axis) {\n\t      var bestPosition,\n\t          specifiedPosition = new BoxPosition(b),\n\t          percentage = 1; // Highest possible so the first thing we get is better.\n\t\n\t      for (var i = 0; i < axis.length; i++) {\n\t        while (b.overlapsOppositeAxis(containerBox, axis[i]) ||\n\t               (b.within(containerBox) && b.overlapsAny(boxPositions))) {\n\t          b.move(axis[i]);\n\t        }\n\t        // We found a spot where we aren't overlapping anything. This is our\n\t        // best position.\n\t        if (b.within(containerBox)) {\n\t          return b;\n\t        }\n\t        var p = b.intersectPercentage(containerBox);\n\t        // If we're outside the container box less then we were on our last try\n\t        // then remember this position as the best position.\n\t        if (percentage > p) {\n\t          bestPosition = new BoxPosition(b);\n\t          percentage = p;\n\t        }\n\t        // Reset the box position to the specified position.\n\t        b = new BoxPosition(specifiedPosition);\n\t      }\n\t      return bestPosition || specifiedPosition;\n\t    }\n\t\n\t    var boxPosition = new BoxPosition(styleBox),\n\t        cue = styleBox.cue,\n\t        linePos = computeLinePos(cue),\n\t        axis = [];\n\t\n\t    // If we have a line number to align the cue to.\n\t    if (cue.snapToLines) {\n\t      var size;\n\t      switch (cue.vertical) {\n\t      case \"\":\n\t        axis = [ \"+y\", \"-y\" ];\n\t        size = \"height\";\n\t        break;\n\t      case \"rl\":\n\t        axis = [ \"+x\", \"-x\" ];\n\t        size = \"width\";\n\t        break;\n\t      case \"lr\":\n\t        axis = [ \"-x\", \"+x\" ];\n\t        size = \"width\";\n\t        break;\n\t      }\n\t\n\t      var step = boxPosition.lineHeight,\n\t          position = step * Math.round(linePos),\n\t          maxPosition = containerBox[size] + step,\n\t          initialAxis = axis[0];\n\t\n\t      // If the specified intial position is greater then the max position then\n\t      // clamp the box to the amount of steps it would take for the box to\n\t      // reach the max position.\n\t      if (Math.abs(position) > maxPosition) {\n\t        position = position < 0 ? -1 : 1;\n\t        position *= Math.ceil(maxPosition / step) * step;\n\t      }\n\t\n\t      // If computed line position returns negative then line numbers are\n\t      // relative to the bottom of the video instead of the top. Therefore, we\n\t      // need to increase our initial position by the length or width of the\n\t      // video, depending on the writing direction, and reverse our axis directions.\n\t      if (linePos < 0) {\n\t        position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n\t        axis = axis.reverse();\n\t      }\n\t\n\t      // Move the box to the specified position. This may not be its best\n\t      // position.\n\t      boxPosition.move(initialAxis, position);\n\t\n\t    } else {\n\t      // If we have a percentage line value for the cue.\n\t      var calculatedPercentage = (boxPosition.lineHeight / containerBox.height) * 100;\n\t\n\t      switch (cue.lineAlign) {\n\t      case \"middle\":\n\t        linePos -= (calculatedPercentage / 2);\n\t        break;\n\t      case \"end\":\n\t        linePos -= calculatedPercentage;\n\t        break;\n\t      }\n\t\n\t      // Apply initial line position to the cue box.\n\t      switch (cue.vertical) {\n\t      case \"\":\n\t        styleBox.applyStyles({\n\t          top: styleBox.formatStyle(linePos, \"%\")\n\t        });\n\t        break;\n\t      case \"rl\":\n\t        styleBox.applyStyles({\n\t          left: styleBox.formatStyle(linePos, \"%\")\n\t        });\n\t        break;\n\t      case \"lr\":\n\t        styleBox.applyStyles({\n\t          right: styleBox.formatStyle(linePos, \"%\")\n\t        });\n\t        break;\n\t      }\n\t\n\t      axis = [ \"+y\", \"-x\", \"+x\", \"-y\" ];\n\t\n\t      // Get the box position again after we've applied the specified positioning\n\t      // to it.\n\t      boxPosition = new BoxPosition(styleBox);\n\t    }\n\t\n\t    var bestPosition = findBestPosition(boxPosition, axis);\n\t    styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n\t  }\n\t\n\t  function WebVTT() {\n\t    // Nothing\n\t  }\n\t\n\t  // Helper to allow strings to be decoded instead of the default binary utf8 data.\n\t  WebVTT.StringDecoder = function() {\n\t    return {\n\t      decode: function(data) {\n\t        if (!data) {\n\t          return \"\";\n\t        }\n\t        if (typeof data !== \"string\") {\n\t          throw new Error(\"Error - expected string data.\");\n\t        }\n\t        return decodeURIComponent(encodeURIComponent(data));\n\t      }\n\t    };\n\t  };\n\t\n\t  WebVTT.convertCueToDOMTree = function(window, cuetext) {\n\t    if (!window || !cuetext) {\n\t      return null;\n\t    }\n\t    return parseContent(window, cuetext);\n\t  };\n\t\n\t  var FONT_SIZE_PERCENT = 0.05;\n\t  var FONT_STYLE = \"sans-serif\";\n\t  var CUE_BACKGROUND_PADDING = \"1.5%\";\n\t\n\t  // Runs the processing model over the cues and regions passed to it.\n\t  // @param overlay A block level element (usually a div) that the computed cues\n\t  //                and regions will be placed into.\n\t  WebVTT.processCues = function(window, cues, overlay) {\n\t    if (!window || !cues || !overlay) {\n\t      return null;\n\t    }\n\t\n\t    // Remove all previous children.\n\t    while (overlay.firstChild) {\n\t      overlay.removeChild(overlay.firstChild);\n\t    }\n\t\n\t    var paddedOverlay = window.document.createElement(\"div\");\n\t    paddedOverlay.style.position = \"absolute\";\n\t    paddedOverlay.style.left = \"0\";\n\t    paddedOverlay.style.right = \"0\";\n\t    paddedOverlay.style.top = \"0\";\n\t    paddedOverlay.style.bottom = \"0\";\n\t    paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n\t    overlay.appendChild(paddedOverlay);\n\t\n\t    // Determine if we need to compute the display states of the cues. This could\n\t    // be the case if a cue's state has been changed since the last computation or\n\t    // if it has not been computed yet.\n\t    function shouldCompute(cues) {\n\t      for (var i = 0; i < cues.length; i++) {\n\t        if (cues[i].hasBeenReset || !cues[i].displayState) {\n\t          return true;\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t\n\t    // We don't need to recompute the cues' display states. Just reuse them.\n\t    if (!shouldCompute(cues)) {\n\t      for (var i = 0; i < cues.length; i++) {\n\t        paddedOverlay.appendChild(cues[i].displayState);\n\t      }\n\t      return;\n\t    }\n\t\n\t    var boxPositions = [],\n\t        containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n\t        fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n\t    var styleOptions = {\n\t      font: fontSize + \"px \" + FONT_STYLE\n\t    };\n\t\n\t    (function() {\n\t      var styleBox, cue;\n\t\n\t      for (var i = 0; i < cues.length; i++) {\n\t        cue = cues[i];\n\t\n\t        // Compute the intial position and styles of the cue div.\n\t        styleBox = new CueStyleBox(window, cue, styleOptions);\n\t        paddedOverlay.appendChild(styleBox.div);\n\t\n\t        // Move the cue div to it's correct line position.\n\t        moveBoxToLinePosition(window, styleBox, containerBox, boxPositions);\n\t\n\t        // Remember the computed div so that we don't have to recompute it later\n\t        // if we don't have too.\n\t        cue.displayState = styleBox.div;\n\t\n\t        boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n\t      }\n\t    })();\n\t  };\n\t\n\t  WebVTT.Parser = function(window, vttjs, decoder) {\n\t    if (!decoder) {\n\t      decoder = vttjs;\n\t      vttjs = {};\n\t    }\n\t    if (!vttjs) {\n\t      vttjs = {};\n\t    }\n\t\n\t    this.window = window;\n\t    this.vttjs = vttjs;\n\t    this.state = \"INITIAL\";\n\t    this.buffer = \"\";\n\t    this.decoder = decoder || new TextDecoder(\"utf8\");\n\t    this.regionList = [];\n\t  };\n\t\n\t  WebVTT.Parser.prototype = {\n\t    // If the error is a ParsingError then report it to the consumer if\n\t    // possible. If it's not a ParsingError then throw it like normal.\n\t    reportOrThrowError: function(e) {\n\t      if (e instanceof ParsingError) {\n\t        this.onparsingerror && this.onparsingerror(e);\n\t      } else {\n\t        throw e;\n\t      }\n\t    },\n\t    parse: function (data) {\n\t      var self = this;\n\t\n\t      // If there is no data then we won't decode it, but will just try to parse\n\t      // whatever is in buffer already. This may occur in circumstances, for\n\t      // example when flush() is called.\n\t      if (data) {\n\t        // Try to decode the data that we received.\n\t        self.buffer += self.decoder.decode(data, {stream: true});\n\t      }\n\t\n\t      function collectNextLine() {\n\t        var buffer = self.buffer;\n\t        var pos = 0;\n\t        while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n\t          ++pos;\n\t        }\n\t        var line = buffer.substr(0, pos);\n\t        // Advance the buffer early in case we fail below.\n\t        if (buffer[pos] === '\\r') {\n\t          ++pos;\n\t        }\n\t        if (buffer[pos] === '\\n') {\n\t          ++pos;\n\t        }\n\t        self.buffer = buffer.substr(pos);\n\t        return line;\n\t      }\n\t\n\t      // 3.4 WebVTT region and WebVTT region settings syntax\n\t      function parseRegion(input) {\n\t        var settings = new Settings();\n\t\n\t        parseOptions(input, function (k, v) {\n\t          switch (k) {\n\t          case \"id\":\n\t            settings.set(k, v);\n\t            break;\n\t          case \"width\":\n\t            settings.percent(k, v);\n\t            break;\n\t          case \"lines\":\n\t            settings.integer(k, v);\n\t            break;\n\t          case \"regionanchor\":\n\t          case \"viewportanchor\":\n\t            var xy = v.split(',');\n\t            if (xy.length !== 2) {\n\t              break;\n\t            }\n\t            // We have to make sure both x and y parse, so use a temporary\n\t            // settings object here.\n\t            var anchor = new Settings();\n\t            anchor.percent(\"x\", xy[0]);\n\t            anchor.percent(\"y\", xy[1]);\n\t            if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n\t              break;\n\t            }\n\t            settings.set(k + \"X\", anchor.get(\"x\"));\n\t            settings.set(k + \"Y\", anchor.get(\"y\"));\n\t            break;\n\t          case \"scroll\":\n\t            settings.alt(k, v, [\"up\"]);\n\t            break;\n\t          }\n\t        }, /=/, /\\s/);\n\t\n\t        // Create the region, using default values for any values that were not\n\t        // specified.\n\t        if (settings.has(\"id\")) {\n\t          var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n\t          region.width = settings.get(\"width\", 100);\n\t          region.lines = settings.get(\"lines\", 3);\n\t          region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n\t          region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n\t          region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n\t          region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n\t          region.scroll = settings.get(\"scroll\", \"\");\n\t          // Register the region.\n\t          self.onregion && self.onregion(region);\n\t          // Remember the VTTRegion for later in case we parse any VTTCues that\n\t          // reference it.\n\t          self.regionList.push({\n\t            id: settings.get(\"id\"),\n\t            region: region\n\t          });\n\t        }\n\t      }\n\t\n\t      // 3.2 WebVTT metadata header syntax\n\t      function parseHeader(input) {\n\t        parseOptions(input, function (k, v) {\n\t          switch (k) {\n\t          case \"Region\":\n\t            // 3.3 WebVTT region metadata header syntax\n\t            parseRegion(v);\n\t            break;\n\t          }\n\t        }, /:/);\n\t      }\n\t\n\t      // 5.1 WebVTT file parsing.\n\t      try {\n\t        var line;\n\t        if (self.state === \"INITIAL\") {\n\t          // We can't start parsing until we have the first line.\n\t          if (!/\\r\\n|\\n/.test(self.buffer)) {\n\t            return this;\n\t          }\n\t\n\t          line = collectNextLine();\n\t\n\t          var m = line.match(/^WEBVTT([ \\t].*)?$/);\n\t          if (!m || !m[0]) {\n\t            throw new ParsingError(ParsingError.Errors.BadSignature);\n\t          }\n\t\n\t          self.state = \"HEADER\";\n\t        }\n\t\n\t        var alreadyCollectedLine = false;\n\t        while (self.buffer) {\n\t          // We can't parse a line until we have the full line.\n\t          if (!/\\r\\n|\\n/.test(self.buffer)) {\n\t            return this;\n\t          }\n\t\n\t          if (!alreadyCollectedLine) {\n\t            line = collectNextLine();\n\t          } else {\n\t            alreadyCollectedLine = false;\n\t          }\n\t\n\t          switch (self.state) {\n\t          case \"HEADER\":\n\t            // 13-18 - Allow a header (metadata) under the WEBVTT line.\n\t            if (/:/.test(line)) {\n\t              parseHeader(line);\n\t            } else if (!line) {\n\t              // An empty line terminates the header and starts the body (cues).\n\t              self.state = \"ID\";\n\t            }\n\t            continue;\n\t          case \"NOTE\":\n\t            // Ignore NOTE blocks.\n\t            if (!line) {\n\t              self.state = \"ID\";\n\t            }\n\t            continue;\n\t          case \"ID\":\n\t            // Check for the start of NOTE blocks.\n\t            if (/^NOTE($|[ \\t])/.test(line)) {\n\t              self.state = \"NOTE\";\n\t              break;\n\t            }\n\t            // 19-29 - Allow any number of line terminators, then initialize new cue values.\n\t            if (!line) {\n\t              continue;\n\t            }\n\t            self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\");\n\t            self.state = \"CUE\";\n\t            // 30-39 - Check if self line contains an optional identifier or timing data.\n\t            if (line.indexOf(\"-->\") === -1) {\n\t              self.cue.id = line;\n\t              continue;\n\t            }\n\t            // Process line as start of a cue.\n\t            /*falls through*/\n\t          case \"CUE\":\n\t            // 40 - Collect cue timings and settings.\n\t            try {\n\t              parseCue(line, self.cue, self.regionList);\n\t            } catch (e) {\n\t              self.reportOrThrowError(e);\n\t              // In case of an error ignore rest of the cue.\n\t              self.cue = null;\n\t              self.state = \"BADCUE\";\n\t              continue;\n\t            }\n\t            self.state = \"CUETEXT\";\n\t            continue;\n\t          case \"CUETEXT\":\n\t            var hasSubstring = line.indexOf(\"-->\") !== -1;\n\t            // 34 - If we have an empty line then report the cue.\n\t            // 35 - If we have the special substring '-->' then report the cue,\n\t            // but do not collect the line as we need to process the current\n\t            // one as a new cue.\n\t            if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n\t              // We are done parsing self cue.\n\t              self.oncue && self.oncue(self.cue);\n\t              self.cue = null;\n\t              self.state = \"ID\";\n\t              continue;\n\t            }\n\t            if (self.cue.text) {\n\t              self.cue.text += \"\\n\";\n\t            }\n\t            self.cue.text += line;\n\t            continue;\n\t          case \"BADCUE\": // BADCUE\n\t            // 54-62 - Collect and discard the remaining cue.\n\t            if (!line) {\n\t              self.state = \"ID\";\n\t            }\n\t            continue;\n\t          }\n\t        }\n\t      } catch (e) {\n\t        self.reportOrThrowError(e);\n\t\n\t        // If we are currently parsing a cue, report what we have.\n\t        if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n\t          self.oncue(self.cue);\n\t        }\n\t        self.cue = null;\n\t        // Enter BADWEBVTT state if header was not parsed correctly otherwise\n\t        // another exception occurred so enter BADCUE state.\n\t        self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n\t      }\n\t      return this;\n\t    },\n\t    flush: function () {\n\t      var self = this;\n\t      try {\n\t        // Finish decoding the stream.\n\t        self.buffer += self.decoder.decode();\n\t        // Synthesize the end of the current cue or region.\n\t        if (self.cue || self.state === \"HEADER\") {\n\t          self.buffer += \"\\n\\n\";\n\t          self.parse();\n\t        }\n\t        // If we've flushed, parsed, and we're still on the INITIAL state then\n\t        // that means we don't have enough of the stream to parse the first\n\t        // line.\n\t        if (self.state === \"INITIAL\") {\n\t          throw new ParsingError(ParsingError.Errors.BadSignature);\n\t        }\n\t      } catch(e) {\n\t        self.reportOrThrowError(e);\n\t      }\n\t      self.onflush && self.onflush();\n\t      return this;\n\t    }\n\t  };\n\t\n\t  global.WebVTT = WebVTT;\n\t\n\t}(this, (this.vttjs || {})));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)(module)))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * isMobile.js v0.4.0\n\t *\n\t * A simple library to detect Apple phones and tablets,\n\t * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),\n\t * and any kind of seven inch device, via user agent sniffing.\n\t *\n\t * @author: Kai Mallea (kmallea@gmail.com)\n\t *\n\t * @license: http://creativecommons.org/publicdomain/zero/1.0/\n\t */\n\t(function (global) {\n\t\n\t    var apple_phone         = /iPhone/i,\n\t        apple_ipod          = /iPod/i,\n\t        apple_tablet        = /iPad/i,\n\t        android_phone       = /(?=.*\\bAndroid\\b)(?=.*\\bMobile\\b)/i, // Match 'Android' AND 'Mobile'\n\t        android_tablet      = /Android/i,\n\t        amazon_phone        = /(?=.*\\bAndroid\\b)(?=.*\\bSD4930UR\\b)/i,\n\t        amazon_tablet       = /(?=.*\\bAndroid\\b)(?=.*\\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\\b)/i,\n\t        windows_phone       = /IEMobile/i,\n\t        windows_tablet      = /(?=.*\\bWindows\\b)(?=.*\\bARM\\b)/i, // Match 'Windows' AND 'ARM'\n\t        other_blackberry    = /BlackBerry/i,\n\t        other_blackberry_10 = /BB10/i,\n\t        other_opera         = /Opera Mini/i,\n\t        other_chrome        = /(CriOS|Chrome)(?=.*\\bMobile\\b)/i,\n\t        other_firefox       = /(?=.*\\bFirefox\\b)(?=.*\\bMobile\\b)/i, // Match 'Firefox' AND 'Mobile'\n\t        seven_inch = new RegExp(\n\t            '(?:' +         // Non-capturing group\n\t\n\t            'Nexus 7' +     // Nexus 7\n\t\n\t            '|' +           // OR\n\t\n\t            'BNTV250' +     // B&N Nook Tablet 7 inch\n\t\n\t            '|' +           // OR\n\t\n\t            'Kindle Fire' + // Kindle Fire\n\t\n\t            '|' +           // OR\n\t\n\t            'Silk' +        // Kindle Fire, Silk Accelerated\n\t\n\t            '|' +           // OR\n\t\n\t            'GT-P1000' +    // Galaxy Tab 7 inch\n\t\n\t            ')',            // End non-capturing group\n\t\n\t            'i');           // Case-insensitive matching\n\t\n\t    var match = function(regex, userAgent) {\n\t        return regex.test(userAgent);\n\t    };\n\t\n\t    var IsMobileClass = function(userAgent) {\n\t        var ua = userAgent || navigator.userAgent;\n\t\n\t        // Facebook mobile app's integrated browser adds a bunch of strings that\n\t        // match everything. Strip it out if it exists.\n\t        var tmp = ua.split('[FBAN');\n\t        if (typeof tmp[1] !== 'undefined') {\n\t            ua = tmp[0];\n\t        }\n\t\n\t        // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n\t        // iPhone\" string. Same probable happens on other tablet platforms.\n\t        // This will confuse detection so strip it out if it exists.\n\t        tmp = ua.split('Twitter');\n\t        if (typeof tmp[1] !== 'undefined') {\n\t            ua = tmp[0];\n\t        }\n\t\n\t        this.apple = {\n\t            phone:  match(apple_phone, ua),\n\t            ipod:   match(apple_ipod, ua),\n\t            tablet: !match(apple_phone, ua) && match(apple_tablet, ua),\n\t            device: match(apple_phone, ua) || match(apple_ipod, ua) || match(apple_tablet, ua)\n\t        };\n\t        this.amazon = {\n\t            phone:  match(amazon_phone, ua),\n\t            tablet: !match(amazon_phone, ua) && match(amazon_tablet, ua),\n\t            device: match(amazon_phone, ua) || match(amazon_tablet, ua)\n\t        };\n\t        this.android = {\n\t            phone:  match(amazon_phone, ua) || match(android_phone, ua),\n\t            tablet: !match(amazon_phone, ua) && !match(android_phone, ua) && (match(amazon_tablet, ua) || match(android_tablet, ua)),\n\t            device: match(amazon_phone, ua) || match(amazon_tablet, ua) || match(android_phone, ua) || match(android_tablet, ua)\n\t        };\n\t        this.windows = {\n\t            phone:  match(windows_phone, ua),\n\t            tablet: match(windows_tablet, ua),\n\t            device: match(windows_phone, ua) || match(windows_tablet, ua)\n\t        };\n\t        this.other = {\n\t            blackberry:   match(other_blackberry, ua),\n\t            blackberry10: match(other_blackberry_10, ua),\n\t            opera:        match(other_opera, ua),\n\t            firefox:      match(other_firefox, ua),\n\t            chrome:       match(other_chrome, ua),\n\t            device:       match(other_blackberry, ua) || match(other_blackberry_10, ua) || match(other_opera, ua) || match(other_firefox, ua) || match(other_chrome, ua)\n\t        };\n\t        this.seven_inch = match(seven_inch, ua);\n\t        this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch;\n\t\n\t        // excludes 'other' devices and ipods, targeting touchscreen phones\n\t        this.phone = this.apple.phone || this.android.phone || this.windows.phone;\n\t\n\t        // excludes 7 inch devices, classifying as phone or tablet is left to the user\n\t        this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet;\n\t\n\t        if (typeof window === 'undefined') {\n\t            return this;\n\t        }\n\t    };\n\t\n\t    var instantiate = function() {\n\t        var IM = new IsMobileClass();\n\t        IM.Class = IsMobileClass;\n\t        return IM;\n\t    };\n\t\n\t    if (typeof module !== 'undefined' && module.exports && typeof window === 'undefined') {\n\t        //node\n\t        module.exports = IsMobileClass;\n\t    } else if (typeof module !== 'undefined' && module.exports && typeof window !== 'undefined') {\n\t        //browserify\n\t        module.exports = instantiate();\n\t    } else if (true) {\n\t        //AMD\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (global.isMobile = instantiate()), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else {\n\t        global.isMobile = instantiate();\n\t    }\n\t\n\t})(this);\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Copyright (c) 2014 Mike King (@micjamking)\n\t *\n\t * jQuery Succinct plugin\n\t * Version 1.1.0 (October 2014)\n\t *\n\t * Licensed under the MIT License\n\t */\n\t\n\t /*global jQuery*/\n\t(function($) {\n\t\t'use strict';\n\t\n\t\t$.fn.succinct = function(options) {\n\t\n\t\t\tvar settings = $.extend({\n\t\t\t\t\tsize: 240,\n\t\t\t\t\tomission: '...',\n\t\t\t\t\tignore: true\n\t\t\t\t}, options);\n\t\n\t\t\treturn this.each(function() {\n\t\n\t\t\t\tvar textDefault,\n\t\t\t\t\ttextTruncated,\n\t\t\t\t\telements = $(this),\n\t\t\t\t\tregex    = /[!-\\/:-@\\[-`{-~]$/,\n\t\t\t\t\tinit     = function() {\n\t\t\t\t\t\telements.each(function() {\n\t\t\t\t\t\t\ttextDefault = $(this).html();\n\t\n\t\t\t\t\t\t\tif (textDefault.length > settings.size) {\n\t\t\t\t\t\t\t\ttextTruncated = $.trim(textDefault)\n\t\t\t\t\t\t\t\t\t\t\t\t.substring(0, settings.size)\n\t\t\t\t\t\t\t\t\t\t\t\t.split(' ')\n\t\t\t\t\t\t\t\t\t\t\t\t.slice(0, -1)\n\t\t\t\t\t\t\t\t\t\t\t\t.join(' ');\n\t\n\t\t\t\t\t\t\t\tif (settings.ignore) {\n\t\t\t\t\t\t\t\t\ttextTruncated = textTruncated.replace(regex, '');\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t$(this).html(textTruncated + settings.omission);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\tinit();\n\t\t\t});\n\t\t};\n\t})(jQuery);\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t(function (window, document, videojs) {\n\t\n\t  /**\n\t   *  Cookie access functions.\n\t   *  From: https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n\t   */\n\t  var cookies = {\n\t    getItem: function (sKey) {\n\t      if (!sKey) { return null; }\n\t      return decodeURIComponent(\n\t        document.cookie.replace(\n\t          new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(\n\t            /[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")\n\t        ) || null;\n\t    },\n\t    setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n\t      if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n\t      var sExpires = \"\";\n\t      if (vEnd) {\n\t        switch (vEnd.constructor) {\n\t          case Number:\n\t            sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n\t            break;\n\t          case String:\n\t            sExpires = \"; expires=\" + vEnd;\n\t            break;\n\t          case Date:\n\t            sExpires = \"; expires=\" + vEnd.toUTCString();\n\t            break;\n\t        }\n\t      }\n\t      document.cookie =\n\t        encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue)\n\t          + sExpires\n\t          + (sDomain ? \"; domain=\" + sDomain : \"\")\n\t          + (sPath ? \"; path=\" + sPath : \"\")\n\t          + (bSecure ? \"; secure\" : \"\");\n\t      return true;\n\t    },\n\t    removeItem: function(sKey, sPath, sDomain) {\n\t      if (!this.hasItem(sKey)) {\n\t        return false;\n\t      }\n\t      document.cookie = encodeURIComponent(sKey) + \"=;\" + \" expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n\t      return true;\n\t    },\n\t    hasItem: function (sKey) {\n\t      if (!sKey) { return false; }\n\t      return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(\n\t        /[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n\t    },\n\t  },\n\t\n\t  /**\n\t   *  Local storage functionality.\n\t   */\n\t  localStorage = {\n\t    available: function() {\n\t      try {\n\t        window.localStorage.setItem('fishingForLocalStorage', 'itsHere');\n\t        window.localStorage.removeItem('fishingForLocalStorage');\n\t        return true;\n\t      } catch(e) {\n\t        return false;\n\t      }\n\t    },\n\t    getItem: function(key) {\n\t      return window.localStorage.getItem(key);\n\t    },\n\t    setItem: function(key, value) {\n\t      return window.localStorage.setItem(key, value);\n\t    },\n\t    removeItem: function(key) {\n\t      return window.localStorage.removeItem(key);\n\t    }\n\t  },\n\t\n\t  /**\n\t   *  Storage chooser, will use localstorage if available, otherwise use cookies.\n\t   */\n\t  storage = {\n\t    getItem: function (key) {\n\t      return localStorage.available() ? localStorage.getItem(key) : cookies.getItem(key);\n\t    },\n\t    setItem: function (key, value) {\n\t      localStorage.available() ? localStorage.setItem(key, value) : cookies.setItem(key, value, Infinity, '/');\n\t      return value;\n\t    },\n\t    removeItem: function (key) {\n\t      localStorage.available() ? localStorage.removeItem(key) : cookies.removeItem(key);\n\t    }\n\t  },\n\t\n\t  /**\n\t   *  Object extend function.\n\t   */\n\t  extend = function(obj) {\n\t    var arg, i, k;\n\t    for (i = 1; i < arguments.length; i++) {\n\t      arg = arguments[i];\n\t      for (k in arg) {\n\t        if (arg.hasOwnProperty(k)) {\n\t          obj[k] = arg[k];\n\t        }\n\t      }\n\t    }\n\t    return obj;\n\t  },\n\t\n\t  /**\n\t   *  Default settings for this plugin.\n\t   */\n\t  defaults = {\n\t    namespace: 'autoplay-toggle',   // namespace for cookie/localstorage\n\t  },\n\t\n\t  /**\n\t   *  Autoplay toggle plugin setup.\n\t   */\n\t  autoplayToggle = function (options) {\n\t\n\t    var player = this,\n\t        settings = extend({}, defaults, options || {}),\n\t        key = settings.namespace + '-autoplay';\n\t\n\t    // add new button to player\n\t    var autoplayBtn = document.createElement('div');\n\t    autoplayBtn.className = 'vjs-autoplay-toggle-button vjs-menu-button vjs-control';\n\t    autoplayBtn.innerHTML =\n\t      '<div>'\n\t        + '<span class=\"vjs-control-text\">'\n\t            + 'Autoplay:<br>'\n\t            + '<span class=\"autoplay-toggle autoplay-toggle-active autoplay-on\">On</span>'\n\t            + '&nbsp;/&nbsp;'\n\t            + '<span class=\"autoplay-toggle autoplay-off\">Off</span>'\n\t        + '</span>'\n\t      '</div>';\n\t    player.controlBar.el().appendChild(autoplayBtn);\n\t\n\t    // retrieve autoplay from storage and highlight the correct toggle option in *all* video players\n\t    var autoplayToggleButton = function (activate) {\n\t\n\t      // set cookie once\n\t      activate ? storage.removeItem(key) : storage.setItem(key, 'no');\n\t\n\t      // get all videos and toggle all their autoplays\n\t      var videos = document.querySelectorAll('.video-js');\n\t      for (var i = 0; i < videos.length; i++) {\n\t\n\t        // check that this video has a toggle button\n\t        var toggleBtnSelector  = videos[i].querySelectorAll('.vjs-autoplay-toggle-button');\n\t        if (toggleBtnSelector.length > 0) {\n\t          var toggleBtn = toggleBtnSelector[0],\n\t              toggleOn = toggleBtn.querySelectorAll('.autoplay-on')[0],\n\t              toggleOff = toggleBtn.querySelectorAll('.autoplay-off')[0];\n\t\n\t          if (activate) {\n\t            // toggle this on\n\t            toggleOn.className = 'autoplay-toggle autoplay-toggle-active autoplay-on';\n\t            toggleOff.className = 'autoplay-toggle autoplay-off';\n\t          } else {\n\t            // toggle this off\n\t            toggleOn.className = 'autoplay-toggle autoplay-on';\n\t            toggleOff.className = 'autoplay-toggle autoplay-toggle-active autoplay-off';\n\t          }\n\t        }\n\t      }\n\t    };\n\t\n\t    var turnOn = !storage.getItem(key);\n\t    // change player behavior based on toggle\n\t    if (player.autoplay() && !turnOn) {\n\t      // this could be autoplaying, make sure to stop it and ensure player's autoplay is false\n\t      player.autoplay(false);\n\t      player.pause();\n\t    } else if (player.autoplay() && turnOn) {\n\t      // we want this to autoplay\n\t      player.play();\n\t    }\n\t\n\t    // initialize autoplay toggle\n\t    autoplayToggleButton(turnOn);\n\t\n\t    // set up toggle click\n\t    autoplayBtn.onclick = function () {\n\t      // check if key in storage and do the opposite of that to toggle\n\t      var toggle = !!storage.getItem(key);\n\t      autoplayToggleButton(toggle);\n\t    };\n\t\n\t    // return player to allow this plugin to be chained\n\t    return player;\n\t\n\t  };\n\t\n\t  // set this thing up as a vjs plugin\n\t  videojs.plugin('autoplayToggle', autoplayToggle);\n\t\n\t  // alternative function for retrieving autoplay value from storage for situations where other plugins\n\t  //  are interfering with this plugin\n\t  videojs.autoplaySettingFromStorage = function (options) {\n\t    var settings = extend({}, defaults, options || {}),\n\t        key = settings.namespace + '-autoplay';\n\t\n\t    // negate what's in storage since only \"don't autoplay\" is stored\n\t    return !storage.getItem(key);\n\t  };\n\t\n\t})(window, document, videojs);\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/*\n\t* videojs-ga - v0.4.2 - 2016-04-25\n\t* Copyright (c) 2016 Michael Bensoussan\n\t* Licensed MIT\n\t*/\n\t(function() {\n\t  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\t\n\t  videojs.plugin('ga', function(options) {\n\t    var dataSetupOptions, defaultsEventsToTrack, end, error, eventCategory, eventLabel, eventsToTrack, fullscreen, loaded, parsedOptions, pause, percentsAlreadyTracked, percentsPlayedInterval, play, resize, seekEnd, seekStart, seeking, sendbeacon, timeupdate, volumeChange;\n\t    if (options == null) {\n\t      options = {};\n\t    }\n\t    dataSetupOptions = {};\n\t    if (this.options()[\"data-setup\"]) {\n\t      parsedOptions = JSON.parse(this.options()[\"data-setup\"]);\n\t      if (parsedOptions.ga) {\n\t        dataSetupOptions = parsedOptions.ga;\n\t      }\n\t    }\n\t    defaultsEventsToTrack = ['loaded', 'percentsPlayed', 'start', 'end', 'seek', 'play', 'pause', 'resize', 'volumeChange', 'error', 'fullscreen'];\n\t    eventsToTrack = options.eventsToTrack || dataSetupOptions.eventsToTrack || defaultsEventsToTrack;\n\t    percentsPlayedInterval = options.percentsPlayedInterval || dataSetupOptions.percentsPlayedInterval || 10;\n\t    eventCategory = options.eventCategory || dataSetupOptions.eventCategory || 'Video';\n\t    eventLabel = options.eventLabel || dataSetupOptions.eventLabel;\n\t    options.debug = options.debug || false;\n\t    percentsAlreadyTracked = [];\n\t    seekStart = seekEnd = 0;\n\t    seeking = false;\n\t    loaded = function() {\n\t      if (!eventLabel) {\n\t        eventLabel = this.currentSrc().split(\"/\").slice(-1)[0].replace(/\\.(\\w{3,4})(\\?.*)?$/i, '');\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"loadedmetadata\") >= 0) {\n\t        sendbeacon('loadedmetadata', true);\n\t      }\n\t    };\n\t    timeupdate = function() {\n\t      var currentTime, duration, percent, percentPlayed, _i;\n\t      currentTime = Math.round(this.currentTime());\n\t      duration = Math.round(this.duration());\n\t      percentPlayed = Math.round(currentTime / duration * 100);\n\t      for (percent = _i = 0; _i <= 99; percent = _i += percentsPlayedInterval) {\n\t        if (percentPlayed >= percent && __indexOf.call(percentsAlreadyTracked, percent) < 0) {\n\t          if (__indexOf.call(eventsToTrack, \"start\") >= 0 && percent === 0 && percentPlayed > 0) {\n\t            sendbeacon('start', true);\n\t          } else if (__indexOf.call(eventsToTrack, \"percentsPlayed\") >= 0 && percentPlayed !== 0) {\n\t            sendbeacon('percent played', true, percent);\n\t          }\n\t          if (percentPlayed > 0) {\n\t            percentsAlreadyTracked.push(percent);\n\t          }\n\t        }\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"seek\") >= 0) {\n\t        seekStart = seekEnd;\n\t        seekEnd = currentTime;\n\t        if (Math.abs(seekStart - seekEnd) > 1) {\n\t          seeking = true;\n\t          sendbeacon('seek start', false, seekStart);\n\t          sendbeacon('seek end', false, seekEnd);\n\t        }\n\t      }\n\t    };\n\t    end = function() {\n\t      sendbeacon('end', true);\n\t    };\n\t    play = function() {\n\t      var currentTime;\n\t      currentTime = Math.round(this.currentTime());\n\t      sendbeacon('play', true, currentTime);\n\t      seeking = false;\n\t    };\n\t    pause = function() {\n\t      var currentTime, duration;\n\t      currentTime = Math.round(this.currentTime());\n\t      duration = Math.round(this.duration());\n\t      if (currentTime !== duration && !seeking) {\n\t        sendbeacon('pause', false, currentTime);\n\t      }\n\t    };\n\t    volumeChange = function() {\n\t      var volume;\n\t      volume = this.muted() === true ? 0 : this.volume();\n\t      sendbeacon('volume change', false, volume);\n\t    };\n\t    resize = function() {\n\t      sendbeacon('resize - ' + this.width() + \"*\" + this.height(), true);\n\t    };\n\t    error = function() {\n\t      var currentTime;\n\t      currentTime = Math.round(this.currentTime());\n\t      sendbeacon('error', true, currentTime);\n\t    };\n\t    fullscreen = function() {\n\t      var currentTime;\n\t      currentTime = Math.round(this.currentTime());\n\t      if ((typeof this.isFullscreen === \"function\" ? this.isFullscreen() : void 0) || (typeof this.isFullScreen === \"function\" ? this.isFullScreen() : void 0)) {\n\t        sendbeacon('enter fullscreen', false, currentTime);\n\t      } else {\n\t        sendbeacon('exit fullscreen', false, currentTime);\n\t      }\n\t    };\n\t    sendbeacon = function(action, nonInteraction, value) {\n\t      var send;\n\t      send = options.gaPrefix ? \"\" + options.gaPrefix + \".send\" : 'send';\n\t      if (window.ga) {\n\t        ga(send, 'event', {\n\t          'eventCategory': eventCategory,\n\t          'eventAction': action,\n\t          'eventLabel': eventLabel,\n\t          'eventValue': value,\n\t          'nonInteraction': nonInteraction\n\t        });\n\t      } else if (window._gaq) {\n\t        if (options.gaPrefix) {\n\t          throw new Error('videojs.ga plugin does not support a gaPrefix with the `_gaq` implementation.');\n\t        }\n\t        _gaq.push(['_trackEvent', eventCategory, action, eventLabel, value, nonInteraction]);\n\t      } else if (options.debug) {\n\t        console.log(\"Google Analytics not detected\");\n\t      }\n\t    };\n\t    this.ready(function() {\n\t      this.on(\"loadedmetadata\", loaded);\n\t      this.on(\"timeupdate\", timeupdate);\n\t      if (__indexOf.call(eventsToTrack, \"end\") >= 0) {\n\t        this.on(\"ended\", end);\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"play\") >= 0) {\n\t        this.on(\"play\", play);\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"pause\") >= 0) {\n\t        this.on(\"pause\", pause);\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"volumeChange\") >= 0) {\n\t        this.on(\"volumechange\", volumeChange);\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"resize\") >= 0) {\n\t        this.on(\"resize\", resize);\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"error\") >= 0) {\n\t        this.on(\"error\", error);\n\t      }\n\t      if (__indexOf.call(eventsToTrack, \"fullscreen\") >= 0) {\n\t        return this.on(\"fullscreenchange\", fullscreen);\n\t      }\n\t    });\n\t    return {\n\t      'sendbeacon': sendbeacon\n\t    };\n\t  });\n\t\n\t}).call(this);\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar require;var require;/* WEBPACK VAR INJECTION */(function(global) {(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\t(function (global){\n\t; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n\t/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>\n\t    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>\n\t*/\n\tvar swfobject=function(){var D=\"undefined\",r=\"object\",T=\"Shockwave Flash\",Z=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",S=\"SWFObjectExprInst\",x=\"onreadystatechange\",Q=window,h=document,t=navigator,V=false,X=[],o=[],P=[],K=[],I,p,E,B,L=false,a=false,m,G,j=true,l=false,O=function(){var ad=typeof h.getElementById!=D&&typeof h.getElementsByTagName!=D&&typeof h.createElement!=D,ak=t.userAgent.toLowerCase(),ab=t.platform.toLowerCase(),ah=ab?/win/.test(ab):/win/.test(ak),af=ab?/mac/.test(ab):/mac/.test(ak),ai=/webkit/.test(ak)?parseFloat(ak.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,aa=t.appName===\"Microsoft Internet Explorer\",aj=[0,0,0],ae=null;if(typeof t.plugins!=D&&typeof t.plugins[T]==r){ae=t.plugins[T].description;if(ae&&(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&t.mimeTypes[q].enabledPlugin)){V=true;aa=false;ae=ae.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");aj[0]=n(ae.replace(/^(.*)\\..*$/,\"$1\"));aj[1]=n(ae.replace(/^.*\\.(.*)\\s.*$/,\"$1\"));aj[2]=/[a-zA-Z]/.test(ae)?n(ae.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\")):0}}else{if(typeof Q.ActiveXObject!=D){try{var ag=new ActiveXObject(Z);if(ag){ae=ag.GetVariable(\"$version\");if(ae){aa=true;ae=ae.split(\" \")[1].split(\",\");aj=[n(ae[0]),n(ae[1]),n(ae[2])]}}}catch(ac){}}}return{w3:ad,pv:aj,wk:ai,ie:aa,win:ah,mac:af}}(),i=function(){if(!O.w3){return}if((typeof h.readyState!=D&&(h.readyState===\"complete\"||h.readyState===\"interactive\"))||(typeof h.readyState==D&&(h.getElementsByTagName(\"body\")[0]||h.body))){f()}if(!L){if(typeof h.addEventListener!=D){h.addEventListener(\"DOMContentLoaded\",f,false)}if(O.ie){h.attachEvent(x,function aa(){if(h.readyState==\"complete\"){h.detachEvent(x,aa);f()}});if(Q==top){(function ac(){if(L){return}try{h.documentElement.doScroll(\"left\")}catch(ad){setTimeout(ac,0);return}f()}())}}if(O.wk){(function ab(){if(L){return}if(!/loaded|complete/.test(h.readyState)){setTimeout(ab,0);return}f()}())}}}();function f(){if(L||!document.getElementsByTagName(\"body\")[0]){return}try{var ac,ad=C(\"span\");ad.style.display=\"none\";ac=h.getElementsByTagName(\"body\")[0].appendChild(ad);ac.parentNode.removeChild(ac);ac=null;ad=null}catch(ae){return}L=true;var aa=X.length;for(var ab=0;ab<aa;ab++){X[ab]()}}function M(aa){if(L){aa()}else{X[X.length]=aa}}function s(ab){if(typeof Q.addEventListener!=D){Q.addEventListener(\"load\",ab,false)}else{if(typeof h.addEventListener!=D){h.addEventListener(\"load\",ab,false)}else{if(typeof Q.attachEvent!=D){g(Q,\"onload\",ab)}else{if(typeof Q.onload==\"function\"){var aa=Q.onload;Q.onload=function(){aa();ab()}}else{Q.onload=ab}}}}}function Y(){var aa=h.getElementsByTagName(\"body\")[0];var ae=C(r);ae.setAttribute(\"style\",\"visibility: hidden;\");ae.setAttribute(\"type\",q);var ad=aa.appendChild(ae);if(ad){var ac=0;(function ab(){if(typeof ad.GetVariable!=D){try{var ag=ad.GetVariable(\"$version\");if(ag){ag=ag.split(\" \")[1].split(\",\");O.pv=[n(ag[0]),n(ag[1]),n(ag[2])]}}catch(af){O.pv=[8,0,0]}}else{if(ac<10){ac++;setTimeout(ab,10);return}}aa.removeChild(ae);ad=null;H()}())}else{H()}}function H(){var aj=o.length;if(aj>0){for(var ai=0;ai<aj;ai++){var ab=o[ai].id;var ae=o[ai].callbackFn;var ad={success:false,id:ab};if(O.pv[0]>0){var ah=c(ab);if(ah){if(F(o[ai].swfVersion)&&!(O.wk&&O.wk<312)){w(ab,true);if(ae){ad.success=true;ad.ref=z(ab);ad.id=ab;ae(ad)}}else{if(o[ai].expressInstall&&A()){var al={};al.data=o[ai].expressInstall;al.width=ah.getAttribute(\"width\")||\"0\";al.height=ah.getAttribute(\"height\")||\"0\";if(ah.getAttribute(\"class\")){al.styleclass=ah.getAttribute(\"class\")}if(ah.getAttribute(\"align\")){al.align=ah.getAttribute(\"align\")}var ak={};var aa=ah.getElementsByTagName(\"param\");var af=aa.length;for(var ag=0;ag<af;ag++){if(aa[ag].getAttribute(\"name\").toLowerCase()!=\"movie\"){ak[aa[ag].getAttribute(\"name\")]=aa[ag].getAttribute(\"value\")}}R(al,ak,ab,ae)}else{b(ah);if(ae){ae(ad)}}}}}else{w(ab,true);if(ae){var ac=z(ab);if(ac&&typeof ac.SetVariable!=D){ad.success=true;ad.ref=ac;ad.id=ac.id}ae(ad)}}}}}X[0]=function(){if(V){Y()}else{H()}};function z(ac){var aa=null,ab=c(ac);if(ab&&ab.nodeName.toUpperCase()===\"OBJECT\"){if(typeof ab.SetVariable!==D){aa=ab}else{aa=ab.getElementsByTagName(r)[0]||ab}}return aa}function A(){return !a&&F(\"6.0.65\")&&(O.win||O.mac)&&!(O.wk&&O.wk<312)}function R(ad,ae,aa,ac){var ah=c(aa);aa=W(aa);a=true;E=ac||null;B={success:false,id:aa};if(ah){if(ah.nodeName.toUpperCase()==\"OBJECT\"){I=J(ah);p=null}else{I=ah;p=aa}ad.id=S;if(typeof ad.width==D||(!/%$/.test(ad.width)&&n(ad.width)<310)){ad.width=\"310\"}if(typeof ad.height==D||(!/%$/.test(ad.height)&&n(ad.height)<137)){ad.height=\"137\"}var ag=O.ie?\"ActiveX\":\"PlugIn\",af=\"MMredirectURL=\"+encodeURIComponent(Q.location.toString().replace(/&/g,\"%26\"))+\"&MMplayerType=\"+ag+\"&MMdoctitle=\"+encodeURIComponent(h.title.slice(0,47)+\" - Flash Player Installation\");if(typeof ae.flashvars!=D){ae.flashvars+=\"&\"+af}else{ae.flashvars=af}if(O.ie&&ah.readyState!=4){var ab=C(\"div\");\n\taa+=\"SWFObjectNew\";ab.setAttribute(\"id\",aa);ah.parentNode.insertBefore(ab,ah);ah.style.display=\"none\";y(ah)}u(ad,ae,aa)}}function b(ab){if(O.ie&&ab.readyState!=4){ab.style.display=\"none\";var aa=C(\"div\");ab.parentNode.insertBefore(aa,ab);aa.parentNode.replaceChild(J(ab),aa);y(ab)}else{ab.parentNode.replaceChild(J(ab),ab)}}function J(af){var ae=C(\"div\");if(O.win&&O.ie){ae.innerHTML=af.innerHTML}else{var ab=af.getElementsByTagName(r)[0];if(ab){var ag=ab.childNodes;if(ag){var aa=ag.length;for(var ad=0;ad<aa;ad++){if(!(ag[ad].nodeType==1&&ag[ad].nodeName==\"PARAM\")&&!(ag[ad].nodeType==8)){ae.appendChild(ag[ad].cloneNode(true))}}}}}return ae}function k(aa,ab){var ac=C(\"div\");ac.innerHTML=\"<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='\"+aa+\"'>\"+ab+\"</object>\";return ac.firstChild}function u(ai,ag,ab){var aa,ad=c(ab);ab=W(ab);if(O.wk&&O.wk<312){return aa}if(ad){var ac=(O.ie)?C(\"div\"):C(r),af,ah,ae;if(typeof ai.id==D){ai.id=ab}for(ae in ag){if(ag.hasOwnProperty(ae)&&ae.toLowerCase()!==\"movie\"){e(ac,ae,ag[ae])}}if(O.ie){ac=k(ai.data,ac.innerHTML)}for(af in ai){if(ai.hasOwnProperty(af)){ah=af.toLowerCase();if(ah===\"styleclass\"){ac.setAttribute(\"class\",ai[af])}else{if(ah!==\"classid\"&&ah!==\"data\"){ac.setAttribute(af,ai[af])}}}}if(O.ie){P[P.length]=ai.id}else{ac.setAttribute(\"type\",q);ac.setAttribute(\"data\",ai.data)}ad.parentNode.replaceChild(ac,ad);aa=ac}return aa}function e(ac,aa,ab){var ad=C(\"param\");ad.setAttribute(\"name\",aa);ad.setAttribute(\"value\",ab);ac.appendChild(ad)}function y(ac){var ab=c(ac);if(ab&&ab.nodeName.toUpperCase()==\"OBJECT\"){if(O.ie){ab.style.display=\"none\";(function aa(){if(ab.readyState==4){for(var ad in ab){if(typeof ab[ad]==\"function\"){ab[ad]=null}}ab.parentNode.removeChild(ab)}else{setTimeout(aa,10)}}())}else{ab.parentNode.removeChild(ab)}}}function U(aa){return(aa&&aa.nodeType&&aa.nodeType===1)}function W(aa){return(U(aa))?aa.id:aa}function c(ac){if(U(ac)){return ac}var aa=null;try{aa=h.getElementById(ac)}catch(ab){}return aa}function C(aa){return h.createElement(aa)}function n(aa){return parseInt(aa,10)}function g(ac,aa,ab){ac.attachEvent(aa,ab);K[K.length]=[ac,aa,ab]}function F(ac){ac+=\"\";var ab=O.pv,aa=ac.split(\".\");aa[0]=n(aa[0]);aa[1]=n(aa[1])||0;aa[2]=n(aa[2])||0;return(ab[0]>aa[0]||(ab[0]==aa[0]&&ab[1]>aa[1])||(ab[0]==aa[0]&&ab[1]==aa[1]&&ab[2]>=aa[2]))?true:false}function v(af,ab,ag,ae){var ad=h.getElementsByTagName(\"head\")[0];if(!ad){return}var aa=(typeof ag==\"string\")?ag:\"screen\";if(ae){m=null;G=null}if(!m||G!=aa){var ac=C(\"style\");ac.setAttribute(\"type\",\"text/css\");ac.setAttribute(\"media\",aa);m=ad.appendChild(ac);if(O.ie&&typeof h.styleSheets!=D&&h.styleSheets.length>0){m=h.styleSheets[h.styleSheets.length-1]}G=aa}if(m){if(typeof m.addRule!=D){m.addRule(af,ab)}else{if(typeof h.createTextNode!=D){m.appendChild(h.createTextNode(af+\" {\"+ab+\"}\"))}}}}function w(ad,aa){if(!j){return}var ab=aa?\"visible\":\"hidden\",ac=c(ad);if(L&&ac){ac.style.visibility=ab}else{if(typeof ad===\"string\"){v(\"#\"+ad,\"visibility:\"+ab)}}}function N(ab){var ac=/[\\\\\\\"<>\\.;]/;var aa=ac.exec(ab)!=null;return aa&&typeof encodeURIComponent!=D?encodeURIComponent(ab):ab}var d=function(){if(O.ie){window.attachEvent(\"onunload\",function(){var af=K.length;for(var ae=0;ae<af;ae++){K[ae][0].detachEvent(K[ae][1],K[ae][2])}var ac=P.length;for(var ad=0;ad<ac;ad++){y(P[ad])}for(var ab in O){O[ab]=null}O=null;for(var aa in swfobject){swfobject[aa]=null}swfobject=null})}}();return{registerObject:function(ae,aa,ad,ac){if(O.w3&&ae&&aa){var ab={};ab.id=ae;ab.swfVersion=aa;ab.expressInstall=ad;ab.callbackFn=ac;o[o.length]=ab;w(ae,false)}else{if(ac){ac({success:false,id:ae})}}},getObjectById:function(aa){if(O.w3){return z(aa)}},embedSWF:function(af,al,ai,ak,ab,ae,ad,ah,aj,ag){var ac=W(al),aa={success:false,id:ac};if(O.w3&&!(O.wk&&O.wk<312)&&af&&al&&ai&&ak&&ab){w(ac,false);M(function(){ai+=\"\";ak+=\"\";var an={};if(aj&&typeof aj===r){for(var aq in aj){an[aq]=aj[aq]}}an.data=af;an.width=ai;an.height=ak;var ar={};if(ah&&typeof ah===r){for(var ao in ah){ar[ao]=ah[ao]}}if(ad&&typeof ad===r){for(var am in ad){if(ad.hasOwnProperty(am)){var ap=(l)?encodeURIComponent(am):am,at=(l)?encodeURIComponent(ad[am]):ad[am];if(typeof ar.flashvars!=D){ar.flashvars+=\"&\"+ap+\"=\"+at}else{ar.flashvars=ap+\"=\"+at}}}}if(F(ab)){var au=u(an,ar,al);if(an.id==ac){w(ac,true)}aa.success=true;aa.ref=au;aa.id=au.id}else{if(ae&&A()){an.data=ae;R(an,ar,al,ag);return}else{w(ac,true)}}if(ag){ag(aa)}})}else{if(ag){ag(aa)}}},switchOffAutoHideShow:function(){j=false},enableUriEncoding:function(aa){l=(typeof aa===D)?true:aa},ua:O,getFlashPlayerVersion:function(){return{major:O.pv[0],minor:O.pv[1],release:O.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(ac,ab,aa){if(O.w3){return u(ac,ab,aa)}else{return undefined}},showExpressInstall:function(ac,ad,aa,ab){if(O.w3&&A()){R(ac,ad,aa,ab)}},removeSWF:function(aa){if(O.w3){y(aa)}},createCSS:function(ad,ac,ab,aa){if(O.w3){v(ad,ac,ab,aa)}},addDomLoadEvent:M,addLoadEvent:s,getQueryParamValue:function(ad){var ac=h.location.search||h.location.hash;\n\tif(ac){if(/\\?/.test(ac)){ac=ac.split(\"?\")[1]}if(ad==null){return N(ac)}var ab=ac.split(\"&\");for(var aa=0;aa<ab.length;aa++){if(ab[aa].substring(0,ab[aa].indexOf(\"=\"))==ad){return N(ab[aa].substring((ab[aa].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var aa=c(S);if(aa&&I){aa.parentNode.replaceChild(I,aa);if(p){w(p,true);if(O.ie){I.style.display=\"block\"}}if(E){E(B)}}a=false}},version:\"2.3\"}}();\n\t\n\t; browserify_shim__define__module__export__(typeof swfobject != \"undefined\" ? swfobject : window.swfobject);\n\t\n\t}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\t\n\t}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\t},{}],2:[function(require,module,exports){\n\t(function (global){\n\t; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n\t/**\n\t * Basic Ad support plugin for video.js.\n\t *\n\t * Common code to support ad integrations.\n\t */\n\t(function(window, document, vjs, undefined) {\n\t\"use strict\";\n\t\n\tvar\n\t\n\t  /**\n\t   * Copies properties from one or more objects onto an original.\n\t   */\n\t  extend = function(obj /*, arg1, arg2, ... */) {\n\t    var arg, i, k;\n\t    for (i=1; i<arguments.length; i++) {\n\t      arg = arguments[i];\n\t      for (k in arg) {\n\t        if (arg.hasOwnProperty(k)) {\n\t          obj[k] = arg[k];\n\t        }\n\t      }\n\t    }\n\t    return obj;\n\t  },\n\t\n\t  /**\n\t   * Add a handler for multiple listeners to an object that supports addEventListener() or on().\n\t   *\n\t   * @param {object} obj The object to which the handler will be assigned.\n\t   * @param {mixed} events A string, array of strings, or hash of string/callback pairs.\n\t   * @param {function} callback Invoked when specified events occur, if events param is not a hash.\n\t   *\n\t   * @return {object} obj The object passed in.\n\t   */\n\t  on = function(obj, events, handler) {\n\t\n\t    var\n\t\n\t      type = Object.prototype.toString.call(events),\n\t\n\t      register = function(obj, event, handler) {\n\t        if (obj.addEventListener) {\n\t          obj.addEventListener(event, handler);\n\t        } else if (obj.on) {\n\t          obj.on(event, handler);\n\t        } else if (obj.attachEvent) {\n\t          obj.attachEvent('on' + event, handler);\n\t        } else {\n\t          throw new Error('object has no mechanism for adding event listeners');\n\t        }\n\t      },\n\t\n\t      i,\n\t      ii;\n\t\n\t    switch (type) {\n\t      case '[object String]':\n\t        register(obj, events, handler);\n\t        break;\n\t      case '[object Array]':\n\t        for (i = 0, ii = events.length; i<ii; i++) {\n\t          register(obj, events[i], handler);\n\t        }\n\t        break;\n\t      case '[object Object]':\n\t        for (i in events) {\n\t          if (events.hasOwnProperty(i)) {\n\t            register(obj, i, events[i]);\n\t          }\n\t        }\n\t        break;\n\t      default:\n\t        throw new Error('Unrecognized events parameter type: ' + type);\n\t    }\n\t\n\t    return obj;\n\t\n\t  },\n\t\n\t  /**\n\t   * Runs the callback at the next available opportunity.\n\t   * @see https://developer.mozilla.org/en-US/docs/Web/API/window.setImmediate\n\t   */\n\t  setImmediate = function(callback) {\n\t    return (\n\t      window.setImmediate ||\n\t      window.requestAnimationFrame ||\n\t      window.mozRequestAnimationFrame ||\n\t      window.webkitRequestAnimationFrame ||\n\t      window.setTimeout\n\t    )(callback, 0);\n\t  },\n\t\n\t  /**\n\t   * Clears a callback previously registered with `setImmediate`.\n\t   * @param {id} id The identifier of the callback to abort\n\t   */\n\t  clearImmediate = function(id) {\n\t    return (window.clearImmediate ||\n\t            window.cancelAnimationFrame ||\n\t            window.webkitCancelAnimationFrame ||\n\t            window.mozCancelAnimationFrame ||\n\t            window.clearTimeout)(id);\n\t  },\n\t\n\t  /**\n\t   * If ads are not playing, pauses the player at the next available\n\t   * opportunity. Has no effect if ads have started. This function is necessary\n\t   * because pausing a video element while processing a `play` event on iOS can\n\t   * cause the video element to continuously toggle between playing and paused\n\t   * states.\n\t   *\n\t   * @param {object} player The video player\n\t   */\n\t  cancelContentPlay = function(player) {\n\t    if (player.ads.cancelPlayTimeout) {\n\t      // another cancellation is already in flight, so do nothing\n\t      return;\n\t    }\n\t    player.ads.cancelPlayTimeout = setImmediate(function() {\n\t      // deregister the cancel timeout so subsequent cancels are scheduled\n\t      player.ads.cancelPlayTimeout = null;\n\t\n\t      // pause playback so ads can be handled.\n\t      if (!player.paused()) {\n\t        player.pause();\n\t      }\n\t\n\t      // add a contentplayback handler to resume playback when ads finish.\n\t      player.one('contentplayback', function() {\n\t        if (player.paused()) {\n\t          player.play();\n\t        }\n\t      });\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Returns an object that captures the portions of player state relevant to\n\t   * video playback. The result of this function can be passed to\n\t   * restorePlayerSnapshot with a player to return the player to the state it\n\t   * was in when this function was invoked.\n\t   * @param {object} player The videojs player object\n\t   */\n\t  getPlayerSnapshot = function(player) {\n\t    var\n\t      tech = player.el().querySelector('.vjs-tech'),\n\t      tracks = player.remoteTextTracks ? player.remoteTextTracks() : [],\n\t      track,\n\t      i,\n\t      suppressedTracks = [],\n\t      snapshot = {\n\t        ended: player.ended(),\n\t        src: player.currentSrc(),\n\t        currentTime: player.currentTime(),\n\t        type: player.currentType()\n\t      };\n\t\n\t    if (tech) {\n\t      snapshot.nativePoster = tech.poster;\n\t      snapshot.style = tech.getAttribute('style');\n\t    }\n\t\n\t    i = tracks.length;\n\t    while (i--) {\n\t      track = tracks[i];\n\t      suppressedTracks.push({\n\t        track: track,\n\t        mode: track.mode\n\t      });\n\t      track.mode = 'disabled';\n\t    }\n\t    snapshot.suppressedTracks = suppressedTracks;\n\t\n\t    return snapshot;\n\t  },\n\t\n\t  removeClass = function(element, className) {\n\t    var\n\t      classes = element.className.split(/\\s+/),\n\t      i = classes.length,\n\t      newClasses = [];\n\t    while (i--) {\n\t      if (classes[i] !== className) {\n\t        newClasses.push(classes[i]);\n\t      }\n\t    }\n\t    element.className = newClasses.join(' ');\n\t  },\n\t\n\t  /**\n\t   * Attempts to modify the specified player so that its state is equivalent to\n\t   * the state of the snapshot.\n\t   * @param {object} snapshot - the player state to apply\n\t   */\n\t  restorePlayerSnapshot = function(player, snapshot) {\n\t    var\n\t      // the playback tech\n\t      tech = player.el().querySelector('.vjs-tech'),\n\t\n\t      // the number of remaining attempts to restore the snapshot\n\t      attempts = 20,\n\t\n\t      suppressedTracks = snapshot.suppressedTracks,\n\t      trackSnapshot,\n\t      restoreTracks =  function() {\n\t        var i = suppressedTracks.length;\n\t        while (i--) {\n\t          trackSnapshot = suppressedTracks[i];\n\t          trackSnapshot.track.mode = trackSnapshot.mode;\n\t        }\n\t      },\n\t\n\t      // finish restoring the playback state\n\t      resume = function() {\n\t        var\n\t          ended = false,\n\t          updateEnded = function() {\n\t            ended = true;\n\t          };\n\t        player.currentTime(snapshot.currentTime);\n\t\n\t        // Resume playback if this wasn't a postroll\n\t        if (!snapshot.ended) {\n\t          player.play();\n\t        } else {\n\t          // On iOS 8.1, the \"ended\" event will not fire if you seek\n\t          // directly to the end of a video. To make that behavior\n\t          // consistent with the standard, fire a synthetic event if\n\t          // \"ended\" does not fire within 250ms. Note that the ended\n\t          // event should occur whether the browser actually has data\n\t          // available for that position\n\t          // (https://html.spec.whatwg.org/multipage/embedded-content.html#seeking),\n\t          // so it should not be necessary to wait for the seek to\n\t          // indicate completion.\n\t          window.setTimeout(function() {\n\t            if (!ended) {\n\t              player.play();\n\t            }\n\t            player.off('ended', updateEnded);\n\t          }, 250);\n\t          player.on('ended', updateEnded);\n\t        }\n\t      },\n\t\n\t      // determine if the video element has loaded enough of the snapshot source\n\t      // to be ready to apply the rest of the state\n\t      tryToResume = function() {\n\t        if (tech.readyState > 1) {\n\t          // some browsers and media aren't \"seekable\".\n\t          // readyState greater than 1 allows for seeking without exceptions\n\t          return resume();\n\t        }\n\t\n\t        if (tech.seekable === undefined) {\n\t          // if the tech doesn't expose the seekable time ranges, try to\n\t          // resume playback immediately\n\t          return resume();\n\t        }\n\t\n\t        if (tech.seekable.length > 0) {\n\t          // if some period of the video is seekable, resume playback\n\t          return resume();\n\t        }\n\t\n\t        // delay a bit and then check again unless we're out of attempts\n\t        if (attempts--) {\n\t          setTimeout(tryToResume, 50);\n\t        } else {\n\t          (function() {\n\t            try {\n\t              resume();\n\t            } catch(e) {\n\t              videojs.log.warn('Failed to resume the content after an advertisement', e);\n\t            }\n\t          })();\n\t        }\n\t      },\n\t\n\t      // whether the video element has been modified since the\n\t      // snapshot was taken\n\t      srcChanged;\n\t\n\t    if (snapshot.nativePoster) {\n\t      tech.poster = snapshot.nativePoster;\n\t    }\n\t\n\t    if ('style' in snapshot) {\n\t      // overwrite all css style properties to restore state precisely\n\t      tech.setAttribute('style', snapshot.style || '');\n\t    }\n\t\n\t    // Determine whether the player needs to be restored to its state\n\t    // before ad playback began. With a custom ad display or burned-in\n\t    // ads, the content player state hasn't been modified and so no\n\t    // restoration is required\n\t\n\t    if (player.src()) {\n\t      // the player was in src attribute mode before the ad and the\n\t      // src attribute has not been modified, no restoration is required\n\t      // to resume playback\n\t      srcChanged = player.src() !== snapshot.src;\n\t    } else {\n\t      // the player was configured through source element children\n\t      // and the currentSrc hasn't changed, no restoration is required\n\t      // to resume playback\n\t      srcChanged = player.currentSrc() !== snapshot.src;\n\t    }\n\t\n\t    if (srcChanged) {\n\t      // on ios7, fiddling with textTracks too early will cause safari to crash\n\t      player.one('contentloadedmetadata', restoreTracks);\n\t\n\t      // if the src changed for ad playback, reset it\n\t      player.src({ src: snapshot.src, type: snapshot.type });\n\t      // safari requires a call to `load` to pick up a changed source\n\t      player.load();\n\t      // and then resume from the snapshots time once the original src has loaded\n\t      player.one('contentcanplay', tryToResume);\n\t    } else if (!player.ended() || !snapshot.ended) {\n\t      // if we didn't change the src, just restore the tracks\n\t      restoreTracks();\n\t      // the src didn't change and this wasn't a postroll\n\t      // just resume playback at the current time.\n\t      player.play();\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Remove the poster attribute from the video element tech, if present. When\n\t   * reusing a video element for multiple videos, the poster image will briefly\n\t   * reappear while the new source loads. Removing the attribute ahead of time\n\t   * prevents the poster from showing up between videos.\n\t   * @param {object} player The videojs player object\n\t   */\n\t  removeNativePoster = function(player) {\n\t    var tech = player.el().querySelector('.vjs-tech');\n\t    if (tech) {\n\t      tech.removeAttribute('poster');\n\t    }\n\t  },\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // Ad Framework\n\t  // ---------------------------------------------------------------------------\n\t\n\t  // default framework settings\n\t  defaults = {\n\t    // maximum amount of time in ms to wait to receive `adsready` from the ad\n\t    // implementation after play has been requested. Ad implementations are\n\t    // expected to load any dynamic libraries and make any requests to determine\n\t    // ad policies for a video during this time.\n\t    timeout: 5000,\n\t\n\t    // maximum amount of time in ms to wait for the ad implementation to start\n\t    // linear ad mode after `readyforpreroll` has fired. This is in addition to\n\t    // the standard timeout.\n\t    prerollTimeout: 100,\n\t\n\t    // maximum amount of time in ms to wait for the ad implementation to start\n\t    // linear ad mode after `contentended` has fired.\n\t    postrollTimeout: 100,\n\t\n\t    // when truthy, instructs the plugin to output additional information about\n\t    // plugin state to the video.js log. On most devices, the video.js log is\n\t    // the same as the developer console.\n\t    debug: false\n\t  },\n\t\n\t  adFramework = function(options) {\n\t    var\n\t      player = this,\n\t\n\t      // merge options and defaults\n\t      settings = extend({}, defaults, options || {}),\n\t\n\t      fsmHandler;\n\t\n\t    // prefix all video element events during ad playback\n\t    // if the video element emits ad-related events directly,\n\t    // plugins that aren't ad-aware will break. prefixing allows\n\t    // plugins that wish to handle ad events to do so while\n\t    // avoiding the complexity for common usage\n\t    (function() {\n\t      var\n\t        videoEvents = videojs.Html5.Events,\n\t        i,\n\t        returnTrue = function() { return true; },\n\t        triggerEvent = function(type, event) {\n\t          // pretend we called stopImmediatePropagation because we want the native\n\t          // element events to continue propagating\n\t          event.isImmediatePropagationStopped = returnTrue;\n\t          event.cancelBubble = true;\n\t          event.isPropagationStopped = returnTrue;\n\t          player.trigger({\n\t            type: type + event.type,\n\t            state: player.ads.state,\n\t            originalEvent: event\n\t          });\n\t        },\n\t        redispatch = function(event) {\n\t          if (player.ads.state === 'ad-playback') {\n\t            triggerEvent('ad', event);\n\t          } else if (player.ads.state === 'content-playback' && event.type === 'ended') {\n\t            triggerEvent('content', event);\n\t          } else if (player.ads.state === 'content-resuming') {\n\t            if (player.ads.snapshot) {\n\t              // the video element was recycled for ad playback\n\t              if (player.currentSrc() !== player.ads.snapshot.src) {\n\t                if (event.type === 'loadstart') {\n\t                  return;\n\t                }\n\t                return triggerEvent('content', event);\n\t\n\t              // we ended playing postrolls and the video itself\n\t              // the content src is back in place\n\t              } else if (player.ads.snapshot.ended) {\n\t                if ((event.type === 'pause' ||\n\t                    event.type === 'ended')) {\n\t                  // after loading a video, the natural state is to not be started\n\t                  // in this case, it actually has, so, we do it manually\n\t                  player.addClass('vjs-has-started');\n\t                  // let `pause` and `ended` events through, naturally\n\t                  return;\n\t                }\n\t                // prefix all other events in content-resuming with `content`\n\t                return triggerEvent('content', event);\n\t              }\n\t            }\n\t            if (event.type !== 'playing') {\n\t              triggerEvent('content', event);\n\t            }\n\t          }\n\t        };\n\t\n\t      //Add video.js specific events\n\t      videoEvents.push('firstplay');\n\t      videoEvents.push('loadedalldata');\n\t\n\t      i = videoEvents.length;\n\t      while (i--) {\n\t        player.on(videoEvents[i], redispatch);\n\t      }\n\t      return redispatch;\n\t    })();\n\t\n\t    // We now auto-play when an ad gets loaded if we're playing ads in the same video element as the content.\n\t    // The problem is that in IE11, we cannot play in addurationchange but in iOS8, we cannot play from adcanplay.\n\t    // This will allow ad-integrations from needing to do this themselves.\n\t    player.on(['addurationchange', 'adcanplay'], function() {\n\t      var snapshot = player.ads.snapshot;\n\t      if (player.currentSrc() === snapshot.src) {\n\t        return;  // do nothing\n\t      }\n\t\n\t      player.play();\n\t    });\n\t\n\t    // replace the ad initializer with the ad namespace\n\t    player.ads = {\n\t      state: 'content-set',\n\t\n\t      // Call this when an ad response has been recieved and there are\n\t      // linear ads ready to be played.\n\t      startLinearAdMode: function() {\n\t        if (player.ads.state !== 'ad-playback') {\n\t          player.trigger('adstart');\n\t        }\n\t      },\n\t\n\t      // Call this when a linear ad pod has finished playing.\n\t      endLinearAdMode: function() {\n\t        if (player.ads.state === 'ad-playback') {\n\t          player.trigger('adend');\n\t        }\n\t      },\n\t\n\t      // Call this when an ad response has been recieved but there are no\n\t      // linear ads to be played (i.e. no ads available, or overlays).\n\t      // This has no effect if we are already in a linear ad mode.  Always\n\t      // use endLinearAdMode() to exit from linear ad-playback state.\n\t      skipLinearAdMode: function() {\n\t        if (player.ads.state !== 'ad-playback') {\n\t          player.trigger('adskip');\n\t        }\n\t      }\n\t    };\n\t\n\t    fsmHandler = function(event) {\n\t      // Ad Playback State Machine\n\t      var\n\t        fsm = {\n\t          'content-set': {\n\t            events: {\n\t              'adscanceled': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adsready': function() {\n\t                this.state = 'ads-ready';\n\t              },\n\t              'play': function() {\n\t                this.state = 'ads-ready?';\n\t                cancelContentPlay(player);\n\t                // remove the poster so it doesn't flash between videos\n\t                removeNativePoster(player);\n\t              },\n\t              'adserror': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adskip': function() {\n\t                this.state = 'content-playback';\n\t              }\n\t            }\n\t          },\n\t          'ads-ready': {\n\t            events: {\n\t              'play': function() {\n\t                this.state = 'preroll?';\n\t                cancelContentPlay(player);\n\t              },\n\t              'adskip': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adserror': function() {\n\t                this.state = 'content-playback';\n\t              }\n\t            }\n\t          },\n\t          'preroll?': {\n\t            enter: function() {\n\t              // change class to show that we're waiting on ads\n\t              player.el().className += ' vjs-ad-loading';\n\t              // schedule an adtimeout event to fire if we waited too long\n\t              player.ads.timeout = window.setTimeout(function() {\n\t                player.trigger('adtimeout');\n\t              }, settings.prerollTimeout);\n\t              // signal to ad plugin that it's their opportunity to play a preroll\n\t              player.trigger('readyforpreroll');\n\t            },\n\t            leave: function() {\n\t              window.clearTimeout(player.ads.timeout);\n\t              removeClass(player.el(), 'vjs-ad-loading');\n\t            },\n\t            events: {\n\t              'play': function() {\n\t                cancelContentPlay(player);\n\t              },\n\t              'adstart': function() {\n\t                this.state = 'ad-playback';\n\t              },\n\t              'adskip': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adtimeout': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adserror': function() {\n\t                this.state = 'content-playback';\n\t              }\n\t            }\n\t          },\n\t          'ads-ready?': {\n\t            enter: function() {\n\t              player.el().className += ' vjs-ad-loading';\n\t              player.ads.timeout = window.setTimeout(function() {\n\t                player.trigger('adtimeout');\n\t              }, settings.timeout);\n\t            },\n\t            leave: function() {\n\t              window.clearTimeout(player.ads.timeout);\n\t              removeClass(player.el(), 'vjs-ad-loading');\n\t            },\n\t            events: {\n\t              'play': function() {\n\t                cancelContentPlay(player);\n\t              },\n\t              'adscanceled': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adsready': function() {\n\t                this.state = 'preroll?';\n\t              },\n\t              'adskip': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adtimeout': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'adserror': function() {\n\t                this.state = 'content-playback';\n\t              }\n\t            }\n\t          },\n\t          'ad-playback': {\n\t            enter: function() {\n\t              // capture current player state snapshot (playing, currentTime, src)\n\t              this.snapshot = getPlayerSnapshot(player);\n\t\n\t              // add css to the element to indicate and ad is playing.\n\t              player.el().className += ' vjs-ad-playing';\n\t\n\t              // remove the poster so it doesn't flash between ads\n\t              removeNativePoster(player);\n\t\n\t              // We no longer need to supress play events once an ad is playing.\n\t              // Clear it if we were.\n\t              if (player.ads.cancelPlayTimeout) {\n\t                clearImmediate(player.ads.cancelPlayTimeout);\n\t                player.ads.cancelPlayTimeout = null;\n\t              }\n\t            },\n\t            leave: function() {\n\t              removeClass(player.el(), 'vjs-ad-playing');\n\t              restorePlayerSnapshot(player, this.snapshot);\n\t              // trigger 'adend' as a consistent notification\n\t              // event that we're exiting ad-playback.\n\t              if (player.ads.triggerevent !== 'adend') {\n\t                player.trigger('adend');\n\t              }\n\t            },\n\t            events: {\n\t              'adend': function() {\n\t                this.state = 'content-resuming';\n\t              },\n\t              'adserror': function() {\n\t                this.state = 'content-resuming';\n\t              }\n\t            }\n\t          },\n\t          'content-resuming': {\n\t            enter: function() {\n\t              if (this.snapshot.ended) {\n\t                window.clearTimeout(player.ads._fireEndedTimeout);\n\t                // in some cases, ads are played in a swf or another video element\n\t                // so we do not get an ended event in this state automatically.\n\t                // If we don't get an ended event we can use, we need to trigger\n\t                // one ourselves or else we won't actually ever end the current video.\n\t                player.ads._fireEndedTimeout = window.setTimeout(function() {\n\t                  player.trigger('ended');\n\t                }, 1000);\n\t              }\n\t            },\n\t            leave: function() {\n\t              window.clearTimeout(player.ads._fireEndedTimeout);\n\t            },\n\t            events: {\n\t              'contentupdate': function() {\n\t                this.state = 'content-set';\n\t              },\n\t              'playing': function() {\n\t                this.state = 'content-playback';\n\t              },\n\t              'ended': function() {\n\t                this.state = 'content-playback';\n\t              }\n\t            }\n\t          },\n\t          'postroll?': {\n\t            enter: function() {\n\t              this.snapshot = getPlayerSnapshot(player);\n\t\n\t              player.el().className += ' vjs-ad-loading';\n\t\n\t              player.ads.timeout = window.setTimeout(function() {\n\t                player.trigger('adtimeout');\n\t              }, settings.postrollTimeout);\n\t            },\n\t            leave: function() {\n\t              window.clearTimeout(player.ads.timeout);\n\t              removeClass(player.el(), 'vjs-ad-loading');\n\t            },\n\t            events: {\n\t              'adstart': function() {\n\t                this.state = 'ad-playback';\n\t              },\n\t              'adskip': function() {\n\t                this.state = 'content-resuming';\n\t                setImmediate(function() {\n\t                  player.trigger('ended');\n\t                });\n\t              },\n\t              'adtimeout': function() {\n\t                this.state = 'content-resuming';\n\t                setImmediate(function() {\n\t                  player.trigger('ended');\n\t                });\n\t              },\n\t              'adserror': function() {\n\t                this.state = 'content-resuming';\n\t                setImmediate(function() {\n\t                  player.trigger('ended');\n\t                });\n\t              }\n\t            }\n\t          },\n\t          'content-playback': {\n\t            enter: function() {\n\t              // make sure that any cancelPlayTimeout is cleared\n\t              if (player.ads.cancelPlayTimeout) {\n\t                clearImmediate(player.ads.cancelPlayTimeout);\n\t                player.ads.cancelPlayTimeout = null;\n\t              }\n\t              // this will cause content to start if a user initiated\n\t              // 'play' event was canceled earlier.\n\t              player.trigger({\n\t                type: 'contentplayback',\n\t                triggerevent: player.ads.triggerevent\n\t              });\n\t            },\n\t            events: {\n\t              // in the case of a timeout, adsready might come in late.\n\t              'adsready': function() {\n\t                player.trigger('readyforpreroll');\n\t              },\n\t              'adstart': function() {\n\t                this.state = 'ad-playback';\n\t              },\n\t              'contentupdate': function() {\n\t                if (player.paused()) {\n\t                  this.state = 'content-set';\n\t                } else {\n\t                  this.state = 'ads-ready?';\n\t                }\n\t              },\n\t              'contentended': function() {\n\t                this.state = 'postroll?';\n\t              }\n\t            }\n\t          }\n\t        };\n\t\n\t      (function(state) {\n\t        var noop = function() {};\n\t\n\t        // process the current event with a noop default handler\n\t        ((fsm[state].events || {})[event.type] || noop).apply(player.ads);\n\t\n\t        // check whether the state has changed\n\t        if (state !== player.ads.state) {\n\t\n\t          // record the event that caused the state transition\n\t          player.ads.triggerevent = event.type;\n\t\n\t          // execute leave/enter callbacks if present\n\t          (fsm[state].leave || noop).apply(player.ads);\n\t          (fsm[player.ads.state].enter || noop).apply(player.ads);\n\t\n\t          // output debug logging\n\t          if (settings.debug) {\n\t            videojs.log('ads', player.ads.triggerevent + ' triggered: ' + state + ' -> ' + player.ads.state);\n\t          }\n\t        }\n\t\n\t      })(player.ads.state);\n\t\n\t    };\n\t\n\t    // register for the events we're interested in\n\t    on(player, vjs.Html5.Events.concat([\n\t      // events emitted by ad plugin\n\t      'adtimeout',\n\t      'contentupdate',\n\t      'contentplaying',\n\t      'contentended',\n\t\n\t      // events emitted by third party ad implementors\n\t      'adsready',\n\t      'adserror',\n\t      'adscanceled',\n\t      'adstart',  // startLinearAdMode()\n\t      'adend',    // endLinearAdMode()\n\t      'adskip'    // skipLinearAdMode()\n\t    ]), fsmHandler);\n\t\n\t    // keep track of the current content source\n\t    // if you want to change the src of the video without triggering\n\t    // the ad workflow to restart, you can update this variable before\n\t    // modifying the player's source\n\t    player.ads.contentSrc = player.currentSrc();\n\t\n\t    // implement 'contentupdate' event.\n\t    (function(){\n\t      var\n\t        // check if a new src has been set, if so, trigger contentupdate\n\t        checkSrc = function() {\n\t          var src;\n\t          if (player.ads.state !== 'ad-playback') {\n\t            src = player.currentSrc();\n\t            if (src !== player.ads.contentSrc) {\n\t              player.trigger({\n\t                type: 'contentupdate',\n\t                oldValue: player.ads.contentSrc,\n\t                newValue: src\n\t              });\n\t              player.ads.contentSrc = src;\n\t            }\n\t          }\n\t        };\n\t      // loadstart reliably indicates a new src has been set\n\t      player.on(['loadstart'], checkSrc);\n\t      // check immediately in case we missed the loadstart\n\t      setImmediate(checkSrc);\n\t    })();\n\t\n\t    // kick off the fsm\n\t    if (!player.paused()) {\n\t      // simulate a play event if we're autoplaying\n\t      fsmHandler({type:'play'});\n\t    }\n\t\n\t  };\n\t\n\t  // register the ad plugin framework\n\t  vjs.plugin('ads', adFramework);\n\t\n\t})(window, document, videojs);\n\t; browserify_shim__define__module__export__(typeof contribAds != \"undefined\" ? contribAds : window.contribAds);\n\t\n\t}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\t\n\t}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\t},{}],3:[function(require,module,exports){\n\tvar jsutils = require('jsutils');\n\t\n\tfunction bridge() {\n\t\t\"use strict\";\n\t    var logger = jsutils.createLogger(false, 'Ads Flash Overlay');\n\t\tvar player;\n\t\tvar metadata;\n\t\tvar swfObject;\n\t\tvar vpTimeout;\n\t\tvar vpTimeoutValue = 30000;\n\t\tvar playDenied = false;\n\t\tvar vpAvailable = false;\n\t\tvar loadingError = false;\n\t\tvar timeoutInitiated = false;\n\t\tvar loader;\n\t\tvar state = {\n\t\t\tfullscreen: false,\n\t\t\tmute: false,\n\t\t\tpostroll: false,\n\t\t\tadPlaying: false,\n\t\t\tplayedAd: false,\n\t\t\tplayedPreroll: false,\n\t\t\tvolumeChangePending: false\n\t\t};\n\t\tvar elementId;\n\t\tvar adIsPlaying = false;\n\t\n\t\tfunction init(playerObj, config, flashElementId) {\n\t\t\tvar swfElement;\n\t\t\tplayer = playerObj;\n\t\t\tmetadata = config;\n\t\t\telementId = flashElementId;\n\t\t\tloader = document.getElementById(elementId).parentNode;\n\t\n\t\t\tsetTimeoutValue(config);\n\t\n\t\t\t//global object required for js-flash interaction\n\t\t\twindow.vpBridge = window.vpBridge || {};\n\t\t\twindow.vpBridge[elementId] = flashEventHandler;\n\t\n\t\t}\n\t\n\t\tfunction getSwfObject() {\n\t\t\treturn document.getElementById(elementId);\n\t\t}\n\t\n\t\tfunction setTimeoutValue(config) {\n\t\t\tif (config.optional && config.optional.flashTimeout) {\n\t\t\t\tvpTimeoutValue = config.optional.flashTimeout * 1000;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction playPreroll() {\n\t\t\tvar adSize = getAdPlayerSize();\n\t\t\tstate.playedPreroll = true;\n\t\t\tstate.postroll = false;\n\t\t\tswfObject.sendToFlash('video-start');\n\t\t\tlogger.log('start flash ad', adSize.width, adSize.height);\n\t\t\tswfObject.start(metadata, adSize.width, adSize.height);\n\t\t\tstate.adPlaying = true;\n\t\t\tlogger.log('BRIDGE playPreroll pause video');\n\t\t\tplayer.pause();\n\t\t}\n\t\n\t\tfunction isSwfAvailable() {\n\t\t\tif( !swfObject || !swfObject.sendToFlash ) {\n\t\t\t\tvpAvailable = false;\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction hideAdPlayer() {\n\t\t\tloader.className = \"\";\n\t\t\tplayer.controlBar.el().style.display = '';\n\t\t}\n\t\n\t\tfunction showAdPlayer() {\n\t\t\tplayer.pause();\n\t\t\tloader.className = loader.id;\n\t\t\tif( swfObject && swfObject.toggleFullscreen ) {\n\t\t\t\tswfObject.toggleFullscreen(getAdPlayerSize().width, getAdPlayerSize().height, 'normal');\n\t\t\t}\n\t\t\tplayer.controlBar.el().style.display = 'none';\n\t\t}\n\t\n\t\tfunction getAdPlayerSize() {\n\t\t\treturn {\n\t\t\t\twidth: player.el().offsetWidth,\n\t\t\t\theight: player.el().offsetHeight\n\t\t\t};\n\t\t}\n\t\n\t\tfunction toggleFullscreen() {\n\t\t\tif (!vpAvailable) return;\n\t\t\tif (!state.adPlaying) return;\n\t\n\t\t\tif (!state.fullscreen) {\n\t\t\t\tstate.fullscreen = true;\n\t\n\t\t\t\tvar i1 = setInterval(function(){\n\t\t\t\t\tshowAdPlayer();\n\t\t\t\t}, 50);\n\t\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tclearInterval(i1);\n\t\t\t\t}, 510);\n\t\t\t} else {\n\t\t\t\tvar i2 = setInterval(function(){\n\t\t\t\t\tshowAdPlayer();\n\t\t\t\t}, 50);\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tclearInterval(i2);\n\t\t\t\t}, 510);\n\t\n\t\t\t\tstate.fullscreen = false;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction playPostroll() {\n\t\t\tif (!vpAvailable || state.postroll) return;\n\t\n\t\t\tshowAdPlayer();\n\t\t\tif( swfObject && swfObject.sendToFlash ) {\n\t\t\t\tswfObject.sendToFlash('video-ended');\n\t\t\t}\n\t\t\tstate.postroll = true;\n\t\t}\n\t\n\t\tfunction playAd() {\n\t\t\tplayer.pause();\n\t\t\tshowAdPlayer();\n\t\n\t\t\tstate.adPlaying = true;\n\t\t}\n\t\n\t\t/**\n\t\t * Do necessary validations and then play prerolls if possible\n\t\t * 1. Make sure flash is loaded\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tfunction onPlay() {\n\t\t\tlogger.log('onPlay ad state', player.ads.state);\n\t\t\tif (player.ads.state === \"ad-playback\") {\n\t\t\t\tplayer.pause();\n\t\t\t} else {\n\t\t\t\tif (canPlayPreroll()) {\n\t\t\t\t\tplayPreroll();\n\t\t\t\t} else {\n\t\t\t\t\tdenyPlay();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction canPlayPreroll() {\n\t\t\tlogger.log('canPlayPreroll', isSwfAvailable(), vpAvailable, !state.playedPreroll);\n\t\t\tif (!isSwfAvailable()) return false;\n\t\t\tif (!vpAvailable) return false;\n\t\t\tif (state.playedPreroll) return false; //not becoming true atm\n\t\t\tif (loadingError) return false;\n\t\n\t\t\treturn true;\n\t\t}\n\t\n\t\t/**\n\t\t * As long as the plugin is waiting for AdPlayerReady, pause player every time a play event is received\n\t\t * Reset state of plugin, so the plays received don't count as real plays\n\t\t */\n\t\tfunction denyPlay() {\n\t\t\tlogger.log('BRIDGE denyPlay', state.playedAd, loadingError)\n\t\t\t/*if ad has been played already or there was an loading error, do not deny play*/\n\t\t\tif (state.playedAd || loadingError) return;\n\t\t\tplayDenied = true;\n\t\t\tplayer.pause();\n\t\t\tstartFlashTimeout();\n\t\t}\n\t\n\t\tfunction startFlashTimeout() {\n\t\t\tlogger.log('BRIDGE: Start Flash Timeout');\n\t\t\tif (timeoutInitiated) return;\n\t\t\tvpTimeout = setTimeout(function(){\n\t\t\t\tlogger.log('BRIDGE flash timeout hit');\n\t\t\t\tplayDenied = false;\n\t\t\t\tloadingError = true;\n\t\t\t\tstate.playedPreroll = true; //in case there was a timeout, avoid the preroll play on a future unrelated play event\n\t\n\t\t\t\tif (!adIsPlaying) {\n\t\t\t\t\tplayer.play();\n\t\t\t\t}\n\t\t\t}, vpTimeoutValue);\n\t\t\ttimeoutInitiated = true;\n\t\t}\n\t\n\t\tfunction allowPlay() {\n\t\t\tlogger.log('allow play hit but play is not denied');\n\t\t\tif (!playDenied) return;\n\t\t\tlogger.log('allow play triggerd');\n\t\t\tclearInterval(vpTimeout);\n\t\t\tplayDenied = false;\n\t\t\tplayer.play();\n\t\t}\n\t\n\t\t/**\n\t\t * Order of events:\n\t\t * 1. AdPlayerReady (no need for any interaction for this to be fired by the flash player)\n\t\t * 2. AdPlayerStart\n\t\t */\n\t\tfunction flashEventHandler(eventType) {\n\t\t\tswitch (eventType) {\n\t\t\t\tcase 'AdPlayerReady':\n\t\t\t\t\tlogger.log('BRIDGE: AdPlayerReady');\n\t\t\t\t\tadPlayerReady();\n\t\t\t\t\tallowPlay();\n\t\t\t\t\tif (!loadingError) {\n\t\t\t\t\t\tplayer.trigger('adsready');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'AdPlayerStart':\n\t\t\t\t\tplayer.trigger('adsready');\n\t\t\t\t\tlogger.log('BRIDGE: AdPlayerStart');\n\t\t\t\t\tadIsPlaying = true;\n\t\t\t\t\tplayAd();\n\t\t\t\t\tlogger.log('AdPlayerStart');\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tplayer.ads.startLinearAdMode();\n\t\t\t\t\t}, 50);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'AdPlayerComplete':\n\t\t\t\t\tplayer.ads.endLinearAdMode();\n\t\t\t\t\tstate.playedAd = true;\n\t\t\t\t\tadIsPlaying = false;\n\t\t\t\t\tresumePlayback();\n\t\t\t\t\tlogger.log('BRIDGE: AdPlayerComplete');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ad-ended':\n\t\t\t\t\tlogging(eventType);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ad-failed':\n\t\t\t\t\tlogging(eventType);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ad-timeout':\n\t\t\t\t\tlogging(eventType);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'AdLoaded':\n\t\t\t\t\tlogger.log('BRIDGE: AdLoaded');\n\t\t\t\t\t// playAd();\n\t\t\t\t\tbreak;\n\t\t\t\t// default:\n\t\t\t}\n\t\t}\n\t\n\t\tfunction resumePlayback() {\n\t\t\tstate.adPlaying = false;\n\t\t\thideAdPlayer();\n\t\t\tplayer.play();\n\t\t\tif (state.postroll) player.currentTime(player.duration() - 0.4);\n\t\t}\n\t\n\t\tfunction adPlayerReady() {\n\t\t\tvpAvailable = true;\n\t\t\tswfObject = getSwfObject();\n\t\t\tchangeVolume();\n\t\t\t// player.show();\n\t\t\t// hideAdPlayer();\n\t\t}\n\t\n\t\tfunction trackTime(event) {\n\t\t\tif (!vpAvailable) return;\n\t\t\tif( swfObject && player && swfObject.updateTime && player.currentTime ) {\n\t\t\t\tswfObject.updateTime(player.currentTime());\n\t\t\t}\n\t\t}\n\t\n\t\tfunction logging(eventType) {\n\t\t\tlogger.log(eventType)\n\t\t}\n\t\n\t\t/**\n\t\t * Checks if current flag exists in the flags array\n\t\t * @param  {[type]}  adType [description]\n\t\t * @return {Boolean}        [description]\n\t\t */\n\t\tfunction hasFlag(flag) {\n\t\t\tif (!metadata.flags) return;\n\t\n\t\t\tvar flags = metadata.flags;\n\t\t\tfor (var i=0; i<flags.length; i++) {\n\t\t\t\tif (flags[i] === flag) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\n\t\tfunction volumeChanged(evt){\n\t\t\tif (!swfObject) return;\n\t\t\tchangeVolume();\n\t\t}\n\t\n\t\tfunction changeVolume() {\n\t\t\tif (player.volume() === 0 || player.muted()) {\n\t\t\t\tswfObject.setVolume(0);\n\t\t\t} else {\n\t\t\t\tswfObject.setVolume(player.volume());\n\t\t\t}\n\t\t}\n\t\n\t\tfunction reset() {\n\t\t\tstate.playedPreroll = false;\n\t\t\tstate.adPlaying = false;\n\t\t\tloadingError = false;\n\t\t\tlogger.log('reset');\n\t\t}\n\t\n\t\tfunction pauseAd() {\n\t\t\tif (!isSwfAvailable()) return;\n\t\t\tswfObject.sendToFlash('pause-ad');\n\t\t}\n\t\n\t\tfunction resumeAd() {\n\t\t\tif (!isSwfAvailable()) return;\n\t\t\tswfObject.sendToFlash('resume-ad');\n\t\t}\n\t\n\t\treturn {\n\t\t\tinit: init,\n\t\t\tonPlay: onPlay,\n\t\t\tupdateTime: trackTime,\n\t\t\tonEnd: playPostroll,\n\t\t\ttoggleFullscreen: toggleFullscreen,\n\t\t\tvolumeChanged: volumeChanged,\n\t\t\tpauseAd: pauseAd,\n\t\t\tresumeAd: resumeAd,\n\t\t\treset: reset\n\t\t};\n\t}\n\t\n\tmodule.exports = bridge;\n\t},{\"jsutils\":11}],4:[function(require,module,exports){\n\t\"use strict\";\n\t//change this based on the interface you want to use or make it configurable\n\tvar videojsInterface = require('./videojsInterface'); //modularised\n\tvar jsutils = require('jsutils');\n\t\n\tfunction flashBridge() {\n\t    var pluginInterface = videojsInterface();\n\t    var logger = jsutils.createLogger(false, 'Ads Flash Overlay');\n\t\n\t\n\t    return {\n\t        flashComponent: pluginInterface\n\t    };\n\t}\n\t\n\tmodule.exports = flashBridge;\n\t},{\"./videojsInterface\":5,\"jsutils\":11}],5:[function(require,module,exports){\n\t\"use strict\";\n\tvar bridgeModule = require(\"./bridge\");\n\tvar jsutils = require('jsutils');\n\t\n\tfunction videojsInterface() {\n\t    var player, metadata, bridge;\n\t    var logger = jsutils.createLogger(false, 'Ads Flash Overlay');\n\t\n\t\n\t    function init(playerObj, config, flashElementId) {\n\t        config.contentduration = playerObj.duration();\n\t        bridge = bridgeModule();\n\t\n\t        player = playerObj;\n\t        metadata = config;\n\t\n\t\n\t        playerEventHandlers();\n\t        initApi();\n\t\n\t        bridge.init(playerObj, config, flashElementId);\n\t\n\t    }\n\t    // Events: JS -> Flash: Video Paused, Video Resumed, Video End\n\t    function playerEventHandlers() {\n\t        player.on('play', bridge.onPlay);\n\t        player.on('timeupdate', function(){\n\t            bridge.updateTime();\n\t            checkPostroll();\n\t        });\n\t        player.on('ended', function(){\n\t            bridge.reset();\n\t        });\n\t        player.on('fullscreenchange', bridge.toggleFullscreen);\n\t        player.on('volumechange', bridge.volumeChanged);\n\t        player.on('adfullscreenchange', bridge.toggleFullscreen);\n\t        player.on('advolumechange', bridge.volumeChanged);\n\t        player.on('contentupdate', function(){\n\t            logger.log('contentupdate flash');\n\t            bridge.reset();\n\t            player.pause();\n\t            player.play();\n\t        });\n\t    }\n\t\n\t    function initApi() {\n\t        player.vpApi.pauseAd = function() {\n\t            if (player.ads.state !== 'ad-playback') return;\n\t            bridge.pauseAd();\n\t        };\n\t        player.vpApi.resumeAd = function() {\n\t            if (player.ads.state !== 'ad-playback') return;\n\t            bridge.resumeAd();\n\t        };\n\t    }\n\t\n\t    function checkPostroll() {\n\t        if (player.currentTime()*1000 > (player.duration()*1000 - 700)) {\n\t            bridge.onEnd();\n\t        }\n\t    }\n\t\n\t    return {\n\t        init: init\n\t    };\n\t}\n\t\n\tmodule.exports = videojsInterface;\n\t},{\"./bridge\":3,\"jsutils\":11}],6:[function(require,module,exports){\n\t(function (global){\n\t; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n\t/* \n\t* !html5-sdk v1.0.14.17.1 | client-side HTML5 SDK \n\t* Copyright (c) 2014   by Videoplaza, www.videoplaza.com \n\t* email: info@videoplaza.com \n\t*/ \n\t!function(window,a){\"use strict\";var error={},model={},parse={},request={},format={},core={error:error,model:model,parse:parse,request:request,format:format};core.debugMessage=function(a){return window.videoplaza.debug&&window.videoplaza.debug[a]?window.videoplaza.debug[a]:a},function(core){core.error.ParseError=function(a){this.message=a,this.name=\"ParseError\"},core.error.ParseError.prototype=new window.Error,core.error.ParseError.prototype.constructor=core.error.ParseError}(core),function(core){core.Tracker=function(){var a,b=function(){a=new core.request.VpTracker},c=function(b,error){return a.reportError(b,error)},d=function(b,c){return a.track(b,c)};return b.prototype={reportError:c,track:d},b}(),core.Tracker.errorEvents={ad:{error:\"error\"},creative:{invalidCreativeUri:\"invalidCreativeUri\",invalidCreative:\"invalidCreative\"}},core.Tracker.trackingEvents={ad:{impression:\"0\"},creative:{acceptInvitation:\"1\",clickThrough:\"20\",close:\"7\",creativeView:\"90\",collapse:\"2\",complete:\"18\",expand:\"31\",firstQuartile:\"15\",fullscreen:\"37\",midpoint:\"16\",mute:\"32\",pause:\"34\",resume:\"36\",rewind:\"35\",start:\"14\",thirdQuartile:\"17\",timeSpent:\"100\",unmute:\"33\"}}}(core),function(core){core.request.VpXHR=function(){},core.request.VpXHR.httpErrorCodeTranslation={503:\"serviceUnavailableCode503\",500:\"internalServerErrorCode500\",404:\"requestedResourceNotFoundCode404\",400:\"badRequestToServerCode400\",0:\"requestCouldNotBeSentToServerCode0\",ieError:\"requestFailedError\"},core.request.VpXHR.prototype.request=function(a,b,c,d){var e,f,g,h=\"GET\";if(b||(b=2e3),c||(c=function(){}),d||(d=function(){}),window.XMLHttpRequest)if(e=new window.XMLHttpRequest,\"withCredentials\"in e){try{e.withCredentials=!0}catch(i){}try{e.open(h,a,!0),f=!1}catch(i){return void d(core.request.VpXHR.httpErrorCodeTranslation[0])}e.onreadystatechange=function(){4===e.readyState&&(g&&window.clearTimeout(g),200===e.status?c(e.responseText):f||d(core.request.VpXHR.httpErrorCodeTranslation[e.status]||\"unknownError\"))},g=window.setTimeout(function(){f=!0,e.abort(),d(\"requestTimeout\")},b),e.send()}else if(window.XDomainRequest){e=new window.XDomainRequest,e.onload=function(){c(e.responseText)},e.onerror=function(){d(core.request.VpXHR.httpErrorCodeTranslation.ieError||\"unknownError\")},e.onprogress=function(){},e.ontimeout=function(){d(\"requestTimeout\")};try{e.open(h,a),e.timeout=b,e.send()}catch(i){d(core.request.VpXHR.httpErrorCodeTranslation.ieError||\"unknownError\")}}else d(\"corsNotSupportedInBrowser\")}}(core),function(core){core.request.Bucket=function(){},core.request.Bucket.isBucketEvent=function(){return!1},core.request.Bucket.prototype.add=function(){return!1},core.request.Bucket.prototype.empty=function(){return!1}}(core),function(core){core.request.LocalStorage=function(a){this.pidKey=a},core.request.LocalStorage.prototype.getObjectFromUri=function(a){var b={},c=a.split(\"?\");if(c.length>0){if(b.base=c[0],b.params={},c[1])for(var d=c[1].split(\"&\"),e=0;e<d.length;e++){var f=d[e].split(\"=\");b.params[f[0]]=f[1]?f[1]:null}else b.params=null;return b}return null},core.request.LocalStorage.prototype.supportsLocalStorage=function(){try{return\"localStorage\"in window&&null!==window.localStorage}catch(a){return!1}},core.request.LocalStorage.prototype.getData=function(a){try{return localStorage.getItem(a)}catch(b){return null}},core.request.LocalStorage.prototype.setData=function(a,b){try{return localStorage.setItem(a,b),!0}catch(c){return!1}},core.request.LocalStorage.prototype.removeData=function(a){try{return localStorage.removeItem(a),!0}catch(b){return!1}},core.request.LocalStorage.prototype.getPersistentIdFromTicket=function(a){var b=null;if(this.supportsLocalStorage()&&a.length>0){var c=this.getObjectFromUri(a[0].trackingUris.impression[0]);if(c&&c.params&&c.params.pid&&(b=c.params.pid,!this.setData(this.pidKey,b)))return null}return b},core.request.LocalStorage.prototype.getPersistentIdFromLocalStorage=function(){return this.supportsLocalStorage()?this.getData(this.pidKey):null}}(core),function(core){function a(b){if(null===b||\"object\"!=typeof b)return b;var c=new b.constructor;for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}function b(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){b[c]={};for(var d in a[c])a[c].hasOwnProperty(d)&&(b[c][a[c][d]]=d)}return b}function c(a){var b,c=/\\[CACHEBUSTING\\]|%5BCACHEBUSTING%5D/;return c.test(a)&&(b=Math.floor(89999999*Math.random()+1e7),a=a.replace(c,b.toString())),a}core.request.VpTracker=function(){this.vpXHR=new core.request.VpXHR,this.bucket=new core.request.Bucket,this.blocked={}},core.request.VpTracker.errorEvents=a(core.Tracker.errorEvents),core.request.VpTracker.trackingEvents=a(core.Tracker.trackingEvents),core.request.VpTracker.trackingEvents.ad.impression2=\"3\",core.request.VpTracker.trackingEvents.creative.creativeView2=\"91\",core.request.VpTracker.trackingEvents.creative.acceptInvitation2=\"4\",core.request.VpTracker.trackingEvents.creative.interaction=\"10\",core.request.VpTracker.errorEventNames=b(core.request.VpTracker.errorEvents),core.request.VpTracker.trackingEventNames=b(core.request.VpTracker.trackingEvents),core.request.VpTracker.prototype.trackUris=function(a){for(var b=\"\",d=0;d<a.length;d++)b=a[d],core.request.Bucket.isBucketEvent(b)?this.bucket.add(c(a[d])):this.vpXHR.request(c(b),2e3)},core.request.VpTracker.prototype.block=function(a,b){return b||(b=\"\"),a instanceof core.model.Trackable?(this.blocked[a.uniqueId+b]=!0,!0):!1},core.request.VpTracker.prototype.isBlocked=function(a,b){return b||(b=\"\"),a instanceof core.model.Trackable?a.uniqueId+b in this.blocked:!1},core.request.VpTracker.prototype.trackCreativeEvent=function(a,b){var c,d=core.request.VpTracker.trackingEvents.creative,e=[d.clickThrough,d.creativeView,d.creativeView2],f=[d.acceptInvitation,d.clickThrough,d.close,d.collapse,d.expand,d.fullscreen,d.pause,d.resume,d.rewind,d.mute,d.unmute],g=[d.acceptInvitation,d.interaction,d.start,d.firstQuartile,d.midpoint,d.thirdQuartile,d.complete],h=[d.creativeView];return a instanceof core.model.Creative&&core.request.VpTracker.trackingEventNames.creative[b]?a instanceof core.model.Companion&&e.indexOf(b)<0?!1:(c=a.parent,this.isBlocked(c)||this.isBlocked(a)?!1:(f.indexOf(b)>-1&&a.type!==core.model.Creative.creativeTypes.companion&&this.track(a,d.interaction),b===d.complete?this.track(a,d.thirdQuartile):b===d.thirdQuartile?this.track(a,d.midpoint):b===d.midpoint?this.track(a,d.firstQuartile):b===d.firstQuartile&&this.track(a,d.start),b===d.timeSpent?!0:b!==d.clickThrough||a.type!==core.model.Creative.creativeTypes.nonLinear&&a.type!==core.model.Creative.creativeTypes.companion?(this.isBlocked(c,b)||this.isBlocked(a,b)?b===d.acceptInvitation?this.track(a,core.request.VpTracker.trackingEvents.creative.acceptInvitation2):b===d.creativeView&&this.track(a,core.request.VpTracker.trackingEvents.creative.creativeView2):(g.indexOf(b)>-1&&this.block(c,b),h.indexOf(b)>-1&&this.block(a,b),this.trackUris(a.trackingUris[core.request.VpTracker.trackingEventNames.creative[b]])),!0):a.resourceType!==core.model.NonLinearCreative.resourceTypes.staticResource?!1:!0)):!1},core.request.VpTracker.prototype.trackAdEvent=function(a,b){return a.constructor===core.model.Ad&&core.request.VpTracker.trackingEventNames.ad[b]?this.isBlocked(a)?!1:a.type===core.model.Ad.types.inventory&&b===core.request.VpTracker.trackingEvents.ad.impression?(this.block(a),this.trackUris(a.trackingUris[core.request.VpTracker.errorEventNames.ad.error]),!0):(this.isBlocked(a,b)?b===core.request.VpTracker.trackingEvents.ad.impression&&this.track(a,core.request.VpTracker.trackingEvents.ad.impression2):(b===core.request.VpTracker.trackingEvents.ad.impression&&this.block(a,b),this.trackUris(a.trackingUris[core.request.VpTracker.trackingEventNames.ad[b]])),!0):!1},core.request.VpTracker.prototype.track=function(a,b){return a?a.constructor===core.model.Ad?this.trackAdEvent(a,b):a instanceof core.model.Creative?this.trackCreativeEvent(a,b):!1:!1},core.request.VpTracker.prototype.reportError=function(a,b){var c;return a&&a instanceof core.model.Creative&&core.request.VpTracker.errorEventNames.creative[b]?(c=a.parent,this.isBlocked(c)||this.isBlocked(a)?!1:(a.type===core.model.Creative.creativeTypes.companion?this.block(a):(this.isBlocked(c,core.request.VpTracker.trackingEvents.ad.impression)||this.track(c,core.request.VpTracker.errorEventNames.ad.error),this.block(c)),!0)):!1}}(core),function(core){function b(a){return/(^(http|https)\\:\\/\\/)?([a-z0-9\\-]+)\\.([a-z0-9\\-]+)\\.[a-z]+/i.test(a)}function c(a){var b;return a&&a.constructor===core.model.Ad?(b=new core.model.Ad,b.type=core.model.Ad.types.inventory,b.trackingUris=a.trackingUris,b):!1}core.request.VpAdCallModule=function(a,c){if(!b(a))throw new Error(core.debugMessage(\"invalidVpHost\"));this.vpHost=a,this.adCallModuleSettings=c,this.videoplazaXHR=new core.request.VpXHR,this.vastParser=new core.parse.VastXmlParser,this.vpLocalStorage=new core.request.LocalStorage(\"vpPID\")},core.request.VpAdCallModule.browser=function(){function a(a){return a in document.documentElement.style}var b=a(\"MozBoxSizing\"),c=Object.prototype.toString.call(window.HTMLElement).indexOf(\"Constructor\")>0,d=!c&&a(\"WebkitTransform\"),e=!1||a(\"msTransform\");return{isSafari:c,isChrome:d,isIE:e,isFirefox:b}}(),core.request.VpAdCallModule.hasData=function(a){return a?a.constructor===Array&&0===a.length?!1:!0:!1},core.request.VpAdCallModule.validateNumber=function(a,b){if(a){if(core.request.VpAdCallModule.isNumber(a)){if(0>a)throw new Error(core.debugMessage(b+\"IsLessThanZero\"));return!0}throw new Error(core.debugMessage(b+\"IsNaN\"))}return b+\"IsMissing\"},core.request.VpAdCallModule.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},core.request.VpAdCallModule.prototype.verifyRequestSettings=function(a,b){var c={height:\"\",width:\"\",maxBitRate:\"\",insertionPointType:\"\",playbackPosition:\"\"},d=\"\";if(!a)throw new Error(core.debugMessage(\"requestSettingsIsUndefined\"));if(c.height=core.request.VpAdCallModule.validateNumber(a.height,\"height\"),c.width=core.request.VpAdCallModule.validateNumber(a.width,\"width\"),c.maxBitRate=core.request.VpAdCallModule.validateNumber(a.maxBitRate,\"maxBitRate\"),!a.insertionPointType)throw new Error(core.debugMessage(\"undefinedInsertionPointType\"));switch(d=a.insertionPointType.toLowerCase()){case\"onbeforecontent\":case\"oncontentend\":case\"playbacktime\":c.insertionPointType=\"true\";break;case\"playbackposition\":if(c.insertionPointType=\"true\",!a.playbackPosition)throw new Error(core.debugMessage(\"undefinedPlaybackPosition\"));if(c.playbackPosition=\"true\",!core.request.VpAdCallModule.isNumber(a.playbackPosition))throw new Error(core.debugMessage(\"invalidPlaybackPosition\"));if(core.request.VpAdCallModule.hasData(b)&&Number(a.playbackPosition)>Number(b))throw new Error(core.debugMessage(\"playbackPositionIsGtDuration\"));break;default:throw new Error(core.debugMessage(\"invalidInsertionPointType\"))}return c},core.request.VpAdCallModule.prototype.verifyContentMetadata=function(a){var b={contentForm:\"\",duration:\"\"};if(!a)throw new Error(core.debugMessage(\"contentMetadataIsUndefined\"));if(core.request.VpAdCallModule.hasData(a.contentForm)){var c=a.contentForm.toLowerCase();if(b.contentForm=\"true\",\"shortform\"!==c&&\"longform\"!==c)throw new Error(core.debugMessage(\"invalidContentForm\"))}else b.contentForm=\"contentFormIsMissing\";return b.duration=core.request.VpAdCallModule.validateNumber(a.duration,\"duration\"),b},core.request.VpAdCallModule.prototype.translateInsertionPointType=function(a){var b=a.toLowerCase();switch(b){case\"onbeforecontent\":return\"p\";case\"playbackposition\":return\"m\";case\"oncontentend\":return\"po\";case\"playbacktime\":return\"o\";default:throw new Error(core.debugMessage(\"invalidInsertionPointType\"))}},core.request.VpAdCallModule.prototype.buildUrl=function(a,b){var c=this.vpHost;if(-1===c.indexOf(\"http://\")&&-1===c.indexOf(\"https://\")&&(c=\"http://\"+c),c.lastIndexOf(\"/\")!==c.length-1&&(c+=\"/\"),c+=\"proxy/distributor/v2?\",c+=\"rt=vast_2.0\",c+=\"&pf=html5\",c+=\"&cv=h5_\"+window.videoplaza.versionNumber,a){core.request.VpAdCallModule.hasData(a.flags)&&(c+=\"&f=\"+encodeURIComponent(a.flags.join(\",\"))),core.request.VpAdCallModule.hasData(a.tags)&&(c+=\"&t=\"+encodeURIComponent(a.tags.join(\",\")));var d=\"\";if(core.request.VpAdCallModule.hasData(a.category)&&(d+=a.category),a.contentPartner&&core.request.VpAdCallModule.hasData(a.contentPartner)&&(d=core.request.VpAdCallModule.hasData(d)?d+=\",\"+a.contentPartner:a.contentPartner),core.request.VpAdCallModule.hasData(d)&&(c+=\"&s=\"+encodeURIComponent(d)),core.request.VpAdCallModule.hasData(a.contentForm)&&(c+=\"&cf=\"+this.translateContentForm(a.contentForm)),core.request.VpAdCallModule.hasData(a.contentId)&&(c+=\"&ci=\"+encodeURIComponent(a.contentId)),core.request.VpAdCallModule.hasData(a.duration)&&(c+=\"&cd=\"+a.duration),core.request.VpAdCallModule.hasData(a.customParameters)){var e=/[^A-Za-z0-9_~\\-.]/;for(var f in a.customParameters)a.customParameters.hasOwnProperty(f)&&!e.test(f)&&(c+=\"&cp.\"+f+\"=\"+encodeURIComponent(a.customParameters[f]))}}if(b){if(core.request.VpAdCallModule.hasData(b.width)&&(c+=\"&vwt=\"+b.width),core.request.VpAdCallModule.hasData(b.height)&&(c+=\"&vht=\"+b.height),core.request.VpAdCallModule.hasData(b.maxBitRate)&&(c+=\"&vbw=\"+b.maxBitRate),core.request.VpAdCallModule.hasData(b.insertionPointType)){var g=b.insertionPointType.toLowerCase();c+=\"&tt=\"+this.translateInsertionPointType(g),\"playbackposition\"===g&&core.request.VpAdCallModule.hasData(b.playbackPosition)&&(c+=\"&bp=\"+encodeURIComponent(b.playbackPosition))}core.request.VpAdCallModule.hasData(b.referrerUrl)&&(c+=\"&ru=\"+encodeURIComponent(b.referrerUrl))}if(this.adCallModuleSettings&&core.request.VpAdCallModule.hasData(this.adCallModuleSettings.deviceContainer)&&(c+=\"&dcid=\"+encodeURIComponent(this.adCallModuleSettings.deviceContainer)),this.adCallModuleSettings&&core.request.VpAdCallModule.hasData(this.adCallModuleSettings.persistentId))c+=\"&pid=\"+encodeURIComponent(this.adCallModuleSettings.persistentId);else{var h=this.vpLocalStorage.getPersistentIdFromLocalStorage();h&&(c+=\"&pid=\"+encodeURIComponent(h))}var i=this.getURLParameter(\"vppreview\");return core.request.VpAdCallModule.hasData(i)&&(c+=\"&vppreview=\"+i),c+=\"&st=\"+encodeURIComponent(\"0:0,3,4,10,20:1,91,100\"),c+=\"&rnd=\"+core.model.Trackable.generateUniqueId()},core.request.VpAdCallModule.prototype.translateContentForm=function(a){var b=a.toLowerCase();return\"longform\"===b?\"long_form\":\"short_form\"},core.request.VpAdCallModule.prototype.getURLParameter=function(a){var b=\"\",c=\"[\\\\?&]\"+a+\"=([^&#]*)\",d=new RegExp(c),e=d.exec(window.location.href.toString());return null!==e&&(b=e[1]),b},core.request.VpAdCallModule.prototype.requestAds=function(d,e,f,g){function h(b,d){function e(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=b[c].concat(a[c]));return b}function o(a,b){if(b.trackingUris=e(a.trackingUris,b.trackingUris),a.vastAdTagUri?b.vastAdTagUri=a.vastAdTagUri:delete b.vastAdTagUri,a.creatives)for(var c in a.creatives)!a.creatives.hasOwnProperty(c)||a.creatives[c]instanceof core.model.Companion||(b.creatives[c].duration=a.creatives[c].duration,b.creatives[c].trackingUris=e(a.creatives[c].trackingUris,b.creatives[c].trackingUris),b.creatives[c].mediaFiles=a.creatives[c].mediaFiles,b.creatives[c].clickThroughUri=a.creatives[c].clickThroughUri);return b}function p(a){k-=1,0===k&&f(a)}function q(a,b){var d=b.indexOf(a);b[d]=c(a),p(b)}k+=1,i.videoplazaXHR.request(b,n,function(b){var c,e;try{b=b.replace(/<!--[\\s\\S]*?-->/g,\"\"),c=i.vastParser.parse(b)}catch(error){return void(d?q(d,j):g(error.message))}if((d===a&&core.request.VpAdCallModule.browser.isSafari||core.request.VpAdCallModule.browser.isIE)&&i.vpLocalStorage.getPersistentIdFromTicket(c),d&&1!=c.length)return void q(d,j);for(var f=0;f<c.length;f++)e=c[f],d?e=o(e,d):j[f]=e,e.vastAdTagUri!==a?(d===a&&(l[e.id]=function(a){return window.setTimeout(function(){m=!0,q(a,j)},n)}(e)),m||h(e.vastAdTagUri,e)):l[e.id]!==a&&window.clearTimeout(l[e.id]);p(j)},function(a){d?q(d,j):g(a)})}var i=this,j=[],k=0,l={},m=!1,n=4e3;if(\"function\"!=typeof f&&\"function\"!=typeof g)throw new Error(core.debugMessage(\"adRequestMissingMandatoryCallbacks\"));if(!b(this.vpHost))throw new Error(core.debugMessage(\"invalidVpHost\"));try{this.verifyContentMetadata(d),this.verifyRequestSettings(e,d.duration)}catch(error){return void g(error.message)}h(this.buildUrl(d,e))}}(core),function(core){core.model.Trackable=function(){this.trackingUris=null,this.uniqueId=null},core.model.Trackable.generateTrackingUris=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=[]);for(var e in b)b.hasOwnProperty(e)&&(c[e]=[]);return c},core.model.Trackable.generateUniqueId=function(){return Math.floor(1e16*Math.random())}}(core),function(core){core.model.Ad=function(){this.campaignId=null,this.creatives=[],this.customId=null,this.customGoalId=null,this.customCampaignId=null,this.goalId=null,this.id=\"0\",this.labels={},this.type=null,this.variant=null,this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.ad,core.request.VpTracker.errorEvents.ad),this.uniqueId=core.model.Trackable.generateUniqueId()},core.model.Ad.types={inventory:\"inventory\",standard:\"standard_spot\"},core.model.Ad.variants={normal:\"normal\",sponsor:\"sponsor\"},core.model.Ad.prototype=new core.model.Trackable,core.model.Ad.prototype.constructor=core.model.Ad}(core),function(core){core.model.Creative=function(){this.clickThroughUri=null,this.duration=null,this.id=null,this.parent=null,this.type=null},core.model.Creative.creativeTypes={linear:\"linear\",nonLinear:\"nonLinear\",companion:\"companion\"},core.model.Creative.prototype=new core.model.Trackable,core.model.Creative.prototype.constructor=core.model.Creative}(core),function(core){core.model.MediaFile=function(){this.bitRate=null,this.deliveryMethod=null,this.height=null,this.id=null,this.mimeType=null,this.uri=null,this.width=null}}(core),function(core){core.model.LinearCreative=function(a){this.mediaFiles=[],this.parent=a||null,this.type=core.model.Creative.creativeTypes.linear,this.uniqueId=core.model.Trackable.generateUniqueId(),this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.creative)},core.model.LinearCreative.prototype=new core.model.Creative,core.model.LinearCreative.prototype.constructor=core.model.LinearCreative}(core),function(core){core.model.NonLinearCreative=function(a){this.height=null,this.mimeType=null,this.resource=null,this.resourceType=null,this.width=null,this.parent=a||null,this.type=core.model.Creative.creativeTypes.nonLinear,this.uniqueId=core.model.Trackable.generateUniqueId(),this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.creative)},core.model.NonLinearCreative.resourceTypes={staticResource:\"staticResource\",iFrame:\"iFrame\",html:\"html\"},core.model.NonLinearCreative.prototype=new core.model.Creative,core.model.NonLinearCreative.prototype.constructor=core.model.NonLinearCreative}(core),function(core){core.model.Companion=function(a){this.zoneId=null,this.zoneType=null,this.parent=a||null,this.type=core.model.Creative.creativeTypes.companion,this.uniqueId=core.model.Trackable.generateUniqueId(),this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.creative)},core.model.Companion.zoneTypes={html:\"html\"},core.model.Companion.prototype=new core.model.NonLinearCreative,core.model.Companion.prototype.constructor=core.model.Companion}(core),function(core){function a(a){var b=a.split(\":\"),c=0;if(!(b.length>0&&b.length<=3))return null;for(var d=0;d<b.length;d++)c+=Number(b[b.length-d-1]*(d?Math.pow(60,d):1));return isNaN(c)?null:c}function b(a,b){return\"2.0\"===b&&-1===a.indexOf(\"[CACHEBUSTING]\")&&-1===a.indexOf(\"%5BCACHEBUSTING%5D\")&&a.length>0&&(a+=a.indexOf(\"?\")>-1?\"&rnd=[CACHEBUSTING]\":\"?rnd=[CACHEBUSTING]\"),a}function c(a){return a&&(a=a.toLowerCase(),\"bumper\"===a||a===core.model.Ad.variants.sponsor)?core.model.Ad.variants.sponsor:core.model.Ad.variants.normal}core.parse.VastXmlParser=function(){this.parser=new window.DOMParser},core.parse.VastXmlParser.prototype.getAttributeValue=function(a,b){var c;return a&&a.attributes&&(c=a.attributes.getNamedItem(b))?c.value:null},core.parse.VastXmlParser.prototype.createTrackingUris=function(a,c,d){var e,f,g,h;e={},f=c.getElementsByTagName(\"Tracking\");for(var i=0;i<f.length;i++)g=f.item(i),h=this.getAttributeValue(g,\"event\"),(h in core.request.VpTracker.trackingEvents.ad||h in core.request.VpTracker.trackingEvents.creative||h in core.request.VpTracker.trackingEventNames.ad||h in core.request.VpTracker.trackingEventNames.creative)&&(h in core.request.VpTracker.trackingEventNames.ad?h=core.request.VpTracker.trackingEventNames.ad[h]:h in core.request.VpTracker.trackingEventNames.creative&&(h=core.request.VpTracker.trackingEventNames.creative[h]),e[h]||(e[h]=[]),e[h].push(b(this.trim(g.textContent),d)));for(h in e)a[h]&&(a[h]=a[h].concat(e[h]));return a},core.parse.VastXmlParser.prototype.createCreatives=function(c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p,q,r,s,t=[],u={Linear:core.model.Creative.creativeTypes.linear,NonLinearAds:core.model.Creative.creativeTypes.nonLinear,CompanionAds:core.model.Creative.creativeTypes.companion},v={StaticResource:core.model.NonLinearCreative.resourceTypes.staticResource,IFrameResource:core.model.NonLinearCreative.resourceTypes.iFrame,HTMLResource:core.model.NonLinearCreative.resourceTypes.html},w=0;w<c.length;w++)if(g=this.getAttributeValue(c[w],\"id\"),h=u[c[w].firstChild.nodeName],h===core.model.Creative.creativeTypes.linear){for(i=new core.model.LinearCreative(d),i.id=g,j=c[w].getElementsByTagName(\"Duration\"),j.length>0&&(i.duration=a(j[0].textContent)),k=c[w].getElementsByTagName(\"TrackingEvents\"),k.length>0&&(i.trackingUris=this.createTrackingUris(i.trackingUris,k[0],f)),m=c[w].getElementsByTagName(\"ClickTracking\"),l=0;l<m.length;l++)i.trackingUris.clickThrough.push(b(this.trim(m[l].textContent),f));for(n=c[w].getElementsByTagName(\"ClickThrough\"),n.length>0&&(i.clickThroughUri=this.trim(n[0].textContent)),o=c[w].getElementsByTagName(\"MediaFile\"),l=0;l<o.length;l++)p=new core.model.MediaFile,p.bitRate=this.getAttributeValue(o[l],\"bitrate\"),p.deliveryMethod=this.getAttributeValue(o[l],\"delivery\"),p.height=this.getAttributeValue(o[l],\"height\"),p.id=this.getAttributeValue(o[l],\"id\"),p.mimeType=this.getAttributeValue(o[l],\"type\"),p.uri=o[l].textContent,p.width=this.getAttributeValue(o[l],\"width\"),i.mediaFiles.push(p);t.push(i)}else if(h===core.model.Creative.creativeTypes.nonLinear)r=c[w].getElementsByTagName(\"NonLinear\");else if(h===core.model.Creative.creativeTypes.companion)for(s=c[w].getElementsByTagName(\"Companion\"),l=0;l<s.length;l++)i=new core.model.Companion(d),s[l].getElementsByTagName(\"TrackingEvents\")[0]&&(i.trackingUris=this.createTrackingUris(i.trackingUris,s[l].getElementsByTagName(\"TrackingEvents\")[0])),q=s[l].firstChild,i.resourceType=v[q.nodeName],i.resource=q.textContent,i.height=this.getAttributeValue(s[l],\"height\"),i.id=this.getAttributeValue(s[l],\"id\"),i.width=this.getAttributeValue(s[l],\"width\"),e&&e[i.id]?(i.zoneId=e[i.id].zoneId,i.zoneType=e[i.id].zoneMethod):\"undefined\"!=typeof console&&console.log(\"No matching companion in AdInfo.\"),t.push(i);return t},core.parse.VastXmlParser.prototype.createAds=function(a,d){for(var e,f,g,h,i,j,k,l,m,n=[],o=[],p={COMPANION_BANNER_JAVASCRIPT:core.model.Companion.zoneTypes.html},q=!1,r=0;r<a.length;r++){if(e=new core.model.Ad,a[r].getElementsByTagName(\"AdSystem\").length>0){var s=a[r].getElementsByTagName(\"AdSystem\")[0].textContent;s&&s.toLowerCase().indexOf(\"videoplaza karbon\")>-1&&(q=!0)}for(\"Wrapper\"===a[r].firstChild.nodeName?(f=a[r].getElementsByTagName(\"VASTAdTagURI\"),f.length>0&&(e.vastAdTagUri=f[0].textContent)):f=null,e.id=this.getAttributeValue(a[r],\"id\"),null===e.id&&(e.id=\"0\",e.type=core.model.Ad.types.inventory),h=a[r].getElementsByTagName(\"Extension\"),g=0;g<h.length;g++)if(\"AdServer\"===this.getAttributeValue(h[g],\"type\")&&\"Videoplaza\"===this.getAttributeValue(h[g],\"name\")){i=h[g].getElementsByTagName(\"AdInfo\")[0],e.campaignId=this.getAttributeValue(i,\"cid\"),e.customId=this.getAttributeValue(i,\"customaid\"),e.customGoalId=this.getAttributeValue(i,\"customgid\"),e.customCampaignId=this.getAttributeValue(i,\"customcid\"),e.goalId=this.getAttributeValue(i,\"gid\"),e.type=this.translateIncorrectAdType(this.getAttributeValue(i,\"format\")),e.variant=c(this.getAttributeValue(i,\"variant\")),j=i.getElementsByTagName(\"Companion\");for(var t=0;t<j.length;t++)o[this.getAttributeValue(j[t],\"id\")]={zoneId:this.getAttributeValue(j[t],\"zone\"),zoneMethod:p[this.getAttributeValue(j[t],\"zoneType\")]}}for(k=a[r].getElementsByTagName(\"Impression\"),g=0;g<k.length;g++)e.trackingUris.impression.push(b(this.trim(k[g].textContent),d));if(e.trackingUris.impression.length<1)throw new core.error.ParseError(core.debugMessage(\"noImpressionElement\"));for(l=a[r].getElementsByTagName(\"Error\"),null===f&&q&&0===l.length&&e.type===core.model.Ad.types.inventory&&(l=k),g=0;g<l.length;g++)e.trackingUris.error.push(b(this.trim(l[g].textContent),d));if(m=a[r].getElementsByTagName(\"Creative\"),!q&&0===m.length&&null===f)throw new core.error.ParseError(core.debugMessage(\"noCreativeElement\"));e.creatives=this.createCreatives(m,e,o,d),n.push(e)}return n},core.parse.VastXmlParser.prototype.translateIncorrectAdType=function(a){return\"spot_standard\"===a?\"standard_spot\":a},core.parse.VastXmlParser.prototype.removeTextNodes=function(a){var b,c,d=/^\\s*$/;if(3===a.nodeType)d.test(a.nodeValue)&&a.parentNode.removeChild(a);else if(1===a.nodeType||9===a.nodeType)for(b=a.firstChild;b;)c=b.nextSibling,this.removeTextNodes(b),b=c},core.parse.VastXmlParser.prototype.trim=function(a){return a.replace(/^\\s+|\\s+$/g,\"\")},core.parse.VastXmlParser.prototype.parse=function(a){var b,c,d,e,f=[];try{b=this.parser.parseFromString(a,\"text/xml\")}catch(g){throw\"undefined\"!=typeof console&&console.log(core.debugMessage(\"nonValidXML\")),new core.error.ParseError(\"Could not parse VAST. \"+g.message)}if(c=b.documentElement,!c)throw new core.error.ParseError(\"Could not parse VAST. No root element\");if(this.removeTextNodes(c),\"VAST\"!==c.nodeName)throw c.getElementsByTagName(\"parsererror\")&&c.getElementsByTagName(\"parsererror\").length>0&&\"undefined\"!=typeof console&&console.log(core.debugMessage(\"nonValidXML\")),\"undefined\"!=typeof console&&console.log(core.debugMessage(\"nonValidVASTTicket\")),new core.error.ParseError('Could not parse VAST. Root element is not \"VAST\".');return e=this.getAttributeValue(c,\"version\"),d=c.getElementsByTagName(\"Ad\"),d.length>0&&(f=this.createAds(d,e)),f}}(core),function(core){core.AdCallModule=function(){var a,b=function(b,c){a=new core.request.VpAdCallModule(b,c)};return b.prototype.requestAds=function(b,c,d,e){a.requestAds(b,c,d,e)},b}()}(core),window.videoplaza||(window.videoplaza={}),window.videoplaza.core=core,window.videoplaza.buildDate=\"20140828\",window.videoplaza.versionNumber=\"1.0.14.17.1\"}(window);\n\t; browserify_shim__define__module__export__(typeof videoplaza != \"undefined\" ? videoplaza : window.videoplaza);\n\t\n\t}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\t\n\t}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\t},{}],7:[function(require,module,exports){\n\tfunction metadataAggregator() {\n\t\t\"use strict\";\n\t\t/**\n\t\t * Format of the metadata object that will be sent to the sdk.\n\t\t * The metadata sent from the bridge is compared with the properties of this object (case insesitive) and generated accordingly.\n\t\t * If you are trying to send properties that are not defined below, they will not be accepted\n\t\t * @type {Object}\n\t\t */\n\t\tvar skdFormattedData = {\n\t\t\tvpHost: '',\n\t\t\tcuepoints: [],\n\t\t\tplayerDivId: '',\n\t\n\t\t    category: '',\n\t\t    contentForm: '',\n\t\t    contentId: '',\n\t\t    contentPartner: '',\n\t\t    duration: null,\n\t\t    flags: [],\n\t\t    tags: [],\n\t\t    customParameters: {},\n\t\n\t\t\theight: null,\n\t\t\tmaxBitRate: null,\n\t\t\tplaybackPosition: null,\n\t\t\tinsertionType: '',\n\t\t\twidth: null,\n\t\t\treferrerUrl: '',\n\t\n\t\t\tdeviceContainer: '',\n\t\t\tpersistentId: '',\n\t\n\t\t\toptional: {\n\t\t\t\tplayMidrollOnSeek: true\n\t\t\t},\n\t\n\t\t    longFormLimit: null // if this is set and the duration of the video is known, it should ovveride the content form\n\t\t};\n\t\n\t\tvar isDataAgreggated = false;\n\t\tvar flashFormatMetadata = {};\n\t\n\t\t/**\n\t\t * Converts object to a transitional (bridge) format. The properties are all lowercase, with no '-', '_' and 'vp' is removed from the start\n\t\t * of the property name\n\t \t * @param  {object} metadataObject Metadata object in a loosely format.\n\t\t * @return {object}                Returns the transitional formatted object\n\t\t */\n\t\tfunction _getDataInBridgeFormat(metadataObject) {\n\t\t\tvar prop, lprop;\n\t\t\tvar bridgeFormattedMetadata = {};\n\t\t\tfor (prop in metadataObject) {\n\t\t\t\tif (metadataObject.hasOwnProperty(prop)) {\n\t\t\t\t\tlprop = prop.toLowerCase();\n\t\t\t\t\t// lprop = lprop.replace(/[_,-]/g, ''); generating a cuepoint problem, ignore for the moment\n\t\t\t\t\tlprop = lprop.replace(/^vp/i, '');\n\t\t\t\t\tif (lprop === 'host') lprop = 'vpHost';\n\t\t\t\t\tbridgeFormattedMetadata[lprop] = {val: metadataObject[prop], oldName: prop};\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn bridgeFormattedMetadata;\n\t\t}\n\t\t/**\n\t\t * Converts the object passed to the format required by the Videoplaza HTML5 SDK\n\t\t * @param  {object} metadataObject Metadata object with lowercase properties, but with 'linking' to the sdk format\n\t\t * @return {object} Returns object in sdk format.\n\t\t */\n\t\tfunction _getDataInSdkFormat(metadataObject) { // do this once\n\t\t\tvar prop;\n\t\t\tvar sdkFormattedMetadata = {};\n\t\t\tvar sdkBridgeMetadataTranslator = _getDataInBridgeFormat(skdFormattedData);\n\t\t\t//Go through the properties of the metdataObject that will be converted\n\t\t\tfor (prop in metadataObject) {\n\t\t\t\tif (metadataObject.hasOwnProperty(prop)) {\n\t\t\t\t\t//On the new object, take the old name of the property that matches the template and assign the value of the property\n\t\t\t\t\tif (sdkBridgeMetadataTranslator[prop]) {\n\t\t\t\t\t\tsdkFormattedMetadata[sdkBridgeMetadataTranslator[prop].oldName] = metadataObject[prop].val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsdkFormattedMetadata[metadataObject[prop].oldName] = metadataObject[prop].val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn sdkFormattedMetadata;\n\t\t}\n\t\n\t\t/**\n\t\t * Merging objects together, with the last ovveriding the previous if properties have the same name\n\t\t * @param  {array} listOfObjectsToBeAggregated Array of objects to be aggregated. The last object in the list ovewrites the previous\n\t\t * @return {object} Result of the aggregation\n\t\t */\n\t\tfunction _extend(listOfObjectsToBeAggregated) {\n\t\t\tvar objects = listOfObjectsToBeAggregated;\n\t\t    var extended = {};\n\t\t    var prop;\n\t\n\t\t    for (var i = 0; i < objects.length; i++) {\n\t\t    \tif (objects[i]) {\n\t\t\t    \tfor (prop in objects[i]) {\n\t\t\t\t        if (objects[i].hasOwnProperty(prop)) {\n\t\t\t\t        \tif (prop === 'tags' || prop === 'flags') {\n\t\t\t\t        \t\tif (!extended[prop]) extended[prop] = objects[i][prop];\n\t\t\t\t        \t\textended[prop].val = extended[prop].val.concat(objects[i][prop].val);\n\t\t\t\t        \t\textended[prop].val = _removeArrayDuplicates(extended[prop].val);\n\t\t\t\t        \t} else {\n\t\t\t\t        \t\tif (objects[i][prop].val!==undefined && objects[i][prop].val!==null && objects[i][prop].val.toString().length) {\n\t\t\t\t        \t\t\textended[prop] = objects[i][prop];\n\t\t\t\t        \t\t}\n\t\t\t\t        \t}\n\t\t\t\t        }\n\t\t\t    \t}\n\t\t    \t}\n\t\t    }\n\t\t    return extended;\n\t\t}\n\t\n\t\tfunction _removeArrayDuplicates(array) {\n\t\t\tvar result = [];\n\t\t\tvar different = true;\n\t\t\tfor (var i = 0; i< array.length; i++) {\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\tresult.push(array[i]);\n\t\t\t\t} else {\n\t\t\t\t\tfor (var j = 0; j< result.length; j++) {\n\t\t\t\t\t\tif (result[j] === array[i]) different = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (different) {\n\t\t\t\t\t\tresult.push(array[i]);\n\t\t\t\t\t}\n\t\t\t\t\tdifferent = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t/**\n\t\t * If a longFormLimit is specified, the module modifies the metadata.contentForm and sets shortForm or longForm accordingly\n\t\t * @param {object} metadata Object to be on which the check is made\n\t\t * @return {object} metadata Returns the metadata object\n\t\t */\n\t\tfunction _setContentFormByLongFormLimit(metadata) {\n\t\t\tif (!metadata.duration || !metadata.longFormLimit) return metadata;\n\t\t\tif (metadata.duration >= metadata.longFormLimit) {\n\t\t\t\tmetadata.contentForm = 'longForm';\n\t\t\t} else {\n\t\t\t\tmetadata.contentForm = 'shortForm';\n\t\t\t}\n\t\n\t\t\treturn metadata;\n\t\t}\n\t\n\t\tfunction _changeContentFormFormat(metadata) {\n\t\t\tif (!metadata.contentForm) return;\n\t\t\tif (metadata.contentForm === 'short_form') metadata.contentForm = 'shortForm';\n\t\t\tif (metadata.contentForm === 'long_form') metadata.contentForm = 'longForm';\n\t\t}\n\t\n\t\tfunction _addContentFormToTags(metadata) {\n\t\t\tif (!metadata.contentForm) return;\n\t\t\tif (!metadata.tags) metadata.tags = [];\n\t\t\tif (metadata.contentForm === 'shortForm') metadata.tags.push('short_form');\n\t\t\tif (metadata.contentForm === 'longForm') metadata.tags.push('long_form');\n\t\t}\n\t\n\t\t/**\n\t\t * Enable the usage of metadata configuration objects from different sources and aggregate them into one metadata object that can be sent to the SDK\n\t\t * @param  {array} listOfObjectsToBeAggregated List of objects to be agreaggated\n\t\t * @param  {boolean} addExistingMetadata     If true, merge the new metadata objects with the existing one, else, just merge them and return\n\t\t * @return {object}  metadata                  Returns the metadata object in the format expected by the SDK\n\t\t */\n\t\tfunction aggregateData(listOfObjectsToBeAggregated, addExistingMetadata) { //change this into a 'dataAggregator()'\n\t\t\tvar metadata = {};\n\t\t\tvar objects = listOfObjectsToBeAggregated;\n\t\t\tvar mergeExisting = true;\n\t\n\t\t\tif (addExistingMetadata !== null) mergeExisting = addExistingMetadata;\n\t\n\t\t\t// Transform objects that will be agregated to the common \"bridge format\"\n\t\t\tfor (var i = 0; i< objects.length; i++) {\n\t\t\t\tif (objects[i]) {\n\t\t\t\t\tobjects[i] = _getDataInBridgeFormat(objects[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Aggregate objects\n\t\t\tif (mergeExisting) objects = objects.unshift(skdFormattedData);\n\t\t\tmetadata = _extend(objects);\n\t\t\t// Transform objects that will be agregated to format required by the sdk\n\t\t\tmetadata = _getDataInSdkFormat(metadata);\n\t\t\t// Modify the contentForm if needed\n\t\t\tmetadata = _setContentFormByLongFormLimit(metadata);\n\t\t\t// Change contentForm value format\n\t\t\t_changeContentFormFormat(metadata);\n\t\t\t// Add content form to tags\n\t\t\t_addContentFormToTags(metadata);\n\t\t\t//copy metadata to existing one\n\t\t\t_copyObjectProperties(skdFormattedData, metadata);\n\t\t\tisDataAgreggated = true;\n\t\t\tsetFlashFormat(metadata);\n\t\n\t\n\t\n\t\t\treturn metadata;\n\t\t}\n\t\n\t\t/**\n\t\t * Copies the values of the properties of the second object to the first object (only if the property names match)\n\t\t * @param  {object} copyTo   Object to get the values from the copyFrom matching properties\n\t\t * @param  {object} copyFrom Matching properties are copied to copyTo\n\t\t * @return {object}          copyTo object with the values of the copyFrom properties\n\t\t */\n\t\tfunction _copyObjectProperties(copyTo, copyFrom) {\n\t\t\tvar prop;\n\t\t\tfor (prop in copyTo) {\n\t\t\t\tif (copyTo.hasOwnProperty(prop) && copyFrom.hasOwnProperty(prop)) {\n\t\t\t\t\tcopyTo[prop] = copyFrom[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn copyTo;\n\t\t}\n\t\n\t\t// function addData(dataObj) {\n\t\t// \tvar newData = {};\n\t\t// \tcurrentData = _getDataInBridgeFormat(skdFormattedData);\n\t\t// \tnewData = _getDataInBridgeFormat(dataObj);\n\t\t// \t_extend([currentData, newData]);\n\t\t// }\n\t\n\t\t/**\n\t\t * Returns contentMetadata object required by the requestAds method of the SDK. To get a populated object, run aggregateData() first\n\t\t * @return {object} contentMetadata\n\t\t */\n\t\tfunction getContentMetadata() {\n\t\t\tvar contentMetadata = {\n\t\t\t\t    category: '',\n\t\t\t\t    contentForm: '',\n\t\t\t\t    contentId: '',\n\t\t\t\t    contentPartner: '',\n\t\t\t\t    duration: null,\n\t\t\t\t    flags: [],\n\t\t\t\t    tags: [],\n\t\t\t\t    customParameters: {}\n\t\t\t\t};\n\t\n\t\t\t_copyObjectProperties(contentMetadata, skdFormattedData);\n\t\t\tif (!isDataAgreggated) {\n\t\t\t\treturn contentMetadata;\n\t\t\t} else {\n\t\t\t\treturn contentMetadata;\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * Returns adCallModuleSettings object required by the requestAds method of the SDK. To get a populated object, run aggregateData() first\n\t\t * @return {object} adCallModuleSettings\n\t\t */\n\t\tfunction getAdCallModuleSettings() {\n\t\t\tvar adCallModuleSettings = {\n\t\t\t\tvpHost: '',\n\t\t\t\topt: {\n\t\t\t\t\tdeviceContainer: '',\n\t\t\t\t\tpersistentId: ''\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tadCallModuleSettings.vpHost = skdFormattedData.vpHost;\n\t\t\t_copyObjectProperties(adCallModuleSettings.opt, skdFormattedData);\n\t\n\t\t\tif (!isDataAgreggated) {\n\t\t\t\treturn adCallModuleSettings;\n\t\t\t} else {\n\t\t\t\treturn adCallModuleSettings;\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * Returns requestSettings  object required by the requestAds method of the SDK. To get a populated object, run aggregateData() first\n\t\t * @return {object} requestSettings\n\t\t */\n\t\tfunction getRequestSettings() {\n\t\t\tvar requestSettings = {\n\t\t\t\t\theight: null,\n\t\t\t\t\tmaxBitRate: null,\n\t\t\t\t\tplaybackPosition: null,\n\t\t\t\t\tinsertionType: '',\n\t\t\t\t\twidth: null,\n\t\t\t\t\treferrerUrl: ''\n\t\t\t\t};\n\t\t\t_copyObjectProperties(requestSettings, skdFormattedData);\n\t\n\t\t\tif (!isDataAgreggated) {\n\t\t\t\treturn requestSettings;\n\t\t\t} else {\n\t\t\t\treturn requestSettings;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction getCuePoints() {\n\t\t\treturn skdFormattedData.cuepoints;\n\t\t}\n\t\n\t\tfunction getMetadata() {\n\t\t\treturn skdFormattedData;\n\t\t}\n\t\n\t\tfunction setFlashFormat(metaObj) {\n\t\t\tvar metadata = metaObj;\n\t\t\t//this should be automatic, adding vp in front of all options passed?\n\t\t\tvar flashConverter = {\n\t\t\t\tflags: 'vpFlags',\n\t\t\t\tenvironmenturl: 'vpEnvironmentUrl',\n\t\t\t\tcontentform: 'vpcontentform',\n\t\t\t\tcontentpartner: 'vpContentPartner',\n\t\t\t\tcontentid: 'vpContentId'\n\t\t\t};\n\t\t\t//each metadata[prop] is a object\n\t\t\tfor (var prop in metadata) {\n\t\t\t\tfor (var conv in flashConverter) {\n\t\t\t\t\tif (prop.toLowerCase() === conv.toLowerCase()) {\n\t\t\t\t\t\tflashFormatMetadata[flashConverter[conv]] = metadata[prop];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tflashFormatMetadata[prop] = metadata[prop];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n\t\t\treturn flashFormatMetadata;\n\t\n\t\t}\n\t\n\t\tfunction getFlashFormat() {\n\t\t\treturn flashFormatMetadata;\n\t\t}\n\t\n\t\treturn {\n\t\t\taggregateData: aggregateData,\n\t\t\tgetAdCallModuleSettings: getAdCallModuleSettings,\n\t\t\tgetContentMetadata: getContentMetadata,\n\t\t\tgetRequestSettings: getRequestSettings,\n\t\t\tgetCuePoints: getCuePoints,\n\t\t\tgetMetadata: getMetadata,\n\t\t\tgetFlashFormat: getFlashFormat\n\t\t};\n\t}\n\t\n\tmodule.exports = metadataAggregator;\n\t},{}],8:[function(require,module,exports){\n\t/**\n\t * Creates a wrapper for the native console object.\n\t * @param  {[type]} enabled If enabled, messages are displayed to console. If not, supress them\n\t * @param  {[type]} name    Name space the logger for easy console filtering\n\t * @return {[type]}         Returns the wrapper object\n\t */\n\tfunction createLogger(enabled, name) {\n\t  var vplog = {}\n\t  if (!window.console) return function(){}\n\t  if (enabled || isLogEnabledByUrl()) {\n\t    for (var m in console)\n\t      if (typeof console[m] == 'function')\n\t        vplog[m] = console[m].bind(window.console, name.toString()+\":\")\n\t  }else{\n\t    for (var m in console)\n\t      if (typeof console[m] == 'function')\n\t        vplog[m] = function(){}\n\t  }\n\t  return vplog\n\t}\n\t\n\tfunction isLogEnabledByUrl() {\n\t    var value = getUrlQueryParameter('vplog');\n\t    var enabled = false;\n\t    switch (value) {\n\t        case 'true':\n\t        enabled = true;\n\t        break;\n\t        case 'false':\n\t        enabled = false;\n\t        break;\n\t        default:\n\t        enabled = false;\n\t        break;\n\t    }\n\t    return enabled;\n\t}\n\t\n\tfunction getUrlQueryParameter(name) {\n\t    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n\t    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n\t        results = regex.exec(location.search);\n\t    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n\t}\n\t\n\tmodule.exports = {\n\t    createLogger: createLogger,\n\t    getUrlQueryParameter: getUrlQueryParameter\n\t};\n\t\n\t\n\t},{}],9:[function(require,module,exports){\n\tvar metadataAggregator = require('html-metadata-aggregator'); /*Module*/\n\tvar videoplaza = require('videoplaza'); /*No need to modularise, it is stateless*/\n\tvar eventBusModule = require(\"./utils/eventBus.js\"); /*Module*/\n\tvar jsutils = require('jsutils');\n\t\n\tfunction sdke() {\n\t    var logger = jsutils.createLogger(false, 'ADS HTML5 SDKE');\n\t\tvar state = {\n\t\t\tadPlaying: false,\n\t\t\tprerollCalled: false,\n\t\t\tmidrollCalled: {\n\t\t\t//first values are cuepoints\n\t\t\t\t// 10: false,\n\t\t\t\t// 20: false\n\t\t\t},\n\t\t\tcuepoint: 0,\n\t\t\tpostrollCalled: false,\n\t\t\tinitCalled: false\n\t\t};\n\t\tvar conf = {};\n\t\tvar currentAd = {\n\t\t\ttracker: {}\n\t\t};\n\t\n\t\tvar tracker = {};\n\t\tvar adCallModule;\n\t\n\t\tvar playableAds = [];\n\t\tvar randomsdke = Math.random();\n\t\n\t\t/*Init dependencies*/\n\t\tvar vpData = metadataAggregator();\n\t\tvar eventBus = eventBusModule();\n\t\n\t\t/**\n\t\t * @function init(config)\n\t\t * @description Init videoplaza sdke - pass the needed params\n\t\t * @param {object} config Configuration object\n\t\t * @param {object} config.evtElement DOM element used as event bus - might suffer modifications\n\t\t * @param {object} config.videoPlayer - pass the video player\n\t\t */\n\t\tfunction init(config) {\n\t\t\tif (state.initCalled) return;\n\t\t\tstate.initCalled = true;\n\t\n\t\n\t\t\tvar adCallModuleSettings = vpData.getAdCallModuleSettings();\n\t\t\tlogger.log('adCallModuleSettings sdk', adCallModuleSettings, config.metadata.flags);\n\t\t\tconf = config; //you'd probably need to check this first\n\t\t\tconf.cuepoints = vpData.getCuePoints();\n\t\n\t\t\tif (conf.metadata.tags) {\n\t\t\t\tconf.metadata.tags.push('html5');\n\t\t\t} else {\n\t\t\t\tconf.metadata.tags = ['html5'];\n\t\t\t}\n\t\n\t\t\t//Parse cuepoint list and prepare the midrolls\n\t\t\t_parseCuepoints();\n\t\n\t\t\tadCallModule = new videoplaza.core.AdCallModule(adCallModuleSettings.vpHost, adCallModuleSettings.opt);\n\t\t\ttracker = new videoplaza.core.Tracker();\n\t\t}\n\t\n\t\t/**\n\t\t * @function requestAds(adType, playbackPosition)\n\t\t * @description Expose ad request functionality. It's a wrapper over _makeVideoplazaAdRequest, simply meant to be more 'user-friendly'\n\t\t * @param {string} adType Ad type in layman terms\n\t\t * @param {number} playbackPosition\n\t\t */\n\t\tfunction requestAds(adType, playbackPosition) {\n\t\t\tswitch (adType) {\n\t\t\t\tcase 'preroll':\n\t\t\t\tif (!hasFlag('noprerolls')) {\n\t\t\t\t\t_makeVideoplazaAdRequest('onBeforeContent');\n\t\t\t\t} else {\n\t\t\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'midroll':\n\t\t\t\tif (!hasFlag('nomidrolls')) {\n\t\t\t\t\t_makeVideoplazaAdRequest('playbackPosition', playbackPosition);\n\t\t\t\t} else {\n\t\t\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'postroll':\n\t\t\t\tif (!hasFlag('nopostrolls')) {\n\t\t\t\t\t_makeVideoplazaAdRequest('onContentEnd');\n\t\t\t\t} else {\n\t\t\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\n\t\t\t\tdefault:\n\t\t\t\tthrow 'Unregonised ad type';\n\t\t\t}\n\t\t\t//Saving the type of the ad playing for managing states\n\t\t\tcurrentAd.adType = adType;\n\t\t}\n\t\n\t\t/**\n\t\t * @function _makeVideoplazaAdRequest(tt, playbackPosition)\n\t\t * @description Make an ad request\n\t\t * @param {string} adType Ad type in layman terms\n\t\t * @param {number} playbackPosition\n\t\t */\n\t\tfunction _makeVideoplazaAdRequest(tt, playbackPosition) {\n\t\t\t//Init ad call module\n\t\t\t\tvar contentMetadata = vpData.getContentMetadata();\n\t\t\t\trequestSettings = vpData.getRequestSettings();\n\t\t\t\trequestSettings.insertionPointType = tt;\n\t\t\t\trequestSettings.playbackPosition = playbackPosition || '';\n\t\n\t\t\t\tadCallModule.requestAds(contentMetadata, requestSettings, _onGetAdsSuccess, _onGetAdsFail);\n\t\t}\n\t\n\t\t/**\n\t\t * @function adStarted()\n\t\t * @description Manage state of the sdk by putting it in adPlaying mode and track impression\n\t\t */\n\t\tfunction adStarted() {\n\t\t\tstate.adPlaying = true;\n\t\t\ttracker.track(playableAds[0], videoplaza.core.Tracker.trackingEvents.ad.impression);\n\t\t}\n\t\n\t\t/**\n\t\t * @function onClick()\n\t\t * @description If ad is playing, open the target url in a new page, track the click and update state\n\t\t */\n\t\tfunction onClick() {\n\t\t\tvar playerAdState = {\n\t\t\t\tadPlaying: state.adPlaying,\n\t\t\t\tadClicked: currentAd.tracker.click\n\t\t\t};\n\t\n\t\t\tif (!state.adPlaying || currentAd.tracker.click) return playerAdState;\n\t\t\twindow.open(currentAd.creative.clickThroughUri,'_blank');\n\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.clickThrough);\n\t\t\tcurrentAd.tracker.click = true;\n\t\n\t\t\treturn playerAdState;\n\t\t}\n\t\n\t\t/**\n\t\t * @function adEnded()\n\t\t * @description Executed when an ad is ended.\n\t\t * If more ads are available in the slot, play the next one.\n\t\t * If not, emit vp:adslot-complete and update the state accordingly\n\t\t */\n\t\tfunction adEnded() {\n\t\t\tif (!state.adPlaying) return;\n\t\n\t\t\t// Track complete quartile and remove the ad that ended\n\t\t\tplayableAds.shift();\n\t\n\t\t\t// Check if there are more ads available\n\t\t\tif (playableAds.length > 0) {\n\t\t\t\t_setCurrentAd(playableAds[0]);\n\t\t\t\t// Send vp:ads-ready event with the ad to be played\n\t\t\t\teventBus.dispatch('vp:ads-ready', currentAd);\n\t\t\t} else {\n\t\t\t\t// Send vp:adslot-complete event and update the state\n\t\t\t\tstate.adPlaying = false;\n\t\t\t\t_setAdComplete(currentAd.adType);\n\t\t\t\teventBus.dispatch('vp:adslot-complete', currentAd);\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * @function _setAdComplete(newState)\n\t\t * @description Used to update the state object of the sdke. Should be refactored - naming and usage are odd\n\t\t * @param {string} newState state that will be updated\n\t\t */\n\t\tfunction _setAdComplete(newState) {\n\t\t\tswitch (newState) {\n\t\t\t\tcase 'adPlaying':\n\t\t\t\tstate.adPlaying = true;\n\t\t\t\tbreak;\n\t\t\t\tcase 'preroll':\n\t\t\t\tstate.prerollCalled = true;\n\t\t\t\tbreak;\n\t\t\t\tcase 'midroll':\n\t\t\t\tstate.midrollCalled[state.cuepoint] = true;\n\t\t\t\t//identify which midroll played if you go forward in the timeline and remove that midroll\n\t\n\t\t\t\tbreak;\n\t\t\t\tcase 'postroll':\n\t\t\t\tstate.postrollCalled = true;\n\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\tthrow \"The selected plugin state(\"+ newState +\") is not supported\";\n\t\t\t}\n\t\t}\n\t\n\t\t//NOT USED ANYMORE - REMOVE WHEN WRITING THE UNIT TESTS\n\t\tfunction _startAd() {\n\t\t\t//first check if the creative is fine and the ad can be played.\n\t\t\t//if it is, track impression and ad start\n\t\t\ttracker.track(currentAd.adObject, videoplaza.core.Tracker.trackingEvents.ad.impression);\n\t\t}\n\t\n\t\t/**\n\t\t * @function _quartileTracking(time)\n\t\t * @description Compares the current time with the defined quartiles and fires the quartile tracking when needed\n\t\t * @param {number/string} time Can be a number that indicates the time of the ad being played, or can be the string 'complete' indicating the ad finished\n\t\t */\n\t\tfunction _quartileTracking(time) {\n\t\t\tif (time >=0 && !currentAd.tracker.e14) {\n\t\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.start);\n\t\t\t\tcurrentAd.tracker.e14 = true;\n\t\t\t}\n\t\t\tif (time >= currentAd.duration/4 && !currentAd.tracker.e15) {\n\t\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.firstQuartile);\n\t\t\t\tcurrentAd.tracker.e15 = true;\n\t\t\t}\n\t\t\tif (time >= currentAd.duration/2 && !currentAd.tracker.e16) {\n\t\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.midpoint);\n\t\t\t\tcurrentAd.tracker.e16 = true;\n\t\t\t}\n\t\t\tif (time >= (currentAd.duration/2 + currentAd.duration/4) && !currentAd.tracker.e17) {\n\t\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.thirdQuartile);\n\t\t\t\tcurrentAd.tracker.e17 = true;\n\t\t\t}\n\t\t\tif (time >=  currentAd.duration-0.25 && !currentAd.tracker.e18) {\n\t\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.complete);\n\t\t\t\tcurrentAd.tracker.e18 = true;\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * @function update(time)\n\t\t * @description Ran on evety player update ideally. Depending if ad is playing or not, it either fires quartiles or checking if midrolls should be played\n\t\t * @param {number/string} time Can be a number that indicates the time of the ad being played, or can be the string 'complete' indicating the ad finished\n\t\t */\n\t\tfunction update(time) {\n\t\t\tif (state.adPlaying) {\n\t\t\t\t_quartileTracking(time);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_checkForMidroll(time);\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * @function _checkForMidroll(time)\n\t\t * @description If a cuepoint was reached, make a midroll ad request\n\t\t * @param {number} time Current playing time\n\t\t */\n\t\tfunction _checkForMidroll(time) {\n\t\t\tif (!(conf.cuepoints && conf.cuepoints.length > 0)) return;\n\t\n\t\t\tvar cuepointIndex = _getCupointIndex(time, 0);\n\t\n\t\t\tif (cuepointIndex !== false) {\n\t\t\t\trequestAds('midroll', conf.cuepoints[cuepointIndex]);\n\t\t\t\tstate.cuepoint = conf.cuepoints[cuepointIndex];\n\t\t\t\tstate.midrollCalled[state.cuepoint] = true;\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t/**\n\t\t * @function _getCupointIndex(time, cuepointPos)\n\t\t * @description Recursive function checking the midroll that should be played. It handles video skipping scenarios too.\n\t\t *              For example, if you have 3 cuepoints, at 10s, 30s and 50s and the user jumps to 60s in the video,\n\t\t *              the cuepoint that will be triggered is the 50s one, with the 10s and 30s remaining active on the timeline\n\t\t * @param {number} time Current playing time\n\t\t * @param {number} cuepointPos Index in the cuepoints array\n\t\t */\n\t\tfunction _getCupointIndex(time, cuepointPos) {\n\t\t\t// Check if there are cuepoints left\n\t\t\tif (cuepointPos >= conf.cuepoints.length) return false;\n\t\n\t\t\t// If there is just one cuepoint left, check if it should be triggered\n\t\t\tif (cuepointPos + 1 === conf.cuepoints.length) {\n\t\t\t\treturn _getCuepointHit(time, cuepointPos);\n\t\t\t}\n\t\n\t\t\t// When there are multiple cuepoints, recursevly check which one can be triggered, starting with the second in the queue,\n\t\t\t// aiming for the furthest on the timeline (for the scenarios when the user skipped through the content)\n\t\t\tif (time >= conf.cuepoints[cuepointPos+1]) {\n\t\t\t\treturn _getCupointIndex(time, cuepointPos+1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//If the recursion indicates the second cuepoint is not ready to be triggered, check against the first one\n\t\t\t\treturn _getCuepointHit(time, cuepointPos);\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * @function _getCuepointHit(time, cuepointPos)\n\t\t * @description Simply compare the current playing time with a defined cuepoint position and return cuepoint position or falsy\n\t\t * @param {number} time current playing time\n\t\t * @param {number} cuepointPos Index in the cuepoints array\n\t\t * @return {number} Returns the index of the cuepoint that can be triggered\n\t\t * @return {boolean} Returns false if no cuepoint is reached. Meant as a 'falsy' value\n\t\t */\n\t\tfunction _getCuepointHit(time, cuepointPos) {\n\t\t\tif (time >= conf.cuepoints[cuepointPos] && !state.midrollCalled[conf.cuepoints[cuepointPos]]) {\n\t\t\t\treturn _isSeekrollEnabled(time, cuepointPos);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction _isSeekrollEnabled(time, cuepointPos) {\n\t\t\tif (conf.metadata.optional && !conf.metadata.optional.playMidrollOnSeek) {\n\t\t\t\t//if Seekroll is disabled, check the time of midroll\n\t\t\t\t//if time is way greater than mid position, it's a seekroll and should not be returned\n\t\t\t\tif (time - 0.5 > conf.cuepoints[cuepointPos]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn cuepointPos;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if Seekroll is enabled (default), return the midroll position\n\t\t\t\treturn cuepointPos;\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * @function _onGetAdsSuccess(ads)\n\t\t * @description Success callback for HTML5 SDK requestAds method. Get the playable ads, if any emit the vp:ads-ready event\n\t\t * @param {object} ads Contains the ads returned by Karbon\n\t\t */\n\t\tfunction _onGetAdsSuccess(ads){\n\t\t\tvar videoAds = [];\n\t\t\t// Get the playable ads\n\t\t\tplayableAds = _filterPlayableAds(ads);\n\t\n\t\t\tif (playableAds.length > 0) {\n\t\t\t\t_setCurrentAd(playableAds[0]);\n\t\t\t\t eventBus.dispatch('vp:ads-ready', currentAd);\n\t\t\t} else {\n\t\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t/**\n\t\t * @function _onGetAdsFail(ads)\n\t\t * @description Fail callback for HTML5 SDK requestAds method.\n\t\t * @param {object} erroMsg How are errors handled\n\t\t */\n\t\tfunction _onGetAdsFail(erroMsg) {\n\t\t}\n\t\n\t\t/**\n\t\t * @function _setCurrentAd(ad)\n\t\t * @description Populate the currentAd object with useful information about the ad currently playing\n\t\t * @param {object} ad Current ad object as returned by the server\n\t\t */\n\t\tfunction _setCurrentAd(ad) {\n\t\t\tif (!ad) return;\n\t\t\tcurrentAd.creative = ad.creatives[0]; //chose the linear\n\t\t\t// currentAd.mediaFile = ad.creatives[0].mediaFiles[0]; //choose first media file\n\t\t\tcurrentAd.mediaFile = _findMp4(currentAd.creative);\n\t\t\tcurrentAd.tracker = {\n\t\t\t\te14: false,\n\t\t\t\te15: false,\n\t\t\t\te16: false,\n\t\t\t\te17: false,\n\t\t\t\te18: false,\n\t\t\t\tclick: false\n\t\t\t};\n\t\t\tcurrentAd.adObject = ad;\n\t\t\tcurrentAd.duration = ad.creatives[0].duration;\n\t\t}\n\t\n\t\tfunction _findMp4(creative) {\n\t\t\tmediaFiles = creative.mediaFiles;\n\t\t\tfor (var i=0; i<mediaFiles.length; i++){\n\t\t\t\tif (mediaFiles[i].uri.slice(-3) === 'mp4') {\n\t\t\t\t\treturn mediaFiles[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn mediaFiles[0];\n\t\t}\n\t\n\t\t/**\n\t\t * Checks if current flag exists in the flags array\n\t\t * @param  {[type]}  adType [description]\n\t\t * @return {Boolean}        [description]\n\t\t */\n\t\tfunction hasFlag(flag) {\n\t\t\tif (!conf.metadata.flags) return;\n\t\n\t\t\tvar flags = conf.metadata.flags;\n\t\t\tfor (var i=0; i<flags.length; i++) {\n\t\t\t\tif (flags[i] === flag) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\n\t\t/**\n\t\t * @function _filterPlayableAds(ads)\n\t\t * @description Takes the ad response and returns only the playable one filtering out the inventory and the banners\n\t\t * @param {object} ads Raw ad object as returned by the server\n\t\t * @return {array} Arrays of ads that can be played in the current slot\n\t\t */\n\t\tfunction _filterPlayableAds(ads) {\n\t\t\tvar playableAds = [];\n\t\n\t\t\tfor (var i = 0; i < ads.length; i++) {\n\t\t\t\tswitch (ads[i].type) {\n\t\t\t\t\tcase 'standard_spot':\n\t\t\t\t\tif (ads[i].creatives[0].type === 'linear') { //can you have companion banners withoud video ad?\n\t\t\t\t\t\tplayableAds.push(ads[i]);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'inventory':\n\t\t\t\t\t//track inventory\n\t\t\t\t\ttracker.track(ads[i], videoplaza.core.Tracker.trackingEvents.ad.impression);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t//track error;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn playableAds;\n\t\t}\n\t\n\t\t/**\n\t\t * @function _parseCuepoints()\n\t\t * @description Assign cuepoints to the midroll state to keep track of them properly\n\t\t */\n\t\tfunction _parseCuepoints() {\n\t\t\tfor (var i = 0; i < conf.cuepoints.length; i++) {\n\t\t\t\tstate.midrollCalled[conf.cuepoints[i]] = false;\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * @function isAdPlaying()\n\t\t * @description Exposed function used to check if an ad is playing or not\n\t\t * @return {boolean} True/False if an ad is currently playing or not\n\t\t */\n\t\tfunction isAdPlaying() {\n\t\t\treturn state.adPlaying;\n\t\t}\n\t\n\t\tfunction reset() {\n\t\t\t_parseCuepoints();\n\t\t}\n\t\n\t\treturn {\n\t\t\tinit: init,\n\t\t\trequestAds: requestAds,\n\t\t\tadStarted: adStarted,\n\t\t\tadEnded: adEnded,\n\t\t\tupdate: update,\n\t\t\treset: reset,\n\t\t\tonClick: onClick,\n\t\t\tisAdPlaying: isAdPlaying,\n\t\t\tstate: state,\n\t\t\tmetadataTools: vpData,\n\t\t\tutils: {\n\t\t\t\teventBus: eventBus,\n\t\t\t\thasFlag: hasFlag\n\t\t\t}\n\t\t};\n\t}\n\t\n\tmodule.exports = sdke;\n\t\n\t},{\"./utils/eventBus.js\":10,\"html-metadata-aggregator\":7,\"jsutils\":8,\"videoplaza\":6}],10:[function(require,module,exports){\n\tfunction eventBusModule() {\n\t\t\"use strict\";\n\t\n\t\tvar registeredEvents = [];\n\t\tvar sep = Math.round(Math.random()*1000);\n\t\n\t\tfunction dispatch(name, details) {\n\t\t\tfor (var i = 0; i< registeredEvents.length; i++) {\n\t\t\t\tif (registeredEvents[i].eventName === name+sep) {\n\t\t\t\t\t//if the name match, call the callbacks and attach the details\n\t\t\t\t\tfor (var j = 0; j < registeredEvents[i].callbacks.length; j++) {\n\t\t\t\t\t\tregisteredEvents[i].callbacks[j](details);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction addEventListener(name, callback) {\n\t\t\tvar eventObject = {\n\t\t\t\teventName : name+sep,\n\t\t\t\tcallbacks: [callback]\n\t\t\t};\n\t\t\tvar eventDefined = false;\n\t\t\tvar selectedEvent;\n\t\n\t\t\tif (registeredEvents.length === 0) {\n\t\t\t\tregisteredEvents.push(eventObject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// go through existing events and check if the current one has been registered\n\t\t\tfor (var i = 0; i< registeredEvents.length; i++) {\n\t\t\t\tif (registeredEvents[i].eventName === name+sep) {\n\t\t\t\t\teventDefined = true;\n\t\t\t\t\tselectedEvent = registeredEvents[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (eventDefined) {\n\t\t\t\t_checkCallback(selectedEvent, callback);\n\t\t\t} else {\n\t\t\t\tregisteredEvents.push(eventObject);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction _checkCallback(selectedEvent, callback) {\n\t\t\tvar eventCallbackDefined = false;\n\t\t\tfor (var i = 0; i< selectedEvent.callbacks.length; i++) {\n\t\t\t\tif (selectedEvent.callbacks[i].toString() === callback.toString()) {\n\t\t\t\t\teventCallbackDefined = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!eventCallbackDefined) {\n\t\t\t\tselectedEvent.callbacks.push(callback);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction _isInList(element, list, objProperty) {\n\t\t\tvar isInList = false;\n\t\t\tvar i;\n\t\t\tif (objProperty) {\n\t\t\t\tfor (i = 0; i< list.length; i++) {\n\t\t\t\t\tif (list[i][objProperty].toString() === element.toString()) {\n\t\t\t\t\t\tisInList = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0; i< list.length; i++) {\n\t\t\t\t\tif (list[i][objProperty] === element) {\n\t\t\t\t\t\tisInList = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn isInList;\n\t\t}\n\t\n\t\treturn {\n\t\t\tdispatch: dispatch,\n\t\t\taddEventListener: addEventListener,\n\t\t\trandomTest: sep,\n\t\t\tregisteredEvents: registeredEvents\n\t\t};\n\t}\n\t\n\tmodule.exports = eventBusModule;\n\t},{}],11:[function(require,module,exports){\n\targuments[4][8][0].apply(exports,arguments)\n\t},{\"dup\":8}],12:[function(require,module,exports){\n\tvar skipButton = require('./skip-button.js');\n\tvar jsutils = require('jsutils');\n\t\n\t\n\t/**\n\t * Initializes the core part of the HTML5 plugin and returns an instance.\n\t * @param  {[type]} playerObj      The videojs player\n\t * @param  {[type]} config         The aggregated config (after metadata from multiple sources has been processed)\n\t * @param  {[type]} playlistModule The playlist support module. This should go once the videojs contrib is integrated and can put stuff in ads mode\n\t * @return {[type]}                [description]\n\t */\n\tfunction bridge(sdke) {\n\t    var logger = jsutils.createLogger(false, 'BC ADS Plugin');\n\t\tvar player = {};\n\t\tvar playlist = {};\n\t\tvar ad;\n\t\tvar vpConfig = {};\n\t\tvar metadata = {};\n\t\n\t\tvar contentSrc;\n\t\tvar contentType;\n\t\tvar canPlayPreroll = true;\n\t\t// var contentInitiated = false;\n\t\n\t\t/**\n\t\t * Legacy entry point for the HTML5 part of the plugin, used to be main function between bridge.js got modularised and bridge() is used as initializer\n\t\t * Still, this has to be called for the plugin to actually run\n\t\t * Question: Can this be called multiple times on the same instance, with different config objects?\n\t\t * @param  {[type]} playerObj      The videojs player\n\t\t * @param  {[type]} config         The aggregated config (after metadata from multiple sources has been processed)\n\t\t * @param  {[type]} playlistModule The playlist support module. This should go once the videojs contrib is integrated and can put stuff in ads mode\n\t\t * @return {[type]}                [description]\n\t\t */\n\t\tfunction runPlugin(playerObj, config) {\n\t\t\tvpConfig = config;\n\t\t\tplayer = playerObj;\n\t\n\t\t\t// Add event handlers\n\t\t\t_addPlayerEventHandlers();\n\t\t\t_initAdvertisingModule();\n\t\t\tinitApi();\n\t\n\t\t\toptionalFeatures(config);\n\t\t}\n\t\n\t\tfunction optionalFeatures(config) {\n\t\t\t//add skip button\n\t\t\tif (config.optional.skip) skipButton(player, config.optional.skip.timeout, config.optional.skip.text);\n\t\t}\n\t\n\t\t/**\n\t\t * @method _addPlayerEventHandlers\n\t\t * @description Adding event handlers\n\t\t */\n\t\tfunction _addPlayerEventHandlers() {\n\t\t\t// Listen once to play event emiited by the player\n\t\t\tplayer.on('play', requestPrerolls);\n\t\n\t\t\t// Fired when the timeout setting is reached. The player will resume the content\n\t\t\tplayer.on('adtimeout', player.play);\n\t\n\t\t\t// Fired on every time update emmited by the player. Several times per second\n\t\t\t// These should normally be split into contentupdate and adtimeupdate\n\t\t\tplayer.on('timeupdate', _update);\n\t\t\tplayer.on('adtimeupdate', _update);\n\t\n\t\t\t// Fired when the player finished playing an ad\n\t\t\tplayer.on('adended', adEnded);\n\t\t\tplayer.on('contentended', _contentEnded);\n\t\n\t\t\tplayer.on('contentupdate', _showNewAd);\n\t\t\tplayer.on('readyforpreroll', function(){\n\t\t\t\tlogger.log('readyforpreroll');\n\t\t\t});\n\t\n\t\t\tplayer.on('contentloadedmetadata', function(){logger.log('contentloadedmetadata')});\n\t\t\tplayer.on('contentloadeddata', function(){logger.log('contentloadeddata')});\n\t\n\t\t\t// Fired when ads are ready to be played\n\t\t\tplayer.vpEvent.addEventListener('vp:ads-ready', startAdPlayback);\n\t\n\t\t\t// Fired when the ad request returns an error\n\t\t\tplayer.vpEvent.addEventListener('vp:ads-error', handleAdError);\n\t\n\t\t\t// Fired when all the ads in an adslot are played\n\t\t\tplayer.vpEvent.addEventListener('vp:adslot-complete', _resumePlayback);\n\t\n\t\t\t// Wraper for handling click and touch events\n\t\t\t_clickHandling();\n\t\t}\n\t\n\t\t/**\n\t\t * Request a preroll ad if prerolls haven't been played for the current video\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tfunction requestPrerolls() {\n\t\t\tlogger.log('requestPrerolls - canPlayPreroll', canPlayPreroll);\n\t\t\tif (canPlayPreroll) {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t\tsdke.requestAds('preroll');\n\t\t\t\tcanPlayPreroll = false;\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * Triggered by contentupdate. Happens at start and on new playlist element\n\t\t * Resets the plugin state. Forces a pause/play to trigger the ad\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tfunction _showNewAd() {\n\t\t\t_reset();\n\t\t\tplayer.pause();\n\t\t\tplayer.play();\n\t\t}\n\t\n\t\t/**\n\t\t * @method _addPlayerEventHandlers\n\t\t * @description By default, vjs does not pause the player on touch, so we have to pause it\n\t\t */\n\t\tfunction _clickHandling() {\n\t\t\tvar el = document.getElementById(player.el().id).firstChild;\n\t\t\tel.addEventListener('click', function(){\n\t\t\t\tsdke.onClick();\n\t\t\t});\n\t\t\tel.addEventListener('touchstart', function(evt) {\n\t\t\t\tvar adState = sdke.onClick();\n\t\t\t\tif (adState.adPlaying && !adState.adClicked) {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\t\t\t\tif (adState.adPlaying && adState.adClicked) {\n\t\t\t\t\tplayer.play();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\t/**\n\t\t * @method _initAdvertisingModule\n\t\t * @description Save content info and init sdk\n\t\t */\n\t\tfunction _initAdvertisingModule() {\n\t\t\t// Init the HTML5 sdk wrapper\n\t\t\tsdke.init({\n\t\t\t\tevtElement: player.el(),\n\t\t\t\tvideoPlayer: player,\n\t\t\t\tmetadata: vpConfig\n\t\t\t});\n\t\t}\n\t\n\t\tfunction initApi() {\n\t\t\tplayer.vpApi.pauseAd = function() {\n\t\t\t\tif (player.ads.state !== 'ad-playback') return;\n\t\t\t\tplayer.pause();\n\t\t\t};\n\t\t\tplayer.vpApi.resumeAd = function() {\n\t\t\t\tif (player.ads.state !== 'ad-playback') return;\n\t\t\t\tplayer.play();\n\t\t\t};\n\t\t\tplayer.vpApi.skipAd = function() {\n\t\t\t\tif (player.ads.state !== 'ad-playback') return;\n\t\t\t\tplayer.vpEvent.dispatch('vp:ad-ended');\n\t\t\t\tsdke.adEnded();\n\t\t\t};\n\t\t}\n\t\n\t\t/**\n\t\t * @function startAdPlayback\n\t\t * @description Run when the sdke emits ads-ready event.\n\t\t * Propagate vp:ad-ready to be used be integrators if needed (this is probably not needed anymore)\n\t\t * Populate the global ad object with the one received from the SDK.\n\t\t */\n\t\tfunction startAdPlayback(adObj) {\n\t\t\tplayer.vpEvent.dispatch('vp:ad-ready');\n\t\t\tplayer.trigger('adsready');\n\t\t\tad = adObj;\n\t\t\t_playAd();\n\t\t}\n\t\n\t\t/**\n\t\t * @function handleError\n\t\t * @description Run when the sdke emits ads-ready event.\n\t\t * Propagate vp:ad-error to be used be integrators if needed (this is probably not needed anymore)\n\t\t * If error occured on postrolls, reset plugin state and pause player. Else simply resume content play\n\t\t */\n\t\tfunction handleAdError(adObj) {\n\t\t\tplayer.vpEvent.dispatch('vp:ad-error');\n\t\t\tplayer.trigger('adserror');\n\t\n\t\t\tplayer.play();\n\t\t}\n\t\n\t\t/**\n\t\t * @function _playAd\n\t\t * @description Start ad playing\n\t\t */\n\t\tfunction _playAd() {\n\t\t\t//hide the seek control\n\t\t\tplayer.controlBar.progressControl.seekBar.hide();\n\t\t\tsdke.adStarted();\n\t\n\t\t\t// Play your linear ad content\n\t\t\tplayer.ads.startLinearAdMode();\n\t\t\tplayer.src({\"type\": ad.mediaFile.mimeType, \"src\": ad.mediaFile.uri});\n\t\t\tplayer.play();\n\t\t}\n\t\n\t\t/**\n\t\t * @function adEnded\n\t\t *\n\t\t * @description On video ended check the type of the video ended (content or ad)\n\t\t * When ad, tell sdke the ad has ended\n\t\t * When content, request postroll ads\n\t\t */\n\t\tfunction adEnded() {\n\t\t\tlogger.log('ad ended fired');\n\t\t\tif (sdke.isAdPlaying()) {\n\t\t\t\tsdke.adEnded();\n\t\t\t\tplayer.vpEvent.dispatch('vp:ad-ended');\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * Trigger postroll 100 miliseconds before end\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tfunction _checkForPostroll(time) {\n\t\t\tif (player.ads.state === 'ad-playback' || sdke.state.postrollCalled) return;\n\t\t\tvar buffer = 850;\n\t\t\tvar mstime = time * 1000;\n\t\t\tvar potime = player.duration() * 1000 - buffer;\n\t\n\t\t\tif (mstime >= potime) {\n\t\t\t\t_callPostroll();\n\t\t\t}\n\t\t}\n\t\n\t\tfunction _callPostroll() {\n\t\t\tif (!sdke.state.postrollCalled && !sdke.utils.hasFlag('nopostrolls')) {\n\t\t\t\tsdke.requestAds('postroll');\n\t\t\t\tsdke.state.postrollCalled = true;\n\t\t\t\tplayer.pause();\n\t\t\t}\n\t\t}\n\t\n\t\tfunction _contentEnded() {\n\t\t\tlogger.log('Content Ended');\n\t\t\t_reset();\n\t\t}\n\t\n\t\t/**\n\t\t * @function _resumePlayback\n\t\t * @description When the ad slot is complete, resume playback\n\t\t * @param {object} evt ad:ended event\n\t\t */\n\t\tfunction _resumePlayback(adObj) {\n\t\t\tlogger.log('resume playback', adObj);\n\t\t\tplayer.controlBar.progressControl.seekBar.show();\n\t\t\tplayer.ads.endLinearAdMode();\n\t\n\t\t\t//jump to end if postroll\n\t\t\tif (adObj.adType === \"postroll\") player.currentTime(player.duration() - 0.4);\n\t\t}\n\t\n\t\t/**\n\t\t * @function _update\n\t\t * @description Run it on every plyaer time update. Update sdke internal state on every timeline update\n\t\t *\n\t\t * @param {object} evt Timeupdate event sent by player\n\t\t */\n\t\tfunction _update(evt) {\n\t\t\tvar time = player.currentTime();\n\t\t\t_checkForPostroll(time);\n\t\t\tsdke.update(time);\n\t\t}\n\t\n\t\t/**\n\t\t * On video end reset plugin state so ads can be called again (by very popular client demand)\n\t\t * todo: should play prerolls too, but it is now broken\n\t\t */\n\t\tfunction _reset() {\n\t\t\tcanPlayPreroll = true;\n\t\t\tad = {};\n\t\t\tsdke.reset();\n\t\t\tsdke.state.postrollCalled = false;\n\t\t}\n\t\treturn {\n\t\t\trunPlugin: runPlugin\n\t\t};\n\t}\n\t\n\tmodule.exports = bridge;\n\t},{\"./skip-button.js\":17,\"jsutils\":11}],13:[function(require,module,exports){\n\tvar swfobject = require('swfobject');\n\tvar muteButton = require('./mute-button');\n\tvar jsutils = require('jsutils');\n\t\n\t/*Local*/\n\tvar flashComponentModule = require('../git_modules/js-flashadplayer-bridge/src/main.js'); //modularise\n\t/*Production*/\n\t// var flashComponentModule = require('js-flashadplayer-bridge'); //modularise\n\t\n\t\n\tfunction flashPlayer() {\n\t    var player, metadata, flashMetadata, flashWrapperElement, fc, flashEl;\n\t    var logger = jsutils.createLogger(false, 'BC ADS Plugin Flash Bridge');\n\t\n\t    function init(p, options) {\n\t        //create the flash element\n\t        player = p;\n\t        metadata = options;\n\t\n\t        fc = flashComponentModule();\n\t\n\t        addFlashElToPage();\n\t        optionalFeatures(metadata);\n\t    }\n\t\n\t    function optionalFeatures(config) {\n\t        if (player.vpApi.getAdMode() === 'html') return;\n\t        if (config.optional && config.optional.muteButton && config.optional.muteButton.flash) muteButton(player);\n\t    }\n\t\n\t    function addFlashElToPage() {\n\t        createFlashElement();\n\t        flashMetadata = flashVars(metadata);\n\t        var swf = embedFlashElement();\n\t        styleFlashElement(swf);\n\t    }\n\t\n\t    function createFlashElement() {\n\t        // Create TWO(!) DIV wrappers, one outer which will stick around and one inner which will be replaced with the SWF object\n\t        flashEl = document.createElement(\"div\");\n\t        var randomIndex = Math.floor(Math.random() * (999999 - 100000)) + 100000;\n\t        flashEl.id = 'vpJSFlashBridge'+ player.id().replace(/-/g, '') + randomIndex;\n\t\n\t        flashWrapperElement = document.createElement(\"div\");\n\t        flashWrapperElement.id = \"vpJSFlashBridgeWrapper\" + randomIndex;\n\t        flashWrapperElement.style.position = \"absolute\";\n\t        flashWrapperElement.style.margin = \"0\";\n\t        flashWrapperElement.style.padding = \"0\";\n\t        flashWrapperElement.style.top = \"0\";\n\t        flashWrapperElement.style.left = \"0\";\n\t        flashWrapperElement.style.width = '1px';\n\t        flashWrapperElement.style.height = '1px';\n\t        flashWrapperElement.appendChild(flashEl);\n\t        player.el().appendChild(flashWrapperElement);\n\t    }\n\t\n\t    function embedFlashElement() {\n\t        var swfObjectParams = {\n\t          // url: \"../AdPlayer_1.0.7.swf\",\n\t          url: \"//cdn.videoplaza.tv/resources/flash/flash-js-bridge/AdPlayer_1.0.7.swf\",\n\t          placeHolderId: flashEl.id,\n\t          width: \"100%\",\n\t          height: \"100%\",\n\t          minFlashVersion: \"11.0\",\n\t          expressInstallSwfUrl: null,\n\t          flashVars: flashVars(metadata),\n\t          parameters: {\n\t             classid: 'classid'+flashEl.id,\n\t             id: flashEl.id,\n\t             name: flashEl.id,\n\t             allowScriptAccess: 'always',\n\t             wmode: 'opaque'\n\t          },\n\t          attributes: {\n\t\n\t          },\n\t          callbackFn: initFlashAdPlayer\n\t        };\n\t        swfobject.embedSWF(\n\t          swfObjectParams.url,\n\t          swfObjectParams.placeHolderId,\n\t          swfObjectParams.width,\n\t          swfObjectParams.height,\n\t          swfObjectParams.minFlashVersion,\n\t          swfObjectParams.expressInstallSwfUrl,\n\t          swfObjectParams.flashVars,\n\t          swfObjectParams.parameters,\n\t          swfObjectParams.attributes,\n\t          swfObjectParams.callbackFn\n\t        );\n\t\n\t        return swfObjectParams;\n\t    }\n\t\n\t    function styleFlashElement(swfObjectParams) {\n\t        swfobject.createCSS(\"#\" + swfObjectParams.parameters.id, \"position:absolute;top:0;left:0;\", \"screen\", true);\n\t        swfobject.createCSS(\".\" + flashWrapperElement.id, \"height:100%!important;width:100%!important;\", \"screen\", true);\n\t    }\n\t\n\t    function insertAfter(referenceNode, newNode) {\n\t        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n\t    }\n\t\n\t    function initFlashAdPlayer(info) {\n\t       // NOTE:\n\t       // This does NOT mean that the Flash plugin has been loaded successfully. It only means that the SWF Url was resolved and that <object> was created\n\t       // So, the success tasks should wait until we know that the Flash plugin is ready or when a timeout has been reached.\n\t\n\t       if (info.success) {\n\t          player.vpEvent.dispatch('flashLoaded');\n\t          fc.flashComponent.init(player, flashMetadata, flashEl.id);\n\t\n\t          //if autoplay, start player\n\t          // if (player.autoplay()) {player.play()};\n\t       } else {\n\t          player.vpEvent.dispatch('flashFailed');\n\t       }\n\t    }\n\t\n\t    function flashVars(playerConf) {\n\t        var config= {};\n\t        logger.log('flashPlayer flashVars', playerConf);\n\t        for (var prop in playerConf) {\n\t            config[prop] = playerConf[prop];\n\t        }\n\t\n\t\n\t        config.width= player.width();\n\t        config.height= player.height();\n\t        config.vphost= playerConf.vpHost;\n\t        config.vpcategory= playerConf.category;\n\t        config.vptags= playerConf.tags;\n\t        config.vpcustomparameters = playerConf.customParameters;\n\t\n\t        // config.vpflags= 'nopostroll';\n\t        config.divId= flashEl.id;\n\t\n\t        if (config.cuepoints){\n\t            config.cuepoints= playerConf.cuepoints.toString();\n\t        }\n\t        // allowScriptAccess= 'always',\n\t        // config.wmode = 'opaque';\n\t\n\t\n\t        return config;\n\t\n\t    }\n\t\n\t    return {\n\t       init: init\n\t    };\n\t}\n\t\n\tmodule.exports = flashPlayer;\n\t},{\"../git_modules/js-flashadplayer-bridge/src/main.js\":4,\"./mute-button\":16,\"jsutils\":11,\"swfobject\":1}],14:[function(require,module,exports){\n\t/*Proper fix is to have this toggle in the build process*/\n\t/*Local*/\n\tvar sdkeModule = require('../git_modules/sdke-html5/src/main.js');\n\t/*Production*/\n\t// var sdkeModule = require('sdke-html5');\n\t\n\tvar contribAds = require('contribAds');\n\tvar bridgeModule = require('./bridge');\n\tvar flashPlayerModule = require('./flashPlayer');\n\tvar metaModuleMain = require('./metadata');\n\tvar jsutils = require('jsutils');\n\t\n\t\n\t\n\t/** Register the plugin to the player */\n\tvideojs.plugin('vpbc', pluginModule);\n\t\n\t/**\n\t * Main function of the plugin. To have the plugin working, call this with a configuration object\n\t * @param {object} options Configuration Object\n\t */\n\tfunction pluginModule(options) {\n\t    var logger = jsutils.createLogger(false, 'BC ADS Plugin');\n\t    var metadata, player, config, vpPlugin, vpEvent, sdke, metaModule, flashPlayer;\n\t    var playerInitialized = false;\n\t    var forcedPause = false;\n\t    var adMode = null;\n\t    createConsoleIE9();\n\t\n\t    player = this;\n\t    player.ads();\n\t    initPlugin(options);\n\t    /**\n\t     * Run plugin initialisation methods\n\t     * @param {object} options Configuration Object\n\t     */\n\t    function initPlugin(options) {\n\t        config = options;\n\t        initDependencies();\n\t        eventHandlers();\n\t    }\n\t\n\t    function createConsoleIE9() {\n\t        if (!window.console) window.console = {};\n\t        if (!window.console.log) window.console.log = function () {};\n\t    }\n\t\n\t    /**\n\t     * Instantiate the plugin dependencies\n\t     */\n\t    function initDependencies() {\n\t        sdke = sdkeModule();\n\t        vpPlugin = bridgeModule(sdke);\n\t        vpEvent = sdke.utils.eventBus;\n\t        player.vpEvent = vpEvent;\n\t        metaModule = metaModuleMain(sdke);\n\t        flashPlayer = flashPlayerModule();\n\t        initialiseApi();\n\t    }\n\t\n\t    function initialiseApi() {\n\t        player.vpApi = {\n\t            getAdMode: getAdMode,\n\t            pauseAd: function() {logger.log('not implemented');},\n\t            resumeAd: function() {logger.log('not implemented');},\n\t            skipAd: function() {logger.log('not implemented');}\n\t        };\n\t    }\n\t\n\t    /**\n\t     * Combining player handlers\n\t     */\n\t    function eventHandlers() {\n\t        player.on('play', checkIfPlayerIsInitialised);\n\t        player.vpEvent.addEventListener('flashFailed', function(){\n\t            adMode = 'html';\n\t            vpPlugin.runPlugin(player, metadata);\n\t        });\n\t\n\t        if (!player.duration()) {\n\t            player.on('contentupdate', function(){logger.log('content was updated');});\n\t            player.on('loadedmetadata', onMetadataLoaded);\n\t        } else {\n\t            player.on('contentupdate', function(){logger.log('content was updated');});\n\t            onMetadataLoaded();\n\t        }\n\t    }\n\t\n\t    /**\n\t     * If play is triggered and metadata is not ready yet, put the player on pause\n\t     * @return {[type]} [description]\n\t     */\n\t    function checkIfPlayerIsInitialised() {\n\t        if(!playerInitialized) {\n\t            // The player is not initialized yet, pause playback immediately and resume when ready\n\t            player.pause();\n\t            forcedPause = true;\n\t        }\n\t    }\n\t\n\t    function getAdMode() {\n\t        return adMode;\n\t    }\n\t\n\t    /**\n\t     * First check if player has ben initialised. This ensures it runs only once per player which might be problematic for playlists, as multiple videos,\n\t     *     with different metadata can be loaded and they'd need their own metadata\n\t     * Init metadata module.\n\t     * Based on the config, choose if HTML5 or Flash should run.\n\t     * If the player was forced to wait (forcedPause) trigger player play\n\t     * @return {[type]} [description]\n\t     */\n\t    function onMetadataLoaded() {\n\t        // logger.log('Metadata was received, initialisation continues');\n\t        if (playerInitialized) return;\n\t        setVideoDuration();\n\t        playerInitialized = true;\n\t\n\t        metadata = metaModule.init(player, config);\n\t\n\t\n\t        if(metadata.optional && metadata.optional.flashEnabled) {\n\t            adMode = 'flash';\n\t            // logger.log('flashWorks, adMode flash');\n\t            flashPlayer.init(player, metaModule.getFlashMetadata());\n\t        } else {\n\t            // logger.log('eventHandlers, vpPlugin.runPlugin() called');\n\t            adMode = 'html';\n\t            // logger.log('run plugin html metadata', metadata);\n\t            vpPlugin.runPlugin(player, metadata);\n\t        }\n\t\n\t        if(forcedPause) {\n\t            // Playback was halted because the player was not yet ready. Reset flag and resume playback\n\t            forcedPause = false;\n\t            // logger.log('perform src main.js play');\n\t            player.play();\n\t        }\n\t    }\n\t\n\t    function setVideoDuration() {\n\t        if (!config.duration) {\n\t            config.duration = player.duration();\n\t        }\n\t    }\n\t}\n\t},{\"../git_modules/sdke-html5/src/main.js\":9,\"./bridge\":12,\"./flashPlayer\":13,\"./metadata\":15,\"contribAds\":2,\"jsutils\":11}],15:[function(require,module,exports){\n\tvar urlDataModule = require('./url-metadata');\n\tvar jsutils = require('jsutils');\n\t\n\t\"use strict\";\n\t/**\n\t * Module start function\n\t * Offers some tools for managing Brightcove specific metadata and passing it in html and flash formats\n\t * @return {[type]} [description]\n\t */\n\tfunction metadataModule(sdkeInstance) {\n\t\tvar player, metadata, videoCustomFields;\n\t\tvar sdke = sdkeInstance;\n\t\tvar vpConfig;\n\t    var logger = jsutils.createLogger(false, 'BC ADS Plugin');\n\t\n\t\n\t\t/**\n\t\t * Legacy entry point\n\t\t * Collect metadata from different sources and aggregate it\n\t\t * Check how does this work when changing videos\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tfunction init(p, config) {\n\t\t\tvar videoMetadata, mappedMetadata, vocentoMeta, urlData;\n\t\t\tplayer = p;\n\t\t\tif (player.mediainfo) {\n\t\t\t\tvideoMetadata = player.mediainfo || {};\n\t\t\t\tvideoCustomFields = player.mediainfo.custom_fields || {};\n\t\t\t\tmappedMetadata = _getMappedMetadata(player.mediainfo);\n\t\t\t}\n\t\t\tvar bcCuepoints = _getBcVideoMidrollCuepoints();\n\t\t\tif (config.optional && config.optional.urlMetadata) {\n\t\t\t\turlData = urlDataModule.getQueryMetadata();\n\t\t\t}\n\t\n\t\t\t//Ovewrite cuepoints sent in config if the video has cuepoints defined.\n\t\t\tif (bcCuepoints.length > 0) {\n\t\t\t\tmetadata = sdke.metadataTools.aggregateData([config, clientConfigOverride(), urlData, videoMetadata, videoCustomFields, mappedMetadata, {cuepoints: bcCuepoints}]);\n\t\t\t} else {\n\t\t\t\tmetadata = sdke.metadataTools.aggregateData([config, clientConfigOverride(), urlData, videoMetadata, videoCustomFields, mappedMetadata,vocentoMeta]);\n\t\t\t}\n\t\n\t\t\treturn metadata;\n\t\t}\n\t\n\t\tfunction clientConfigOverride() {\n\t\t\tlogger.log('updated version vpconfig');\n\t\t\tvar data = {};\n\t\t\tif (player.vpConfig) {\n\t\t\t\tdata = player.vpConfig || {};\n\t\t\t}\n\t\t\treturn data;\n\t\t}\n\t\n\t\t//SERIOUSLY UNIT TEST THIS, PLEASE\n\t\tfunction _getMappedMetadata(mediainfo) {\n\t\t\tvar metadata = {};\n\t\t\tvar prop;\n\t\t\tvar mappedMetadata = {};\n\t\t\tvar mappedParamValues =  {\n\t\t\t\ttags: 'vpBCMapTags',\n\t\t\t\tcategory: 'vpBCMapCategory',\n\t\t\t\tflags: 'vpBCMapFlags',\n\t\t\t\tcontentPartner: 'vpBCMapContentPartner'\n\t\t\t};\n\t\t\tif (vpConfig) { //do a try catch instead. Also check why stuff is not sent to flash when flash is initialized\n\t\t\t\tfor (prop in mappedParamValues) {\n\t\t\t\t\tif (mediainfo.custom_fields !== undefined && mediainfo.custom_fields[vpConfig[mappedParamValues[prop]]] !== undefined) {\n\t\t\t\t\t\tmetadata[prop] = mediainfo.custom_fields[vpConfig[mappedParamValues[prop]]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (prop in mappedParamValues) {\n\t\t\t\t\tif (mediainfo.custom_fields !== undefined && mediainfo.custom_fields[mediainfo[mappedParamValues[prop]]] !== undefined) {\n\t\t\t\t\t\tmetadata[prop] = mediainfo.custom_fields[mediainfo[mappedParamValues[prop]]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn metadata;\n\t\t}\n\t\n\t\tfunction _getBcVideoMidrollCuepoints() {\n\t\t\tvar bcCuepoints;\n\t\t\tif (player.mediainfo) {\n\t\t\t\tbcCuepoints = player.mediainfo.cue_points;\n\t\t\t}\n\t\t\tvar cuepoints = [];\n\t\t\tif (bcCuepoints && bcCuepoints.length > 0) {\n\t\t\t\tfor (var i = 0; i < bcCuepoints.length; i++) {\n\t\t\t\t\tif (bcCuepoints[i].name === 'vpspot') {\n\t\t\t\t\t\tcuepoints.push(bcCuepoints[i].time);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cuepoints;\n\t\t}\n\t\n\t    function getFlashMetadata() {\n\t        return sdke.metadataTools.getFlashFormat();\n\t    }\n\t\n\t\treturn {\n\t\t\tinit: init,\n\t\t\tgetFlashMetadata: getFlashMetadata\n\t\t};\n\t}\n\t\n\tmodule.exports = metadataModule;\n\t},{\"./url-metadata\":18,\"jsutils\":11}],16:[function(require,module,exports){\n\tfunction muteButton(player) {\n\t    var button;\n\t    var btnBackground = 'url(//cdn.videoplaza.tv/contrib/es-vocento/new-brightcove/resources/volume_sprite.png)'\n\t    var mutedPosition = '34px 0px';\n\t    var unmutedPosition = '0px 0px';\n\t\n\t    function init() {\n\t        button = insert();\n\t        player.on('adstart', show);\n\t        player.on('adend', hide);\n\t\n\t        button.addEventListener(\"click\", muteToggle);\n\t    }\n\t\n\t    function insert() {\n\t        var button = create(player);\n\t        player.el().appendChild(button);\n\t\n\t        return button;\n\t    }\n\t\n\t    function create() {\n\t        var button = document.createElement(\"div\");\n\t        var textDiv = document.createElement('div');\n\t\n\t        button.className = 'mute-control'\n\t\n\t        button.style['position'] = \"absolute\";\n\t        button.style['font-size'] = \"14px\";\n\t        button.style['color'] = \"white\";\n\t        button.style['bottom'] = \"0px\";\n\t        button.style['right'] = \"0px\";\n\t        button.style.width = '36px';\n\t        button.style.height = '30px';\n\t        button.style.visibility = 'hidden';\n\t\n\t        button.style.cursor = 'pointer';\n\t        button.style['background-image'] = btnBackground;\n\t        button.style['background-position']= '0px 0px';\n\t        button.style['border-style'] = 'solid';\n\t        button.style['border-width'] = '1px';\n\t        button.style['border-right-width'] = '0px';\n\t\n\t        // textDiv.innerHTML = text || 'Skip ad';\n\t\n\t        // button.appendChild(textDiv);\n\t\n\t        return button;\n\t    }\n\t\n\t    function show() {\n\t        isMuted();\n\t        button.style.visibility = 'visible';\n\t    }\n\t\n\t    function hide() {\n\t        button.style.visibility = 'hidden';\n\t    }\n\t\n\t    function isMuted() {\n\t        if (player.volume() === 0 || player.muted()) {\n\t            button.style['background-position']= unmutedPosition;\n\t            return true;\n\t        } else {\n\t            button.style['background-position']= mutedPosition;\n\t            return false;\n\t        }\n\t    }\n\t\n\t    function muteToggle() {\n\t        if (isMuted()) {\n\t            player.muted(false);\n\t            button.style['background-position']= mutedPosition;\n\t        } else {\n\t            player.muted(true);\n\t            button.style['background-position']= unmutedPosition;\n\t        }\n\t    }\n\t\n\t    init();\n\t}\n\t\n\tmodule.exports = muteButton;\n\t},{}],17:[function(require,module,exports){\n\tfunction skipButton(player, timeout, text) {\n\t    var button;\n\t\n\t    function init() {\n\t        button = insert();\n\t        player.on('adtimeupdate', show);\n\t        player.vpEvent.addEventListener('vp:ad-ended', hide);\n\t\n\t        button.addEventListener(\"click\", player.vpApi.skipAd);\n\t    }\n\t\n\t    function insert() {\n\t        var button = create(player);\n\t        player.el().appendChild(button);\n\t\n\t        return button;\n\t    }\n\t\n\t    function create() {\n\t        var button = document.createElement(\"div\");\n\t        var textDiv = document.createElement('div');\n\t\n\t        button.className = 'skip-control'\n\t\n\t        button.style['position'] = \"absolute\";\n\t        button.style['font-size'] = \"14px\";\n\t        button.style['color'] = \"white\";\n\t        button.style['bottom'] = \"30px\";\n\t        button.style['right'] = \"0px\";\n\t        button.style['padding'] = \"10px 30px 10px 25px\";\n\t        button.style.width = 'auto';\n\t        button.style.visibility = 'hidden';\n\t        button.style.cursor = 'pointer';\n\t        button.style['background-color'] = 'rgba(7,20,30,.7)';\n\t        button.style['border-style'] = 'solid';\n\t        button.style['border-width'] = '1px';\n\t        button.style['border-right-width'] = '0px';\n\t\n\t        textDiv.innerHTML = text || 'Skip ad';\n\t\n\t        button.appendChild(textDiv);\n\t\n\t        return button;\n\t    }\n\t\n\t    function show() {\n\t        if (player.ads.state !== 'ad-playback') return;\n\t        var time = timeout || 0;\n\t\n\t        if (player.currentTime() > time) {\n\t            button.style.visibility = 'visible';\n\t        }\n\t    }\n\t\n\t    function hide() {\n\t        button.style.visibility = 'hidden';\n\t    }\n\t\n\t    init();\n\t}\n\t\n\tmodule.exports = skipButton;\n\t},{}],18:[function(require,module,exports){\n\tfunction getQueryMetadata() {\n\t    var metadata = {\n\t        vpCategory: getParameterByName('category'),\n\t        contentPartner: getParameterByName('contentPartner'),\n\t        tags: getParameterByName('tags').split(','),\n\t    };\n\t\n\t    return metadata;\n\t}\n\tfunction getParameterByName(name) {\n\t    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n\t    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n\t        results = regex.exec(location.search);\n\t    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n\t}\n\t\n\tmodule.exports = {\n\t    getQueryMetadata: getQueryMetadata\n\t}\n\t\n\t\n\t},{}]},{},[14]);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(isMobile) {// TODO - This needs to be merged with the adjacent sharetools.js...\n\tvar _shareTools = function () {\n\t  this.networks = {};\n\t  this.storageKeyPrefix = 'shareTools-';\n\t};\n\t\n\t_shareTools.prototype.addNetwork = function (options) {\n\t  this.networks[options.name] = options;\n\t  return this;\n\t};\n\t\n\t_shareTools.prototype.getUrlFor = function (networkName, params) {\n\t  var network = this.networks[networkName];\n\t  return network.url(params);\n\t};\n\t\n\t_shareTools.prototype.shouldShowPostShareDialog = function (networkName) {\n\t  if (localStorage.getItem(this.storageKeyPrefix + 'dont-bother') != null) {\n\t    return false;\n\t  }\n\t  if (isMobile.any) {  // dont do it on small screens\n\t    return false;\n\t  }\n\t  return this.networks[networkName].postShareDialog || false;\n\t};\n\t\n\t_shareTools.prototype.flagDontShowPostShareDialog = function () {\n\t  localStorage.setItem(this.storageKeyPrefix + 'dont-bother', 'yup');\n\t};\n\t\n\t_shareTools.prototype.setupElements = function (selector) {\n\t\n\t  var $shareToolElements = selector instanceof jQuery ? selector : $(selector);\n\t\n\t  // where all the dom-related stuff gets wired up\n\t  var self = this;\n\t  $shareToolElements.each(function (i, element) {\n\t    element = $(element);\n\t    for (var networkName in self.networks) {\n\t      if (!self.networks.hasOwnProperty(networkName)) {\n\t        continue;\n\t      }\n\t      // We wait until the last moment to get the url so more dynamic\n\t      // things like quizzes have an opportunity to override the DOM params.\n\t      // e.g. \"I answered X out of Y correctly\"\n\t      $('.share-' + networkName, element).click(function (name, shareWidget) {\n\t        return function (event) {\n\t          var euc = encodeURIComponent;\n\t          var params = {\n\t            title: euc(shareWidget.data('shareTitle')),\n\t            description: euc(shareWidget.data('shareDescription')),\n\t            image: euc(shareWidget.data('shareImageUrl')),\n\t            url: euc(shareWidget.data('shareUrl')),\n\t            redirectUrl: euc(shareWidget.data('shareRedirectUrl'))\n\t          };\n\t          var url = self.getUrlFor(name, params);\n\t          var link = $(this);\n\t\n\t          // position it in the middle of the browser window\n\t          var left = 0,\n\t            top = 0;\n\t          if (typeof window.screenLeft !== 'undefined') {\n\t            left = window.screenLeft;\n\t            top = window.screenTop;\n\t          } else if (typeof window.screenX !== 'undefined') {\n\t            left = window.screenX;\n\t            tp = window.screenY;\n\t          }\n\t          // popup dimensions\n\t          var width = 600,\n\t            height = 260;\n\t          left += ($(window).width() - width) / 2;\n\t          top += ($(window).height() - height) / 2;\n\t          var shareWindow = window.open(\n\t            url, '',\n\t            'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height='\n\t            + height + ',width=' + width + ',top=' + top + ',left=' + left\n\t          );\n\t          event.preventDefault();\n\t        }\n\t      }(networkName, element));\n\t    }\n\t  });\n\t};\n\t\n\tmodule.exports = _shareTools;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tif (window.addEventListener) {\n\t  window.addEventListener('loadedmetadata', function (event) {\n\t    event.target.setAttribute('data-loadedmetadata', true);\n\t  }, true);\n\t}\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_isMobile, isMobile) {// We're requiring these libraries, but not doing\n\t//   anything with them in-place. Further, these libraries\n\t//   expect to find jQuery and videojs globally. This\n\t//   might be a bad thing.\n\t\n\t// Require player css.\n\t__webpack_require__(7);\n\t\n\t// Load up jQuery plugins\n\t__webpack_require__(3);\n\t__webpack_provided_window_dot_isMobile = __webpack_require__(2);\n\t\n\t// Make videojs available on window\n\t// The plugins we're loading expect to find it globally.\n\tvar videojs = window.videojs = __webpack_require__(1);\n\t\n\t// Load up all our videojs plugins;\n\t__webpack_require__(6);\n\t__webpack_require__(4);\n\t__webpack_require__(5);\n\t\n\t// Requires our own code\n\t__webpack_require__(15);\n\t__webpack_require__(11);\n\t__webpack_require__(13);\n\t__webpack_require__(17);\n\t__webpack_require__(16);\n\t__webpack_require__(19);\n\t__webpack_require__(18);\n\t\n\tvar VideoPlayer = function(element, options) {\n\t  var defaults = {\n\t    pluginConfig: {\n\t      vpbc: {\n\t        vpHost: 'http://us-theonion.videoplaza.tv',\n\t        optional: {\n\t          playlistAutoPlay: true,\n\t          flashTimeout: 3,\n\t          skip: {\n\t            timeout: 3,\n\t            text: 'Skip Ad'\n\t          },\n\t          muteButton: {\n\t            html: false,\n\t            flash: true\n\t          }\n\t        },\n\t        vpContentForm: 'shortForm'\n\t      },\n\t      autoplayToggle: {\n\t        namespace: 'onionstudios'\n\t      },\n\t      sharetools: {\n\t        showOnPause: true,\n\t        embed: function(settings) {\n\t          return '<iframe name=\"embedded\" allowfullscreen webkitallowfullscreen mozallowfullscreen frameborder=\"no\" width=\"480\" height=\"270\" scrolling=\"no\" src=\"http://' + document.location.host + '/embed?id=' + settings.videoId + '\"></iframe>';\n\t        },\n\t        facebook: function(settings) {\n\t          return \"https://www.facebook.com/sharer/sharer.php?u=\" + settings.shareUrl;\n\t        },\n\t        twitter: function(settings) {\n\t          return \"https://twitter.com/share?url=\" + settings.shareUrl + \"&via=\" + settings.shareTwitterHandle;\n\t        }\n\t      }\n\t    },\n\t    nativeControlsForTouch: __webpack_provided_window_dot_isMobile.any,\n\t    autoplay: true,\n\t    mute: false,\n\t    adsEnabled: true\n\t  };\n\t\n\t  this.element = element;\n\t  this.settings = $.extend(true, defaults, options);\n\t  this.setCustomOptions();\n\t  this.playedOnce = false;\n\t  this.preventWeakPlay = false;\n\t  this.preventWeakMute = false;\n\t  this.ignoreAutoplay = false;\n\t  this.bindEventHandlerContext();\n\t  this.player = videojs(element, this.settings);\n\t  this.setupPlugins();\n\t  this.player.ready(this.playerReady.bind(this));\n\t};\n\t\n\tVideoPlayer.prototype.bindEventHandlerContext = function() {\n\t  this.handleMessagePlay = this.handleMessagePlay.bind(this);\n\t  this.handleMessagePause = this.handleMessagePause.bind(this);\n\t  this.handleMessageVolume = this.handleMessageVolume.bind(this);\n\t  this.handleMessageMuteWeak = this.handleMessageMuteWeak.bind(this);\n\t  this.handleMessagePauseAllowWeakPlay = this.handleMessagePauseAllowWeakPlay.bind(this);\n\t  this.handleMessagePlayWeak = this.handleMessagePlayWeak.bind(this);\n\t};\n\t\n\tVideoPlayer.prototype.isEmbedPlayer = function() {\n\t  return window.location.pathname.match(/embed/i);\n\t};\n\t\n\tVideoPlayer.prototype.isAutoplayEnabled = function() {\n\t  var autoplayEnabled = this.settings.autoplay;\n\t  this.storedAutoplay = videojs.autoplaySettingFromStorage({\n\t    namespace: this.settings.pluginConfig.autoplayToggle.namespace\n\t  });\n\t\n\t  if (this.isEmbedPlayer()) {\n\t    // Prevent autoplay, parent is responsible for sending a weakPlay event to start playing\n\t    autoplayEnabled = false;\n\t  } else if (videojs.hasOwnProperty('autoplaySettingFromStorage')) {\n\t    autoplayEnabled = this.storedAutoplay && this.settings.autoplay;\n\t  }\n\t\n\t  return autoplayEnabled;\n\t};\n\t\n\tVideoPlayer.prototype.setCustomOptions = function() {\n\t  this.settings.embed = this.isEmbedPlayer();\n\t  this.settings.autoplay = this.isAutoplayEnabled();\n\t  if (!window.AnalyticsManager) {\n\t    console.error('AnalyticsManager unavailable');\n\t  } else {\n\t    window.AnalyticsManager.sendEvent({\n\t      eventCategory: 'Video:' + window.channelName,\n\t      eventAction: 'autoplay',\n\t      eventLabel: this.settings.autoplay\n\t    });\n\t    window.AnalyticsManager.sendEvent({\n\t      eventCategory: 'Video:' + window.channelName,\n\t      eventAction: 'storedAutoplay',\n\t      eventLabel: this.storedAutoplay\n\t    });\n\t  }\n\t  ga('set', 'dimension8', this.settings.autoplay);\n\t};\n\t\n\tVideoPlayer.prototype.setupPlugins = function() {\n\t  this.setupPulsePlugin();\n\t  this.setupShareToolsPlugin();\n\t  this.setupAutoplayTogglePlugin();\n\t  this.setupEndCardPlugin();\n\t  this.setupVideoMetrixPlugin();\n\t};\n\t\n\tVideoPlayer.prototype.setupPulsePlugin = function() {\n\t  if (!this.settings.adsEnabled) {\n\t    return;\n\t  }\n\t  this.player.vpbc(this.settings.pluginConfig.vpbc);\n\t};\n\t\n\tVideoPlayer.prototype.setupAutoplayTogglePlugin = function() {\n\t  this.player.autoplayToggle({ namespace: this.settings.pluginConfig.autoplayToggle.namespace });\n\t};\n\t\n\tVideoPlayer.prototype.setupShareToolsPlugin = function() {\n\t  if (this.settings.isDiscoverable) {\n\t    var options = $.extend({ videoId: this.settings.videoId }, this.settings.pluginConfig.sharetools);\n\t    this.player.sharetools(options);\n\t  }\n\t};\n\t\n\tVideoPlayer.prototype.setupEndCardPlugin = function() {\n\t  this.player.endcard(this.settings.pluginConfig.endcard);\n\t};\n\t\n\tVideoPlayer.prototype.setupVideoMetrixPlugin = function() {\n\t  this.player.videometrix(this.settings.pluginConfig.videometrix);\n\t};\n\t\n\tVideoPlayer.prototype.setupCustomAnalyticsPlugin = function() {\n\t  this.player.videoanalytics(this.settings.pluginConfig.videoanalytics);\n\t};\n\t\n\tVideoPlayer.prototype.setupGoogleAnalyticsPlugin = function() {\n\t  var defaultConfig = {\n\t    gaPrefix: this.settings.pluginConfig.ga.gaPrefix,\n\t    eventActionPrefix: 'video_',\n\t    percentsPlayedInterval: 25,\n\t    eventCategory: 'Video:' + window.channelName,\n\t    eventLabel: window.videoUrl\n\t  };\n\t  var gaConfig = this.settings.pluginConfig.ga || {};\n\t  this.player.ga(Object.assign(defaultConfig, gaConfig));\n\t};\n\t\n\tVideoPlayer.prototype.playerReady = function() {\n\t  var player = this.player;\n\t\n\t  if (this.settings.mute) {\n\t    player.muted(true);\n\t  }\n\t\n\t  if (isMobile.any) {\n\t    player.controlBar.hide();\n\t  }\n\t\n\t  this.setupCustomAnalyticsPlugin();\n\t  this.setupGoogleAnalyticsPlugin();\n\t\n\t  // We are in a transition from <iframe> to <bulbs-video> embeds\n\t  if (this.settings.embed) {\n\t    this.sendParentPlayerEvents();\n\t    this.initMessageEventListeners();\n\t  }\n\t\n\t  this.initPlayerEventListeners();\n\t};\n\t\n\tVideoPlayer.prototype.playerVisible = function() {\n\t  return $(this.player.el()).is(':visible');\n\t};\n\t\n\tVideoPlayer.prototype.initPlayerEventListeners = function() {\n\t  var that = this;\n\t\n\t  this.player.on('play', function () {\n\t    that.playedOnce = true;\n\t  });\n\t\n\t  // If a user pauses, keep video paused until they manually hit play, weak\n\t  // plays will continue once user hits play again\n\t  this.player.on('pause', function () {\n\t    that.preventWeakPlay = true;\n\t  });\n\t\n\t  // Works in same fashion as weak play\n\t  this.player.on('volumechange', function () {\n\t    that.preventWeakMute = true;\n\t  });\n\t\n\t  // If we have autoplay off, but the ad hasn't finished, we want to continue\n\t  //    playing automatically, since the user doesn't have controls, this works\n\t  //    in conjunction with the playedOnce flag since we don't care about autoplay\n\t  //    after both first play and ads have started\n\t  this.player.on('adstart', function () {\n\t    that.ignoreAutoplay = true;\n\t  });\n\t\n\t  // We are in a transition from <iframe> to <bulbs-video> embeds\n\t  if (this.settings.embed) {\n\t    this.player.on('dispose', function() {\n\t      if (that.messageHandler) {\n\t        window.removeEventListener('message', that.messageHandler);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\tVideoPlayer.prototype.isPulseAdPlaying = function() {\n\t  return this.player.vpApi && this.player.ads.state === 'ad-playback';\n\t};\n\t\n\tVideoPlayer.prototype.handleMessagePlay = function() {\n\t  if (!this.player.el()) {\n\t    return;\n\t  }\n\t\n\t  if (!this.playerVisible()) {\n\t    return;\n\t  }\n\t\n\t  this.resumePlay();\n\t};\n\t\n\tVideoPlayer.prototype.handleMessagePause = function() {\n\t  if (!this.player.el()) {\n\t    return;\n\t  }\n\t\n\t  if (this.isPulseAdPlaying()) {\n\t    this.player.vpApi.pauseAd();\n\t  } else {\n\t    this.player.pause();\n\t  }\n\t};\n\t\n\tVideoPlayer.prototype.handleMessageVolume = function(params) {\n\t  if (!this.player.el()) {\n\t    return;\n\t  }\n\t\n\t  this.player.volume(params);\n\t};\n\t\n\t/**\n\t* Mute only if user has never manually changed the volume.\n\t*/\n\tVideoPlayer.prototype.handleMessageMuteWeak = function() {\n\t  if (!this.player.el() || this.player.muted() || this.preventWeakMute) {\n\t    return;\n\t  }\n\t\n\t  var that = this;\n\t  this.player.one('volumechange', function () {\n\t    // TODO - ask Kos\n\t    that.preventWeakMute = false;\n\t  });\n\t\n\t  this.player.muted(true);\n\t};\n\t\n\t/**\n\t* Pause with an event that allows weak plays.\n\t*/\n\tVideoPlayer.prototype.handleMessagePauseAllowWeakPlay = function() {\n\t  var player = this.player;\n\t\n\t  if (!player.el()) {\n\t    return;\n\t  }\n\t\n\t  if (!player.paused()) {\n\t    player.one('pause', function () {\n\t      preventWeakPlay = false;\n\t    });\n\t    player.pause();\n\t  } else if (this.isPulseAdPlaying()) {\n\t    player.vpApi.pauseAd();\n\t  }\n\t};\n\t\n\tVideoPlayer.prototype.resumePlay = function() {\n\t  if (this.isPulseAdPlaying()) {\n\t    this.player.vpApi.resumeAd();\n\t  } else {\n\t    this.player.play();\n\t  }\n\t};\n\t\n\t/**\n\t* Play only if user has never manually paused and autoplay is on.\n\t*/\n\tVideoPlayer.prototype.handleMessagePlayWeak = function() {\n\t  if (!this.player.el()) {\n\t    return;\n\t  }\n\t\n\t  // TODO - Ask Kos, if not played once and preventWeakPlay on, still play?\n\t  if ((!this.playedOnce || !this.preventWeakPlay) &&\n\t      (this.ignoreAutoplay || this.isAutoplayEnabled()) &&\n\t      this.player.paused()) {\n\t    this.resumePlay();\n\t  }\n\t};\n\t\n\t\n\t// These are relevant to <iframe> embeds, not <bulbs-video> embeds\n\t  VideoPlayer.prototype.initMessageEventListeners = function() {\n\t    var player = this.player;\n\t\n\t    player.messageHandlers = {\n\t      play: this.handleMessagePlay,\n\t      pause: this.handleMessagePause,\n\t      setVolume: this.handleMessageVolume,\n\t      muteWeak: this.handleMessageMuteWeak,\n\t      pauseAllowWeakPlay: this.handleMessagePauseAllowWeakPlay,\n\t      playWeak: this.handleMessagePlayWeak\n\t    };\n\t\n\t    this.messageHandler = function(event) {\n\t      if (event.data.name in player.messageHandlers) {\n\t        player.messageHandlers[event.data.name](event.data.params);\n\t      }\n\t    };\n\t    window.addEventListener('message', this.messageHandler);\n\t  };\n\t\n\t  VideoPlayer.prototype.sendParentPlayerEvents = function() {\n\t    if (!window.parent) {\n\t      return;\n\t    }\n\t\n\t    this.player.on('play', function () {\n\t      window.parent.postMessage({name: 'video-play'}, '*');\n\t    });\n\t\n\t    this.player.on('pause', function () {\n\t      window.parent.postMessage({name: 'video-pause'}, '*');\n\t    });\n\t\n\t    this.player.on('replay', function () {\n\t      window.parent.postMessage({name: 'video-replay'}, '*');\n\t    });\n\t  };\n\t// END of <iframe> relevant methods.\n\t\n\tmodule.exports = VideoPlayer;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(2)))\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t(function (window) {\n\t\n\t// this is probably a little overkill\n\t  function agentIsMobile() {\n\t    var check = false;\n\t    (function (a) {\n\t      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))check = true\n\t    })(navigator.userAgent || navigator.vendor || window.opera);\n\t    return check;\n\t  }\n\t\n\t  function objToParams(obj) {\n\t    var urlParams = [];\n\t    for (var key in obj) {\n\t      if (obj.hasOwnProperty(key)) {\n\t        urlParams.push(key + '=' + obj[key]);\n\t      }\n\t    }\n\t    return urlParams.join('&');\n\t  }\n\t\n\t  function ShareTools() {\n\t    this.networks = {};\n\t    this.storageKeyPrefix = 'shareTools-'\n\t  }\n\t\n\t  ShareTools.prototype.addNetwork = function (options) {\n\t    this.networks[options.name] = options;\n\t    return this;\n\t  };\n\t\n\t  ShareTools.prototype.getUrlFor = function (networkName, params) {\n\t    var network = this.networks[networkName];\n\t    return network.url(params);\n\t  };\n\t\n\t  ShareTools.prototype.shouldShowPostShareDialog = function (networkName) {\n\t    if (localStorage.getItem(this.storageKeyPrefix + 'dont-bother') != null) {\n\t      return false;\n\t    }\n\t    if (agentIsMobile()) {  // dont do it on small screens\n\t      return false;\n\t    }\n\t    return this.networks[networkName].postShareDialog || false;\n\t  };\n\t\n\t  ShareTools.prototype.flagDontShowPostShareDialog = function () {\n\t    localStorage.setItem(this.storageKeyPrefix + 'dont-bother', 'yup');\n\t  };\n\t\n\t  ShareTools.prototype.setupElements = function (selector) {\n\t\n\t    var $shareToolElements = selector instanceof jQuery ? selector : $(selector);\n\t\n\t    // where all the dom-related stuff gets wired up\n\t    var shareTools = this;\n\t    $shareToolElements.each(function (i, element) {\n\t      element = $(element);\n\t      for (var networkName in shareTools.networks) {\n\t        if (!shareTools.networks.hasOwnProperty(networkName)) {\n\t          continue;\n\t        }\n\t        // We wait until the last moment to get the url so more dynamic\n\t        // things like quizzes have an opportunity to override the DOM params.\n\t        // e.g. \"I answered X out of Y correctly\"\n\t        $('.share-' + networkName, element).click(function (name, shareWidget) {\n\t          return function (event) {\n\t            var euc = encodeURIComponent;\n\t            var params = {\n\t              title: euc(shareWidget.data('shareTitle')),\n\t              description: euc(shareWidget.data('shareDescription')),\n\t              image: euc(shareWidget.data('shareImageUrl')),\n\t              url: euc(shareWidget.data('shareUrl')),\n\t              redirectUrl: euc(shareWidget.data('shareRedirectUrl'))\n\t            };\n\t            var url = shareTools.getUrlFor(name, params);\n\t            var link = $(this);\n\t            if (name != 'mail') {\n\t              // position it in the middle of the browser window\n\t              var left = 0,\n\t                top = 0;\n\t              if (typeof window.screenLeft !== 'undefined') {\n\t                left = window.screenLeft;\n\t                top = window.screenTop;\n\t              } else if (typeof window.screenX !== 'undefined') {\n\t                left = window.screenX;\n\t                tp = window.screenY;\n\t              }\n\t              // popup dimensions\n\t              var width = 600,\n\t                height = 260;\n\t              left += ($(window).width() - width) / 2;\n\t              top += ($(window).height() - height) / 2;\n\t              var shareWindow = window.open(\n\t                url, '',\n\t                'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height='\n\t                + height + ',width=' + width + ',top=' + top + ',left=' + left\n\t              );\n\t              // show a post-share dialog?\n\t              if (shareTools.shouldShowPostShareDialog(name) && shareWindow) {\n\t                // wait for the share window to close. gotta poll here :(\n\t                var windowInterval = setInterval(function () {\n\t                  if (shareWindow.closed) {\n\t                    clearInterval(windowInterval);\n\t                    var psd = $('<div class=\"post-share-modal modal\"></div>');\n\t                    psd.load('/shared?s=' + name, function (data) {\n\t                      $('body').append(psd);\n\t                      $('.dont-show-again', psd).click(function (event) {\n\t                        event.preventDefault();\n\t                        shareTools.flagDontShowPostShareDialog();\n\t                        $.modal.close();\n\t                      });\n\t                      psd.modal({\n\t                        zIndex: 30000,\n\t                        closeText: '<span class=\"fa fa-times\"></span>'\n\t                      });\n\t                      shareTools.setupElements(psd);\n\t                    });\n\t                    ;\n\t                  }\n\t                }, 500);\n\t              }\n\t              event.preventDefault();\n\t            } else {\n\t              // email is special\n\t              link.attr('href', url);\n\t            }\n\t          }\n\t        }(networkName, element));\n\t      }\n\t    });\n\t  };\n\t\n\t\n\t  $(function () {\n\t    // configure our social networks\n\t    var shareTools = window.shareTools = new ShareTools()\n\t\n\t    shareTools.addNetwork({\n\t      name: 'facebook',\n\t      url: function (params, element) {\n\t        var ps = {\n\t          app_id: '632832353489701',\n\t          display: 'popup',\n\t          link: params.url,\n\t          name: params.title,\n\t          description: params.description,\n\t          image: params.image,\n\t          redirect_uri: params.redirectUrl\n\t        };\n\t        return 'https://www.facebook.com/dialog/feed?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'facebook-follow',\n\t      url: function (params, element) {\n\t        return 'http://www.facebook.com/plugins/follow.php?href=https%3A%2F%2Fwww.facebook.com%2Ftheonion';\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'twitter',\n\t      url: function (params, element) {\n\t        var text = params.title;\n\t        text = text.substr(0, 139);\n\t        ps = {\n\t          text: text,\n\t          url: params.url,\n\t          via: twitter_handle\n\t        };\n\t        return 'https://www.twitter.com/share?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'twitter-follow',\n\t      url: function (params, element) {\n\t        var text = params.title;\n\t        text = text.substr(0, 139);\n\t        ps = {\n\t          screen_name: 'theonion'\n\t        };\n\t        return 'https://twitter.com/intent/follow?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'mail',\n\t      url: function (params, element) {\n\t        var body = params.url + '%0D%0A%0D%0A' + params.description + '%0D%0A%0D%0Avia theonion.com';\n\t        var ps = {\n\t          subject: params.title,\n\t          body: body\n\t        };\n\t        return 'mailto:?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'pinterest',\n\t      url: function (params, element) {\n\t        var ps = {\n\t          url: params.url,\n\t          media: params.image,\n\t          description: params.title + ' - ' + params.description + ' @theonion'\n\t        };\n\t        return 'http://www.pinterest.com/pin/create/button/?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'pinterest-follow',\n\t      url: function (params, element) {\n\t        return 'http://www.pinterest.com/theonion/';\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'reddit',\n\t      url: function (params, element) {\n\t        var ps = {\n\t          url: params.url,\n\t          title: params.title\n\t        };\n\t        return 'http://www.reddit.com/submit?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'tumblr',\n\t      url: function (params, element) {\n\t        var ps = {\n\t          url: params.url,\n\t          name: params.title,\n\t          description: params.description\n\t        };\n\t        return 'http://www.tumblr.com/share/link?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'tumblr-follow',\n\t      url: function (params, element) {\n\t        return 'http://www.tumblr.com/follow/theonion';\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'google-plus',\n\t      url: function (params, element) {\n\t        var ps = {\n\t          url: params.url\n\t        };\n\t        return 'https://plus.google.com/share?' + objToParams(ps);\n\t      },\n\t      postShareDialog: false\n\t    }).addNetwork({\n\t      name: 'google-plus-follow',\n\t      url: function (params, element) {\n\t        return 'https://plus.google.com/101973235797849021923';\n\t      },\n\t      postShareDialog: false\n\t    });\n\t    shareTools.setupElements('.share-widget');\n\t  });\n\t\n\t}(window));\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t// Copyright (c) 2014 comScore, Inc.\n\twindow.ns_=window.ns_||{};ns_.StreamSense=ns_.StreamSense||function(){function h(t,n){var r=t||\"\",i=\"undefined\",s=l.comScore||l.sitestat||function(t){var n=\"comScore=\",r=c.cookie,s=\"\",o=\"indexOf\",a=\"substring\",f=\"length\",h=e.browserAcceptsLargeURLs()?g.URL_LENGTH_LIMIT:g.RESTRICTED_URL_LENGTH_LIMIT,p,d=\"&ns_\",v=\"&\",m,y,b,w,E=l.encodeURIComponent||escape;if(r[o](n)+1)for(b=0,y=r.split(\";\"),w=y[f];b<w;b++)m=y[b][o](n),m+1&&(s=v+unescape(y[b][a](m+n[f])));t+=d+\"_t=\"+ +(new Date)+d+\"c=\"+(c.characterSet||c.defaultCharset||\"\")+s,t.length>h&&t.indexOf(v)>0&&(p=t.substr(0,h-8).lastIndexOf(v),t=(t.substring(0,p)+d+\"cut=\"+E(t.substring(p+1))).substr(0,h)),u.httpGet(t),typeof ns_p===i&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof n!==i){var o=[],a=l.encodeURIComponent||escape;for(var f in n)n.hasOwnProperty(f)&&o.push(a(f)+\"=\"+a(n[f]));/[\\?\\&]$/.test(r)||(r+=\"&\"),r+=o.join(\"&\")}return s(r)}function p(t,n){var r,i=l.encodeURIComponent||escape,s=[],o=g.LABELS_ORDER,u=t.split(\"?\"),a=u[0],f=u[1],h=f.split(\"&\");for(var p=0,d=h.length;p<d;p++){var v=h[p].split(\"=\"),m=unescape(v[0]),y=unescape(v[1]);m&&(n[m]=y)}var b={};for(var p=0,d=o.length;p<d;p++){var w=o[p];if(n.hasOwnProperty(w)){var E=n[w];typeof E!=\"undefined\"&&E!=null&&(b[w]=!0,s.push(i(w)+\"=\"+i(n[w])))}}for(var w in n){if(b[w])continue;if(n.hasOwnProperty(w)){var E=n[w];typeof E!=\"undefined\"&&E!=null&&s.push(i(w)+\"=\"+i(n[w]))}}r=a+\"?\"+s.join(\"&\"),r=r+(r.indexOf(\"&c8=\")<0?\"&c8=\"+i(c.title):\"\")+(r.indexOf(\"&c7=\")<0?\"&c7=\"+i(c.URL):\"\")+(r.indexOf(\"&c9=\")<0?\"&c9=\"+i(c.referrer):\"\");var S=e.browserAcceptsLargeURLs()?g.URL_LENGTH_LIMIT:g.RESTRICTED_URL_LENGTH_LIMIT;if(r.length>S&&r.indexOf(\"&\")>0){var x=r.substr(0,S-8).lastIndexOf(\"&\");r=(r.substring(0,x)+\"&ns_cut=\"+i(r.substring(x+1))).substr(0,S)}return r}var e=function(){var e={uid:function(){var e=1;return function(){return+(new Date)+\"_\"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t=arguments.length,n;e=e||{};for(var r=1;r<t;r++){n=arguments[r];if(!n)continue;for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},getString:function(e,t){var n=String(e);return e==null?t||\"na\":n},getLong:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getBoolean:function(e,t){var n=String(e).toLowerCase()==\"true\";return e==null?t||!1:n},isNotEmpty:function(e){return typeof e!=\"undefined\"&&e!=null&&typeof e.length!=\"undefined\"&&e.length>0},indexOf:function(t,n){var r=-1;return e.forEach(n,function(e,n){e==t&&(r=n)}),r},forEach:function(e,t,n){try{if(typeof t==\"function\"){n=typeof n!=\"undefined\"?n:null;if(typeof e[\"length\"]!=\"number\"||typeof e[0]==\"undefined\"){var r=typeof e.__proto__!=\"undefined\";for(var i in e)(!r||r&&typeof e.__proto__[i]==\"undefined\")&&typeof e[i]!=\"function\"&&t.call(n,e[i],i)}else for(var i=0,s=e.length;i<s;i++)t.call(n,e[i],i)}}catch(o){}},regionMatches:function(e,t,n,r,i){if(t<0||r<0||t+i>e.length||r+i>n.length)return!1;while(--i>=0){var s=e.charAt(t++),o=n.charAt(r++);if(s!=o)return!1}return!0},size:function(e){var t=0,n;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(typeof t!=\"undefined\"&&t){var n=new Date,r=n.getHours()+\":\"+n.getMinutes()+\":\"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return typeof e==\"undefined\"?!1:typeof e==\"string\"?(e=e.toLowerCase(),e===\"true\"||e===\"1\"||e===\"on\"):e?!0:!1},toString:function(t){if(typeof t==\"undefined\")return\"undefined\";if(typeof t==\"string\")return t;if(Object.prototype.toString.call(t)===\"[object Array]\")return t.join(\",\");if(e.size(t)>0){var n=\"\";for(var r in t)t.hasOwnProperty(r)&&(n+=r+\":\"+t[r]+\";\");return n}return t.toString()},exists:function(e){return typeof e!=\"undefined\"&&e!=null},firstGreaterThan0:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||\"object\"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},safeGet:function(t,n){return n=e.exists(n)?n:\"\",e.exists(t)?t:n},getBrowserName:function(){var e=navigator.userAgent,t=navigator.appName,n,r;return(r=e.indexOf(\"Opera\"))!=-1||(r=e.indexOf(\"OPR/\"))!=-1?t=\"Opera\":(r=e.indexOf(\"Android\"))!=-1?t=\"Android\":(r=e.indexOf(\"Chrome\"))!=-1?t=\"Chrome\":(r=e.indexOf(\"Safari\"))!=-1?t=\"Safari\":(r=e.indexOf(\"Firefox\"))!=-1?t=\"Firefox\":(r=e.indexOf(\"IEMobile\"))!=-1?t=\"Internet Explorer Mobile\":t==\"Microsoft Internet Explorer\"||t==\"Netscape\"?t=\"Internet Explorer\":(n=e.lastIndexOf(\" \")+1)<(r=e.lastIndexOf(\"/\"))&&(t=e.substring(n,r),t.toLowerCase()==t.toUpperCase()&&(t=navigator.appName)),t},getBrowserFullVersion:function(){var e=navigator.userAgent,t=navigator.appName,n=\"\"+parseFloat(navigator.appVersion),r,i,s,o,u;return(s=e.indexOf(\"Opera\"))!=-1?(n=e.substring(s+6),(s=e.indexOf(\"Version\"))!=-1&&(n=e.substring(s+8))):(s=e.indexOf(\"OPR/\"))!=-1?n=e.substring(s+4):(s=e.indexOf(\"Android\"))!=-1?n=e.substring(s+11):(s=e.indexOf(\"Chrome\"))!=-1?n=e.substring(s+7):(s=e.indexOf(\"Safari\"))!=-1?(n=e.substring(s+7),(s=e.indexOf(\"Version\"))!=-1&&(n=e.substring(s+8))):(s=e.indexOf(\"Firefox\"))!=-1?n=e.substring(s+8):t==\"Microsoft Internet Explorer\"?(u=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"),u.exec(e)!=null&&(n=parseFloat(RegExp.$1))):t==\"Netscape\"?(u=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"),u.exec(e)!=null&&(n=parseFloat(RegExp.$1))):(i=e.lastIndexOf(\" \")+1)<(s=e.lastIndexOf(\"/\"))&&(n=e.substring(s+1)),n=n.toString(),(o=n.indexOf(\";\"))!=-1&&(n=n.substring(0,o)),(o=n.indexOf(\" \"))!=-1&&(n=n.substring(0,o)),(o=n.indexOf(\")\"))!=-1&&(n=n.substring(0,o)),r=parseInt(\"\"+n,10),isNaN(r)&&(n=\"\"+parseFloat(navigator.appVersion)),n},browserAcceptsLargeURLs:function(){return window.ActiveXObject===null||!0}};return e}(),t=function(){var t=\"cs_\",n=function(){var n=this,r=typeof localStorage!=\"undefined\"?localStorage:{};e.extend(this,{get:function(e){return r[t+e]},set:function(e,n){r[t+e]=n},has:function(e){return t+e in r},remove:function(e){delete r[t+e]},clear:function(){for(var e in r)r.hasOwnProperty(e)&&delete r[e]}})};return n}(),n=function(e,t){var n=new Image;n.onload=function(){t&&t(200)},n.onerror=function(){t&&t()},n.src=e},r=function(e,t){t&&setTimeout(t,0)},i=function(e,t,n){n&&setTimeout(n,0)},s=function(){return{dir:function(e){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(e,t){return!1},read:function(e,t){return null}}}(),o=function(e,t){typeof engine!=\"undefined\"&&t&&setTimeout(t,0);var n=engine.createHttpClient(),r=n.createRequest(\"GET\",e,null);r.start(),t&&setTimeout(t,0)},u=function(){var e={PLATFORM:\"generic\",httpGet:n,httpPost:i,Storage:t,IO:s,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(e){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +(new Date)+~~(Math.random()*1e3)},getVisitorIdSuffix:function(){return\"72\"},getDeviceName:function(){return\"\"},getPlatformVersion:function(){return\"\"},getPlatformName:function(){return\"js\"},getRuntimeName:function(){return\"\"},getRuntimeVersion:function(){return\"\"},getResolution:function(){return\"\"},getLanguage:function(){return\"\"},getPackageName:function(){return\"\"},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},isCrossPublisherIdChanged:function(){return!1}};return e}(),a=function(){function f(){return typeof engine!=\"undefined\"&&typeof engine.stats!=\"undefined\"}function l(){return e.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:e.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function c(){if(r==null){var e=l();e!=null?(r=e,u=\"31\",a=e):(r=+(new Date)+~~(Math.random()*1e3),u=\"72\",a=null)}}var n=this,r=null,u=null,a=null;return{PLATFORM:\"trilithium\",httpGet:o,httpPost:i,Storage:t,IO:s,getCrossPublisherId:function(){return c(),a},getAppName:function(){return e.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(t){return e.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return c(),r},getVisitorIdSuffix:function(){return u},getDeviceName:function(){return e.safeGet(engine.stats.device.platform,\"\")},getPlatformVersion:function(){return e.safeGet(engine.stats.device.version,\"\")},getPlatformName:function(){return\"js\"},getRuntimeName:function(){return\"trilithium\"},getRuntimeVersion:function(){return\"\"},getResolution:function(){return typeof screen!=\"undefined\"&&typeof screen.height!=\"undefined\"&&typeof screen.width!=\"undefined\"?screen.height+\"x\"+screen.width:\"\"},getLanguage:function(){return\"\"},getPackageName:function(){return\"\"},isConnectionAvailable:function(){return!0},isCompatible:f}}();u.autoSelect=function(){a.isCompatible()&&e.extend(u,a)};var f=typeof window!=\"undefined\"&&typeof document!=\"undefined\",l,c;f?(l=window,c=document):(l={},c={location:{href:\"\"},title:\"\",URL:\"\",referrer:\"\",cookie:\"\"});var e=e||{};e.filterMap=function(t,n){for(var r in t)e.indexOf(r,n)==-1&&delete t[r]},e.getKeys=function(e,t){var n,r=[];for(n in e)(!t||t.test(n))&&e.hasOwnProperty(n)&&(r[r.length]=n);return r};var d=function(){var e=[\"play\",\"pause\",\"end\",\"buffer\",\"keep-alive\",\"hb\",\"custom\",\"ad_play\",\"ad_pause\",\"ad_end\",\"ad_click\"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),v=function(){var e=[d.END,d.PLAY,d.PAUSE,d.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),m={ADPLAY:d.AD_PLAY,ADPAUSE:d.AD_PAUSE,ADEND:d.AD_END,ADCLICK:d.AD_CLICK},g={STREAMSENSE_VERSION:\"4.1411.18\",DEFAULT_PLAYERNAME:\"streamsense\",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:\"19\",C10_VALUE:\"js\",NS_AP_C12M_VALUE:\"1\",NS_NC_VALUE:\"1\",PAGE_NAME_LABEL:\"name\",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:[\"c1\",\"c2\",\"ca2\",\"cb2\",\"cc2\",\"cd2\",\"ns_site\",\"ca_ns_site\",\"cb_ns_site\",\"cc_ns_site\",\"cd_ns_site\",\"ns_vsite\",\"ca_ns_vsite\",\"cb_ns_vsite\",\"cc_ns_vsite\",\"cd_ns_vsite\",\"ns_ap_an\",\"ca_ns_ap_an\",\"cb_ns_ap_an\",\"cc_ns_ap_an\",\"cd_ns_ap_an\",\"ns_ap_pn\",\"ns_ap_pv\",\"c12\",\"ca12\",\"cb12\",\"cc12\",\"cd12\",\"ns_ak\",\"ns_ns_ap_hw\",\"name\",\"ns_ap_ni\",\"ns_ap_ec\",\"ns_ap_ev\",\"ns_ap_device\",\"ns_ap_id\",\"ns_ap_csf\",\"ns_ap_bi\",\"ns_ap_pfm\",\"ns_ap_pfv\",\"ns_ap_ver\",\"ca_ns_ap_ver\",\"cb_ns_ap_ver\",\"cc_ns_ap_ver\",\"cd_ns_ap_ver\",\"ns_ap_sv\",\"ns_ap_cv\",\"ns_type\",\"ca_ns_type\",\"cb_ns_type\",\"cc_ns_type\",\"cd_ns_type\",\"ns_radio\",\"ns_nc\",\"ns_ap_ui\",\"ca_ns_ap_ui\",\"cb_ns_ap_ui\",\"cc_ns_ap_ui\",\"cd_ns_ap_ui\",\"ns_ap_gs\",\"ns_st_sv\",\"ns_st_pv\",\"ns_st_it\",\"ns_st_id\",\"ns_st_ec\",\"ns_st_sp\",\"ns_st_sq\",\"ns_st_cn\",\"ns_st_ev\",\"ns_st_po\",\"ns_st_cl\",\"ns_st_el\",\"ns_st_pb\",\"ns_st_hc\",\"ns_st_mp\",\"ca_ns_st_mp\",\"cb_ns_st_mp\",\"cc_ns_st_mp\",\"cd_ns_st_mp\",\"ns_st_mv\",\"ca_ns_st_mv\",\"cb_ns_st_mv\",\"cc_ns_st_mv\",\"cd_ns_st_mv\",\"ns_st_pn\",\"ns_st_tp\",\"ns_st_pt\",\"ns_st_pa\",\"ns_st_ad\",\"ns_st_li\",\"ns_st_ci\",\"ns_ap_jb\",\"ns_ap_res\",\"ns_ap_c12m\",\"ns_ap_install\",\"ns_ap_updated\",\"ns_ap_lastrun\",\"ns_ap_cs\",\"ns_ap_runs\",\"ns_ap_usage\",\"ns_ap_fg\",\"ns_ap_ft\",\"ns_ap_dft\",\"ns_ap_bt\",\"ns_ap_dbt\",\"ns_ap_dit\",\"ns_ap_as\",\"ns_ap_das\",\"ns_ap_it\",\"ns_ap_uc\",\"ns_ap_aus\",\"ns_ap_daus\",\"ns_ap_us\",\"ns_ap_dus\",\"ns_ap_ut\",\"ns_ap_oc\",\"ns_ap_uxc\",\"ns_ap_uxs\",\"ns_ap_lang\",\"ns_ap_ar\",\"ns_ap_miss\",\"ns_ts\",\"ns_st_ca\",\"ns_st_cp\",\"ns_st_er\",\"ca_ns_st_er\",\"cb_ns_st_er\",\"cc_ns_st_er\",\"cd_ns_st_er\",\"ns_st_pe\",\"ns_st_ui\",\"ca_ns_st_ui\",\"cb_ns_st_ui\",\"cc_ns_st_ui\",\"cd_ns_st_ui\",\"ns_st_bc\",\"ns_st_bt\",\"ns_st_bp\",\"ns_st_pc\",\"ns_st_pp\",\"ns_st_br\",\"ns_st_ub\",\"ns_st_vo\",\"ns_st_ws\",\"ns_st_pl\",\"ns_st_pr\",\"ns_st_ep\",\"ns_st_ty\",\"ns_st_ct\",\"ns_st_cs\",\"ns_st_ge\",\"ns_st_st\",\"ns_st_dt\",\"ns_st_de\",\"ns_st_pu\",\"ns_st_cu\",\"ns_st_fee\",\"ns_ap_i1\",\"ns_ap_i2\",\"ns_ap_i3\",\"ns_ap_i4\",\"ns_ap_i5\",\"ns_ap_i6\",\"c3\",\"ca3\",\"cb3\",\"cc3\",\"cd3\",\"c4\",\"ca4\",\"cb4\",\"cc4\",\"cd4\",\"c5\",\"ca5\",\"cb5\",\"cc5\",\"cd5\",\"c6\",\"ca6\",\"cb6\",\"cc6\",\"cd6\",\"c10\",\"c11\",\"c13\",\"c14\",\"c15\",\"c16\",\"c7\",\"c8\",\"c9\"]},y=function(){var t=function(){function l(e,t){var n=t[e];n!=null&&(f[e]=n)}var t=this,n=0,r=0,i=0,s=0,o=0,u=0,a,f;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},f.hasOwnProperty(\"ns_st_cl\")||(f.ns_st_cl=\"0\"),f.hasOwnProperty(\"ns_st_pn\")||(f.ns_st_pn=\"1\"),f.hasOwnProperty(\"ns_st_tp\")||(f.ns_st_tp=\"1\"),t.setPauses(0),t.setStarts(0),t.setBufferingTime(0),t.setBufferingTimestamp(-1),t.setPlaybackTime(0),t.setPlaybackTimestamp(-1)},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClipId:function(){return(typeof a==\"undefined\"||a==null)&&t.setClipId(\"1\"),a},setClipId:function(e){a=e},setRegisters:function(e,s){var u=e.ns_st_cn;u!=null&&(t.setClipId(u),delete e.ns_st_cn),u=e.ns_st_bt,u!=null&&(i=Number(u),delete e.ns_st_bt),l(\"ns_st_cl\",e),l(\"ns_st_pn\",e),l(\"ns_st_tp\",e),l(\"ns_st_ub\",e),l(\"ns_st_br\",e);if(s==v.PLAYING||s==null)u=e.ns_st_sq,u!=null&&(r=Number(u),delete e.ns_st_sq);s!=v.BUFFERING&&(u=e.ns_st_pt,u!=null&&(o=Number(u),delete e.ns_st_pt));if(s==v.PAUSED||s==v.IDLE||s==null)u=e.ns_st_pc,u!=null&&(n=Number(u),delete e.ns_st_pc)},createLabels:function(i,s){var o=s||{};o.ns_st_cn=t.getClipId(),o.ns_st_bt=String(t.getBufferingTime());if(i==d.PLAY||i==null)o.ns_st_sq=String(r);if(i==d.PAUSE||i==d.END||i==d.KEEP_ALIVE||i==d.HEART_BEAT||i==null)o.ns_st_pt=String(t.getPlaybackTime()),o.ns_st_pc=String(n);return e.extend(o,t.getLabels()),o},incrementPauses:function(){n++},incrementStarts:function(){r++},getBufferingTime:function(){var e=i;return s>=0&&(e+=+(new Date)-s),e},setBufferingTime:function(e){i=e},getPlaybackTime:function(){var e=o;return u>=0&&(e+=+(new Date)-u),e},setPlaybackTime:function(e){o=e},getPlaybackTimestamp:function(){return u},setPlaybackTimestamp:function(e){u=e},getBufferingTimestamp:function(){return s},setBufferingTimestamp:function(e){s=e},getPauses:function(){return n},setPauses:function(e){n=e},getStarts:function(){return r},setStarts:function(e){r=e}}),f={},t.reset()};return t}(),b=function(){var t=function(){var t=this,n=null,r,i=0,s=0,o=0,u=0,a=0,f,l=0,c=!1;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},t.setPlaylistId(+(new Date)+\"_\"+l),t.setBufferingTime(0),t.setPlaybackTime(0),t.setPauses(0),t.setStarts(0),t.setRebufferCount(0),c=!1},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClip:function(){return n},getPlaylistId:function(){return r},setPlaylistId:function(e){r=e},setRegisters:function(e,t){var n=e.ns_st_sp;n!=null&&(i=Number(n),delete e.ns_st_sp),n=e.ns_st_bc,n!=null&&(o=Number(n),delete e.ns_st_bc),n=e.ns_st_bp,n!=null&&(u=Number(n),delete e.ns_st_bp),n=e.ns_st_id,n!=null&&(r=n,delete e.ns_st_id),t!=v.BUFFERING&&(n=e.ns_st_pa,n!=null&&(a=Number(n),delete e.ns_st_pa));if(t==v.PAUSED||t==v.IDLE||t==null)n=e.ns_st_pp,n!=null&&(s=Number(n),delete e.ns_st_pp)},createLabels:function(n,u){var a=u||{};a.ns_st_bp=String(t.getBufferingTime()),a.ns_st_sp=String(i),a.ns_st_id=String(r),o>0&&(a.ns_st_bc=String(o));if(n==d.PAUSE||n==d.END||n==d.KEEP_ALIVE||n==d.HEART_BEAT||n==null)a.ns_st_pa=String(t.getPlaybackTime()),a.ns_st_pp=String(s);if(n==d.PLAY||n==null)t.didFirstPlayOccurred()||(a.ns_st_pb=\"1\",t.setFirstPlayOccurred(!0));return e.extend(a,t.getLabels()),a},incrementStarts:function(){i++},incrementPauses:function(){s++,n.incrementPauses()},setPlaylistCounter:function(e){l=e},incrementPlaylistCounter:function(){l++},addPlaybackTime:function(e){if(n.getPlaybackTimestamp()>=0){var r=e-n.getPlaybackTimestamp();n.setPlaybackTimestamp(-1),n.setPlaybackTime(n.getPlaybackTime()+r),t.setPlaybackTime(t.getPlaybackTime()+r)}},addBufferingTime:function(e){if(n.getBufferingTimestamp()>=0){var r=e-n.getBufferingTimestamp();n.setBufferingTimestamp(-1),n.setBufferingTime(n.getBufferingTime()+r),t.setBufferingTime(t.getBufferingTime()+r)}},getBufferingTime:function(){var e=u;return n.getBufferingTimestamp()>=0&&(e+=+(new Date)-n.getBufferingTimestamp()),e},setBufferingTime:function(e){u=e},getPlaybackTime:function(){var e=a;return n.getPlaybackTimestamp()>=0&&(e+=+(new Date)-n.getPlaybackTimestamp()),e},setPlaybackTime:function(e){a=e},getStarts:function(){return i},setStarts:function(e){i=e},getPauses:function(){return s},setPauses:function(e){s=e},getRebufferCount:function(){return o},incrementRebufferCount:function(){o++},setRebufferCount:function(e){o=e},didFirstPlayOccurred:function(){return c},setFirstPlayOccurred:function(e){c=e}}),n=new y,f={},t.reset()};return t}(),w=function(){var t=function(t,n){function q(e){var t=0;if(k!=null)for(var n=0;n<k.length;n++){var r=k[n],i=r.playingtime;if(!i||e<i){t=r.interval;break}}return t}function R(){X();var e=q(w.getClip().getPlaybackTime());if(e>0){var t=O>0?O:e;C=setTimeout(W,t)}O=0}function U(){X();var e=q(w.getClip().getPlaybackTime());O=e-w.getClip().getPlaybackTime()%e,C!=null&&X()}function z(){O=0,_=0,M=0}function W(){M++;var e=mt(d.HEART_BEAT,null);rt(e),O=0,R()}function X(){C!=null&&(clearTimeout(C),C=null)}function V(){J(),N=setTimeout($,L)}function $(){var e=mt(d.KEEP_ALIVE,null);rt(e),y++,V()}function J(){N!=null&&(clearTimeout(N),N=null)}function K(){G(),r.isPauseOnBufferingEnabled()&&at(v.PAUSED)&&(x=setTimeout(Q,A))}function Q(){if(P==v.PLAYING){w.incrementRebufferCount(),w.incrementPauses();var e=mt(d.PAUSE,null);rt(e),y++,P=v.PAUSED}}function G(){x!=null&&(clearTimeout(x),x=null)}function Y(e){return e==v.PLAYING||e==v.PAUSED}function Z(){l&&(clearTimeout(l),l=null)}function et(e){return e==d.PLAY?v.PLAYING:e==d.PAUSE?v.PAUSED:e==d.BUFFER?v.BUFFERING:e==d.END?v.IDLE:null}function tt(t,n,r){Z();if(r)l=setTimeout(function(e,t){return function(){tt(e,t)}}(t,n),r);else if(ct(t)){var i=pt(),s=a,o=lt(n),u=s>=0?o-s:0;ot(pt(),n),ut(t,n),dt(pt()),ht(t);for(var f=0,c=F.length;f<c;f++)F[f](i,t,n,u);nt(n),w.setRegisters(n,t),w.getClip().setRegisters(n,t);var h=mt(v.toEventType(t),n);e.extend(h,n),at(m)&&(rt(h),P=m,y++)}}function nt(e){var t=e.ns_st_mp;t!=null&&(H=t,delete e.ns_st_mp),t=e.ns_st_mv,t!=null&&(B=t,delete e.ns_st_mv),t=e.ns_st_ec,t!=null&&(y=Number(t),delete e.ns_st_ec)}function rt(e,t){t===undefined&&(t=!0),t&&st(e);var n=r.getPixelURL();if(E){if(!it()){var i=I.am,s=I.et,o=i.newApplicationMeasurement(E,s.HIDDEN,e,n);E.getQueue().offer(o)}}else n&&u.httpGet(p(n,e))}function it(){var e=E.getAppContext(),t=E.getSalt(),n=E.getPixelURL();return e==null||t==null||t.length==0||n==null||n.length==0}function st(t){j=mt(null),e.extend(j,t)}function ot(t,n){var r=lt(n);if(t==v.PLAYING)w.addPlaybackTime(r),U(),J();else if(t==v.BUFFERING)w.addBufferingTime(r),G();else if(t==v.IDLE){var i=e.getKeys(w.getClip().getLabels());w.getClip().reset(i)}}function ut(e,t){var n=lt(t),r=ft(t);f=r,e==v.PLAYING?(R(),V(),w.getClip().setPlaybackTimestamp(n),at(e)&&(w.getClip().incrementStarts(),w.getStarts()<1&&w.setStarts(1))):e==v.PAUSED?at(e)&&w.incrementPauses():e==v.BUFFERING?(w.getClip().setBufferingTimestamp(n),T&&K()):e==v.IDLE&&z()}function at(e){return e!=v.PAUSED&&e!=v.IDLE||P!=v.IDLE&&P!=null?e!=v.BUFFERING&&P!=e:!1}function ft(t){var n=-1;return t.hasOwnProperty(\"ns_st_po\")&&(n=e.getInteger(t.ns_st_po)),n}function lt(e){var t=-1;return e.hasOwnProperty(\"ns_ts\")&&(t=Number(e.ns_ts)),t}function ct(e){return e!=null&&pt()!=e}function ht(e){m=e,a=+(new Date)}function pt(){return m}function dt(e){c=e}function vt(){return c}function mt(){var t,n;arguments.length==1?(t=v.toEventType(m),n=arguments[0]):(t=arguments[0],n=arguments[1]);var i={};if(typeof document!=\"undefined\"){var s=document;i.c7=s.URL,i.c8=s.title,i.c9=s.referrer}return n!=null&&e.extend(i,n),i.hasOwnProperty(\"ns_ts\")||(i.ns_ts=String(+(new Date))),t!=null&&!i.hasOwnProperty(\"ns_st_ev\")&&(i.ns_st_ev=d.toString(t)),r.isPersistentLabelsShared()&&E&&e.extend(i,E.getLabels()),e.extend(i,r.getLabels()),gt(t,i),w.createLabels(t,i),w.getClip().createLabels(t,i),i.hasOwnProperty(\"ns_st_mp\")||(i.ns_st_mp=H),i.hasOwnProperty(\"ns_st_mv\")||(i.ns_st_mv=B),i.hasOwnProperty(\"ns_st_ub\")||(i.ns_st_ub=\"0\"),i.hasOwnProperty(\"ns_st_br\")||(i.ns_st_br=\"0\"),i.hasOwnProperty(\"ns_st_pn\")||(i.ns_st_pn=\"1\"),i.hasOwnProperty(\"ns_st_tp\")||(i.ns_st_tp=\"1\"),i.hasOwnProperty(\"ns_st_it\")||(i.ns_st_it=\"c\"),i.ns_st_sv=g.STREAMSENSE_VERSION,i.ns_type=\"hidden\",i}function gt(t,n){var r=n||{};r.ns_st_ec=String(y);if(!r.hasOwnProperty(\"ns_st_po\")){var i=f,s=lt(r);if(t==d.PLAY||t==d.KEEP_ALIVE||t==d.HEART_BEAT||t==null&&m==v.PLAYING)i+=s-w.getClip().getPlaybackTimestamp();r.ns_st_po=e.getInteger(i)}return t==d.HEART_BEAT&&(r.ns_st_hc=String(M)),r}function yt(e){var t=lt(e);t<0&&(e.ns_ts=String(+(new Date)))}function bt(e,t,n){t=t||{},t.ns_st_ad=1,e>=d.AD_PLAY&&e<=d.AD_CLICK&&r.notify(e,t,n)}function wt(e,t){r.notify(d.CUSTOM,e,t)}var r=this,i=500,s,o=null,a=0,f=0,l,c,m,y=0,w=null,E,S=!0,x,T=!0,N,C,k=g.DEFAULT_HEARTBEAT_INTERVAL,L=g.DEFAULT_KEEP_ALIVE_INTERVAL,A=g.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,O=0,M=0,_=0,D=!1,P,H,B,j,F,I={};u.autoSelect(),e.extend(this,{reset:function(t){w.reset(t),w.setPlaylistCounter(0),w.setPlaylistId(+(new Date)+\"_1\"),w.getClip().reset(t),t!=null&&!t.isEmpty()?e.filterMap(s,t):s={},y=1,M=0,U(),z(),J(),G(),Z(),m=v.IDLE,c=null,a=-1,P=null,H=g.DEFAULT_PLAYERNAME,B=g.STREAMSENSE_VERSION,j=null},setPauseOnBufferingInterval:function(e){A=e},getPauseOnBufferingInterval:function(){return A},setKeepAliveInterval:function(e){L=e},getKeepAliveInterval:function(){return L},setHeartbeatIntervals:function(e){k=e},notify:function(){var t,n,s,o;n=arguments[0],arguments.length==3?(s=arguments[1],o=arguments[2]):(s={},o=arguments[1]),t=et(n);var u=e.extend({},s);yt(u),u.hasOwnProperty(\"ns_st_po\")||(u.ns_st_po=e.getInteger(o).toString());if(n==d.PLAY||n==d.PAUSE||n==d.BUFFER||n==d.END)r.isPausePlaySwitchDelayEnabled()&&Y(m)&&Y(t)&&(m!=v.PLAYING||t!=v.PAUSED||!!l)?tt(t,u,i):tt(t,u);else{var a=mt(n,u);e.extend(a,u),rt(a,!1),y++}},getLabels:function(){return s},getState:function(){return m},setLabels:function(t){t!=null&&(s==null?s=t:e.extend(s,t))},getLabel:function(e){return s[e]},setLabel:function(e,t){t==null?delete s[e]:s[e]=t},setPixelURL:function(e){if(e==null||e.length==0)return null;var t=decodeURIComponent||unescape,n=e.indexOf(\"?\");if(n>=0){if(n<e.length-1){var i=e.substring(n+1).split(\"&\");for(var s=0,u=i.length;s<u;s++){var a=i[s],f=a.split(\"=\");f.length==2?r.setLabel(f[0],t(f[1])):f.length==1&&r.setLabel(g.PAGE_NAME_LABEL,t(f[0]))}e=e.substring(0,n+1)}}else e+=\"?\";return o=e,o},getPixelURL:function(){return o?o:typeof ns_p!=\"undefined\"&&typeof ns_p.src==\"string\"?o=ns_p.src.replace(/&amp;/,\"&\").replace(/&ns__t=\\d+/,\"\"):typeof ns_pixelUrl==\"string\"?o=ns_pixelUrl.replace(/&amp;/,\"&\").replace(/&ns__t=\\d+/,\"\"):null},isPersistentLabelsShared:function(){return S},setPersistentLabelsShared:function(e){S=e},isPauseOnBufferingEnabled:function(){return T},setPauseOnBufferingEnabled:function(e){T=e},isPausePlaySwitchDelayEnabled:function(){return D},setPausePlaySwitchDelayEnabled:function(e){D=e},setPausePlaySwitchDelay:function(e){e&&e>0&&(i=e)},getPausePlaySwitchDelay:function(){return i},setClip:function(e,t){var n=!1;return m==v.IDLE&&(w.getClip().reset(),w.getClip().setLabels(e,null),t&&w.incrementStarts(),n=!0),n},setPlaylist:function(e){var t=!1;return m==v.IDLE&&(w.incrementPlaylistCounter(),w.reset(),w.getClip().reset(),w.setLabels(e,null),t=!0),t},importState:function(t){reset();var n=e.extend({},t);w.setRegisters(n,null),w.getClip().setRegisters(n,null),nt(n),y++},exportState:function(){return j},getVersion:function(){return g.STREAMSENSE_VERSION},addListener:function(e){F.push(e)},removeListener:function(t){F.splice(e.indexOf(t,F),1)},getClip:function(){return w.getClip()},getPlaylist:function(){return w}}),e.extend(this,{adNotify:bt,customNotify:wt,viewNotify:function(e,t){e=e||r.getPixelURL(),e&&h(e,t)}}),ns_.comScore&&(I=ns_.comScore.exports,E=I.c()),s={},y=1,m=v.IDLE,w=new b,x=null,T=!0,C=null,M=0,z(),N=null,l=null,D=!1,P=null,f=0,F=[],r.reset(),t&&r.setLabels(t),n&&r.setPixelURL(n)};return function(t){function s(e,t){return n[i]||u(e,t)}function o(){i=-1;for(var e=0;e<=r;e++)if(n.hasOwnProperty(e)){i=e;break}return ns_.StreamSense.activeIndex=i,i}function u(e,t){return e=e||null,t=t||null,e&&typeof e==\"object\"&&(t=e,e=null),n[++r]=new ns_.StreamSense(t,e),o(),n[r]}function a(){var e=!1,t=i;if(typeof arguments[0]==\"number\"&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var r in n)if(n[r]===arguments[0]){t=r;break}return n.hasOwnProperty(t)&&(e=n[t],delete n[t],e.reset(),o()),e}function f(e){return e=e||{},s().setPlaylist(e),s().getPlaylist()}function l(e,t,n){return e=e||{},typeof t==\"number\"&&(e.ns_st_cn=t),s().setClip(e,n),s().getClip()}function c(e,t,n){return typeof e==\"undefined\"?!1:(n=n||null,t=t||{},s().notify(e,t,n))}function h(e){typeof e!=\"undefined\"&&s().setLabels(e)}function p(){return s().getLabels()}function d(e){typeof e!=\"undefined\"&&s().getPlaylist().setLabels(e)}function v(){return s().getPlaylist().getLabels()}function m(e){typeof e!=\"undefined\"&&s().getClip().setLabels(e)}function g(){return s().getClip().getLabels()}function y(e){return s().reset(e||{})}function b(e){return s().getPlaylist().reset(e||{})}function w(e){return s().getClip().reset(e||{})}function E(e){return e=e||{},s().viewNotify(null,e)}function S(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},typeof t==\"number\"&&(e.ns_st_po=t),s().customNotify(e,t)}function x(){return s().exportState()}function T(e){s().importState(e)}var n={},r=-1,i=-1;e.extend(t,{activeIndex:i,newInstance:u,\"new\":u,destroyInstance:a,destroy:a,newPlaylist:f,newClip:l,notify:c,setLabels:h,getLabels:p,setPlaylistLabels:d,getPlaylistLabels:v,setClipLabels:m,getClipLabels:g,resetInstance:y,resetPlaylist:b,resetClip:w,viewEvent:E,customEvent:S,exportState:x,importState:T})}(t),t}();return w.AdEvents=m,w.PlayerEvents=d,ns_.StreamingTag=ns_.StreamingTag||function(){var t=function(){var t=function(t){function l(){if(!ns_.comScore&&e.exists(t)){f=e.isTrue(t.debug);if(e.exists(t.customerC2)){var n=t.secure?\"https://sb\":\"http\"+(document.location.href.charAt(4)==\"s\"?\"s://sb\":\"://b\");a.setPixelURL(n+\".scorecardresearch.com/p?c1=2\"),a.setLabel(\"c2\",t.customerC2)}else a.setPixelURL(\"\"),f&&console.log(\"Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.\")}a.setLabel(\"ns_st_it\",\"r\")}function c(t){return e.exists(t)||(t={}),e.exists(t.ns_st_ci)||(t.ns_st_ci=\"0\"),e.exists(t.c3)||(t.c3=\"*null\"),e.exists(t.c4)||(t.c4=\"*null\"),e.exists(t.c6)||(t.c6=\"*null\"),t}function h(e){return i>0&&e>=i?s+=e-i:s=0,s}function p(e){a.getState()!=v.IDLE&&a.getState()!=v.PAUSED?a.notify(d.END,h(e)):a.getState()==v.PAUSED&&a.notify(d.END,s)}function m(e){return g(\"ns_st_ci\",o,e)&&g(\"c3\",o,e)&&g(\"c4\",o,e)&&g(\"c6\",o,e)}function g(t,n,r){if(e.exists(t)&&e.exists(n)&&e.exists(r)){var i=n[t],s=r[t];return e.exists(i)&&e.exists(s)&&i===s}return!1}function y(t,n){p(t),r++;var u={ns_st_cn:r,ns_st_pn:\"1\",ns_st_tp:\"0\"};e.extend(u,n),a.setClip(u),o=n,i=t,s=0,a.notify(d.PLAY,s)}function b(t){var n=+(new Date);p(n),r++,t=c(t);var o={ns_st_cn:r,ns_st_pn:\"1\",ns_st_tp:\"1\",ns_st_ad:\"1\"};e.extend(o,t),a.setClip(o),s=0,a.notify(d.PLAY,s),i=n,u=!1}function E(e){var t=+(new Date);e=c(e),u?m(e)?(a.getClip().setLabels(e),a.getState()!=v.PLAYING&&(i=t,a.notify(d.PLAY,s))):y(t,e):y(t,e),u=!0}var n=this,r=0,i=0,s=0,o=null,u=!1,a=new w,f=!1;e.extend(this,{playAdvertisement:function(){f&&console&&console.warn(\"Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.\");var e={ns_st_ct:\"va\"};b(e)},playVideoAdvertisement:function(t){var n={ns_st_ct:\"va\"};t&&e.extend(n,t),b(n)},playAudioAdvertisement:function(t){var n={ns_st_ct:\"aa\"};t&&e.extend(n,t),b(n)},playContentPart:function(t){f&&console&&console.warn(\"Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.\");var n={ns_st_ct:\"vc\"};t&&e.extend(n,t),E(n)},playVideoContentPart:function(t){var n={ns_st_ct:\"vc\"};t&&e.extend(n,t),E(n)},playAudioContentPart:function(t){var n={ns_st_ct:\"ac\"};t&&e.extend(n,t),E(n)},stop:function(){var e=+(new Date);a.notify(d.PAUSE,h(e))}}),l()};return function(e){}(t),t}();return t}(),w}();\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t/*\tSWFObject v2.2 <http://code.google.com/p/swfobject/>\n\t\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php>\n\t*/\n\tvar swfobject=function(){var D=\"undefined\",r=\"object\",S=\"Shockwave Flash\",W=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",R=\"SWFObjectExprInst\",x=\"onreadystatechange\",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,X=!+\"\\v1\",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");ag[0]=parseInt(ab.replace(/^(.*)\\..*$/,\"$1\"),10);ag[1]=parseInt(ab.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable(\"$version\");if(ab){X=true;ab=ab.split(\" \")[1].split(\",\");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState==\"complete\")||(typeof j.readyState==D&&(j.getElementsByTagName(\"body\")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener(\"DOMContentLoaded\",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState==\"complete\"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll(\"left\")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName(\"body\")[0].appendChild(C(\"span\"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener(\"load\",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener(\"load\",Y,false)}else{if(typeof O.attachEvent!=D){i(O,\"onload\",Y)}else{if(typeof O.onload==\"function\"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName(\"body\")[0];var aa=C(r);aa.setAttribute(\"type\",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable(\"$version\");if(ab){ab=ab.split(\" \")[1].split(\",\");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute(\"width\")||\"0\";ai.height=ae.getAttribute(\"height\")||\"0\";if(ae.getAttribute(\"class\")){ai.styleclass=ae.getAttribute(\"class\")}if(ae.getAttribute(\"align\")){ai.align=ae.getAttribute(\"align\")}var ah={};var X=ae.getElementsByTagName(\"param\");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute(\"name\").toLowerCase()!=\"movie\"){ah[X[ad].getAttribute(\"name\")]=X[ad].getAttribute(\"value\")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName==\"OBJECT\"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F(\"6.0.65\")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName==\"OBJECT\"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width=\"310\"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height=\"137\"}j.title=j.title.slice(0,47)+\" - Flash Player Installation\";var ad=M.ie&&M.win?\"ActiveX\":\"PlugIn\",ac=\"MMredirectURL=\"+O.location.toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+ad+\"&MMdoctitle=\"+j.title;if(typeof ab.flashvars!=D){ab.flashvars+=\"&\"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C(\"div\");X+=\"SWFObjectNew\";Y.setAttribute(\"id\",X);ae.parentNode.insertBefore(Y,ae);ae.style.display=\"none\";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C(\"div\");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display=\"none\";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C(\"div\");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName==\"PARAM\")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah=\"\";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()==\"data\"){ag.movie=ai[ae]}else{if(ae.toLowerCase()==\"styleclass\"){ah+=' class=\"'+ai[ae]+'\"'}else{if(ae.toLowerCase()!=\"classid\"){ah+=\" \"+ae+'=\"'+ai[ae]+'\"'}}}}}var af=\"\";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name=\"'+ad+'\" value=\"'+ag[ad]+'\" />'}}aa.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+ah+\">\"+af+\"</object>\";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute(\"type\",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()==\"styleclass\"){Z.setAttribute(\"class\",ai[ac])}else{if(ac.toLowerCase()!=\"classid\"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!=\"movie\"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C(\"param\");aa.setAttribute(\"name\",X);aa.setAttribute(\"value\",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName==\"OBJECT\"){if(M.ie&&M.win){X.style.display=\"none\";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]==\"function\"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(\".\");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName(\"head\")[0];if(!aa){return}var X=(ad&&typeof ad==\"string\")?ad:\"screen\";if(ab){n=null;G=null}if(!n||G!=X){var Z=C(\"style\");Z.setAttribute(\"type\",\"text/css\");Z.setAttribute(\"media\",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+\" {\"+Y+\"}\"))}}}function w(Z,X){if(!m){return}var Y=X?\"visible\":\"hidden\";if(J&&c(Z)){c(Z).style.visibility=Y}else{v(\"#\"+Z,\"visibility:\"+Y)}}function L(Y){var Z=/[\\\\\\\"<>\\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent(\"onunload\",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+=\"\";ag+=\"\";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+=\"&\"+ai+\"=\"+Z[ai]}else{am.flashvars=ai+\"=\"+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\\?/.test(Z)){Z=Z.split(\"?\")[1]}if(aa==null){return L(Z)}var Y=Z.split(\"&\");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf(\"=\"))==aa){return L(Y[X].substring((Y[X].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display=\"block\"}}if(E){E(B)}}a=false}}}}();\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar videojs = __webpack_require__(1);\n\t\n\tvar VideoAnalytics = function(player, options) {\n\t  if (!window.AnalyticsManager) {\n\t    console.error('AnalyticsManager unavailable');\n\t    return;\n\t  }\n\t\n\t  this.player = player;\n\t  this.handleTimeUpdate = this.handleTimeUpdate.bind(this);\n\t  this.handlePlayerEnded = this.handlePlayerEnded.bind(this);\n\t  this.sentEvents = {};\n\t  player.on('timeupdate', this.handleTimeUpdate);\n\t  player.on('ended', this.handlePlayerEnded);\n\t};\n\t\n\tVideoAnalytics.prototype.handlePlayerEnded = function() {\n\t  this.sendThirtySeconds();\n\t};\n\t\n\tVideoAnalytics.prototype.sendAnalyticsEvent = function(key, action) {\n\t  if (this.sentEvents[key]) {\n\t    return;\n\t  }\n\t\n\t  var event = {\n\t    eventCategory: 'Video:' + window.channelName,\n\t    eventAction: action,\n\t    eventLabel: window.videoUrl\n\t  };\n\t  AnalyticsManager.sendEvent(event);\n\t  this.sentEvents[key] = event;\n\t};\n\t\n\tVideoAnalytics.prototype.sendThreeSeconds = function() {\n\t  this.sendAnalyticsEvent('threeSeconds', '3 seconds');\n\t};\n\t\n\tVideoAnalytics.prototype.sendThirtySeconds = function() {\n\t  this.sendAnalyticsEvent('thirtySeconds', '30 seconds');\n\t};\n\t\n\tVideoAnalytics.prototype.sendNinetyFivePercentComplete = function() {\n\t  this.sendAnalyticsEvent('ninetyFivePercent', '95 percent');\n\t};\n\t\n\tVideoAnalytics.prototype.handleTimeUpdate = function() {\n\t  if (this.player.ads && this.player.ads.state === 'ad-playback') {\n\t    return;\n\t  }\n\t\n\t  var elapsedTime =  this.player.currentTime();\n\t  var duration = this.player.duration();\n\t  var ninetyFivePercentComplete = (duration * .95);\n\t\n\t  if (duration === 0) {\n\t    if (!this.warned) {\n\t      console.warn('Video has an empty duration');\n\t      this.warned = true;\n\t    }\n\t\n\t    return;\n\t  }\n\t\n\t  if (elapsedTime >= 3) {\n\t    this.sendThreeSeconds();\n\t  };\n\t\n\t  if (elapsedTime >= 30) {\n\t    this.sendThirtySeconds();\n\t  };\n\t\n\t  if (elapsedTime >= ninetyFivePercentComplete) {\n\t    this.sendNinetyFivePercentComplete();\n\t  };\n\t};\n\t\n\tvar initVideoAnalytics = function (options) {\n\t  var player = this;\n\t  var videoAnalytics = new VideoAnalytics(player, options);\n\t};\n\t\n\tvideojs.plugin('videoanalytics', initVideoAnalytics);\n\t\n\tmodule.exports = VideoAnalytics;\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar videojs = __webpack_require__(1);\n\t\n\tvar EndCard = function(player, options) {\n\t  this.player = player;\n\t  this.videoEnded = this.videoEnded.bind(this);\n\t  var defaults = {\n\t    countdown: 5,\n\t    next: null,\n\t    allowCountdown: true,\n\t    replayAllow: true\n\t  };\n\t  this.player.on('ended', this.videoEnded);\n\t  this.settings = $.extend(defaults, options);\n\t  this.$overlay = null;\n\t};\n\t\n\tEndCard.prototype.videoEnded = function() {\n\t  var player = this.player;\n\t  if (player.ads && player.ads.state === 'ad-playback') {\n\t    // Don't show an endcard after ad play.\n\t    return;\n\t  }\n\t  if (this.settings.countdown !== null) {\n\t    this.timeLeft = parseInt(this.settings.countdown, 10);\n\t  }\n\t\n\t  if (this.$overlay === null) {\n\t    this.setupEndcard();\n\t  }\n\t};\n\t\n\tEndCard.prototype.setupEndcard = function() {\n\t  $.get(this.settings.URL, this.endcardFetched.bind(this));\n\t};\n\t\n\tEndCard.prototype.teardownEndcard = function () {\n\t  if (this.$overlay) {\n\t    $(this.player.el()).find('.endcard').remove();\n\t    this.$overlay = null;\n\t  }\n\t  if (this.timeout) {\n\t    this.clearCountdown();\n\t  }\n\t  this.player.posterImage.hide();\n\t  this.player.controlBar.show();\n\t};\n\t\n\tEndCard.prototype.replayVideo = function() {\n\t  if (this.settings.replayAllow) {\n\t    this.player.trigger('replay');\n\t    this.teardownEndcard();\n\t    clearInterval(this.timeout);\n\t    this.player.play();\n\t  }\n\t};\n\t\n\tEndCard.prototype.setupReplay = function() {\n\t  var replayButton = this.$overlay.find('.ec-replay')[0];\n\t  $(replayButton).on('click', this.replayVideo.bind(this));\n\t};\n\t\n\tEndCard.prototype.startCountdown = function() {\n\t  if (this.settings.countdown !== null) {\n\t    this.timeout = setInterval(this.updateCountdown.bind(this), 1000);\n\t  }\n\t};\n\t\n\tEndCard.prototype.toggleCountdown = function() {\n\t  var $pause = $('.pause');\n\t\n\t  $pause\n\t    .toggleClass('paused')\n\t    .data('trackLabel', '#');\n\t\n\t  if (this.timeout) {\n\t    $pause.data('trackAction', 'Autostart: Pause');\n\t    this.clearCountdown();\n\t  } else {\n\t    $pause.data('trackAction', 'Autostart: Play');\n\t    this.startCountdown();\n\t  }\n\t};\n\t\n\tEndCard.prototype.clearCountdown = function() {\n\t  clearInterval(this.timeout);\n\t  this.timeout = null;\n\t};\n\t\n\tEndCard.prototype.setupCountdown = function() {\n\t  this.$overlay.find('.count, .pause').addClass('visible');\n\t\n\t  if (this.$overlay.find('.countdown').length > 0) {\n\t    this.$overlay.find('.pause').on('click', this.toggleCountdown.bind(this));\n\t    this.startCountdown();\n\t  }\n\t};\n\t\n\tEndCard.prototype.updateCountdown = function () {\n\t  if (this.timeLeft > 0) {\n\t    this.timeLeft -= 1;\n\t    $(this.player.el()).find('.count').html(this.timeLeft.toString());\n\t  } else {\n\t    this.clearCountdown();\n\t    var nextUrl = this.$overlay.find('.next a')[0].href;\n\t    this.redirectTo(nextUrl);\n\t  }\n\t};\n\t\n\tEndCard.prototype.redirectTo = function(url) {\n\t  window.location = url;\n\t};\n\t\n\tEndCard.prototype.displayShareTools = function() {\n\t  if ($('#custom-endcard').length > 0 || this.isRailPlayer()) {\n\t    this.$overlay.find('.next-video-container a').attr('target','_blank');\n\t    $('.sharetool').remove();\n\t  } else if ($.isFunction(this.player.shareTools.setup)) {\n\t    this.player.shareTools.setup();\n\t  }\n\t};\n\t\n\tEndCard.prototype.endcardFetched = function(endCardMarkup) {\n\t  var playerElement = this.player.el();\n\t\n\t  if (this.$overlay) {\n\t    return;\n\t  }\n\t\n\t  if (this.player.posterImage) {\n\t    this.player.posterImage.show();\n\t  }\n\t\n\t  this.$overlay = $(endCardMarkup);\n\t\n\t  this.setupReplay();\n\t\n\t  // Don't do countdown if embed or if it is the rail player\n\t  if (this.isRailPlayer() || this.isEmbedPlayer()) {\n\t    this.settings.allowCountdown = false;\n\t  }\n\t\n\t  if (this.settings.allowCountdown) {\n\t    this.setupCountdown();\n\t  } else {\n\t    this.$overlay.find('.next-video-container a').attr('target','_blank');\n\t  }\n\t\n\t  this.displayShareTools();\n\t\n\t  playerElement.appendChild(this.$overlay[0]);\n\t\n\t  var $shareTool = $(playerElement).find('.sharetool');\n\t  var $endcardShareContainer = $(playerElement).find('.ec-social');\n\t  $shareTool.appendTo($endcardShareContainer).show();\n\t\n\t  this.player.controlBar.hide();\n\t  if (window.picturefill) {\n\t    window.picturefill(document.querySelectorAll('.endcard [data-type=\"image\"]'));\n\t  }\n\t  else {\n\t    console.warn('videohub-player could not find `window.picturefill`');\n\t  }\n\t};\n\t\n\tEndCard.prototype.pathInfo = function() {\n\t  return window.location.pathname;\n\t};\n\t\n\tEndCard.prototype.isRailPlayer = function() {\n\t  return this.pathInfo().match(/^\\/channels\\/.+\\/rail/) ? true : false;\n\t};\n\t\n\tEndCard.prototype.isEmbedPlayer = function() {\n\t  return this.pathInfo().match(/embed/i) ? true : false;\n\t};\n\t\n\tvar initEndCard = function (options) {\n\t  var player = this;\n\t  var endCard = new EndCard(player, options);\n\t};\n\t\n\tvideojs.plugin('endcard', initEndCard);\n\t\n\tmodule.exports = EndCard;\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar videojs = __webpack_require__(1);\n\tvar _sharetools = __webpack_require__(10);\n\t\n\tvar ShareTools = function(player, options) {\n\t  this.player = player;\n\t  var defaults = {};\n\t  this.settings = $.extend(defaults, options);\n\t  this.shareTools = new _sharetools();\n\t};\n\t\n\tShareTools.prototype.prepareOverlay = function() {\n\t  var $overlay = $('<div>');\n\t  $overlay.addClass('sharetool share-widget');\n\t\n\t  $overlay.attr({\n\t    'data-share-url': window.shareUrl,\n\t    'data-share-description': window.share_description,\n\t    'data-share-title': window.share_title,\n\t    'data-share-redirect-url': 'http://www.onionstudios.com/fb-close'\n\t  });\n\t\n\t  return $overlay;\n\t};\n\t\n\tShareTools.prototype.setupTwitter = function($shareToolDiv) {\n\t  if (!this.settings.twitter) {\n\t    return;\n\t  }\n\t\n\t  this.shareTools.addNetwork({\n\t    name: 'twitter',\n\t    url: function (params, element) {\n\t      var text = params.title;\n\t      text = text.substr(0, 139);\n\t      var queryParams = {\n\t        text: text,\n\t        url: params.url,\n\t        via: window.twitter_handle\n\t      };\n\t      var serializedParams = decodeURIComponent($.param(queryParams));\n\t      return 'https://www.twitter.com/share?' + serializedParams;\n\t    }\n\t  });\n\t\n\t  var $twitter = $('<a>');\n\t  $twitter.attr('title', 'Share via Twitter');\n\t  $twitter.data('trackAction', 'Share');\n\t  $twitter.data('trackLabel', 'Twitter');\n\t  $twitter.addClass('share-twitter button twitter');\n\t  $shareToolDiv.append($twitter);\n\t};\n\t\n\tShareTools.prototype.setupFacebook = function($shareToolDiv) {\n\t  if (!this.settings.facebook) {\n\t    return;\n\t  }\n\t\n\t  this.shareTools.addNetwork({\n\t    name: 'facebook',\n\t    url: function (params, element) {\n\t      var queryParams = {\n\t        app_id: '632832353489701',\n\t        display: 'popup',\n\t        link: params.url,\n\t        name: params.title,\n\t        description: params.description,\n\t        image: params.image,\n\t        redirect_uri: params.redirectUrl\n\t      };\n\t      var serializedParams = decodeURIComponent($.param(queryParams));\n\t      return 'https://www.facebook.com/dialog/feed?' + serializedParams;\n\t    }\n\t  });\n\t\n\t  var $facebook = $('<a>');\n\t  $facebook.attr('title', 'Share via Facebook');\n\t  $facebook.data('trackAction', 'Share');\n\t  $facebook.data('trackLabel', 'Facebook');\n\t  $facebook.addClass('share-facebook button fb');\n\t  $shareToolDiv.append($facebook);\n\t};\n\t\n\tShareTools.prototype.setupEmbedCode = function($shareToolDiv) {\n\t  if (!this.settings.embed) {\n\t    return;\n\t  }\n\t\n\t  var $embed = $('<a>');\n\t  $embed.addClass('button embed');\n\t  $embed.data('trackAction', 'Share');\n\t  $embed.data('trackLabel', 'Embed');\n\t  $shareToolDiv.append($embed);\n\t};\n\t\n\tShareTools.prototype.setup = function() {\n\t  this.open = true;\n\t\n\t  var $overlay = this.prepareOverlay();\n\t  var $shareToolDiv = $('<div class=\"share-buttons\"></div>');\n\t\n\t  this.setupTwitter($shareToolDiv);\n\t  this.setupFacebook($shareToolDiv);\n\t  this.setupEmbedCode($shareToolDiv);\n\t\n\t  $overlay.append($shareToolDiv);\n\t  this.shareTools.setupElements($overlay);\n\t\n\t  $(this.player.el()).append($overlay);\n\t\n\t  $('.embed').on('click', function() {\n\t    $('.embed-div').toggleClass('embed-active');\n\t  });\n\t};\n\t\n\tvar initShareTools = function(options) {\n\t  var player = this;\n\t  player.shareTools = new ShareTools(player, options);\n\t};\n\t\n\tvideojs.plugin('sharetools', initShareTools);\n\t\n\tmodule.exports = ShareTools;\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar videojs = __webpack_require__(1);\n\t__webpack_require__(14);\n\t\n\tvar VideoMetrix = function(player, options) {\n\t  var defaults = {};\n\t  this.player = player;\n\t  this.settings = $.extend(defaults, options);\n\t\n\t  if (!this.settings.id) {\n\t    console.warn('Invalid video metrics configuration.  Must contain ID');\n\t    return;\n\t  }\n\t\n\t  this.streamingTag = new ns_.StreamingTag({ customerC2: this.settings.id });\n\t\n\t  var that = this;\n\t\n\t  player.on('adstart', function(){\n\t    that.streamingTag.playVideoAdvertisement();\n\t  });\n\t\n\t  player.on('adend', function(){\n\t    that.streamingTag.stop();\n\t  });\n\t\n\t  player.on('play', function(){\n\t    if (!that.isAdPlaying()) {\n\t      that.streamingTag.playVideoContentPart(that.settings.metadata);\n\t    }\n\t  });\n\t\n\t  player.on('pause', function(){\n\t    if(!that.isAdPlaying()) {\n\t      that.streamingTag.stop();\n\t    }\n\t  });\n\t\n\t  player.on('ended', function(){\n\t    if(!that.isAdPlaying()) {\n\t      that.streamingTag.stop();\n\t    }\n\t  });\n\t};\n\t\n\tVideoMetrix.prototype.isAdPlaying = function() {\n\t  return (this.player.ads && (this.player.ads.state === 'ad-playback' || this.player.ads.state === 'ads-ready'));\n\t};\n\t\n\tvar initVideoMetrix = function(options) {\n\t  var player = this;\n\t  var videoMetrix = new VideoMetrix(player, options);\n\t};\n\t\n\tvideojs.plugin('videometrix', initVideoMetrix);\n\t\n\tmodule.exports = VideoMetrix;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** videohub-player.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 170fc9b2283a505d13b7\n **/","module.exports = require('./player');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/export-module.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n * @fileoverview Main function src.\n */\n\n// HTML5 Shiv. Must be in <head> to support older browsers.\ndocument.createElement('video');\ndocument.createElement('audio');\ndocument.createElement('track');\n\n/**\n * Doubles as the main function for users to create a player instance and also\n * the main library object.\n *\n * **ALIASES** videojs, _V_ (deprecated)\n *\n * The `vjs` function can be used to initialize or retrieve a player.\n *\n *     var myPlayer = vjs('my_video_id');\n *\n * @param  {String|Element} id      Video element or video element ID\n * @param  {Object=} options        Optional options object for config/settings\n * @param  {Function=} ready        Optional ready callback\n * @return {vjs.Player}             A player instance\n * @namespace\n */\nvar vjs = function(id, options, ready){\n  var tag; // Element of ID\n\n  // Allow for element or ID to be passed in\n  // String ID\n  if (typeof id === 'string') {\n\n    // Adjust for jQuery ID syntax\n    if (id.indexOf('#') === 0) {\n      id = id.slice(1);\n    }\n\n    // If a player instance has already been created for this ID return it.\n    if (vjs.players[id]) {\n\n      // If options or ready funtion are passed, warn\n      if (options) {\n        vjs.log.warn ('Player \"' + id + '\" is already initialised. Options will not be applied.');\n      }\n\n      if (ready) {\n        vjs.players[id].ready(ready);\n      }\n\n      return vjs.players[id];\n\n    // Otherwise get element for ID\n    } else {\n      tag = vjs.el(id);\n    }\n\n  // ID is a media element\n  } else {\n    tag = id;\n  }\n\n  // Check for a useable element\n  if (!tag || !tag.nodeName) { // re: nodeName, could be a box div also\n    throw new TypeError('The element or ID supplied is not valid. (videojs)'); // Returns\n  }\n\n  // Element may have a player attr referring to an already created player instance.\n  // If not, set up a new player and return the instance.\n  return tag['player'] || new vjs.Player(tag, options, ready);\n};\n\n// Extended name, also available externally, window.videojs\nvar videojs = window['videojs'] = vjs;\n\n// CDN Version. Used to target right flash swf.\nvjs.CDN_VERSION = '4.12';\nvjs.ACCESS_PROTOCOL = ('https:' == document.location.protocol ? 'https://' : 'http://');\n\n/**\n* Full player version\n* @type {string}\n*/\nvjs['VERSION'] = '4.12.15';\n\n/**\n * Global Player instance options, surfaced from vjs.Player.prototype.options_\n * vjs.options = vjs.Player.prototype.options_\n * All options should use string keys so they avoid\n * renaming by closure compiler\n * @type {Object}\n */\nvjs.options = {\n  // Default order of fallback technology\n  'techOrder': ['html5','flash'],\n  // techOrder: ['flash','html5'],\n\n  'html5': {},\n  'flash': {},\n\n  // Default of web browser is 300x150. Should rely on source width/height.\n  'width': 300,\n  'height': 150,\n  // defaultVolume: 0.85,\n  'defaultVolume': 0.00, // The freakin seaguls are driving me crazy!\n\n  // default playback rates\n  'playbackRates': [],\n  // Add playback rate selection by adding rates\n  // 'playbackRates': [0.5, 1, 1.5, 2],\n\n  // default inactivity timeout\n  'inactivityTimeout': 2000,\n\n  // Included control sets\n  'children': {\n    'mediaLoader': {},\n    'posterImage': {},\n    'loadingSpinner': {},\n    'textTrackDisplay': {},\n    'bigPlayButton': {},\n    'controlBar': {},\n    'errorDisplay': {},\n    'textTrackSettings': {}\n  },\n\n  'language': document.getElementsByTagName('html')[0].getAttribute('lang') || navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language || 'en',\n\n  // locales and their language translations\n  'languages': {},\n\n  // Default message to show when a video cannot be played.\n  'notSupportedMessage': 'No compatible source was found for this video.'\n};\n\n// Set CDN Version of swf\n// The added (+) blocks the replace from changing this 4.12 string\nif (vjs.CDN_VERSION !== 'GENERATED'+'_CDN_VSN') {\n  videojs.options['flash']['swf'] = vjs.ACCESS_PROTOCOL + 'vjs.zencdn.net/'+vjs.CDN_VERSION+'/video-js.swf';\n}\n\n/**\n * Utility function for adding languages to the default options. Useful for\n * amending multiple language support at runtime.\n *\n * Example: vjs.addLanguage('es', {'Hello':'Hola'});\n *\n * @param  {String} code The language code or dictionary property\n * @param  {Object} data The data values to be translated\n * @return {Object} The resulting global languages dictionary object\n */\nvjs.addLanguage = function(code, data){\n  if(vjs.options['languages'][code] !== undefined) {\n    vjs.options['languages'][code] = vjs.util.mergeOptions(vjs.options['languages'][code], data);\n  } else {\n    vjs.options['languages'][code] = data;\n  }\n  return vjs.options['languages'];\n};\n\n/**\n * Global player list\n * @type {Object}\n */\nvjs.players = {};\n\n/*!\n * Custom Universal Module Definition (UMD)\n *\n * Video.js will never be a non-browser lib so we can simplify UMD a bunch and\n * still support requirejs and browserify. This also needs to be closure\n * compiler compatible, so string keys are used.\n */\nif (typeof define === 'function' && define['amd']) {\n  define('videojs', [], function(){ return videojs; });\n\n// checking that module is an object too because of umdjs/umd#35\n} else if (typeof exports === 'object' && typeof module === 'object') {\n  module['exports'] = videojs;\n}\n/**\n * Core Object/Class for objects that use inheritance + constructors\n *\n * To create a class that can be subclassed itself, extend the CoreObject class.\n *\n *     var Animal = CoreObject.extend();\n *     var Horse = Animal.extend();\n *\n * The constructor can be defined through the init property of an object argument.\n *\n *     var Animal = CoreObject.extend({\n *       init: function(name, sound){\n *         this.name = name;\n *       }\n *     });\n *\n * Other methods and properties can be added the same way, or directly to the\n * prototype.\n *\n *    var Animal = CoreObject.extend({\n *       init: function(name){\n *         this.name = name;\n *       },\n *       getName: function(){\n *         return this.name;\n *       },\n *       sound: '...'\n *    });\n *\n *    Animal.prototype.makeSound = function(){\n *      alert(this.sound);\n *    };\n *\n * To create an instance of a class, use the create method.\n *\n *    var fluffy = Animal.create('Fluffy');\n *    fluffy.getName(); // -> Fluffy\n *\n * Methods and properties can be overridden in subclasses.\n *\n *     var Horse = Animal.extend({\n *       sound: 'Neighhhhh!'\n *     });\n *\n *     var horsey = Horse.create('Horsey');\n *     horsey.getName(); // -> Horsey\n *     horsey.makeSound(); // -> Alert: Neighhhhh!\n *\n * @class\n * @constructor\n */\nvjs.CoreObject = vjs['CoreObject'] = function(){};\n// Manually exporting vjs['CoreObject'] here for Closure Compiler\n// because of the use of the extend/create class methods\n// If we didn't do this, those functions would get flattened to something like\n// `a = ...` and `this.prototype` would refer to the global object instead of\n// CoreObject\n\n/**\n * Create a new object that inherits from this Object\n *\n *     var Animal = CoreObject.extend();\n *     var Horse = Animal.extend();\n *\n * @param {Object} props Functions and properties to be applied to the\n *                       new object's prototype\n * @return {vjs.CoreObject} An object that inherits from CoreObject\n * @this {*}\n */\nvjs.CoreObject.extend = function(props){\n  var init, subObj;\n\n  props = props || {};\n  // Set up the constructor using the supplied init method\n  // or using the init of the parent object\n  // Make sure to check the unobfuscated version for external libs\n  init = props['init'] || props.init || this.prototype['init'] || this.prototype.init || function(){};\n  // In Resig's simple class inheritance (previously used) the constructor\n  //  is a function that calls `this.init.apply(arguments)`\n  // However that would prevent us from using `ParentObject.call(this);`\n  //  in a Child constructor because the `this` in `this.init`\n  //  would still refer to the Child and cause an infinite loop.\n  // We would instead have to do\n  //    `ParentObject.prototype.init.apply(this, arguments);`\n  //  Bleh. We're not creating a _super() function, so it's good to keep\n  //  the parent constructor reference simple.\n  subObj = function(){\n    init.apply(this, arguments);\n  };\n\n  // Inherit from this object's prototype\n  subObj.prototype = vjs.obj.create(this.prototype);\n  // Reset the constructor property for subObj otherwise\n  // instances of subObj would have the constructor of the parent Object\n  subObj.prototype.constructor = subObj;\n\n  // Make the class extendable\n  subObj.extend = vjs.CoreObject.extend;\n  // Make a function for creating instances\n  subObj.create = vjs.CoreObject.create;\n\n  // Extend subObj's prototype with functions and other properties from props\n  for (var name in props) {\n    if (props.hasOwnProperty(name)) {\n      subObj.prototype[name] = props[name];\n    }\n  }\n\n  return subObj;\n};\n\n/**\n * Create a new instance of this Object class\n *\n *     var myAnimal = Animal.create();\n *\n * @return {vjs.CoreObject} An instance of a CoreObject subclass\n * @this {*}\n */\nvjs.CoreObject.create = function(){\n  // Create a new object that inherits from this object's prototype\n  var inst = vjs.obj.create(this.prototype);\n\n  // Apply this constructor function to the new object\n  this.apply(inst, arguments);\n\n  // Return the new object\n  return inst;\n};\n/**\n * @fileoverview Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n * robust as jquery's, so there's probably some differences.\n */\n\n/**\n * Add an event listener to element\n * It stores the handler function in a separate cache object\n * and adds a generic handler to the element's event,\n * along with a unique id (guid) to the element.\n * @param  {Element|Object}   elem Element or object to bind listeners to\n * @param  {String|Array}   type Type of event to bind to.\n * @param  {Function} fn   Event listener.\n * @private\n */\nvjs.on = function(elem, type, fn){\n  if (vjs.obj.isArray(type)) {\n    return _handleMultipleEvents(vjs.on, elem, type, fn);\n  }\n\n  var data = vjs.getData(elem);\n\n  // We need a place to store all our handler data\n  if (!data.handlers) data.handlers = {};\n\n  if (!data.handlers[type]) data.handlers[type] = [];\n\n  if (!fn.guid) fn.guid = vjs.guid++;\n\n  data.handlers[type].push(fn);\n\n  if (!data.dispatcher) {\n    data.disabled = false;\n\n    data.dispatcher = function (event){\n\n      if (data.disabled) return;\n      event = vjs.fixEvent(event);\n\n      var handlers = data.handlers[event.type];\n\n      if (handlers) {\n        // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n        var handlersCopy = handlers.slice(0);\n\n        for (var m = 0, n = handlersCopy.length; m < n; m++) {\n          if (event.isImmediatePropagationStopped()) {\n            break;\n          } else {\n            handlersCopy[m].call(elem, event);\n          }\n        }\n      }\n    };\n  }\n\n  if (data.handlers[type].length == 1) {\n    if (elem.addEventListener) {\n      elem.addEventListener(type, data.dispatcher, false);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + type, data.dispatcher);\n    }\n  }\n};\n\n/**\n * Removes event listeners from an element\n * @param  {Element|Object}   elem Object to remove listeners from\n * @param  {String|Array=}   type Type of listener to remove. Don't include to remove all events from element.\n * @param  {Function} fn   Specific listener to remove. Don't include to remove listeners for an event type.\n * @private\n */\nvjs.off = function(elem, type, fn) {\n  // Don't want to add a cache object through getData if not needed\n  if (!vjs.hasData(elem)) return;\n\n  var data = vjs.getData(elem);\n\n  // If no events exist, nothing to unbind\n  if (!data.handlers) { return; }\n\n  if (vjs.obj.isArray(type)) {\n    return _handleMultipleEvents(vjs.off, elem, type, fn);\n  }\n\n  // Utility function\n  var removeType = function(t){\n     data.handlers[t] = [];\n     vjs.cleanUpEvents(elem,t);\n  };\n\n  // Are we removing all bound events?\n  if (!type) {\n    for (var t in data.handlers) removeType(t);\n    return;\n  }\n\n  var handlers = data.handlers[type];\n\n  // If no handlers exist, nothing to unbind\n  if (!handlers) return;\n\n  // If no listener was provided, remove all listeners for type\n  if (!fn) {\n    removeType(type);\n    return;\n  }\n\n  // We're only removing a single handler\n  if (fn.guid) {\n    for (var n = 0; n < handlers.length; n++) {\n      if (handlers[n].guid === fn.guid) {\n        handlers.splice(n--, 1);\n      }\n    }\n  }\n\n  vjs.cleanUpEvents(elem, type);\n};\n\n/**\n * Clean up the listener cache and dispatchers\n * @param  {Element|Object} elem Element to clean up\n * @param  {String} type Type of event to clean up\n * @private\n */\nvjs.cleanUpEvents = function(elem, type) {\n  var data = vjs.getData(elem);\n\n  // Remove the events of a particular type if there are none left\n  if (data.handlers[type].length === 0) {\n    delete data.handlers[type];\n    // data.handlers[type] = null;\n    // Setting to null was causing an error with data.handlers\n\n    // Remove the meta-handler from the element\n    if (elem.removeEventListener) {\n      elem.removeEventListener(type, data.dispatcher, false);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + type, data.dispatcher);\n    }\n  }\n\n  // Remove the events object if there are no types left\n  if (vjs.isEmpty(data.handlers)) {\n    delete data.handlers;\n    delete data.dispatcher;\n    delete data.disabled;\n\n    // data.handlers = null;\n    // data.dispatcher = null;\n    // data.disabled = null;\n  }\n\n  // Finally remove the expando if there is no data left\n  if (vjs.isEmpty(data)) {\n    vjs.removeData(elem);\n  }\n};\n\n/**\n * Fix a native event to have standard property values\n * @param  {Object} event Event object to fix\n * @return {Object}\n * @private\n */\nvjs.fixEvent = function(event) {\n\n  function returnTrue() { return true; }\n  function returnFalse() { return false; }\n\n  // Test if fixing up is needed\n  // Used to check if !event.stopPropagation instead of isPropagationStopped\n  // But native events return true for stopPropagation, but don't have\n  // other expected methods like isPropagationStopped. Seems to be a problem\n  // with the Javascript Ninja code. So we're just overriding all events now.\n  if (!event || !event.isPropagationStopped) {\n    var old = event || window.event;\n\n    event = {};\n    // Clone the old object so that we can modify the values event = {};\n    // IE8 Doesn't like when you mess with native event properties\n    // Firefox returns false for event.hasOwnProperty('type') and other props\n    //  which makes copying more difficult.\n    // TODO: Probably best to create a whitelist of event props\n    for (var key in old) {\n      // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n      // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n      if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation') {\n        // Chrome 32+ warns if you try to copy deprecated returnValue, but\n        // we still want to if preventDefault isn't supported (IE8).\n        if (!(key == 'returnValue' && old.preventDefault)) {\n          event[key] = old[key];\n        }\n      }\n    }\n\n    // The event occurred on this element\n    if (!event.target) {\n      event.target = event.srcElement || document;\n    }\n\n    // Handle which other element the event is related to\n    event.relatedTarget = event.fromElement === event.target ?\n      event.toElement :\n      event.fromElement;\n\n    // Stop the default browser action\n    event.preventDefault = function () {\n      if (old.preventDefault) {\n        old.preventDefault();\n      }\n      event.returnValue = false;\n      event.isDefaultPrevented = returnTrue;\n      event.defaultPrevented = true;\n    };\n\n    event.isDefaultPrevented = returnFalse;\n    event.defaultPrevented = false;\n\n    // Stop the event from bubbling\n    event.stopPropagation = function () {\n      if (old.stopPropagation) {\n        old.stopPropagation();\n      }\n      event.cancelBubble = true;\n      event.isPropagationStopped = returnTrue;\n    };\n\n    event.isPropagationStopped = returnFalse;\n\n    // Stop the event from bubbling and executing other handlers\n    event.stopImmediatePropagation = function () {\n      if (old.stopImmediatePropagation) {\n        old.stopImmediatePropagation();\n      }\n      event.isImmediatePropagationStopped = returnTrue;\n      event.stopPropagation();\n    };\n\n    event.isImmediatePropagationStopped = returnFalse;\n\n    // Handle mouse position\n    if (event.clientX != null) {\n      var doc = document.documentElement, body = document.body;\n\n      event.pageX = event.clientX +\n        (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n        (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = event.clientY +\n        (doc && doc.scrollTop || body && body.scrollTop || 0) -\n        (doc && doc.clientTop || body && body.clientTop || 0);\n    }\n\n    // Handle key presses\n    event.which = event.charCode || event.keyCode;\n\n    // Fix button for mouse clicks:\n    // 0 == left; 1 == middle; 2 == right\n    if (event.button != null) {\n      event.button = (event.button & 1 ? 0 :\n        (event.button & 4 ? 1 :\n          (event.button & 2 ? 2 : 0)));\n    }\n  }\n\n  // Returns fixed-up instance\n  return event;\n};\n\n/**\n * Trigger an event for an element\n * @param  {Element|Object}      elem  Element to trigger an event on\n * @param  {Event|Object|String} event A string (the type) or an event object with a type attribute\n * @private\n */\nvjs.trigger = function(elem, event) {\n  // Fetches element data and a reference to the parent (for bubbling).\n  // Don't want to add a data object to cache for every parent,\n  // so checking hasData first.\n  var elemData = (vjs.hasData(elem)) ? vjs.getData(elem) : {};\n  var parent = elem.parentNode || elem.ownerDocument;\n      // type = event.type || event,\n      // handler;\n\n  // If an event name was passed as a string, creates an event out of it\n  if (typeof event === 'string') {\n    event = { type:event, target:elem };\n  }\n  // Normalizes the event properties.\n  event = vjs.fixEvent(event);\n\n  // If the passed element has a dispatcher, executes the established handlers.\n  if (elemData.dispatcher) {\n    elemData.dispatcher.call(elem, event);\n  }\n\n  // Unless explicitly stopped or the event does not bubble (e.g. media events)\n    // recursively calls this function to bubble the event up the DOM.\n    if (parent && !event.isPropagationStopped() && event.bubbles !== false) {\n    vjs.trigger(parent, event);\n\n  // If at the top of the DOM, triggers the default action unless disabled.\n  } else if (!parent && !event.defaultPrevented) {\n    var targetData = vjs.getData(event.target);\n\n    // Checks if the target has a default action for this event.\n    if (event.target[event.type]) {\n      // Temporarily disables event dispatching on the target as we have already executed the handler.\n      targetData.disabled = true;\n      // Executes the default action.\n      if (typeof event.target[event.type] === 'function') {\n        event.target[event.type]();\n      }\n      // Re-enables event dispatching.\n      targetData.disabled = false;\n    }\n  }\n\n  // Inform the triggerer if the default was prevented by returning false\n  return !event.defaultPrevented;\n  /* Original version of js ninja events wasn't complete.\n   * We've since updated to the latest version, but keeping this around\n   * for now just in case.\n   */\n  // // Added in addition to book. Book code was broke.\n  // event = typeof event === 'object' ?\n  //   event[vjs.expando] ?\n  //     event :\n  //     new vjs.Event(type, event) :\n  //   new vjs.Event(type);\n\n  // event.type = type;\n  // if (handler) {\n  //   handler.call(elem, event);\n  // }\n\n  // // Clean up the event in case it is being reused\n  // event.result = undefined;\n  // event.target = elem;\n};\n\n/**\n * Trigger a listener only once for an event\n * @param  {Element|Object}   elem Element or object to\n * @param  {String|Array}   type\n * @param  {Function} fn\n * @private\n */\nvjs.one = function(elem, type, fn) {\n  if (vjs.obj.isArray(type)) {\n    return _handleMultipleEvents(vjs.one, elem, type, fn);\n  }\n  var func = function(){\n    vjs.off(elem, type, func);\n    fn.apply(this, arguments);\n  };\n  // copy the guid to the new function so it can removed using the original function's ID\n  func.guid = fn.guid = fn.guid || vjs.guid++;\n  vjs.on(elem, type, func);\n};\n\n/**\n * Loops through an array of event types and calls the requested method for each type.\n * @param  {Function} fn   The event method we want to use.\n * @param  {Element|Object} elem Element or object to bind listeners to\n * @param  {String}   type Type of event to bind to.\n * @param  {Function} callback   Event listener.\n * @private\n */\nfunction _handleMultipleEvents(fn, elem, type, callback) {\n  vjs.arr.forEach(type, function(type) {\n    fn(elem, type, callback); //Call the event method for each one of the types\n  });\n}\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n\n/**\n * Creates an element and applies properties.\n * @param  {String=} tagName    Name of tag to be created.\n * @param  {Object=} properties Element properties to be applied.\n * @return {Element}\n * @private\n */\nvjs.createEl = function(tagName, properties){\n  var el;\n\n  tagName = tagName || 'div';\n  properties = properties || {};\n\n  el = document.createElement(tagName);\n\n  vjs.obj.each(properties, function(propName, val){\n    // Not remembering why we were checking for dash\n    // but using setAttribute means you have to use getAttribute\n\n    // The check for dash checks for the aria-* attributes, like aria-label, aria-valuemin.\n    // The additional check for \"role\" is because the default method for adding attributes does not\n    // add the attribute \"role\". My guess is because it's not a valid attribute in some namespaces, although\n    // browsers handle the attribute just fine. The W3C allows for aria-* attributes to be used in pre-HTML5 docs.\n    // http://www.w3.org/TR/wai-aria-primer/#ariahtml. Using setAttribute gets around this problem.\n    if (propName.indexOf('aria-') !== -1 || propName == 'role') {\n     el.setAttribute(propName, val);\n    } else {\n     el[propName] = val;\n    }\n  });\n\n  return el;\n};\n\n/**\n * Uppercase the first letter of a string\n * @param  {String} string String to be uppercased\n * @return {String}\n * @private\n */\nvjs.capitalize = function(string){\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\n/**\n * Object functions container\n * @type {Object}\n * @private\n */\nvjs.obj = {};\n\n/**\n * Object.create shim for prototypal inheritance\n *\n * https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/create\n *\n * @function\n * @param  {Object}   obj Object to use as prototype\n * @private\n */\nvjs.obj.create = Object.create || function(obj){\n  //Create a new function called 'F' which is just an empty object.\n  function F() {}\n\n  //the prototype of the 'F' function should point to the\n  //parameter of the anonymous function.\n  F.prototype = obj;\n\n  //create a new constructor function based off of the 'F' function.\n  return new F();\n};\n\n/**\n * Loop through each property in an object and call a function\n * whose arguments are (key,value)\n * @param  {Object}   obj Object of properties\n * @param  {Function} fn  Function to be called on each property.\n * @this {*}\n * @private\n */\nvjs.obj.each = function(obj, fn, context){\n  for (var key in obj) {\n    if (hasOwnProp.call(obj, key)) {\n      fn.call(context || this, key, obj[key]);\n    }\n  }\n};\n\n/**\n * Merge two objects together and return the original.\n * @param  {Object} obj1\n * @param  {Object} obj2\n * @return {Object}\n * @private\n */\nvjs.obj.merge = function(obj1, obj2){\n  if (!obj2) { return obj1; }\n  for (var key in obj2){\n    if (hasOwnProp.call(obj2, key)) {\n      obj1[key] = obj2[key];\n    }\n  }\n  return obj1;\n};\n\n/**\n * Merge two objects, and merge any properties that are objects\n * instead of just overwriting one. Uses to merge options hashes\n * where deeper default settings are important.\n * @param  {Object} obj1 Object to override\n * @param  {Object} obj2 Overriding object\n * @return {Object}      New object. Obj1 and Obj2 will be untouched.\n * @private\n */\nvjs.obj.deepMerge = function(obj1, obj2){\n  var key, val1, val2;\n\n  // make a copy of obj1 so we're not overwriting original values.\n  // like prototype.options_ and all sub options objects\n  obj1 = vjs.obj.copy(obj1);\n\n  for (key in obj2){\n    if (hasOwnProp.call(obj2, key)) {\n      val1 = obj1[key];\n      val2 = obj2[key];\n\n      // Check if both properties are pure objects and do a deep merge if so\n      if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {\n        obj1[key] = vjs.obj.deepMerge(val1, val2);\n      } else {\n        obj1[key] = obj2[key];\n      }\n    }\n  }\n  return obj1;\n};\n\n/**\n * Make a copy of the supplied object\n * @param  {Object} obj Object to copy\n * @return {Object}     Copy of object\n * @private\n */\nvjs.obj.copy = function(obj){\n  return vjs.obj.merge({}, obj);\n};\n\n/**\n * Check if an object is plain, and not a dom node or any object sub-instance\n * @param  {Object} obj Object to check\n * @return {Boolean}     True if plain, false otherwise\n * @private\n */\nvjs.obj.isPlain = function(obj){\n  return !!obj\n    && typeof obj === 'object'\n    && obj.toString() === '[object Object]'\n    && obj.constructor === Object;\n};\n\n/**\n * Check if an object is Array\n*  Since instanceof Array will not work on arrays created in another frame we need to use Array.isArray, but since IE8 does not support Array.isArray we need this shim\n * @param  {Object} obj Object to check\n * @return {Boolean}     True if plain, false otherwise\n * @private\n */\nvjs.obj.isArray = Array.isArray || function(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]';\n};\n\n/**\n * Check to see whether the input is NaN or not.\n * NaN is the only JavaScript construct that isn't equal to itself\n * @param {Number} num Number to check\n * @return {Boolean} True if NaN, false otherwise\n * @private\n */\nvjs.isNaN = function(num) {\n  return num !== num;\n};\n\n/**\n * Bind (a.k.a proxy or Context). A simple method for changing the context of a function\n   It also stores a unique id on the function so it can be easily removed from events\n * @param  {*}   context The object to bind as scope\n * @param  {Function} fn      The function to be bound to a scope\n * @param  {Number=}   uid     An optional unique ID for the function to be set\n * @return {Function}\n * @private\n */\nvjs.bind = function(context, fn, uid) {\n  // Make sure the function has a unique ID\n  if (!fn.guid) { fn.guid = vjs.guid++; }\n\n  // Create the new function that changes the context\n  var ret = function() {\n    return fn.apply(context, arguments);\n  };\n\n  // Allow for the ability to individualize this function\n  // Needed in the case where multiple objects might share the same prototype\n  // IF both items add an event listener with the same function, then you try to remove just one\n  // it will remove both because they both have the same guid.\n  // when using this, you need to use the bind method when you remove the listener as well.\n  // currently used in text tracks\n  ret.guid = (uid) ? uid + '_' + fn.guid : fn.guid;\n\n  return ret;\n};\n\n/**\n * Element Data Store. Allows for binding data to an element without putting it directly on the element.\n * Ex. Event listeners are stored here.\n * (also from jsninja.com, slightly modified and updated for closure compiler)\n * @type {Object}\n * @private\n */\nvjs.cache = {};\n\n/**\n * Unique ID for an element or function\n * @type {Number}\n * @private\n */\nvjs.guid = 1;\n\n/**\n * Unique attribute name to store an element's guid in\n * @type {String}\n * @constant\n * @private\n */\nvjs.expando = 'vdata' + (new Date()).getTime();\n\n/**\n * Returns the cache object where data for an element is stored\n * @param  {Element} el Element to store data for.\n * @return {Object}\n * @private\n */\nvjs.getData = function(el){\n  var id = el[vjs.expando];\n  if (!id) {\n    id = el[vjs.expando] = vjs.guid++;\n  }\n  if (!vjs.cache[id]) {\n    vjs.cache[id] = {};\n  }\n  return vjs.cache[id];\n};\n\n/**\n * Returns the cache object where data for an element is stored\n * @param  {Element} el Element to store data for.\n * @return {Object}\n * @private\n */\nvjs.hasData = function(el){\n  var id = el[vjs.expando];\n  return !(!id || vjs.isEmpty(vjs.cache[id]));\n};\n\n/**\n * Delete data for the element from the cache and the guid attr from getElementById\n * @param  {Element} el Remove data for an element\n * @private\n */\nvjs.removeData = function(el){\n  var id = el[vjs.expando];\n  if (!id) { return; }\n  // Remove all stored data\n  // Changed to = null\n  // http://coding.smashingmagazine.com/2012/11/05/writing-fast-memory-efficient-javascript/\n  // vjs.cache[id] = null;\n  delete vjs.cache[id];\n\n  // Remove the expando property from the DOM node\n  try {\n    delete el[vjs.expando];\n  } catch(e) {\n    if (el.removeAttribute) {\n      el.removeAttribute(vjs.expando);\n    } else {\n      // IE doesn't appear to support removeAttribute on the document element\n      el[vjs.expando] = null;\n    }\n  }\n};\n\n/**\n * Check if an object is empty\n * @param  {Object}  obj The object to check for emptiness\n * @return {Boolean}\n * @private\n */\nvjs.isEmpty = function(obj) {\n  for (var prop in obj) {\n    // Inlude null properties as empty.\n    if (obj[prop] !== null) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Check if an element has a CSS class\n * @param {Element} element Element to check\n * @param {String} classToCheck Classname to check\n * @private\n */\nvjs.hasClass = function(element, classToCheck){\n  return ((' ' + element.className + ' ').indexOf(' ' + classToCheck + ' ') !== -1);\n};\n\n\n/**\n * Add a CSS class name to an element\n * @param {Element} element    Element to add class name to\n * @param {String} classToAdd Classname to add\n * @private\n */\nvjs.addClass = function(element, classToAdd){\n  if (!vjs.hasClass(element, classToAdd)) {\n    element.className = element.className === '' ? classToAdd : element.className + ' ' + classToAdd;\n  }\n};\n\n/**\n * Remove a CSS class name from an element\n * @param {Element} element    Element to remove from class name\n * @param {String} classToAdd Classname to remove\n * @private\n */\nvjs.removeClass = function(element, classToRemove){\n  var classNames, i;\n\n  if (!vjs.hasClass(element, classToRemove)) {return;}\n\n  classNames = element.className.split(' ');\n\n  // no arr.indexOf in ie8, and we don't want to add a big shim\n  for (i = classNames.length - 1; i >= 0; i--) {\n    if (classNames[i] === classToRemove) {\n      classNames.splice(i,1);\n    }\n  }\n\n  element.className = classNames.join(' ');\n};\n\n/**\n * Element for testing browser HTML5 video capabilities\n * @type {Element}\n * @constant\n * @private\n */\nvjs.TEST_VID = vjs.createEl('video');\n(function() {\n  var track = document.createElement('track');\n  track.kind = 'captions';\n  track.srclang = 'en';\n  track.label = 'English';\n  vjs.TEST_VID.appendChild(track);\n})();\n\n/**\n * Useragent for browser testing.\n * @type {String}\n * @constant\n * @private\n */\nvjs.USER_AGENT = navigator.userAgent;\n\n/**\n * Device is an iPhone\n * @type {Boolean}\n * @constant\n * @private\n */\nvjs.IS_IPHONE = (/iPhone/i).test(vjs.USER_AGENT);\nvjs.IS_IPAD = (/iPad/i).test(vjs.USER_AGENT);\nvjs.IS_IPOD = (/iPod/i).test(vjs.USER_AGENT);\nvjs.IS_IOS = vjs.IS_IPHONE || vjs.IS_IPAD || vjs.IS_IPOD;\n\nvjs.IOS_VERSION = (function(){\n  var match = vjs.USER_AGENT.match(/OS (\\d+)_/i);\n  if (match && match[1]) { return match[1]; }\n})();\n\nvjs.IS_ANDROID = (/Android/i).test(vjs.USER_AGENT);\nvjs.ANDROID_VERSION = (function() {\n  // This matches Android Major.Minor.Patch versions\n  // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n  var match = vjs.USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i),\n    major,\n    minor;\n\n  if (!match) {\n    return null;\n  }\n\n  major = match[1] && parseFloat(match[1]);\n  minor = match[2] && parseFloat(match[2]);\n\n  if (major && minor) {\n    return parseFloat(match[1] + '.' + match[2]);\n  } else if (major) {\n    return major;\n  } else {\n    return null;\n  }\n})();\n// Old Android is defined as Version older than 2.3, and requiring a webkit version of the android browser\nvjs.IS_OLD_ANDROID = vjs.IS_ANDROID && (/webkit/i).test(vjs.USER_AGENT) && vjs.ANDROID_VERSION < 2.3;\n\nvjs.IS_FIREFOX = (/Firefox/i).test(vjs.USER_AGENT);\nvjs.IS_CHROME = (/Chrome/i).test(vjs.USER_AGENT);\nvjs.IS_IE8 = (/MSIE\\s8\\.0/).test(vjs.USER_AGENT);\n\nvjs.TOUCH_ENABLED = !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof window.DocumentTouch);\nvjs.BACKGROUND_SIZE_SUPPORTED = 'backgroundSize' in vjs.TEST_VID.style;\n\n/**\n * Apply attributes to an HTML element.\n * @param  {Element} el         Target element.\n * @param  {Object=} attributes Element attributes to be applied.\n * @private\n */\nvjs.setElementAttributes = function(el, attributes){\n  vjs.obj.each(attributes, function(attrName, attrValue) {\n    if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n      el.removeAttribute(attrName);\n    } else {\n      el.setAttribute(attrName, (attrValue === true ? '' : attrValue));\n    }\n  });\n};\n\n/**\n * Get an element's attribute values, as defined on the HTML tag\n * Attributes are not the same as properties. They're defined on the tag\n * or with setAttribute (which shouldn't be used with HTML)\n * This will return true or false for boolean attributes.\n * @param  {Element} tag Element from which to get tag attributes\n * @return {Object}\n * @private\n */\nvjs.getElementAttributes = function(tag){\n  var obj, knownBooleans, attrs, attrName, attrVal;\n\n  obj = {};\n\n  // known boolean attributes\n  // we can check for matching boolean properties, but older browsers\n  // won't know about HTML5 boolean attributes that we still read from\n  knownBooleans = ','+'autoplay,controls,loop,muted,default'+',';\n\n  if (tag && tag.attributes && tag.attributes.length > 0) {\n    attrs = tag.attributes;\n\n    for (var i = attrs.length - 1; i >= 0; i--) {\n      attrName = attrs[i].name;\n      attrVal = attrs[i].value;\n\n      // check for known booleans\n      // the matching element property will return a value for typeof\n      if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(','+attrName+',') !== -1) {\n        // the value of an included boolean attribute is typically an empty\n        // string ('') which would equal false if we just check for a false value.\n        // we also don't want support bad code like autoplay='false'\n        attrVal = (attrVal !== null) ? true : false;\n      }\n\n      obj[attrName] = attrVal;\n    }\n  }\n\n  return obj;\n};\n\n/**\n * Get the computed style value for an element\n * From http://robertnyman.com/2006/04/24/get-the-rendered-style-of-an-element/\n * @param  {Element} el        Element to get style value for\n * @param  {String} strCssRule Style name\n * @return {String}            Style value\n * @private\n */\nvjs.getComputedDimension = function(el, strCssRule){\n  var strValue = '';\n  if(document.defaultView && document.defaultView.getComputedStyle){\n    strValue = document.defaultView.getComputedStyle(el, '').getPropertyValue(strCssRule);\n\n  } else if(el.currentStyle){\n    // IE8 Width/Height support\n    strValue = el['client'+strCssRule.substr(0,1).toUpperCase() + strCssRule.substr(1)] + 'px';\n  }\n  return strValue;\n};\n\n/**\n * Insert an element as the first child node of another\n * @param  {Element} child   Element to insert\n * @param  {[type]} parent Element to insert child into\n * @private\n */\nvjs.insertFirst = function(child, parent){\n  if (parent.firstChild) {\n    parent.insertBefore(child, parent.firstChild);\n  } else {\n    parent.appendChild(child);\n  }\n};\n\n/**\n * Object to hold browser support information\n * @type {Object}\n * @private\n */\nvjs.browser = {};\n\n/**\n * Shorthand for document.getElementById()\n * Also allows for CSS (jQuery) ID syntax. But nothing other than IDs.\n * @param  {String} id  Element ID\n * @return {Element}    Element with supplied ID\n * @private\n */\nvjs.el = function(id){\n  if (id.indexOf('#') === 0) {\n    id = id.slice(1);\n  }\n\n  return document.getElementById(id);\n};\n\n/**\n * Format seconds as a time string, H:MM:SS or M:SS\n * Supplying a guide (in seconds) will force a number of leading zeros\n * to cover the length of the guide\n * @param  {Number} seconds Number of seconds to be turned into a string\n * @param  {Number} guide   Number (in seconds) to model the string after\n * @return {String}         Time formatted as H:MM:SS or M:SS\n * @private\n */\nvjs.formatTime = function(seconds, guide) {\n  // Default to using seconds as guide\n  guide = guide || seconds;\n  var s = Math.floor(seconds % 60),\n      m = Math.floor(seconds / 60 % 60),\n      h = Math.floor(seconds / 3600),\n      gm = Math.floor(guide / 60 % 60),\n      gh = Math.floor(guide / 3600);\n\n  // handle invalid times\n  if (isNaN(seconds) || seconds === Infinity) {\n    // '-' is false for all relational operators (e.g. <, >=) so this setting\n    // will add the minimum number of fields specified by the guide\n    h = m = s = '-';\n  }\n\n  // Check if we need to show hours\n  h = (h > 0 || gh > 0) ? h + ':' : '';\n\n  // If hours are showing, we may need to add a leading zero.\n  // Always show at least one digit of minutes.\n  m = (((h || gm >= 10) && m < 10) ? '0' + m : m) + ':';\n\n  // Check if leading zero is need for seconds\n  s = (s < 10) ? '0' + s : s;\n\n  return h + m + s;\n};\n\n// Attempt to block the ability to select text while dragging controls\nvjs.blockTextSelection = function(){\n  document.body.focus();\n  document.onselectstart = function () { return false; };\n};\n// Turn off text selection blocking\nvjs.unblockTextSelection = function(){ document.onselectstart = function () { return true; }; };\n\n/**\n * Trim whitespace from the ends of a string.\n * @param  {String} string String to trim\n * @return {String}        Trimmed string\n * @private\n */\nvjs.trim = function(str){\n  return (str+'').replace(/^\\s+|\\s+$/g, '');\n};\n\n/**\n * Should round off a number to a decimal place\n * @param  {Number} num Number to round\n * @param  {Number} dec Number of decimal places to round to\n * @return {Number}     Rounded number\n * @private\n */\nvjs.round = function(num, dec) {\n  if (!dec) { dec = 0; }\n  return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec);\n};\n\n/**\n * Should create a fake TimeRange object\n * Mimics an HTML5 time range instance, which has functions that\n * return the start and end times for a range\n * TimeRanges are returned by the buffered() method\n * @param  {Number} start Start time in seconds\n * @param  {Number} end   End time in seconds\n * @return {Object}       Fake TimeRange object\n * @private\n */\nvjs.createTimeRange = function(start, end){\n  if (start === undefined && end === undefined) {\n    return {\n      length: 0,\n      start: function() {\n        throw new Error('This TimeRanges object is empty');\n      },\n      end: function() {\n        throw new Error('This TimeRanges object is empty');\n      }\n    };\n  }\n\n  return {\n    length: 1,\n    start: function() { return start; },\n    end: function() { return end; }\n  };\n};\n\n/**\n * Add to local storage (may removable)\n * @private\n */\nvjs.setLocalStorage = function(key, value){\n  try {\n    // IE was throwing errors referencing the var anywhere without this\n    var localStorage = window.localStorage || false;\n    if (!localStorage) { return; }\n    localStorage[key] = value;\n  } catch(e) {\n    if (e.code == 22 || e.code == 1014) { // Webkit == 22 / Firefox == 1014\n      vjs.log('LocalStorage Full (VideoJS)', e);\n    } else {\n      if (e.code == 18) {\n        vjs.log('LocalStorage not allowed (VideoJS)', e);\n      } else {\n        vjs.log('LocalStorage Error (VideoJS)', e);\n      }\n    }\n  }\n};\n\n/**\n * Get absolute version of relative URL. Used to tell flash correct URL.\n * http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n * @param  {String} url URL to make absolute\n * @return {String}     Absolute URL\n * @private\n */\nvjs.getAbsoluteURL = function(url){\n\n  // Check if absolute URL\n  if (!url.match(/^https?:\\/\\//)) {\n    // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n    url = vjs.createEl('div', {\n      innerHTML: '<a href=\"'+url+'\">x</a>'\n    }).firstChild.href;\n  }\n\n  return url;\n};\n\n\n/**\n * Resolve and parse the elements of a URL\n * @param  {String} url The url to parse\n * @return {Object}     An object of url details\n */\nvjs.parseUrl = function(url) {\n  var div, a, addToBody, props, details;\n\n  props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host'];\n\n  // add the url to an anchor and let the browser parse the URL\n  a = vjs.createEl('a', { href: url });\n\n  // IE8 (and 9?) Fix\n  // ie8 doesn't parse the URL correctly until the anchor is actually\n  // added to the body, and an innerHTML is needed to trigger the parsing\n  addToBody = (a.host === '' && a.protocol !== 'file:');\n  if (addToBody) {\n    div = vjs.createEl('div');\n    div.innerHTML = '<a href=\"'+url+'\"></a>';\n    a = div.firstChild;\n    // prevent the div from affecting layout\n    div.setAttribute('style', 'display:none; position:absolute;');\n    document.body.appendChild(div);\n  }\n\n  // Copy the specific URL properties to a new object\n  // This is also needed for IE8 because the anchor loses its\n  // properties when it's removed from the dom\n  details = {};\n  for (var i = 0; i < props.length; i++) {\n    details[props[i]] = a[props[i]];\n  }\n\n  // IE9 adds the port to the host property unlike everyone else. If\n  // a port identifier is added for standard ports, strip it.\n  if (details.protocol === 'http:') {\n    details.host = details.host.replace(/:80$/, '');\n  }\n  if (details.protocol === 'https:') {\n    details.host = details.host.replace(/:443$/, '');\n  }\n\n  if (addToBody) {\n    document.body.removeChild(div);\n  }\n\n  return details;\n};\n\n/**\n * Log messages to the console and history based on the type of message\n *\n * @param  {String} type The type of message, or `null` for `log`\n * @param  {[type]} args The args to be passed to the log\n * @private\n */\nfunction _logType(type, args){\n  var argsArray, noop, console;\n\n  // convert args to an array to get array functions\n  argsArray = Array.prototype.slice.call(args);\n  // if there's no console then don't try to output messages\n  // they will still be stored in vjs.log.history\n  // Was setting these once outside of this function, but containing them\n  // in the function makes it easier to test cases where console doesn't exist\n  noop = function(){};\n  console = window['console'] || {\n    'log': noop,\n    'warn': noop,\n    'error': noop\n  };\n\n  if (type) {\n    // add the type to the front of the message\n    argsArray.unshift(type.toUpperCase()+':');\n  } else {\n    // default to log with no prefix\n    type = 'log';\n  }\n\n  // add to history\n  vjs.log.history.push(argsArray);\n\n  // add console prefix after adding to history\n  argsArray.unshift('VIDEOJS:');\n\n  // call appropriate log function\n  if (console[type].apply) {\n    console[type].apply(console, argsArray);\n  } else {\n    // ie8 doesn't allow error.apply, but it will just join() the array anyway\n    console[type](argsArray.join(' '));\n  }\n}\n\n/**\n * Log plain debug messages\n */\nvjs.log = function(){\n  _logType(null, arguments);\n};\n\n/**\n * Keep a history of log messages\n * @type {Array}\n */\nvjs.log.history = [];\n\n/**\n * Log error messages\n */\nvjs.log.error = function(){\n  _logType('error', arguments);\n};\n\n/**\n * Log warning messages\n */\nvjs.log.warn = function(){\n  _logType('warn', arguments);\n};\n\n// Offset Left\n// getBoundingClientRect technique from John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\nvjs.findPosition = function(el) {\n  var box, docEl, body, clientLeft, scrollLeft, left, clientTop, scrollTop, top;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  docEl = document.documentElement;\n  body = document.body;\n\n  clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  scrollLeft = window.pageXOffset || body.scrollLeft;\n  left = box.left + scrollLeft - clientLeft;\n\n  clientTop = docEl.clientTop || body.clientTop || 0;\n  scrollTop = window.pageYOffset || body.scrollTop;\n  top = box.top + scrollTop - clientTop;\n\n  // Android sometimes returns slightly off decimal values, so need to round\n  return {\n    left: vjs.round(left),\n    top: vjs.round(top)\n  };\n};\n\n/**\n * Array functions container\n * @type {Object}\n * @private\n */\nvjs.arr = {};\n\n/*\n * Loops through an array and runs a function for each item inside it.\n * @param  {Array}    array       The array\n * @param  {Function} callback    The function to be run for each item\n * @param  {*}        thisArg     The `this` binding of callback\n * @returns {Array}               The array\n * @private\n */\nvjs.arr.forEach = function(array, callback, thisArg) {\n  if (vjs.obj.isArray(array) && callback instanceof Function) {\n    for (var i = 0, len = array.length; i < len; ++i) {\n      callback.call(thisArg || vjs, array[i], i, array);\n    }\n  }\n\n  return array;\n};\n/**\n * Simple http request for retrieving external files (e.g. text tracks)\n *\n * ##### Example\n *\n *     // using url string\n *     videojs.xhr('http://example.com/myfile.vtt', function(error, response, responseBody){});\n *\n *     // or options block\n *     videojs.xhr({\n *       uri: 'http://example.com/myfile.vtt',\n *       method: 'GET',\n *       responseType: 'text'\n *     }, function(error, response, responseBody){\n *       if (error) {\n *         // log the error\n *       } else {\n *         // successful, do something with the response\n *       }\n *     });\n *\n *\n * API is modeled after the Raynos/xhr, which we hope to use after\n * getting browserify implemented.\n * https://github.com/Raynos/xhr/blob/master/index.js\n *\n * @param  {Object|String}  options   Options block or URL string\n * @param  {Function}       callback  The callback function\n * @returns {Object}                  The request\n */\nvjs.xhr = function(options, callback){\n  var XHR, request, urlInfo, winLoc, fileUrl, crossOrigin, abortTimeout, successHandler, errorHandler;\n\n  // If options is a string it's the url\n  if (typeof options === 'string') {\n    options = {\n      uri: options\n    };\n  }\n\n  // Merge with default options\n  videojs.util.mergeOptions({\n    method: 'GET',\n    timeout: 45 * 1000\n  }, options);\n\n  callback = callback || function(){};\n\n  successHandler = function(){\n    window.clearTimeout(abortTimeout);\n    callback(null, request, request.response || request.responseText);\n  };\n\n  errorHandler = function(err){\n    window.clearTimeout(abortTimeout);\n\n    if (!err || typeof err === 'string') {\n      err = new Error(err);\n    }\n\n    callback(err, request);\n  };\n\n  XHR = window.XMLHttpRequest;\n\n  if (typeof XHR === 'undefined') {\n    // Shim XMLHttpRequest for older IEs\n    XHR = function () {\n      try { return new window.ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch (e) {}\n      try { return new window.ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch (f) {}\n      try { return new window.ActiveXObject('Msxml2.XMLHTTP'); } catch (g) {}\n      throw new Error('This browser does not support XMLHttpRequest.');\n    };\n  }\n\n  request = new XHR();\n  // Store a reference to the url on the request instance\n  request.uri = options.uri;\n\n  urlInfo = vjs.parseUrl(options.uri);\n  winLoc = window.location;\n  // Check if url is for another domain/origin\n  // IE8 doesn't know location.origin, so we won't rely on it here\n  crossOrigin = (urlInfo.protocol + urlInfo.host) !== (winLoc.protocol + winLoc.host);\n\n  // XDomainRequest -- Use for IE if XMLHTTPRequest2 isn't available\n  // 'withCredentials' is only available in XMLHTTPRequest2\n  // Also XDomainRequest has a lot of gotchas, so only use if cross domain\n  if (crossOrigin && window.XDomainRequest && !('withCredentials' in request)) {\n    request = new window.XDomainRequest();\n    request.onload = successHandler;\n    request.onerror = errorHandler;\n    // These blank handlers need to be set to fix ie9\n    // http://cypressnorth.com/programming/internet-explorer-aborting-ajax-requests-fixed/\n    request.onprogress = function(){};\n    request.ontimeout = function(){};\n\n  // XMLHTTPRequest\n  } else {\n    fileUrl = (urlInfo.protocol == 'file:' || winLoc.protocol == 'file:');\n\n    request.onreadystatechange = function() {\n      if (request.readyState === 4) {\n        if (request.timedout) {\n          return errorHandler('timeout');\n        }\n\n        if (request.status === 200 || fileUrl && request.status === 0) {\n          successHandler();\n        } else {\n          errorHandler();\n        }\n      }\n    };\n\n    if (options.timeout) {\n      abortTimeout = window.setTimeout(function() {\n        if (request.readyState !== 4) {\n          request.timedout = true;\n          request.abort();\n        }\n      }, options.timeout);\n    }\n  }\n\n  // open the connection\n  try {\n    // Third arg is async, or ignored by XDomainRequest\n    request.open(options.method || 'GET', options.uri, true);\n  } catch(err) {\n    return errorHandler(err);\n  }\n\n  // withCredentials only supported by XMLHttpRequest2\n  if(options.withCredentials) {\n    request.withCredentials = true;\n  }\n\n  if (options.responseType) {\n    request.responseType = options.responseType;\n  }\n\n  // send the request\n  try {\n    request.send();\n  } catch(err) {\n    return errorHandler(err);\n  }\n\n  return request;\n};\n/**\n * Utility functions namespace\n * @namespace\n * @type {Object}\n */\nvjs.util = {};\n\n/**\n * Merge two options objects, recursively merging any plain object properties as\n * well.  Previously `deepMerge`\n *\n * @param  {Object} obj1 Object to override values in\n * @param  {Object} obj2 Overriding object\n * @return {Object}      New object -- obj1 and obj2 will be untouched\n */\nvjs.util.mergeOptions = function(obj1, obj2){\n  var key, val1, val2;\n\n  // make a copy of obj1 so we're not overwriting original values.\n  // like prototype.options_ and all sub options objects\n  obj1 = vjs.obj.copy(obj1);\n\n  for (key in obj2){\n    if (obj2.hasOwnProperty(key)) {\n      val1 = obj1[key];\n      val2 = obj2[key];\n\n      // Check if both properties are pure objects and do a deep merge if so\n      if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {\n        obj1[key] = vjs.util.mergeOptions(val1, val2);\n      } else {\n        obj1[key] = obj2[key];\n      }\n    }\n  }\n  return obj1;\n};vjs.EventEmitter = function() {\n};\n\nvjs.EventEmitter.prototype.allowedEvents_ = {\n};\n\nvjs.EventEmitter.prototype.on = function(type, fn) {\n  // Remove the addEventListener alias before calling vjs.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n  this.addEventListener = Function.prototype;\n  vjs.on(this, type, fn);\n  this.addEventListener = ael;\n};\nvjs.EventEmitter.prototype.addEventListener = vjs.EventEmitter.prototype.on;\n\nvjs.EventEmitter.prototype.off = function(type, fn) {\n  vjs.off(this, type, fn);\n};\nvjs.EventEmitter.prototype.removeEventListener = vjs.EventEmitter.prototype.off;\n\nvjs.EventEmitter.prototype.one = function(type, fn) {\n  vjs.one(this, type, fn);\n};\n\nvjs.EventEmitter.prototype.trigger = function(event) {\n  var type = event.type || event;\n\n  if (typeof event === 'string') {\n    event = {\n      type: type\n    };\n  }\n  event = vjs.fixEvent(event);\n\n  if (this.allowedEvents_[type] && this['on' + type]) {\n    this['on' + type](event);\n  }\n\n  vjs.trigger(this, event);\n};\n// The standard DOM EventTarget.dispatchEvent() is aliased to trigger()\nvjs.EventEmitter.prototype.dispatchEvent = vjs.EventEmitter.prototype.trigger;\n/**\n * @fileoverview Player Component - Base class for all UI objects\n *\n */\n\n/**\n * Base UI Component class\n *\n * Components are embeddable UI objects that are represented by both a\n * javascript object and an element in the DOM. They can be children of other\n * components, and can have many children themselves.\n *\n *     // adding a button to the player\n *     var button = player.addChild('button');\n *     button.el(); // -> button element\n *\n *     <div class=\"video-js\">\n *       <div class=\"vjs-button\">Button</div>\n *     </div>\n *\n * Components are also event emitters.\n *\n *     button.on('click', function(){\n *       console.log('Button Clicked!');\n *     });\n *\n *     button.trigger('customevent');\n *\n * @param {Object} player  Main Player\n * @param {Object=} options\n * @class\n * @constructor\n * @extends vjs.CoreObject\n */\nvjs.Component = vjs.CoreObject.extend({\n  /**\n   * the constructor function for the class\n   *\n   * @constructor\n   */\n  init: function(player, options, ready){\n    this.player_ = player;\n\n    // Make a copy of prototype.options_ to protect against overriding global defaults\n    this.options_ = vjs.obj.copy(this.options_);\n\n    // Updated options with supplied options\n    options = this.options(options);\n\n    // Get ID from options or options element if one is supplied\n    this.id_ = options['id'] || (options['el'] && options['el']['id']);\n\n    // If there was no ID from the options, generate one\n    if (!this.id_) {\n      // Don't require the player ID function in the case of mock players\n      this.id_ = ((player.id && player.id()) || 'no_player') + '_component_' + vjs.guid++;\n    }\n\n    this.name_ = options['name'] || null;\n\n    // Create element if one wasn't provided in options\n    this.el_ = options['el'] || this.createEl();\n\n    this.children_ = [];\n    this.childIndex_ = {};\n    this.childNameIndex_ = {};\n\n    // Add any child components in options\n    this.initChildren();\n\n    this.ready(ready);\n    // Don't want to trigger ready here or it will before init is actually\n    // finished for all children that run this constructor\n\n    if (options.reportTouchActivity !== false) {\n      this.enableTouchActivity();\n    }\n  }\n});\n\n/**\n * Dispose of the component and all child components\n */\nvjs.Component.prototype.dispose = function(){\n  this.trigger({ type: 'dispose', 'bubbles': false });\n\n  // Dispose all children.\n  if (this.children_) {\n    for (var i = this.children_.length - 1; i >= 0; i--) {\n      if (this.children_[i].dispose) {\n        this.children_[i].dispose();\n      }\n    }\n  }\n\n  // Delete child references\n  this.children_ = null;\n  this.childIndex_ = null;\n  this.childNameIndex_ = null;\n\n  // Remove all event listeners.\n  this.off();\n\n  // Remove element from DOM\n  if (this.el_.parentNode) {\n    this.el_.parentNode.removeChild(this.el_);\n  }\n\n  vjs.removeData(this.el_);\n  this.el_ = null;\n};\n\n/**\n * Reference to main player instance\n *\n * @type {vjs.Player}\n * @private\n */\nvjs.Component.prototype.player_ = true;\n\n/**\n * Return the component's player\n *\n * @return {vjs.Player}\n */\nvjs.Component.prototype.player = function(){\n  return this.player_;\n};\n\n/**\n * The component's options object\n *\n * @type {Object}\n * @private\n */\nvjs.Component.prototype.options_;\n\n/**\n * Deep merge of options objects\n *\n * Whenever a property is an object on both options objects\n * the two properties will be merged using vjs.obj.deepMerge.\n *\n * This is used for merging options for child components. We\n * want it to be easy to override individual options on a child\n * component without having to rewrite all the other default options.\n *\n *     Parent.prototype.options_ = {\n *       children: {\n *         'childOne': { 'foo': 'bar', 'asdf': 'fdsa' },\n *         'childTwo': {},\n *         'childThree': {}\n *       }\n *     }\n *     newOptions = {\n *       children: {\n *         'childOne': { 'foo': 'baz', 'abc': '123' }\n *         'childTwo': null,\n *         'childFour': {}\n *       }\n *     }\n *\n *     this.options(newOptions);\n *\n * RESULT\n *\n *     {\n *       children: {\n *         'childOne': { 'foo': 'baz', 'asdf': 'fdsa', 'abc': '123' },\n *         'childTwo': null, // Disabled. Won't be initialized.\n *         'childThree': {},\n *         'childFour': {}\n *       }\n *     }\n *\n * @param  {Object} obj Object of new option values\n * @return {Object}     A NEW object of this.options_ and obj merged\n */\nvjs.Component.prototype.options = function(obj){\n  if (obj === undefined) return this.options_;\n\n  return this.options_ = vjs.util.mergeOptions(this.options_, obj);\n};\n\n/**\n * The DOM element for the component\n *\n * @type {Element}\n * @private\n */\nvjs.Component.prototype.el_;\n\n/**\n * Create the component's DOM element\n *\n * @param  {String=} tagName  Element's node type. e.g. 'div'\n * @param  {Object=} attributes An object of element attributes that should be set on the element\n * @return {Element}\n */\nvjs.Component.prototype.createEl = function(tagName, attributes){\n  return vjs.createEl(tagName, attributes);\n};\n\nvjs.Component.prototype.localize = function(string){\n  var lang = this.player_.language(),\n      languages = this.player_.languages();\n  if (languages && languages[lang] && languages[lang][string]) {\n    return languages[lang][string];\n  }\n  return string;\n};\n\n/**\n * Get the component's DOM element\n *\n *     var domEl = myComponent.el();\n *\n * @return {Element}\n */\nvjs.Component.prototype.el = function(){\n  return this.el_;\n};\n\n/**\n * An optional element where, if defined, children will be inserted instead of\n * directly in `el_`\n *\n * @type {Element}\n * @private\n */\nvjs.Component.prototype.contentEl_;\n\n/**\n * Return the component's DOM element for embedding content.\n * Will either be el_ or a new element defined in createEl.\n *\n * @return {Element}\n */\nvjs.Component.prototype.contentEl = function(){\n  return this.contentEl_ || this.el_;\n};\n\n/**\n * The ID for the component\n *\n * @type {String}\n * @private\n */\nvjs.Component.prototype.id_;\n\n/**\n * Get the component's ID\n *\n *     var id = myComponent.id();\n *\n * @return {String}\n */\nvjs.Component.prototype.id = function(){\n  return this.id_;\n};\n\n/**\n * The name for the component. Often used to reference the component.\n *\n * @type {String}\n * @private\n */\nvjs.Component.prototype.name_;\n\n/**\n * Get the component's name. The name is often used to reference the component.\n *\n *     var name = myComponent.name();\n *\n * @return {String}\n */\nvjs.Component.prototype.name = function(){\n  return this.name_;\n};\n\n/**\n * Array of child components\n *\n * @type {Array}\n * @private\n */\nvjs.Component.prototype.children_;\n\n/**\n * Get an array of all child components\n *\n *     var kids = myComponent.children();\n *\n * @return {Array} The children\n */\nvjs.Component.prototype.children = function(){\n  return this.children_;\n};\n\n/**\n * Object of child components by ID\n *\n * @type {Object}\n * @private\n */\nvjs.Component.prototype.childIndex_;\n\n/**\n * Returns a child component with the provided ID\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.getChildById = function(id){\n  return this.childIndex_[id];\n};\n\n/**\n * Object of child components by name\n *\n * @type {Object}\n * @private\n */\nvjs.Component.prototype.childNameIndex_;\n\n/**\n * Returns a child component with the provided name\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.getChild = function(name){\n  return this.childNameIndex_[name];\n};\n\n/**\n * Adds a child component inside this component\n *\n *     myComponent.el();\n *     // -> <div class='my-component'></div>\n *     myComonent.children();\n *     // [empty array]\n *\n *     var myButton = myComponent.addChild('MyButton');\n *     // -> <div class='my-component'><div class=\"my-button\">myButton<div></div>\n *     // -> myButton === myComonent.children()[0];\n *\n * Pass in options for child constructors and options for children of the child\n *\n *     var myButton = myComponent.addChild('MyButton', {\n *       text: 'Press Me',\n *       children: {\n *         buttonChildExample: {\n *           buttonChildOption: true\n *         }\n *       }\n *     });\n *\n * @param {String|vjs.Component} child The class name or instance of a child to add\n * @param {Object=} options Options, including options to be passed to children of the child.\n * @return {vjs.Component} The child component (created by this process if a string was used)\n * @suppress {accessControls|checkRegExp|checkTypes|checkVars|const|constantProperty|deprecated|duplicate|es5Strict|fileoverviewTags|globalThis|invalidCasts|missingProperties|nonStandardJsDocs|strictModuleDepCheck|undefinedNames|undefinedVars|unknownDefines|uselessCode|visibility}\n */\nvjs.Component.prototype.addChild = function(child, options){\n  var component, componentClass, componentName;\n\n  // If child is a string, create new component with options\n  if (typeof child === 'string') {\n    componentName = child;\n\n    // Make sure options is at least an empty object to protect against errors\n    options = options || {};\n\n    // If no componentClass in options, assume componentClass is the name lowercased\n    // (e.g. playButton)\n    componentClass = options['componentClass'] || vjs.capitalize(componentName);\n\n    // Set name through options\n    options['name'] = componentName;\n\n    // Create a new object & element for this controls set\n    // If there's no .player_, this is a player\n    // Closure Compiler throws an 'incomplete alias' warning if we use the vjs variable directly.\n    // Every class should be exported, so this should never be a problem here.\n    component = new window['videojs'][componentClass](this.player_ || this, options);\n\n  // child is a component instance\n  } else {\n    component = child;\n  }\n\n  this.children_.push(component);\n\n  if (typeof component.id === 'function') {\n    this.childIndex_[component.id()] = component;\n  }\n\n  // If a name wasn't used to create the component, check if we can use the\n  // name function of the component\n  componentName = componentName || (component.name && component.name());\n\n  if (componentName) {\n    this.childNameIndex_[componentName] = component;\n  }\n\n  // Add the UI object's element to the container div (box)\n  // Having an element is not required\n  if (typeof component['el'] === 'function' && component['el']()) {\n    this.contentEl().appendChild(component['el']());\n  }\n\n  // Return so it can stored on parent object if desired.\n  return component;\n};\n\n/**\n * Remove a child component from this component's list of children, and the\n * child component's element from this component's element\n *\n * @param  {vjs.Component} component Component to remove\n */\nvjs.Component.prototype.removeChild = function(component){\n  if (typeof component === 'string') {\n    component = this.getChild(component);\n  }\n\n  if (!component || !this.children_) return;\n\n  var childFound = false;\n  for (var i = this.children_.length - 1; i >= 0; i--) {\n    if (this.children_[i] === component) {\n      childFound = true;\n      this.children_.splice(i,1);\n      break;\n    }\n  }\n\n  if (!childFound) return;\n\n  this.childIndex_[component.id()] = null;\n  this.childNameIndex_[component.name()] = null;\n\n  var compEl = component.el();\n  if (compEl && compEl.parentNode === this.contentEl()) {\n    this.contentEl().removeChild(component.el());\n  }\n};\n\n/**\n * Add and initialize default child components from options\n *\n *     // when an instance of MyComponent is created, all children in options\n *     // will be added to the instance by their name strings and options\n *     MyComponent.prototype.options_.children = {\n *       myChildComponent: {\n *         myChildOption: true\n *       }\n *     }\n *\n *     // Or when creating the component\n *     var myComp = new MyComponent(player, {\n *       children: {\n *         myChildComponent: {\n *           myChildOption: true\n *         }\n *       }\n *     });\n *\n * The children option can also be an Array of child names or\n * child options objects (that also include a 'name' key).\n *\n *     var myComp = new MyComponent(player, {\n *       children: [\n *         'button',\n *         {\n *           name: 'button',\n *           someOtherOption: true\n *         }\n *       ]\n *     });\n *\n */\nvjs.Component.prototype.initChildren = function(){\n  var parent, parentOptions, children, child, name, opts, handleAdd;\n\n  parent = this;\n  parentOptions = parent.options();\n  children = parentOptions['children'];\n\n  if (children) {\n    handleAdd = function(name, opts){\n      // Allow options for children to be set at the parent options\n      // e.g. videojs(id, { controlBar: false });\n      // instead of videojs(id, { children: { controlBar: false });\n      if (parentOptions[name] !== undefined) {\n        opts = parentOptions[name];\n      }\n\n      // Allow for disabling default components\n      // e.g. vjs.options['children']['posterImage'] = false\n      if (opts === false) return;\n\n      // Create and add the child component.\n      // Add a direct reference to the child by name on the parent instance.\n      // If two of the same component are used, different names should be supplied\n      // for each\n      parent[name] = parent.addChild(name, opts);\n    };\n\n    // Allow for an array of children details to passed in the options\n    if (vjs.obj.isArray(children)) {\n      for (var i = 0; i < children.length; i++) {\n        child = children[i];\n\n        if (typeof child == 'string') {\n          // ['myComponent']\n          name = child;\n          opts = {};\n        } else {\n          // [{ name: 'myComponent', otherOption: true }]\n          name = child.name;\n          opts = child;\n        }\n\n        handleAdd(name, opts);\n      }\n    } else {\n      vjs.obj.each(children, handleAdd);\n    }\n  }\n};\n\n/**\n * Allows sub components to stack CSS class names\n *\n * @return {String} The constructed class name\n */\nvjs.Component.prototype.buildCSSClass = function(){\n    // Child classes can include a function that does:\n    // return 'CLASS NAME' + this._super();\n    return '';\n};\n\n/* Events\n============================================================================= */\n\n/**\n * Add an event listener to this component's element\n *\n *     var myFunc = function(){\n *       var myComponent = this;\n *       // Do something when the event is fired\n *     };\n *\n *     myComponent.on('eventType', myFunc);\n *\n * The context of myFunc will be myComponent unless previously bound.\n *\n * Alternatively, you can add a listener to another element or component.\n *\n *     myComponent.on(otherElement, 'eventName', myFunc);\n *     myComponent.on(otherComponent, 'eventName', myFunc);\n *\n * The benefit of using this over `vjs.on(otherElement, 'eventName', myFunc)`\n * and `otherComponent.on('eventName', myFunc)` is that this way the listeners\n * will be automatically cleaned up when either component is disposed.\n * It will also bind myComponent as the context of myFunc.\n *\n * **NOTE**: When using this on elements in the page other than window\n * and document (both permanent), if you remove the element from the DOM\n * you need to call `vjs.trigger(el, 'dispose')` on it to clean up\n * references to it and allow the browser to garbage collect it.\n *\n * @param  {String|vjs.Component} first   The event type or other component\n * @param  {Function|String}      second  The event handler or event type\n * @param  {Function}             third   The event handler\n * @return {vjs.Component}        self\n */\nvjs.Component.prototype.on = function(first, second, third){\n  var target, type, fn, removeOnDispose, cleanRemover, thisComponent;\n\n  if (typeof first === 'string' || vjs.obj.isArray(first)) {\n    vjs.on(this.el_, first, vjs.bind(this, second));\n\n  // Targeting another component or element\n  } else {\n    target = first;\n    type = second;\n    fn = vjs.bind(this, third);\n    thisComponent = this;\n\n    // When this component is disposed, remove the listener from the other component\n    removeOnDispose = function(){\n      thisComponent.off(target, type, fn);\n    };\n    // Use the same function ID so we can remove it later it using the ID\n    // of the original listener\n    removeOnDispose.guid = fn.guid;\n    this.on('dispose', removeOnDispose);\n\n    // If the other component is disposed first we need to clean the reference\n    // to the other component in this component's removeOnDispose listener\n    // Otherwise we create a memory leak.\n    cleanRemover = function(){\n      thisComponent.off('dispose', removeOnDispose);\n    };\n    // Add the same function ID so we can easily remove it later\n    cleanRemover.guid = fn.guid;\n\n    // Check if this is a DOM node\n    if (first.nodeName) {\n      // Add the listener to the other element\n      vjs.on(target, type, fn);\n      vjs.on(target, 'dispose', cleanRemover);\n\n    // Should be a component\n    // Not using `instanceof vjs.Component` because it makes mock players difficult\n    } else if (typeof first.on === 'function') {\n      // Add the listener to the other component\n      target.on(type, fn);\n      target.on('dispose', cleanRemover);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Remove an event listener from this component's element\n *\n *     myComponent.off('eventType', myFunc);\n *\n * If myFunc is excluded, ALL listeners for the event type will be removed.\n * If eventType is excluded, ALL listeners will be removed from the component.\n *\n * Alternatively you can use `off` to remove listeners that were added to other\n * elements or components using `myComponent.on(otherComponent...`.\n * In this case both the event type and listener function are REQUIRED.\n *\n *     myComponent.off(otherElement, 'eventType', myFunc);\n *     myComponent.off(otherComponent, 'eventType', myFunc);\n *\n * @param  {String=|vjs.Component}  first  The event type or other component\n * @param  {Function=|String}       second The listener function or event type\n * @param  {Function=}              third  The listener for other component\n * @return {vjs.Component}\n */\nvjs.Component.prototype.off = function(first, second, third){\n  var target, otherComponent, type, fn, otherEl;\n\n  if (!first || typeof first === 'string' || vjs.obj.isArray(first)) {\n    vjs.off(this.el_, first, second);\n  } else {\n    target = first;\n    type = second;\n    // Ensure there's at least a guid, even if the function hasn't been used\n    fn = vjs.bind(this, third);\n\n    // Remove the dispose listener on this component,\n    // which was given the same guid as the event listener\n    this.off('dispose', fn);\n\n    if (first.nodeName) {\n      // Remove the listener\n      vjs.off(target, type, fn);\n      // Remove the listener for cleaning the dispose listener\n      vjs.off(target, 'dispose', fn);\n    } else {\n      target.off(type, fn);\n      target.off('dispose', fn);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Add an event listener to be triggered only once and then removed\n *\n *     myComponent.one('eventName', myFunc);\n *\n * Alternatively you can add a listener to another element or component\n * that will be triggered only once.\n *\n *     myComponent.one(otherElement, 'eventName', myFunc);\n *     myComponent.one(otherComponent, 'eventName', myFunc);\n *\n * @param  {String|vjs.Component}  first   The event type or other component\n * @param  {Function|String}       second  The listener function or event type\n * @param  {Function=}             third   The listener function for other component\n * @return {vjs.Component}\n */\nvjs.Component.prototype.one = function(first, second, third) {\n  var target, type, fn, thisComponent, newFunc;\n\n  if (typeof first === 'string' || vjs.obj.isArray(first)) {\n    vjs.one(this.el_, first, vjs.bind(this, second));\n  } else {\n    target = first;\n    type = second;\n    fn = vjs.bind(this, third);\n    thisComponent = this;\n\n    newFunc = function(){\n      thisComponent.off(target, type, newFunc);\n      fn.apply(this, arguments);\n    };\n    // Keep the same function ID so we can remove it later\n    newFunc.guid = fn.guid;\n\n    this.on(target, type, newFunc);\n  }\n\n  return this;\n};\n\n/**\n * Trigger an event on an element\n *\n *     myComponent.trigger('eventName');\n *     myComponent.trigger({'type':'eventName'});\n *\n * @param  {Event|Object|String} event  A string (the type) or an event object with a type attribute\n * @return {vjs.Component}       self\n */\nvjs.Component.prototype.trigger = function(event){\n  vjs.trigger(this.el_, event);\n  return this;\n};\n\n/* Ready\n================================================================================ */\n/**\n * Is the component loaded\n * This can mean different things depending on the component.\n *\n * @private\n * @type {Boolean}\n */\nvjs.Component.prototype.isReady_;\n\n/**\n * Trigger ready as soon as initialization is finished\n *\n * Allows for delaying ready. Override on a sub class prototype.\n * If you set this.isReadyOnInitFinish_ it will affect all components.\n * Specially used when waiting for the Flash player to asynchronously load.\n *\n * @type {Boolean}\n * @private\n */\nvjs.Component.prototype.isReadyOnInitFinish_ = true;\n\n/**\n * List of ready listeners\n *\n * @type {Array}\n * @private\n */\nvjs.Component.prototype.readyQueue_;\n\n/**\n * Bind a listener to the component's ready state\n *\n * Different from event listeners in that if the ready event has already happened\n * it will trigger the function immediately.\n *\n * @param  {Function} fn Ready listener\n * @return {vjs.Component}\n */\nvjs.Component.prototype.ready = function(fn){\n  if (fn) {\n    if (this.isReady_) {\n      fn.call(this);\n    } else {\n      if (this.readyQueue_ === undefined) {\n        this.readyQueue_ = [];\n      }\n      this.readyQueue_.push(fn);\n    }\n  }\n  return this;\n};\n\n/**\n * Trigger the ready listeners\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.triggerReady = function(){\n  this.isReady_ = true;\n\n  var readyQueue = this.readyQueue_;\n\n  // Reset Ready Queue\n  this.readyQueue_ = [];\n\n  if (readyQueue && readyQueue.length > 0) {\n\n    for (var i = 0, j = readyQueue.length; i < j; i++) {\n      readyQueue[i].call(this);\n    }\n\n    // Allow for using event listeners also, in case you want to do something everytime a source is ready.\n    this.trigger('ready');\n  }\n};\n\n/* Display\n============================================================================= */\n\n/**\n * Check if a component's element has a CSS class name\n *\n * @param {String} classToCheck Classname to check\n * @return {vjs.Component}\n */\nvjs.Component.prototype.hasClass = function(classToCheck){\n  return vjs.hasClass(this.el_, classToCheck);\n};\n\n/**\n * Add a CSS class name to the component's element\n *\n * @param {String} classToAdd Classname to add\n * @return {vjs.Component}\n */\nvjs.Component.prototype.addClass = function(classToAdd){\n  vjs.addClass(this.el_, classToAdd);\n  return this;\n};\n\n/**\n * Remove a CSS class name from the component's element\n *\n * @param {String} classToRemove Classname to remove\n * @return {vjs.Component}\n */\nvjs.Component.prototype.removeClass = function(classToRemove){\n  vjs.removeClass(this.el_, classToRemove);\n  return this;\n};\n\n/**\n * Show the component element if hidden\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.show = function(){\n  this.removeClass('vjs-hidden');\n  return this;\n};\n\n/**\n * Hide the component element if currently showing\n *\n * @return {vjs.Component}\n */\nvjs.Component.prototype.hide = function(){\n  this.addClass('vjs-hidden');\n  return this;\n};\n\n/**\n * Lock an item in its visible state\n * To be used with fadeIn/fadeOut.\n *\n * @return {vjs.Component}\n * @private\n */\nvjs.Component.prototype.lockShowing = function(){\n  this.addClass('vjs-lock-showing');\n  return this;\n};\n\n/**\n * Unlock an item to be hidden\n * To be used with fadeIn/fadeOut.\n *\n * @return {vjs.Component}\n * @private\n */\nvjs.Component.prototype.unlockShowing = function(){\n  this.removeClass('vjs-lock-showing');\n  return this;\n};\n\n/**\n * Disable component by making it unshowable\n *\n * Currently private because we're moving towards more css-based states.\n * @private\n */\nvjs.Component.prototype.disable = function(){\n  this.hide();\n  this.show = function(){};\n};\n\n/**\n * Set or get the width of the component (CSS values)\n *\n * Setting the video tag dimension values only works with values in pixels.\n * Percent values will not work.\n * Some percents can be used, but width()/height() will return the number + %,\n * not the actual computed width/height.\n *\n * @param  {Number|String=} num   Optional width number\n * @param  {Boolean} skipListeners Skip the 'resize' event trigger\n * @return {vjs.Component} This component, when setting the width\n * @return {Number|String} The width, when getting\n */\nvjs.Component.prototype.width = function(num, skipListeners){\n  return this.dimension('width', num, skipListeners);\n};\n\n/**\n * Get or set the height of the component (CSS values)\n *\n * Setting the video tag dimension values only works with values in pixels.\n * Percent values will not work.\n * Some percents can be used, but width()/height() will return the number + %,\n * not the actual computed width/height.\n *\n * @param  {Number|String=} num     New component height\n * @param  {Boolean=} skipListeners Skip the resize event trigger\n * @return {vjs.Component} This component, when setting the height\n * @return {Number|String} The height, when getting\n */\nvjs.Component.prototype.height = function(num, skipListeners){\n  return this.dimension('height', num, skipListeners);\n};\n\n/**\n * Set both width and height at the same time\n *\n * @param  {Number|String} width\n * @param  {Number|String} height\n * @return {vjs.Component} The component\n */\nvjs.Component.prototype.dimensions = function(width, height){\n  // Skip resize listeners on width for optimization\n  return this.width(width, true).height(height);\n};\n\n/**\n * Get or set width or height\n *\n * This is the shared code for the width() and height() methods.\n * All for an integer, integer + 'px' or integer + '%';\n *\n * Known issue: Hidden elements officially have a width of 0. We're defaulting\n * to the style.width value and falling back to computedStyle which has the\n * hidden element issue. Info, but probably not an efficient fix:\n * http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/\n *\n * @param  {String} widthOrHeight  'width' or 'height'\n * @param  {Number|String=} num     New dimension\n * @param  {Boolean=} skipListeners Skip resize event trigger\n * @return {vjs.Component} The component if a dimension was set\n * @return {Number|String} The dimension if nothing was set\n * @private\n */\nvjs.Component.prototype.dimension = function(widthOrHeight, num, skipListeners){\n  if (num !== undefined) {\n    if (num === null || vjs.isNaN(num)) {\n      num = 0;\n    }\n\n    // Check if using css width/height (% or px) and adjust\n    if ((''+num).indexOf('%') !== -1 || (''+num).indexOf('px') !== -1) {\n      this.el_.style[widthOrHeight] = num;\n    } else if (num === 'auto') {\n      this.el_.style[widthOrHeight] = '';\n    } else {\n      this.el_.style[widthOrHeight] = num+'px';\n    }\n\n    // skipListeners allows us to avoid triggering the resize event when setting both width and height\n    if (!skipListeners) { this.trigger('resize'); }\n\n    // Return component\n    return this;\n  }\n\n  // Not setting a value, so getting it\n  // Make sure element exists\n  if (!this.el_) return 0;\n\n  // Get dimension value from style\n  var val = this.el_.style[widthOrHeight];\n  var pxIndex = val.indexOf('px');\n  if (pxIndex !== -1) {\n    // Return the pixel value with no 'px'\n    return parseInt(val.slice(0,pxIndex), 10);\n\n  // No px so using % or no style was set, so falling back to offsetWidth/height\n  // If component has display:none, offset will return 0\n  // TODO: handle display:none and no dimension style using px\n  } else {\n\n    return parseInt(this.el_['offset'+vjs.capitalize(widthOrHeight)], 10);\n\n    // ComputedStyle version.\n    // Only difference is if the element is hidden it will return\n    // the percent value (e.g. '100%'')\n    // instead of zero like offsetWidth returns.\n    // var val = vjs.getComputedStyleValue(this.el_, widthOrHeight);\n    // var pxIndex = val.indexOf('px');\n\n    // if (pxIndex !== -1) {\n    //   return val.slice(0, pxIndex);\n    // } else {\n    //   return val;\n    // }\n  }\n};\n\n/**\n * Fired when the width and/or height of the component changes\n * @event resize\n */\nvjs.Component.prototype.onResize;\n\n/**\n * Emit 'tap' events when touch events are supported\n *\n * This is used to support toggling the controls through a tap on the video.\n *\n * We're requiring them to be enabled because otherwise every component would\n * have this extra overhead unnecessarily, on mobile devices where extra\n * overhead is especially bad.\n * @private\n */\nvjs.Component.prototype.emitTapEvents = function(){\n  var touchStart, firstTouch, touchTime, couldBeTap, noTap,\n      xdiff, ydiff, touchDistance, tapMovementThreshold, touchTimeThreshold;\n\n  // Track the start time so we can determine how long the touch lasted\n  touchStart = 0;\n  firstTouch = null;\n\n  // Maximum movement allowed during a touch event to still be considered a tap\n  // Other popular libs use anywhere from 2 (hammer.js) to 15, so 10 seems like a nice, round number.\n  tapMovementThreshold = 10;\n\n  // The maximum length a touch can be while still being considered a tap\n  touchTimeThreshold = 200;\n\n  this.on('touchstart', function(event) {\n    // If more than one finger, don't consider treating this as a click\n    if (event.touches.length === 1) {\n      firstTouch = vjs.obj.copy(event.touches[0]);\n      // Record start time so we can detect a tap vs. \"touch and hold\"\n      touchStart = new Date().getTime();\n      // Reset couldBeTap tracking\n      couldBeTap = true;\n    }\n  });\n\n  this.on('touchmove', function(event) {\n    // If more than one finger, don't consider treating this as a click\n    if (event.touches.length > 1) {\n      couldBeTap = false;\n    } else if (firstTouch) {\n      // Some devices will throw touchmoves for all but the slightest of taps.\n      // So, if we moved only a small distance, this could still be a tap\n      xdiff = event.touches[0].pageX - firstTouch.pageX;\n      ydiff = event.touches[0].pageY - firstTouch.pageY;\n      touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n      if (touchDistance > tapMovementThreshold) {\n        couldBeTap = false;\n      }\n    }\n  });\n\n  noTap = function(){\n    couldBeTap = false;\n  };\n  // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n  this.on('touchleave', noTap);\n  this.on('touchcancel', noTap);\n\n  // When the touch ends, measure how long it took and trigger the appropriate\n  // event\n  this.on('touchend', function(event) {\n    firstTouch = null;\n    // Proceed only if the touchmove/leave/cancel event didn't happen\n    if (couldBeTap === true) {\n      // Measure how long the touch lasted\n      touchTime = new Date().getTime() - touchStart;\n      // Make sure the touch was less than the threshold to be considered a tap\n      if (touchTime < touchTimeThreshold) {\n        event.preventDefault(); // Don't let browser turn this into a click\n        this.trigger('tap');\n        // It may be good to copy the touchend event object and change the\n        // type to tap, if the other event properties aren't exact after\n        // vjs.fixEvent runs (e.g. event.target)\n      }\n    }\n  });\n};\n\n/**\n * Report user touch activity when touch events occur\n *\n * User activity is used to determine when controls should show/hide. It's\n * relatively simple when it comes to mouse events, because any mouse event\n * should show the controls. So we capture mouse events that bubble up to the\n * player and report activity when that happens.\n *\n * With touch events it isn't as easy. We can't rely on touch events at the\n * player level, because a tap (touchstart + touchend) on the video itself on\n * mobile devices is meant to turn controls off (and on). User activity is\n * checked asynchronously, so what could happen is a tap event on the video\n * turns the controls off, then the touchend event bubbles up to the player,\n * which if it reported user activity, would turn the controls right back on.\n * (We also don't want to completely block touch events from bubbling up)\n *\n * Also a touchmove, touch+hold, and anything other than a tap is not supposed\n * to turn the controls back on on a mobile device.\n *\n * Here we're setting the default component behavior to report user activity\n * whenever touch events happen, and this can be turned off by components that\n * want touch events to act differently.\n */\nvjs.Component.prototype.enableTouchActivity = function() {\n  var report, touchHolding, touchEnd;\n\n  // Don't continue if the root player doesn't support reporting user activity\n  if (!this.player().reportUserActivity) {\n    return;\n  }\n\n  // listener for reporting that the user is active\n  report = vjs.bind(this.player(), this.player().reportUserActivity);\n\n  this.on('touchstart', function() {\n    report();\n    // For as long as the they are touching the device or have their mouse down,\n    // we consider them active even if they're not moving their finger or mouse.\n    // So we want to continue to update that they are active\n    this.clearInterval(touchHolding);\n    // report at the same interval as activityCheck\n    touchHolding = this.setInterval(report, 250);\n  });\n\n  touchEnd = function(event) {\n    report();\n    // stop the interval that maintains activity if the touch is holding\n    this.clearInterval(touchHolding);\n  };\n\n  this.on('touchmove', report);\n  this.on('touchend', touchEnd);\n  this.on('touchcancel', touchEnd);\n};\n\n/**\n * Creates timeout and sets up disposal automatically.\n * @param {Function} fn The function to run after the timeout.\n * @param {Number} timeout Number of ms to delay before executing specified function.\n * @return {Number} Returns the timeout ID\n */\nvjs.Component.prototype.setTimeout = function(fn, timeout) {\n  fn = vjs.bind(this, fn);\n\n  // window.setTimeout would be preferable here, but due to some bizarre issue with Sinon and/or Phantomjs, we can't.\n  var timeoutId = setTimeout(fn, timeout);\n\n  var disposeFn = function() {\n    this.clearTimeout(timeoutId);\n  };\n\n  disposeFn.guid = 'vjs-timeout-'+ timeoutId;\n\n  this.on('dispose', disposeFn);\n\n  return timeoutId;\n};\n\n\n/**\n * Clears a timeout and removes the associated dispose listener\n * @param {Number} timeoutId The id of the timeout to clear\n * @return {Number} Returns the timeout ID\n */\nvjs.Component.prototype.clearTimeout = function(timeoutId) {\n  clearTimeout(timeoutId);\n\n  var disposeFn = function(){};\n  disposeFn.guid = 'vjs-timeout-'+ timeoutId;\n\n  this.off('dispose', disposeFn);\n\n  return timeoutId;\n};\n\n/**\n * Creates an interval and sets up disposal automatically.\n * @param {Function} fn The function to run every N seconds.\n * @param {Number} interval Number of ms to delay before executing specified function.\n * @return {Number} Returns the interval ID\n */\nvjs.Component.prototype.setInterval = function(fn, interval) {\n  fn = vjs.bind(this, fn);\n\n  var intervalId = setInterval(fn, interval);\n\n  var disposeFn = function() {\n    this.clearInterval(intervalId);\n  };\n\n  disposeFn.guid = 'vjs-interval-'+ intervalId;\n\n  this.on('dispose', disposeFn);\n\n  return intervalId;\n};\n\n/**\n * Clears an interval and removes the associated dispose listener\n * @param {Number} intervalId The id of the interval to clear\n * @return {Number} Returns the interval ID\n */\nvjs.Component.prototype.clearInterval = function(intervalId) {\n  clearInterval(intervalId);\n\n  var disposeFn = function(){};\n  disposeFn.guid = 'vjs-interval-'+ intervalId;\n\n  this.off('dispose', disposeFn);\n\n  return intervalId;\n};\n/* Button - Base class for all buttons\n================================================================================ */\n/**\n * Base class for all buttons\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.Button = vjs.Component.extend({\n  /**\n   * @constructor\n   * @inheritDoc\n   */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.emitTapEvents();\n\n    this.on('tap', this.onClick);\n    this.on('click', this.onClick);\n    this.on('focus', this.onFocus);\n    this.on('blur', this.onBlur);\n  }\n});\n\nvjs.Button.prototype.createEl = function(type, props){\n  var el;\n\n  // Add standard Aria and Tabindex info\n  props = vjs.obj.merge({\n    className: this.buildCSSClass(),\n    'role': 'button',\n    'aria-live': 'polite', // let the screen reader user know that the text of the button may change\n    tabIndex: 0\n  }, props);\n\n  el = vjs.Component.prototype.createEl.call(this, type, props);\n\n  // if innerHTML hasn't been overridden (bigPlayButton), add content elements\n  if (!props.innerHTML) {\n    this.contentEl_ = vjs.createEl('div', {\n      className: 'vjs-control-content'\n    });\n\n    this.controlText_ = vjs.createEl('span', {\n      className: 'vjs-control-text',\n      innerHTML: this.localize(this.buttonText) || 'Need Text'\n    });\n\n    this.contentEl_.appendChild(this.controlText_);\n    el.appendChild(this.contentEl_);\n  }\n\n  return el;\n};\n\nvjs.Button.prototype.buildCSSClass = function(){\n  // TODO: Change vjs-control to vjs-button?\n  return 'vjs-control ' + vjs.Component.prototype.buildCSSClass.call(this);\n};\n\n  // Click - Override with specific functionality for button\nvjs.Button.prototype.onClick = function(){};\n\n  // Focus - Add keyboard functionality to element\nvjs.Button.prototype.onFocus = function(){\n  vjs.on(document, 'keydown', vjs.bind(this, this.onKeyPress));\n};\n\n  // KeyPress (document level) - Trigger click when keys are pressed\nvjs.Button.prototype.onKeyPress = function(event){\n  // Check for space bar (32) or enter (13) keys\n  if (event.which == 32 || event.which == 13) {\n    event.preventDefault();\n    this.onClick();\n  }\n};\n\n// Blur - Remove keyboard triggers\nvjs.Button.prototype.onBlur = function(){\n  vjs.off(document, 'keydown', vjs.bind(this, this.onKeyPress));\n};\n/* Slider\n================================================================================ */\n/**\n * The base functionality for sliders like the volume bar and seek bar\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.Slider = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // Set property names to bar and handle to match with the child Slider class is looking for\n    this.bar = this.getChild(this.options_['barName']);\n    this.handle = this.getChild(this.options_['handleName']);\n\n    this.on('mousedown', this.onMouseDown);\n    this.on('touchstart', this.onMouseDown);\n    this.on('focus', this.onFocus);\n    this.on('blur', this.onBlur);\n    this.on('click', this.onClick);\n\n    this.on(player, 'controlsvisible', this.update);\n    this.on(player, this.playerEvent, this.update);\n  }\n});\n\nvjs.Slider.prototype.createEl = function(type, props) {\n  props = props || {};\n  // Add the slider element class to all sub classes\n  props.className = props.className + ' vjs-slider';\n  props = vjs.obj.merge({\n    'role': 'slider',\n    'aria-valuenow': 0,\n    'aria-valuemin': 0,\n    'aria-valuemax': 100,\n    tabIndex: 0\n  }, props);\n\n  return vjs.Component.prototype.createEl.call(this, type, props);\n};\n\nvjs.Slider.prototype.onMouseDown = function(event){\n  event.preventDefault();\n  vjs.blockTextSelection();\n  this.addClass('vjs-sliding');\n\n  this.on(document, 'mousemove', this.onMouseMove);\n  this.on(document, 'mouseup', this.onMouseUp);\n  this.on(document, 'touchmove', this.onMouseMove);\n  this.on(document, 'touchend', this.onMouseUp);\n\n  this.onMouseMove(event);\n};\n\n// To be overridden by a subclass\nvjs.Slider.prototype.onMouseMove = function(){};\n\nvjs.Slider.prototype.onMouseUp = function() {\n  vjs.unblockTextSelection();\n  this.removeClass('vjs-sliding');\n\n  this.off(document, 'mousemove', this.onMouseMove);\n  this.off(document, 'mouseup', this.onMouseUp);\n  this.off(document, 'touchmove', this.onMouseMove);\n  this.off(document, 'touchend', this.onMouseUp);\n\n  this.update();\n};\n\nvjs.Slider.prototype.update = function(){\n  // In VolumeBar init we have a setTimeout for update that pops and update to the end of the\n  // execution stack. The player is destroyed before then update will cause an error\n  if (!this.el_) return;\n\n  // If scrubbing, we could use a cached value to make the handle keep up with the user's mouse.\n  // On HTML5 browsers scrubbing is really smooth, but some flash players are slow, so we might want to utilize this later.\n  // var progress =  (this.player_.scrubbing) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\n  var barProgress,\n      progress = this.getPercent(),\n      handle = this.handle,\n      bar = this.bar;\n\n  // Protect against no duration and other division issues\n  if (typeof progress !== 'number' ||\n      progress !== progress ||\n      progress < 0 ||\n      progress === Infinity) {\n        progress = 0;\n  }\n\n  barProgress = progress;\n\n  // If there is a handle, we need to account for the handle in our calculation for progress bar\n  // so that it doesn't fall short of or extend past the handle.\n  if (handle) {\n\n    var box = this.el_,\n        boxWidth = box.offsetWidth,\n\n        handleWidth = handle.el().offsetWidth,\n\n        // The width of the handle in percent of the containing box\n        // In IE, widths may not be ready yet causing NaN\n        handlePercent = (handleWidth) ? handleWidth / boxWidth : 0,\n\n        // Get the adjusted size of the box, considering that the handle's center never touches the left or right side.\n        // There is a margin of half the handle's width on both sides.\n        boxAdjustedPercent = 1 - handlePercent,\n\n        // Adjust the progress that we'll use to set widths to the new adjusted box width\n        adjustedProgress = progress * boxAdjustedPercent;\n\n    // The bar does reach the left side, so we need to account for this in the bar's width\n    barProgress = adjustedProgress + (handlePercent / 2);\n\n    // Move the handle from the left based on the adjected progress\n    handle.el().style.left = vjs.round(adjustedProgress * 100, 2) + '%';\n  }\n\n  // Set the new bar width\n  if (bar) {\n    bar.el().style.width = vjs.round(barProgress * 100, 2) + '%';\n  }\n};\n\nvjs.Slider.prototype.calculateDistance = function(event){\n  var el, box, boxX, boxY, boxW, boxH, handle, pageX, pageY;\n\n  el = this.el_;\n  box = vjs.findPosition(el);\n  boxW = boxH = el.offsetWidth;\n  handle = this.handle;\n\n  if (this.options()['vertical']) {\n    boxY = box.top;\n\n    if (event.changedTouches) {\n      pageY = event.changedTouches[0].pageY;\n    } else {\n      pageY = event.pageY;\n    }\n\n    if (handle) {\n      var handleH = handle.el().offsetHeight;\n      // Adjusted X and Width, so handle doesn't go outside the bar\n      boxY = boxY + (handleH / 2);\n      boxH = boxH - handleH;\n    }\n\n    // Percent that the click is through the adjusted area\n    return Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH));\n\n  } else {\n    boxX = box.left;\n\n    if (event.changedTouches) {\n      pageX = event.changedTouches[0].pageX;\n    } else {\n      pageX = event.pageX;\n    }\n\n    if (handle) {\n      var handleW = handle.el().offsetWidth;\n\n      // Adjusted X and Width, so handle doesn't go outside the bar\n      boxX = boxX + (handleW / 2);\n      boxW = boxW - handleW;\n    }\n\n    // Percent that the click is through the adjusted area\n    return Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n  }\n};\n\nvjs.Slider.prototype.onFocus = function(){\n  this.on(document, 'keydown', this.onKeyPress);\n};\n\nvjs.Slider.prototype.onKeyPress = function(event){\n  if (event.which == 37 || event.which == 40) { // Left and Down Arrows\n    event.preventDefault();\n    this.stepBack();\n  } else if (event.which == 38 || event.which == 39) { // Up and Right Arrows\n    event.preventDefault();\n    this.stepForward();\n  }\n};\n\nvjs.Slider.prototype.onBlur = function(){\n  this.off(document, 'keydown', this.onKeyPress);\n};\n\n/**\n * Listener for click events on slider, used to prevent clicks\n *   from bubbling up to parent elements like button menus.\n * @param  {Object} event Event object\n */\nvjs.Slider.prototype.onClick = function(event){\n  event.stopImmediatePropagation();\n  event.preventDefault();\n};\n\n/**\n * SeekBar Behavior includes play progress bar, and seek handle\n * Needed so it can determine seek position based on handle position/size\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.SliderHandle = vjs.Component.extend();\n\n/**\n * Default value of the slider\n *\n * @type {Number}\n * @private\n */\nvjs.SliderHandle.prototype.defaultValue = 0;\n\n/** @inheritDoc */\nvjs.SliderHandle.prototype.createEl = function(type, props) {\n  props = props || {};\n  // Add the slider element class to all sub classes\n  props.className = props.className + ' vjs-slider-handle';\n  props = vjs.obj.merge({\n    innerHTML: '<span class=\"vjs-control-text\">'+this.defaultValue+'</span>'\n  }, props);\n\n  return vjs.Component.prototype.createEl.call(this, 'div', props);\n};\n/* Menu\n================================================================================ */\n/**\n * The Menu component is used to build pop up menus, including subtitle and\n * captions selection menus.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.Menu = vjs.Component.extend();\n\n/**\n * Add a menu item to the menu\n * @param {Object|String} component Component or component type to add\n */\nvjs.Menu.prototype.addItem = function(component){\n  this.addChild(component);\n  component.on('click', vjs.bind(this, function(){\n    this.unlockShowing();\n  }));\n};\n\n/** @inheritDoc */\nvjs.Menu.prototype.createEl = function(){\n  var contentElType = this.options().contentElType || 'ul';\n  this.contentEl_ = vjs.createEl(contentElType, {\n    className: 'vjs-menu-content'\n  });\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    append: this.contentEl_,\n    className: 'vjs-menu'\n  });\n  el.appendChild(this.contentEl_);\n\n  // Prevent clicks from bubbling up. Needed for Menu Buttons,\n  // where a click on the parent is significant\n  vjs.on(el, 'click', function(event){\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  });\n\n  return el;\n};\n\n/**\n * The component for a menu item. `<li>`\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.MenuItem = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n    this.selected(options['selected']);\n  }\n});\n\n/** @inheritDoc */\nvjs.MenuItem.prototype.createEl = function(type, props){\n  return vjs.Button.prototype.createEl.call(this, 'li', vjs.obj.merge({\n    className: 'vjs-menu-item',\n    innerHTML: this.localize(this.options_['label'])\n  }, props));\n};\n\n/**\n * Handle a click on the menu item, and set it to selected\n */\nvjs.MenuItem.prototype.onClick = function(){\n  this.selected(true);\n};\n\n/**\n * Set this menu item as selected or not\n * @param  {Boolean} selected\n */\nvjs.MenuItem.prototype.selected = function(selected){\n  if (selected) {\n    this.addClass('vjs-selected');\n    this.el_.setAttribute('aria-selected',true);\n  } else {\n    this.removeClass('vjs-selected');\n    this.el_.setAttribute('aria-selected',false);\n  }\n};\n\n\n/**\n * A button class with a popup menu\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.MenuButton = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.update();\n\n    this.on('keydown', this.onKeyPress);\n    this.el_.setAttribute('aria-haspopup', true);\n    this.el_.setAttribute('role', 'button');\n  }\n});\n\nvjs.MenuButton.prototype.update = function() {\n  var menu = this.createMenu();\n\n  if (this.menu) {\n    this.removeChild(this.menu);\n  }\n\n  this.menu = menu;\n  this.addChild(menu);\n\n  if (this.items && this.items.length === 0) {\n    this.hide();\n  } else if (this.items && this.items.length > 1) {\n    this.show();\n  }\n};\n\n/**\n * Track the state of the menu button\n * @type {Boolean}\n * @private\n */\nvjs.MenuButton.prototype.buttonPressed_ = false;\n\nvjs.MenuButton.prototype.createMenu = function(){\n  var menu = new vjs.Menu(this.player_);\n\n  // Add a title list item to the top\n  if (this.options().title) {\n    menu.contentEl().appendChild(vjs.createEl('li', {\n      className: 'vjs-menu-title',\n      innerHTML: vjs.capitalize(this.options().title),\n      tabindex: -1\n    }));\n  }\n\n  this.items = this['createItems']();\n\n  if (this.items) {\n    // Add menu items to the menu\n    for (var i = 0; i < this.items.length; i++) {\n      menu.addItem(this.items[i]);\n    }\n  }\n\n  return menu;\n};\n\n/**\n * Create the list of menu items. Specific to each subclass.\n */\nvjs.MenuButton.prototype.createItems = function(){};\n\n/** @inheritDoc */\nvjs.MenuButton.prototype.buildCSSClass = function(){\n  return this.className + ' vjs-menu-button ' + vjs.Button.prototype.buildCSSClass.call(this);\n};\n\n// Focus - Add keyboard functionality to element\n// This function is not needed anymore. Instead, the keyboard functionality is handled by\n// treating the button as triggering a submenu. When the button is pressed, the submenu\n// appears. Pressing the button again makes the submenu disappear.\nvjs.MenuButton.prototype.onFocus = function(){};\n// Can't turn off list display that we turned on with focus, because list would go away.\nvjs.MenuButton.prototype.onBlur = function(){};\n\nvjs.MenuButton.prototype.onClick = function(){\n  // When you click the button it adds focus, which will show the menu indefinitely.\n  // So we'll remove focus when the mouse leaves the button.\n  // Focus is needed for tab navigation.\n  this.one('mouseout', vjs.bind(this, function(){\n    this.menu.unlockShowing();\n    this.el_.blur();\n  }));\n  if (this.buttonPressed_){\n    this.unpressButton();\n  } else {\n    this.pressButton();\n  }\n};\n\nvjs.MenuButton.prototype.onKeyPress = function(event){\n\n  // Check for space bar (32) or enter (13) keys\n  if (event.which == 32 || event.which == 13) {\n    if (this.buttonPressed_){\n      this.unpressButton();\n    } else {\n      this.pressButton();\n    }\n    event.preventDefault();\n  // Check for escape (27) key\n  } else if (event.which == 27){\n    if (this.buttonPressed_){\n      this.unpressButton();\n    }\n    event.preventDefault();\n  }\n};\n\nvjs.MenuButton.prototype.pressButton = function(){\n  this.buttonPressed_ = true;\n  this.menu.lockShowing();\n  this.el_.setAttribute('aria-pressed', true);\n  if (this.items && this.items.length > 0) {\n    this.items[0].el().focus(); // set the focus to the title of the submenu\n  }\n};\n\nvjs.MenuButton.prototype.unpressButton = function(){\n  this.buttonPressed_ = false;\n  this.menu.unlockShowing();\n  this.el_.setAttribute('aria-pressed', false);\n};\n/**\n * Custom MediaError to mimic the HTML5 MediaError\n * @param {Number} code The media error code\n */\nvjs.MediaError = function(code){\n  if (typeof code === 'number') {\n    this.code = code;\n  } else if (typeof code === 'string') {\n    // default code is zero, so this is a custom error\n    this.message = code;\n  } else if (typeof code === 'object') { // object\n    vjs.obj.merge(this, code);\n  }\n\n  if (!this.message) {\n    this.message = vjs.MediaError.defaultMessages[this.code] || '';\n  }\n};\n\n/**\n * The error code that refers two one of the defined\n * MediaError types\n * @type {Number}\n */\nvjs.MediaError.prototype.code = 0;\n\n/**\n * An optional message to be shown with the error.\n * Message is not part of the HTML5 video spec\n * but allows for more informative custom errors.\n * @type {String}\n */\nvjs.MediaError.prototype.message = '';\n\n/**\n * An optional status code that can be set by plugins\n * to allow even more detail about the error.\n * For example the HLS plugin might provide the specific\n * HTTP status code that was returned when the error\n * occurred, then allowing a custom error overlay\n * to display more information.\n * @type {[type]}\n */\nvjs.MediaError.prototype.status = null;\n\nvjs.MediaError.errorTypes = [\n  'MEDIA_ERR_CUSTOM',            // = 0\n  'MEDIA_ERR_ABORTED',           // = 1\n  'MEDIA_ERR_NETWORK',           // = 2\n  'MEDIA_ERR_DECODE',            // = 3\n  'MEDIA_ERR_SRC_NOT_SUPPORTED', // = 4\n  'MEDIA_ERR_ENCRYPTED'          // = 5\n];\n\nvjs.MediaError.defaultMessages = {\n  1: 'You aborted the video playback',\n  2: 'A network error caused the video download to fail part-way.',\n  3: 'The video playback was aborted due to a corruption problem or because the video used features your browser did not support.',\n  4: 'The video could not be loaded, either because the server or network failed or because the format is not supported.',\n  5: 'The video is encrypted and we do not have the keys to decrypt it.'\n};\n\n// Add types as properties on MediaError\n// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\nfor (var errNum = 0; errNum < vjs.MediaError.errorTypes.length; errNum++) {\n  vjs.MediaError[vjs.MediaError.errorTypes[errNum]] = errNum;\n  // values should be accessible on both the class and instance\n  vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]] = errNum;\n}\n(function(){\n  var apiMap, specApi, browserApi, i;\n\n  /**\n   * Store the browser-specific methods for the fullscreen API\n   * @type {Object|undefined}\n   * @private\n   */\n  vjs.browser.fullscreenAPI;\n\n  // browser API methods\n  // map approach from Screenful.js - https://github.com/sindresorhus/screenfull.js\n  apiMap = [\n    // Spec: https://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html\n    [\n      'requestFullscreen',\n      'exitFullscreen',\n      'fullscreenElement',\n      'fullscreenEnabled',\n      'fullscreenchange',\n      'fullscreenerror'\n    ],\n    // WebKit\n    [\n      'webkitRequestFullscreen',\n      'webkitExitFullscreen',\n      'webkitFullscreenElement',\n      'webkitFullscreenEnabled',\n      'webkitfullscreenchange',\n      'webkitfullscreenerror'\n    ],\n    // Old WebKit (Safari 5.1)\n    [\n      'webkitRequestFullScreen',\n      'webkitCancelFullScreen',\n      'webkitCurrentFullScreenElement',\n      'webkitCancelFullScreen',\n      'webkitfullscreenchange',\n      'webkitfullscreenerror'\n    ],\n    // Mozilla\n    [\n      'mozRequestFullScreen',\n      'mozCancelFullScreen',\n      'mozFullScreenElement',\n      'mozFullScreenEnabled',\n      'mozfullscreenchange',\n      'mozfullscreenerror'\n    ],\n    // Microsoft\n    [\n      'msRequestFullscreen',\n      'msExitFullscreen',\n      'msFullscreenElement',\n      'msFullscreenEnabled',\n      'MSFullscreenChange',\n      'MSFullscreenError'\n    ]\n  ];\n\n  specApi = apiMap[0];\n\n  // determine the supported set of functions\n  for (i=0; i<apiMap.length; i++) {\n    // check for exitFullscreen function\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  }\n\n  // map the browser API names to the spec API names\n  // or leave vjs.browser.fullscreenAPI undefined\n  if (browserApi) {\n    vjs.browser.fullscreenAPI = {};\n\n    for (i=0; i<browserApi.length; i++) {\n      vjs.browser.fullscreenAPI[specApi[i]] = browserApi[i];\n    }\n  }\n\n})();\n/**\n * An instance of the `vjs.Player` class is created when any of the Video.js setup methods are used to initialize a video.\n *\n * ```js\n * var myPlayer = videojs('example_video_1');\n * ```\n *\n * In the following example, the `data-setup` attribute tells the Video.js library to create a player instance when the library is ready.\n *\n * ```html\n * <video id=\"example_video_1\" data-setup='{}' controls>\n *   <source src=\"my-source.mp4\" type=\"video/mp4\">\n * </video>\n * ```\n *\n * After an instance has been created it can be accessed globally using `Video('example_video_1')`.\n *\n * @class\n * @extends vjs.Component\n */\nvjs.Player = vjs.Component.extend({\n\n  /**\n   * player's constructor function\n   *\n   * @constructs\n   * @method init\n   * @param {Element} tag        The original video tag used for configuring options\n   * @param {Object=} options    Player options\n   * @param {Function=} ready    Ready callback function\n   */\n  init: function(tag, options, ready){\n    this.tag = tag; // Store the original tag used to set options\n\n    // Make sure tag ID exists\n    tag.id = tag.id || 'vjs_video_' + vjs.guid++;\n\n    // Store the tag attributes used to restore html5 element\n    this.tagAttributes = tag && vjs.getElementAttributes(tag);\n\n    // Set Options\n    // The options argument overrides options set in the video tag\n    // which overrides globally set options.\n    // This latter part coincides with the load order\n    // (tag must exist before Player)\n    options = vjs.obj.merge(this.getTagSettings(tag), options);\n\n    // Update Current Language\n    this.language_ = options['language'] || vjs.options['language'];\n\n    // Update Supported Languages\n    this.languages_ = options['languages'] || vjs.options['languages'];\n\n    // Cache for video property values.\n    this.cache_ = {};\n\n    // Set poster\n    this.poster_ = options['poster'] || '';\n\n    // Set controls\n    this.controls_ = !!options['controls'];\n    // Original tag settings stored in options\n    // now remove immediately so native controls don't flash.\n    // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n    tag.controls = false;\n\n    // we don't want the player to report touch activity on itself\n    // see enableTouchActivity in Component\n    options.reportTouchActivity = false;\n\n    // Set isAudio based on whether or not an audio tag was used\n    this.isAudio(this.tag.nodeName.toLowerCase() === 'audio');\n\n    // Run base component initializing with new options.\n    // Builds the element through createEl()\n    // Inits and embeds any child components in opts\n    vjs.Component.call(this, this, options, ready);\n\n    // Update controls className. Can't do this when the controls are initially\n    // set because the element doesn't exist yet.\n    if (this.controls()) {\n      this.addClass('vjs-controls-enabled');\n    } else {\n      this.addClass('vjs-controls-disabled');\n    }\n\n    if (this.isAudio()) {\n      this.addClass('vjs-audio');\n    }\n\n    // TODO: Make this smarter. Toggle user state between touching/mousing\n    // using events, since devices can have both touch and mouse events.\n    // if (vjs.TOUCH_ENABLED) {\n    //   this.addClass('vjs-touch-enabled');\n    // }\n\n    // Make player easily findable by ID\n    vjs.players[this.id_] = this;\n\n    if (options['plugins']) {\n      vjs.obj.each(options['plugins'], function(key, val){\n        this[key](val);\n      }, this);\n    }\n\n    this.listenForUserActivity();\n  }\n});\n\n/**\n * The player's stored language code\n *\n * @type {String}\n * @private\n */\nvjs.Player.prototype.language_;\n\n/**\n * The player's language code\n * @param  {String} languageCode  The locale string\n * @return {String}             The locale string when getting\n * @return {vjs.Player}         self, when setting\n */\nvjs.Player.prototype.language = function (languageCode) {\n  if (languageCode === undefined) {\n    return this.language_;\n  }\n\n  this.language_ = languageCode;\n  return this;\n};\n\n/**\n * The player's stored language dictionary\n *\n * @type {Object}\n * @private\n */\nvjs.Player.prototype.languages_;\n\nvjs.Player.prototype.languages = function(){\n  return this.languages_;\n};\n\n/**\n * Player instance options, surfaced using vjs.options\n * vjs.options = vjs.Player.prototype.options_\n * Make changes in vjs.options, not here.\n * All options should use string keys so they avoid\n * renaming by closure compiler\n * @type {Object}\n * @private\n */\nvjs.Player.prototype.options_ = vjs.options;\n\n/**\n * Destroys the video player and does any necessary cleanup\n *\n *     myPlayer.dispose();\n *\n * This is especially helpful if you are dynamically adding and removing videos\n * to/from the DOM.\n */\nvjs.Player.prototype.dispose = function(){\n  this.trigger('dispose');\n  // prevent dispose from being called twice\n  this.off('dispose');\n\n  // Kill reference to this player\n  vjs.players[this.id_] = null;\n  if (this.tag && this.tag['player']) { this.tag['player'] = null; }\n  if (this.el_ && this.el_['player']) { this.el_['player'] = null; }\n\n  if (this.tech) { this.tech.dispose(); }\n\n  // Component dispose\n  vjs.Component.prototype.dispose.call(this);\n};\n\nvjs.Player.prototype.getTagSettings = function(tag){\n  var tagOptions,\n      dataSetup,\n      options = {\n        'sources': [],\n        'tracks': []\n      };\n\n  tagOptions = vjs.getElementAttributes(tag);\n  dataSetup = tagOptions['data-setup'];\n\n  // Check if data-setup attr exists.\n  if (dataSetup !== null){\n    // Parse options JSON\n    // If empty string, make it a parsable json object.\n    vjs.obj.merge(tagOptions, vjs.JSON.parse(dataSetup || '{}'));\n  }\n\n  vjs.obj.merge(options, tagOptions);\n\n  // Get tag children settings\n  if (tag.hasChildNodes()) {\n    var children, child, childName, i, j;\n\n    children = tag.childNodes;\n\n    for (i=0,j=children.length; i<j; i++) {\n      child = children[i];\n      // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n      childName = child.nodeName.toLowerCase();\n      if (childName === 'source') {\n        options['sources'].push(vjs.getElementAttributes(child));\n      } else if (childName === 'track') {\n        options['tracks'].push(vjs.getElementAttributes(child));\n      }\n    }\n  }\n\n  return options;\n};\n\nvjs.Player.prototype.createEl = function(){\n  var\n    el = this.el_ = vjs.Component.prototype.createEl.call(this, 'div'),\n    tag = this.tag,\n    attrs;\n\n  // Remove width/height attrs from tag so CSS can make it 100% width/height\n  tag.removeAttribute('width');\n  tag.removeAttribute('height');\n\n  // Copy over all the attributes from the tag, including ID and class\n  // ID will now reference player box, not the video tag\n  attrs = vjs.getElementAttributes(tag);\n  vjs.obj.each(attrs, function(attr) {\n    // workaround so we don't totally break IE7\n    // http://stackoverflow.com/questions/3653444/css-styles-not-applied-on-dynamic-elements-in-internet-explorer-7\n    if (attr == 'class') {\n      el.className = attrs[attr];\n    } else {\n      el.setAttribute(attr, attrs[attr]);\n    }\n  });\n\n  // Update tag id/class for use as HTML5 playback tech\n  // Might think we should do this after embedding in container so .vjs-tech class\n  // doesn't flash 100% width/height, but class only applies with .video-js parent\n  tag.id += '_html5_api';\n  tag.className = 'vjs-tech';\n\n  // Make player findable on elements\n  tag['player'] = el['player'] = this;\n  // Default state of video is paused\n  this.addClass('vjs-paused');\n\n  // Make box use width/height of tag, or rely on default implementation\n  // Enforce with CSS since width/height attrs don't work on divs\n  this.width(this.options_['width'], true); // (true) Skip resize listener on load\n  this.height(this.options_['height'], true);\n\n  // vjs.insertFirst seems to cause the networkState to flicker from 3 to 2, so\n  // keep track of the original for later so we can know if the source originally failed\n  tag.initNetworkState_ = tag.networkState;\n\n  // Wrap video tag in div (el/box) container\n  if (tag.parentNode) {\n    tag.parentNode.insertBefore(el, tag);\n  }\n  vjs.insertFirst(tag, el); // Breaks iPhone, fixed in HTML5 setup.\n\n  // The event listeners need to be added before the children are added\n  // in the component init because the tech (loaded with mediaLoader) may\n  // fire events, like loadstart, that these events need to capture.\n  // Long term it might be better to expose a way to do this in component.init\n  // like component.initEventListeners() that runs between el creation and\n  // adding children\n  this.el_ = el;\n  this.on('loadstart', this.onLoadStart);\n  this.on('waiting', this.onWaiting);\n  this.on(['canplay', 'canplaythrough', 'playing', 'ended'], this.onWaitEnd);\n  this.on('seeking', this.onSeeking);\n  this.on('seeked', this.onSeeked);\n  this.on('ended', this.onEnded);\n  this.on('play', this.onPlay);\n  this.on('firstplay', this.onFirstPlay);\n  this.on('pause', this.onPause);\n  this.on('progress', this.onProgress);\n  this.on('durationchange', this.onDurationChange);\n  this.on('fullscreenchange', this.onFullscreenChange);\n\n  return el;\n};\n\n// /* Media Technology (tech)\n// ================================================================================ */\n// Load/Create an instance of playback technology including element and API methods\n// And append playback element in player div.\nvjs.Player.prototype.loadTech = function(techName, source){\n\n  // Pause and remove current playback technology\n  if (this.tech) {\n    this.unloadTech();\n  }\n\n  // get rid of the HTML5 video tag as soon as we are using another tech\n  if (techName !== 'Html5' && this.tag) {\n    vjs.Html5.disposeMediaElement(this.tag);\n    this.tag = null;\n  }\n\n  this.techName = techName;\n\n  // Turn off API access because we're loading a new tech that might load asynchronously\n  this.isReady_ = false;\n\n  var techReady = function(){\n    this.player_.triggerReady();\n  };\n\n  // Grab tech-specific options from player options and add source and parent element to use.\n  var techOptions = vjs.obj.merge({ 'source': source, 'parentEl': this.el_ }, this.options_[techName.toLowerCase()]);\n\n  if (source) {\n    this.currentType_ = source.type;\n    if (source.src == this.cache_.src && this.cache_.currentTime > 0) {\n      techOptions['startTime'] = this.cache_.currentTime;\n    }\n\n    this.cache_.src = source.src;\n  }\n\n  // Initialize tech instance\n  this.tech = new window['videojs'][techName](this, techOptions);\n\n  this.tech.ready(techReady);\n};\n\nvjs.Player.prototype.unloadTech = function(){\n  this.isReady_ = false;\n\n  this.tech.dispose();\n\n  this.tech = false;\n};\n\n// There's many issues around changing the size of a Flash (or other plugin) object.\n// First is a plugin reload issue in Firefox that has been around for 11 years: https://bugzilla.mozilla.org/show_bug.cgi?id=90268\n// Then with the new fullscreen API, Mozilla and webkit browsers will reload the flash object after going to fullscreen.\n// To get around this, we're unloading the tech, caching source and currentTime values, and reloading the tech once the plugin is resized.\n// reloadTech: function(betweenFn){\n//   vjs.log('unloadingTech')\n//   this.unloadTech();\n//   vjs.log('unloadedTech')\n//   if (betweenFn) { betweenFn.call(); }\n//   vjs.log('LoadingTech')\n//   this.loadTech(this.techName, { src: this.cache_.src })\n//   vjs.log('loadedTech')\n// },\n\n// /* Player event handlers (how the player reacts to certain events)\n// ================================================================================ */\n\n/**\n * Fired when the user agent begins looking for media data\n * @event loadstart\n */\nvjs.Player.prototype.onLoadStart = function() {\n  // TODO: Update to use `emptied` event instead. See #1277.\n\n  this.removeClass('vjs-ended');\n\n  // reset the error state\n  this.error(null);\n\n  // If it's already playing we want to trigger a firstplay event now.\n  // The firstplay event relies on both the play and loadstart events\n  // which can happen in any order for a new source\n  if (!this.paused()) {\n    this.trigger('firstplay');\n  } else {\n    // reset the hasStarted state\n    this.hasStarted(false);\n  }\n};\n\nvjs.Player.prototype.hasStarted_ = false;\n\nvjs.Player.prototype.hasStarted = function(hasStarted){\n  if (hasStarted !== undefined) {\n    // only update if this is a new value\n    if (this.hasStarted_ !== hasStarted) {\n      this.hasStarted_ = hasStarted;\n      if (hasStarted) {\n        this.addClass('vjs-has-started');\n        // trigger the firstplay event if this newly has played\n        this.trigger('firstplay');\n      } else {\n        this.removeClass('vjs-has-started');\n      }\n    }\n    return this;\n  }\n  return this.hasStarted_;\n};\n\n/**\n * Fired when the player has initial duration and dimension information\n * @event loadedmetadata\n */\nvjs.Player.prototype.onLoadedMetaData;\n\n/**\n * Fired when the player has downloaded data at the current playback position\n * @event loadeddata\n */\nvjs.Player.prototype.onLoadedData;\n\n/**\n * Fired when the player has finished downloading the source data\n * @event loadedalldata\n */\nvjs.Player.prototype.onLoadedAllData;\n\n/**\n * Fired whenever the media begins or resumes playback\n * @event play\n */\nvjs.Player.prototype.onPlay = function(){\n  this.removeClass('vjs-ended');\n  this.removeClass('vjs-paused');\n  this.addClass('vjs-playing');\n\n  // hide the poster when the user hits play\n  // https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play\n  this.hasStarted(true);\n};\n\n/**\n * Fired whenever the media begins waiting\n * @event waiting\n */\nvjs.Player.prototype.onWaiting = function(){\n  this.addClass('vjs-waiting');\n};\n\n/**\n * A handler for events that signal that waiting has ended\n * which is not consistent between browsers. See #1351\n * @private\n */\nvjs.Player.prototype.onWaitEnd = function(){\n  this.removeClass('vjs-waiting');\n};\n\n/**\n * Fired whenever the player is jumping to a new time\n * @event seeking\n */\nvjs.Player.prototype.onSeeking = function(){\n  this.addClass('vjs-seeking');\n};\n\n/**\n * Fired when the player has finished jumping to a new time\n * @event seeked\n */\nvjs.Player.prototype.onSeeked = function(){\n  this.removeClass('vjs-seeking');\n};\n\n/**\n * Fired the first time a video is played\n *\n * Not part of the HLS spec, and we're not sure if this is the best\n * implementation yet, so use sparingly. If you don't have a reason to\n * prevent playback, use `myPlayer.one('play');` instead.\n *\n * @event firstplay\n */\nvjs.Player.prototype.onFirstPlay = function(){\n    //If the first starttime attribute is specified\n    //then we will start at the given offset in seconds\n    if(this.options_['starttime']){\n      this.currentTime(this.options_['starttime']);\n    }\n\n    this.addClass('vjs-has-started');\n};\n\n/**\n * Fired whenever the media has been paused\n * @event pause\n */\nvjs.Player.prototype.onPause = function(){\n  this.removeClass('vjs-playing');\n  this.addClass('vjs-paused');\n};\n\n/**\n * Fired when the current playback position has changed\n *\n * During playback this is fired every 15-250 milliseconds, depending on the\n * playback technology in use.\n * @event timeupdate\n */\nvjs.Player.prototype.onTimeUpdate;\n\n/**\n * Fired while the user agent is downloading media data\n * @event progress\n */\nvjs.Player.prototype.onProgress = function(){\n  // Add custom event for when source is finished downloading.\n  if (this.bufferedPercent() == 1) {\n    this.trigger('loadedalldata');\n  }\n};\n\n/**\n * Fired when the end of the media resource is reached (currentTime == duration)\n * @event ended\n */\nvjs.Player.prototype.onEnded = function(){\n  this.addClass('vjs-ended');\n  if (this.options_['loop']) {\n    this.currentTime(0);\n    this.play();\n  } else if (!this.paused()) {\n    this.pause();\n  }\n};\n\n/**\n * Fired when the duration of the media resource is first known or changed\n * @event durationchange\n */\nvjs.Player.prototype.onDurationChange = function(){\n  // Allows for caching value instead of asking player each time.\n  // We need to get the techGet response and check for a value so we don't\n  // accidentally cause the stack to blow up.\n  var duration = this.techGet('duration');\n  if (duration) {\n    if (duration < 0) {\n      duration = Infinity;\n    }\n    this.duration(duration);\n    // Determine if the stream is live and propagate styles down to UI.\n    if (duration === Infinity) {\n      this.addClass('vjs-live');\n    } else {\n      this.removeClass('vjs-live');\n    }\n  }\n};\n\n/**\n * Fired when the volume changes\n * @event volumechange\n */\nvjs.Player.prototype.onVolumeChange;\n\n/**\n * Fired when the player switches in or out of fullscreen mode\n * @event fullscreenchange\n */\nvjs.Player.prototype.onFullscreenChange = function() {\n  if (this.isFullscreen()) {\n    this.addClass('vjs-fullscreen');\n  } else {\n    this.removeClass('vjs-fullscreen');\n  }\n};\n\n/**\n * Fired when an error occurs\n * @event error\n */\nvjs.Player.prototype.onError;\n\n// /* Player API\n// ================================================================================ */\n\n/**\n * Object for cached values.\n * @private\n */\nvjs.Player.prototype.cache_;\n\nvjs.Player.prototype.getCache = function(){\n  return this.cache_;\n};\n\n// Pass values to the playback tech\nvjs.Player.prototype.techCall = function(method, arg){\n  // If it's not ready yet, call method when it is\n  if (this.tech && !this.tech.isReady_) {\n    this.tech.ready(function(){\n      this[method](arg);\n    });\n\n  // Otherwise call method now\n  } else {\n    try {\n      this.tech[method](arg);\n    } catch(e) {\n      vjs.log(e);\n      throw e;\n    }\n  }\n};\n\n// Get calls can't wait for the tech, and sometimes don't need to.\nvjs.Player.prototype.techGet = function(method){\n  if (this.tech && this.tech.isReady_) {\n\n    // Flash likes to die and reload when you hide or reposition it.\n    // In these cases the object methods go away and we get errors.\n    // When that happens we'll catch the errors and inform tech that it's not ready any more.\n    try {\n      return this.tech[method]();\n    } catch(e) {\n      // When building additional tech libs, an expected method may not be defined yet\n      if (this.tech[method] === undefined) {\n        vjs.log('Video.js: ' + method + ' method not defined for '+this.techName+' playback technology.', e);\n      } else {\n        // When a method isn't available on the object it throws a TypeError\n        if (e.name == 'TypeError') {\n          vjs.log('Video.js: ' + method + ' unavailable on '+this.techName+' playback technology element.', e);\n          this.tech.isReady_ = false;\n        } else {\n          vjs.log(e);\n        }\n      }\n      throw e;\n    }\n  }\n\n  return;\n};\n\n/**\n * start media playback\n *\n *     myPlayer.play();\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.play = function(){\n  this.techCall('play');\n  return this;\n};\n\n/**\n * Pause the video playback\n *\n *     myPlayer.pause();\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.pause = function(){\n  this.techCall('pause');\n  return this;\n};\n\n/**\n * Check if the player is paused\n *\n *     var isPaused = myPlayer.paused();\n *     var isPlaying = !myPlayer.paused();\n *\n * @return {Boolean} false if the media is currently playing, or true otherwise\n */\nvjs.Player.prototype.paused = function(){\n  // The initial state of paused should be true (in Safari it's actually false)\n  return (this.techGet('paused') === false) ? false : true;\n};\n\n/**\n * Get or set the current time (in seconds)\n *\n *     // get\n *     var whereYouAt = myPlayer.currentTime();\n *\n *     // set\n *     myPlayer.currentTime(120); // 2 minutes into the video\n *\n * @param  {Number|String=} seconds The time to seek to\n * @return {Number}        The time in seconds, when not setting\n * @return {vjs.Player}    self, when the current time is set\n */\nvjs.Player.prototype.currentTime = function(seconds){\n  if (seconds !== undefined) {\n\n    this.techCall('setCurrentTime', seconds);\n\n    return this;\n  }\n\n  // cache last currentTime and return. default to 0 seconds\n  //\n  // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n  // currentTime when scrubbing, but may not provide much performance benefit afterall.\n  // Should be tested. Also something has to read the actual current time or the cache will\n  // never get updated.\n  return this.cache_.currentTime = (this.techGet('currentTime') || 0);\n};\n\n/**\n * Get the length in time of the video in seconds\n *\n *     var lengthOfVideo = myPlayer.duration();\n *\n * **NOTE**: The video must have started loading before the duration can be\n * known, and in the case of Flash, may not be known until the video starts\n * playing.\n *\n * @return {Number} The duration of the video in seconds\n */\nvjs.Player.prototype.duration = function(seconds){\n  if (seconds !== undefined) {\n\n    // cache the last set value for optimized scrubbing (esp. Flash)\n    this.cache_.duration = parseFloat(seconds);\n\n    return this;\n  }\n\n  if (this.cache_.duration === undefined) {\n    this.onDurationChange();\n  }\n\n  return this.cache_.duration || 0;\n};\n\n/**\n * Calculates how much time is left.\n *\n *     var timeLeft = myPlayer.remainingTime();\n *\n * Not a native video element function, but useful\n * @return {Number} The time remaining in seconds\n */\nvjs.Player.prototype.remainingTime = function(){\n  return this.duration() - this.currentTime();\n};\n\n// http://dev.w3.org/html5/spec/video.html#dom-media-buffered\n// Buffered returns a timerange object.\n// Kind of like an array of portions of the video that have been downloaded.\n\n/**\n * Get a TimeRange object with the times of the video that have been downloaded\n *\n * If you just want the percent of the video that's been downloaded,\n * use bufferedPercent.\n *\n *     // Number of different ranges of time have been buffered. Usually 1.\n *     numberOfRanges = bufferedTimeRange.length,\n *\n *     // Time in seconds when the first range starts. Usually 0.\n *     firstRangeStart = bufferedTimeRange.start(0),\n *\n *     // Time in seconds when the first range ends\n *     firstRangeEnd = bufferedTimeRange.end(0),\n *\n *     // Length in seconds of the first time range\n *     firstRangeLength = firstRangeEnd - firstRangeStart;\n *\n * @return {Object} A mock TimeRange object (following HTML spec)\n */\nvjs.Player.prototype.buffered = function(){\n  var buffered = this.techGet('buffered');\n\n  if (!buffered || !buffered.length) {\n    buffered = vjs.createTimeRange(0,0);\n  }\n\n  return buffered;\n};\n\n/**\n * Get the percent (as a decimal) of the video that's been downloaded\n *\n *     var howMuchIsDownloaded = myPlayer.bufferedPercent();\n *\n * 0 means none, 1 means all.\n * (This method isn't in the HTML5 spec, but it's very convenient)\n *\n * @return {Number} A decimal between 0 and 1 representing the percent\n */\nvjs.Player.prototype.bufferedPercent = function(){\n  var duration = this.duration(),\n      buffered = this.buffered(),\n      bufferedDuration = 0,\n      start, end;\n\n  if (!duration) {\n    return 0;\n  }\n\n  for (var i=0; i<buffered.length; i++){\n    start = buffered.start(i);\n    end   = buffered.end(i);\n\n    // buffered end can be bigger than duration by a very small fraction\n    if (end > duration) {\n      end = duration;\n    }\n\n    bufferedDuration += end - start;\n  }\n\n  return bufferedDuration / duration;\n};\n\n/**\n * Get the ending time of the last buffered time range\n *\n * This is used in the progress bar to encapsulate all time ranges.\n * @return {Number} The end of the last buffered time range\n */\nvjs.Player.prototype.bufferedEnd = function(){\n  var buffered = this.buffered(),\n      duration = this.duration(),\n      end = buffered.end(buffered.length-1);\n\n  if (end > duration) {\n    end = duration;\n  }\n\n  return end;\n};\n\n/**\n * Get or set the current volume of the media\n *\n *     // get\n *     var howLoudIsIt = myPlayer.volume();\n *\n *     // set\n *     myPlayer.volume(0.5); // Set volume to half\n *\n * 0 is off (muted), 1.0 is all the way up, 0.5 is half way.\n *\n * @param  {Number} percentAsDecimal The new volume as a decimal percent\n * @return {Number}                  The current volume, when getting\n * @return {vjs.Player}              self, when setting\n */\nvjs.Player.prototype.volume = function(percentAsDecimal){\n  var vol;\n\n  if (percentAsDecimal !== undefined) {\n    vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal))); // Force value to between 0 and 1\n    this.cache_.volume = vol;\n    this.techCall('setVolume', vol);\n    vjs.setLocalStorage('volume', vol);\n    return this;\n  }\n\n  // Default to 1 when returning current volume.\n  vol = parseFloat(this.techGet('volume'));\n  return (isNaN(vol)) ? 1 : vol;\n};\n\n\n/**\n * Get the current muted state, or turn mute on or off\n *\n *     // get\n *     var isVolumeMuted = myPlayer.muted();\n *\n *     // set\n *     myPlayer.muted(true); // mute the volume\n *\n * @param  {Boolean=} muted True to mute, false to unmute\n * @return {Boolean} True if mute is on, false if not, when getting\n * @return {vjs.Player} self, when setting mute\n */\nvjs.Player.prototype.muted = function(muted){\n  if (muted !== undefined) {\n    this.techCall('setMuted', muted);\n    return this;\n  }\n  return this.techGet('muted') || false; // Default to false\n};\n\n// Check if current tech can support native fullscreen\n// (e.g. with built in controls like iOS, so not our flash swf)\nvjs.Player.prototype.supportsFullScreen = function(){\n  return this.techGet('supportsFullScreen') || false;\n};\n\n/**\n * is the player in fullscreen\n * @type {Boolean}\n * @private\n */\nvjs.Player.prototype.isFullscreen_ = false;\n\n/**\n * Check if the player is in fullscreen mode\n *\n *     // get\n *     var fullscreenOrNot = myPlayer.isFullscreen();\n *\n *     // set\n *     myPlayer.isFullscreen(true); // tell the player it's in fullscreen\n *\n * NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n * property and instead document.fullscreenElement is used. But isFullscreen is\n * still a valuable property for internal player workings.\n *\n * @param  {Boolean=} isFS Update the player's fullscreen state\n * @return {Boolean} true if fullscreen, false if not\n * @return {vjs.Player} self, when setting\n */\nvjs.Player.prototype.isFullscreen = function(isFS){\n  if (isFS !== undefined) {\n    this.isFullscreen_ = !!isFS;\n    return this;\n  }\n  return this.isFullscreen_;\n};\n\n/**\n * Old naming for isFullscreen()\n * @deprecated for lowercase 's' version\n */\nvjs.Player.prototype.isFullScreen = function(isFS){\n  vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase \"s\")');\n  return this.isFullscreen(isFS);\n};\n\n/**\n * Increase the size of the video to full screen\n *\n *     myPlayer.requestFullscreen();\n *\n * In some browsers, full screen is not supported natively, so it enters\n * \"full window mode\", where the video fills the browser window.\n * In browsers and devices that support native full screen, sometimes the\n * browser's default controls will be shown, and not the Video.js custom skin.\n * This includes most mobile devices (iOS, Android) and older versions of\n * Safari.\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.requestFullscreen = function(){\n  var fsApi = vjs.browser.fullscreenAPI;\n\n  this.isFullscreen(true);\n\n  if (fsApi) {\n    // the browser supports going fullscreen at the element level so we can\n    // take the controls fullscreen as well as the video\n\n    // Trigger fullscreenchange event after change\n    // We have to specifically add this each time, and remove\n    // when canceling fullscreen. Otherwise if there's multiple\n    // players on a page, they would all be reacting to the same fullscreen\n    // events\n    vjs.on(document, fsApi['fullscreenchange'], vjs.bind(this, function(e){\n      this.isFullscreen(document[fsApi.fullscreenElement]);\n\n      // If cancelling fullscreen, remove event listener.\n      if (this.isFullscreen() === false) {\n        vjs.off(document, fsApi['fullscreenchange'], arguments.callee);\n      }\n\n      this.trigger('fullscreenchange');\n    }));\n\n    this.el_[fsApi.requestFullscreen]();\n\n  } else if (this.tech.supportsFullScreen()) {\n    // we can't take the video.js controls fullscreen but we can go fullscreen\n    // with native controls\n    this.techCall('enterFullScreen');\n  } else {\n    // fullscreen isn't supported so we'll just stretch the video element to\n    // fill the viewport\n    this.enterFullWindow();\n    this.trigger('fullscreenchange');\n  }\n\n  return this;\n};\n\n/**\n * Old naming for requestFullscreen\n * @deprecated for lower case 's' version\n */\nvjs.Player.prototype.requestFullScreen = function(){\n  vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase \"s\")');\n  return this.requestFullscreen();\n};\n\n\n/**\n * Return the video to its normal size after having been in full screen mode\n *\n *     myPlayer.exitFullscreen();\n *\n * @return {vjs.Player} self\n */\nvjs.Player.prototype.exitFullscreen = function(){\n  var fsApi = vjs.browser.fullscreenAPI;\n  this.isFullscreen(false);\n\n  // Check for browser element fullscreen support\n  if (fsApi) {\n    document[fsApi.exitFullscreen]();\n  } else if (this.tech.supportsFullScreen()) {\n   this.techCall('exitFullScreen');\n  } else {\n   this.exitFullWindow();\n   this.trigger('fullscreenchange');\n  }\n\n  return this;\n};\n\n/**\n * Old naming for exitFullscreen\n * @deprecated for exitFullscreen\n */\nvjs.Player.prototype.cancelFullScreen = function(){\n  vjs.log.warn('player.cancelFullScreen() has been deprecated, use player.exitFullscreen()');\n  return this.exitFullscreen();\n};\n\n// When fullscreen isn't supported we can stretch the video container to as wide as the browser will let us.\nvjs.Player.prototype.enterFullWindow = function(){\n  this.isFullWindow = true;\n\n  // Storing original doc overflow value to return to when fullscreen is off\n  this.docOrigOverflow = document.documentElement.style.overflow;\n\n  // Add listener for esc key to exit fullscreen\n  vjs.on(document, 'keydown', vjs.bind(this, this.fullWindowOnEscKey));\n\n  // Hide any scroll bars\n  document.documentElement.style.overflow = 'hidden';\n\n  // Apply fullscreen styles\n  vjs.addClass(document.body, 'vjs-full-window');\n\n  this.trigger('enterFullWindow');\n};\nvjs.Player.prototype.fullWindowOnEscKey = function(event){\n  if (event.keyCode === 27) {\n    if (this.isFullscreen() === true) {\n      this.exitFullscreen();\n    } else {\n      this.exitFullWindow();\n    }\n  }\n};\n\nvjs.Player.prototype.exitFullWindow = function(){\n  this.isFullWindow = false;\n  vjs.off(document, 'keydown', this.fullWindowOnEscKey);\n\n  // Unhide scroll bars.\n  document.documentElement.style.overflow = this.docOrigOverflow;\n\n  // Remove fullscreen styles\n  vjs.removeClass(document.body, 'vjs-full-window');\n\n  // Resize the box, controller, and poster to original sizes\n  // this.positionAll();\n  this.trigger('exitFullWindow');\n};\n\nvjs.Player.prototype.selectSource = function(sources){\n  // Loop through each playback technology in the options order\n  for (var i=0,j=this.options_['techOrder'];i<j.length;i++) {\n    var techName = vjs.capitalize(j[i]),\n        tech = window['videojs'][techName];\n\n    // Check if the current tech is defined before continuing\n    if (!tech) {\n      vjs.log.error('The \"' + techName + '\" tech is undefined. Skipped browser support check for that tech.');\n      continue;\n    }\n\n    // Check if the browser supports this technology\n    if (tech.isSupported()) {\n      // Loop through each source object\n      for (var a=0,b=sources;a<b.length;a++) {\n        var source = b[a];\n\n        // Check if source can be played with this technology\n        if (tech['canPlaySource'](source)) {\n          return { source: source, tech: techName };\n        }\n      }\n    }\n  }\n\n  return false;\n};\n\n/**\n * The source function updates the video source\n *\n * There are three types of variables you can pass as the argument.\n *\n * **URL String**: A URL to the the video file. Use this method if you are sure\n * the current playback technology (HTML5/Flash) can support the source you\n * provide. Currently only MP4 files can be used in both HTML5 and Flash.\n *\n *     myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n *\n * **Source Object (or element):** A javascript object containing information\n * about the source file. Use this method if you want the player to determine if\n * it can support the file using the type information.\n *\n *     myPlayer.src({ type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" });\n *\n * **Array of Source Objects:** To provide multiple versions of the source so\n * that it can be played using HTML5 across browsers you can use an array of\n * source objects. Video.js will detect which version is supported and load that\n * file.\n *\n *     myPlayer.src([\n *       { type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" },\n *       { type: \"video/webm\", src: \"http://www.example.com/path/to/video.webm\" },\n *       { type: \"video/ogg\", src: \"http://www.example.com/path/to/video.ogv\" }\n *     ]);\n *\n * @param  {String|Object|Array=} source The source URL, object, or array of sources\n * @return {String} The current video source when getting\n * @return {String} The player when setting\n */\nvjs.Player.prototype.src = function(source){\n  if (source === undefined) {\n    return this.techGet('src');\n  }\n\n  // case: Array of source objects to choose from and pick the best to play\n  if (vjs.obj.isArray(source)) {\n    this.sourceList_(source);\n\n  // case: URL String (http://myvideo...)\n  } else if (typeof source === 'string') {\n    // create a source object from the string\n    this.src({ src: source });\n\n  // case: Source object { src: '', type: '' ... }\n  } else if (source instanceof Object) {\n    // check if the source has a type and the loaded tech cannot play the source\n    // if there's no type we'll just try the current tech\n    if (source.type && !window['videojs'][this.techName]['canPlaySource'](source)) {\n      // create a source list with the current source and send through\n      // the tech loop to check for a compatible technology\n      this.sourceList_([source]);\n    } else {\n      this.cache_.src = source.src;\n      this.currentType_ = source.type || '';\n\n      // wait until the tech is ready to set the source\n      this.ready(function(){\n\n        // The setSource tech method was added with source handlers\n        // so older techs won't support it\n        // We need to check the direct prototype for the case where subclasses\n        // of the tech do not support source handlers\n        if (window['videojs'][this.techName].prototype.hasOwnProperty('setSource')) {\n          this.techCall('setSource', source);\n        } else {\n          this.techCall('src', source.src);\n        }\n\n        if (this.options_['preload'] == 'auto') {\n          this.load();\n        }\n\n        if (this.options_['autoplay']) {\n          this.play();\n        }\n      });\n    }\n  }\n\n  return this;\n};\n\n/**\n * Handle an array of source objects\n * @param  {[type]} sources Array of source objects\n * @private\n */\nvjs.Player.prototype.sourceList_ = function(sources){\n  var sourceTech = this.selectSource(sources);\n\n  if (sourceTech) {\n    if (sourceTech.tech === this.techName) {\n      // if this technology is already loaded, set the source\n      this.src(sourceTech.source);\n    } else {\n      // load this technology with the chosen source\n      this.loadTech(sourceTech.tech, sourceTech.source);\n    }\n  } else {\n    // We need to wrap this in a timeout to give folks a chance to add error event handlers\n    this.setTimeout( function() {\n      this.error({ code: 4, message: this.localize(this.options()['notSupportedMessage']) });\n    }, 0);\n\n    // we could not find an appropriate tech, but let's still notify the delegate that this is it\n    // this needs a better comment about why this is needed\n    this.triggerReady();\n  }\n};\n\n/**\n * Begin loading the src data.\n * @return {vjs.Player} Returns the player\n */\nvjs.Player.prototype.load = function(){\n  this.techCall('load');\n  return this;\n};\n\n/**\n * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n * Can be used in conjuction with `currentType` to assist in rebuilding the current source object.\n * @return {String} The current source\n */\nvjs.Player.prototype.currentSrc = function(){\n  return this.techGet('currentSrc') || this.cache_.src || '';\n};\n\n/**\n * Get the current source type e.g. video/mp4\n * This can allow you rebuild the current source object so that you could load the same\n * source and tech later\n * @return {String} The source MIME type\n */\nvjs.Player.prototype.currentType = function(){\n    return this.currentType_ || '';\n};\n\n/**\n * Get or set the preload attribute.\n * @return {String} The preload attribute value when getting\n * @return {vjs.Player} Returns the player when setting\n */\nvjs.Player.prototype.preload = function(value){\n  if (value !== undefined) {\n    this.techCall('setPreload', value);\n    this.options_['preload'] = value;\n    return this;\n  }\n  return this.techGet('preload');\n};\n\n/**\n * Get or set the autoplay attribute.\n * @return {String} The autoplay attribute value when getting\n * @return {vjs.Player} Returns the player when setting\n */\nvjs.Player.prototype.autoplay = function(value){\n  if (value !== undefined) {\n    this.techCall('setAutoplay', value);\n    this.options_['autoplay'] = value;\n    return this;\n  }\n  return this.techGet('autoplay', value);\n};\n\n/**\n * Get or set the loop attribute on the video element.\n * @return {String} The loop attribute value when getting\n * @return {vjs.Player} Returns the player when setting\n */\nvjs.Player.prototype.loop = function(value){\n  if (value !== undefined) {\n    this.techCall('setLoop', value);\n    this.options_['loop'] = value;\n    return this;\n  }\n  return this.techGet('loop');\n};\n\n/**\n * the url of the poster image source\n * @type {String}\n * @private\n */\nvjs.Player.prototype.poster_;\n\n/**\n * get or set the poster image source url\n *\n * ##### EXAMPLE:\n *\n *     // getting\n *     var currentPoster = myPlayer.poster();\n *\n *     // setting\n *     myPlayer.poster('http://example.com/myImage.jpg');\n *\n * @param  {String=} [src] Poster image source URL\n * @return {String} poster URL when getting\n * @return {vjs.Player} self when setting\n */\nvjs.Player.prototype.poster = function(src){\n  if (src === undefined) {\n    return this.poster_;\n  }\n\n  // The correct way to remove a poster is to set as an empty string\n  // other falsey values will throw errors\n  if (!src) {\n    src = '';\n  }\n\n  // update the internal poster variable\n  this.poster_ = src;\n\n  // update the tech's poster\n  this.techCall('setPoster', src);\n\n  // alert components that the poster has been set\n  this.trigger('posterchange');\n\n  return this;\n};\n\n/**\n * Whether or not the controls are showing\n * @type {Boolean}\n * @private\n */\nvjs.Player.prototype.controls_;\n\n/**\n * Get or set whether or not the controls are showing.\n * @param  {Boolean} controls Set controls to showing or not\n * @return {Boolean}    Controls are showing\n */\nvjs.Player.prototype.controls = function(bool){\n  if (bool !== undefined) {\n    bool = !!bool; // force boolean\n    // Don't trigger a change event unless it actually changed\n    if (this.controls_ !== bool) {\n      this.controls_ = bool;\n      if (bool) {\n        this.removeClass('vjs-controls-disabled');\n        this.addClass('vjs-controls-enabled');\n        this.trigger('controlsenabled');\n      } else {\n        this.removeClass('vjs-controls-enabled');\n        this.addClass('vjs-controls-disabled');\n        this.trigger('controlsdisabled');\n      }\n    }\n    return this;\n  }\n  return this.controls_;\n};\n\nvjs.Player.prototype.usingNativeControls_;\n\n/**\n * Toggle native controls on/off. Native controls are the controls built into\n * devices (e.g. default iPhone controls), Flash, or other techs\n * (e.g. Vimeo Controls)\n *\n * **This should only be set by the current tech, because only the tech knows\n * if it can support native controls**\n *\n * @param  {Boolean} bool    True signals that native controls are on\n * @return {vjs.Player}      Returns the player\n * @private\n */\nvjs.Player.prototype.usingNativeControls = function(bool){\n  if (bool !== undefined) {\n    bool = !!bool; // force boolean\n    // Don't trigger a change event unless it actually changed\n    if (this.usingNativeControls_ !== bool) {\n      this.usingNativeControls_ = bool;\n      if (bool) {\n        this.addClass('vjs-using-native-controls');\n\n        /**\n         * player is using the native device controls\n         *\n         * @event usingnativecontrols\n         * @memberof vjs.Player\n         * @instance\n         * @private\n         */\n        this.trigger('usingnativecontrols');\n      } else {\n        this.removeClass('vjs-using-native-controls');\n\n        /**\n         * player is using the custom HTML controls\n         *\n         * @event usingcustomcontrols\n         * @memberof vjs.Player\n         * @instance\n         * @private\n         */\n        this.trigger('usingcustomcontrols');\n      }\n    }\n    return this;\n  }\n  return this.usingNativeControls_;\n};\n\n/**\n * Store the current media error\n * @type {Object}\n * @private\n */\nvjs.Player.prototype.error_ = null;\n\n/**\n * Set or get the current MediaError\n * @param  {*} err A MediaError or a String/Number to be turned into a MediaError\n * @return {vjs.MediaError|null}     when getting\n * @return {vjs.Player}              when setting\n */\nvjs.Player.prototype.error = function(err){\n  if (err === undefined) {\n    return this.error_;\n  }\n\n  // restoring to default\n  if (err === null) {\n    this.error_ = err;\n    this.removeClass('vjs-error');\n    return this;\n  }\n\n  // error instance\n  if (err instanceof vjs.MediaError) {\n    this.error_ = err;\n  } else {\n    this.error_ = new vjs.MediaError(err);\n  }\n\n  // fire an error event on the player\n  this.trigger('error');\n\n  // add the vjs-error classname to the player\n  this.addClass('vjs-error');\n\n  // log the name of the error type and any message\n  // ie8 just logs \"[object object]\" if you just log the error object\n  vjs.log.error('(CODE:'+this.error_.code+' '+vjs.MediaError.errorTypes[this.error_.code]+')', this.error_.message, this.error_);\n\n  return this;\n};\n\n/**\n * Returns whether or not the player is in the \"ended\" state.\n * @return {Boolean} True if the player is in the ended state, false if not.\n */\nvjs.Player.prototype.ended = function(){ return this.techGet('ended'); };\n\n/**\n * Returns whether or not the player is in the \"seeking\" state.\n * @return {Boolean} True if the player is in the seeking state, false if not.\n */\nvjs.Player.prototype.seeking = function(){ return this.techGet('seeking'); };\n\n/**\n * Returns the TimeRanges of the media that are currently available\n * for seeking to.\n * @return {TimeRanges} the seekable intervals of the media timeline\n */\nvjs.Player.prototype.seekable = function(){ return this.techGet('seekable'); };\n\n// When the player is first initialized, trigger activity so components\n// like the control bar show themselves if needed\nvjs.Player.prototype.userActivity_ = true;\nvjs.Player.prototype.reportUserActivity = function(event){\n  this.userActivity_ = true;\n};\n\nvjs.Player.prototype.userActive_ = true;\nvjs.Player.prototype.userActive = function(bool){\n  if (bool !== undefined) {\n    bool = !!bool;\n    if (bool !== this.userActive_) {\n      this.userActive_ = bool;\n      if (bool) {\n        // If the user was inactive and is now active we want to reset the\n        // inactivity timer\n        this.userActivity_ = true;\n        this.removeClass('vjs-user-inactive');\n        this.addClass('vjs-user-active');\n        this.trigger('useractive');\n      } else {\n        // We're switching the state to inactive manually, so erase any other\n        // activity\n        this.userActivity_ = false;\n\n        // Chrome/Safari/IE have bugs where when you change the cursor it can\n        // trigger a mousemove event. This causes an issue when you're hiding\n        // the cursor when the user is inactive, and a mousemove signals user\n        // activity. Making it impossible to go into inactive mode. Specifically\n        // this happens in fullscreen when we really need to hide the cursor.\n        //\n        // When this gets resolved in ALL browsers it can be removed\n        // https://code.google.com/p/chromium/issues/detail?id=103041\n        if(this.tech) {\n          this.tech.one('mousemove', function(e){\n            e.stopPropagation();\n            e.preventDefault();\n          });\n        }\n\n        this.removeClass('vjs-user-active');\n        this.addClass('vjs-user-inactive');\n        this.trigger('userinactive');\n      }\n    }\n    return this;\n  }\n  return this.userActive_;\n};\n\nvjs.Player.prototype.listenForUserActivity = function(){\n  var onActivity, onMouseMove, onMouseDown, mouseInProgress, onMouseUp,\n      activityCheck, inactivityTimeout, lastMoveX, lastMoveY;\n\n  onActivity = vjs.bind(this, this.reportUserActivity);\n\n  onMouseMove = function(e) {\n    // #1068 - Prevent mousemove spamming\n    // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n    if(e.screenX != lastMoveX || e.screenY != lastMoveY) {\n      lastMoveX = e.screenX;\n      lastMoveY = e.screenY;\n      onActivity();\n    }\n  };\n\n  onMouseDown = function() {\n    onActivity();\n    // For as long as the they are touching the device or have their mouse down,\n    // we consider them active even if they're not moving their finger or mouse.\n    // So we want to continue to update that they are active\n    this.clearInterval(mouseInProgress);\n    // Setting userActivity=true now and setting the interval to the same time\n    // as the activityCheck interval (250) should ensure we never miss the\n    // next activityCheck\n    mouseInProgress = this.setInterval(onActivity, 250);\n  };\n\n  onMouseUp = function(event) {\n    onActivity();\n    // Stop the interval that maintains activity if the mouse/touch is down\n    this.clearInterval(mouseInProgress);\n  };\n\n  // Any mouse movement will be considered user activity\n  this.on('mousedown', onMouseDown);\n  this.on('mousemove', onMouseMove);\n  this.on('mouseup', onMouseUp);\n\n  // Listen for keyboard navigation\n  // Shouldn't need to use inProgress interval because of key repeat\n  this.on('keydown', onActivity);\n  this.on('keyup', onActivity);\n\n  // Run an interval every 250 milliseconds instead of stuffing everything into\n  // the mousemove/touchmove function itself, to prevent performance degradation.\n  // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n  // then gets picked up by this loop\n  // http://ejohn.org/blog/learning-from-twitter/\n  activityCheck = this.setInterval(function() {\n    // Check to see if mouse/touch activity has happened\n    if (this.userActivity_) {\n      // Reset the activity tracker\n      this.userActivity_ = false;\n\n      // If the user state was inactive, set the state to active\n      this.userActive(true);\n\n      // Clear any existing inactivity timeout to start the timer over\n      this.clearTimeout(inactivityTimeout);\n\n      var timeout = this.options()['inactivityTimeout'];\n      if (timeout > 0) {\n          // In <timeout> milliseconds, if no more activity has occurred the\n          // user will be considered inactive\n          inactivityTimeout = this.setTimeout(function () {\n              // Protect against the case where the inactivityTimeout can trigger just\n              // before the next user activity is picked up by the activityCheck loop\n              // causing a flicker\n              if (!this.userActivity_) {\n                  this.userActive(false);\n              }\n          }, timeout);\n      }\n    }\n  }, 250);\n};\n\n/**\n * Gets or sets the current playback rate.\n * @param  {Boolean} rate   New playback rate to set.\n * @return {Number}         Returns the new playback rate when setting\n * @return {Number}         Returns the current playback rate when getting\n */\nvjs.Player.prototype.playbackRate = function(rate) {\n  if (rate !== undefined) {\n    this.techCall('setPlaybackRate', rate);\n    return this;\n  }\n\n  if (this.tech && this.tech['featuresPlaybackRate']) {\n    return this.techGet('playbackRate');\n  } else {\n    return 1.0;\n  }\n\n};\n\n/**\n * Store the current audio state\n * @type {Boolean}\n * @private\n */\nvjs.Player.prototype.isAudio_ = false;\n\n/**\n * Gets or sets the audio flag\n *\n * @param  {Boolean} bool    True signals that this is an audio player.\n * @return {Boolean}         Returns true if player is audio, false if not when getting\n * @return {vjs.Player}      Returns the player if setting\n * @private\n */\nvjs.Player.prototype.isAudio = function(bool) {\n  if (bool !== undefined) {\n    this.isAudio_ = !!bool;\n    return this;\n  }\n\n  return this.isAudio_;\n};\n\n/**\n * Returns the current state of network activity for the element, from\n * the codes in the list below.\n * - NETWORK_EMPTY (numeric value 0)\n *   The element has not yet been initialised. All attributes are in\n *   their initial states.\n * - NETWORK_IDLE (numeric value 1)\n *   The element's resource selection algorithm is active and has\n *   selected a resource, but it is not actually using the network at\n *   this time.\n * - NETWORK_LOADING (numeric value 2)\n *   The user agent is actively trying to download data.\n * - NETWORK_NO_SOURCE (numeric value 3)\n *   The element's resource selection algorithm is active, but it has\n *   not yet found a resource to use.\n * @return {Number} the current network activity state\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n */\nvjs.Player.prototype.networkState = function(){\n  return this.techGet('networkState');\n};\n\n/**\n * Returns a value that expresses the current state of the element\n * with respect to rendering the current playback position, from the\n * codes in the list below.\n * - HAVE_NOTHING (numeric value 0)\n *   No information regarding the media resource is available.\n * - HAVE_METADATA (numeric value 1)\n *   Enough of the resource has been obtained that the duration of the\n *   resource is available.\n * - HAVE_CURRENT_DATA (numeric value 2)\n *   Data for the immediate current playback position is available.\n * - HAVE_FUTURE_DATA (numeric value 3)\n *   Data for the immediate current playback position is available, as\n *   well as enough data for the user agent to advance the current\n *   playback position in the direction of playback.\n * - HAVE_ENOUGH_DATA (numeric value 4)\n *   The user agent estimates that enough data is available for\n *   playback to proceed uninterrupted.\n * @return {Number} the current playback rendering state\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n */\nvjs.Player.prototype.readyState = function(){\n  return this.techGet('readyState');\n};\n\n/**\n * Text tracks are tracks of timed text events.\n * Captions - text displayed over the video for the hearing impaired\n * Subtitles - text displayed over the video for those who don't understand language in the video\n * Chapters - text displayed in a menu allowing the user to jump to particular points (chapters) in the video\n * Descriptions (not supported yet) - audio descriptions that are read back to the user by a screen reading device\n */\n\n/**\n * Get an array of associated text tracks. captions, subtitles, chapters, descriptions\n * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n * @return {Array}           Array of track objects\n */\nvjs.Player.prototype.textTracks = function(){\n  // cannot use techGet directly because it checks to see whether the tech is ready.\n  // Flash is unlikely to be ready in time but textTracks should still work.\n  return this.tech && this.tech['textTracks']();\n};\n\nvjs.Player.prototype.remoteTextTracks = function() {\n  return this.tech && this.tech['remoteTextTracks']();\n};\n\n/**\n * Add a text track\n * In addition to the W3C settings we allow adding additional info through options.\n * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n * @param {String}  kind        Captions, subtitles, chapters, descriptions, or metadata\n * @param {String=} label       Optional label\n * @param {String=} language    Optional language\n */\nvjs.Player.prototype.addTextTrack = function(kind, label, language) {\n  return this.tech && this.tech['addTextTrack'](kind, label, language);\n};\n\nvjs.Player.prototype.addRemoteTextTrack = function(options) {\n  return this.tech && this.tech['addRemoteTextTrack'](options);\n};\n\nvjs.Player.prototype.removeRemoteTextTrack = function(track) {\n  this.tech && this.tech['removeRemoteTextTrack'](track);\n};\n\n// Methods to add support for\n// initialTime: function(){ return this.techCall('initialTime'); },\n// startOffsetTime: function(){ return this.techCall('startOffsetTime'); },\n// played: function(){ return this.techCall('played'); },\n// seekable: function(){ return this.techCall('seekable'); },\n// videoTracks: function(){ return this.techCall('videoTracks'); },\n// audioTracks: function(){ return this.techCall('audioTracks'); },\n// videoWidth: function(){ return this.techCall('videoWidth'); },\n// videoHeight: function(){ return this.techCall('videoHeight'); },\n// defaultPlaybackRate: function(){ return this.techCall('defaultPlaybackRate'); },\n// mediaGroup: function(){ return this.techCall('mediaGroup'); },\n// controller: function(){ return this.techCall('controller'); },\n// defaultMuted: function(){ return this.techCall('defaultMuted'); }\n\n// TODO\n// currentSrcList: the array of sources including other formats and bitrates\n// playList: array of source lists in order of playback\n/**\n * Container of main controls\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n * @extends vjs.Component\n */\nvjs.ControlBar = vjs.Component.extend();\n\nvjs.ControlBar.prototype.options_ = {\n  loadEvent: 'play',\n  children: {\n    'playToggle': {},\n    'currentTimeDisplay': {},\n    'timeDivider': {},\n    'durationDisplay': {},\n    'remainingTimeDisplay': {},\n    'liveDisplay': {},\n    'progressControl': {},\n    'fullscreenToggle': {},\n    'volumeControl': {},\n    'muteToggle': {},\n    // 'volumeMenuButton': {},\n    'playbackRateMenuButton': {},\n    'subtitlesButton': {},\n    'captionsButton': {},\n    'chaptersButton': {}\n  }\n};\n\nvjs.ControlBar.prototype.createEl = function(){\n  return vjs.createEl('div', {\n    className: 'vjs-control-bar'\n  });\n};\n/**\n * Displays the live indicator\n * TODO - Future make it click to snap to live\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.LiveDisplay = vjs.Component.extend({\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.LiveDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-live-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-live-display',\n    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Stream Type') + '</span>' + this.localize('LIVE'),\n    'aria-live': 'off'\n  });\n\n  el.appendChild(this.contentEl_);\n\n  return el;\n};\n/**\n * Button to toggle between play and pause\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.PlayToggle = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.on(player, 'play', this.onPlay);\n    this.on(player, 'pause', this.onPause);\n  }\n});\n\nvjs.PlayToggle.prototype.buttonText = 'Play';\n\nvjs.PlayToggle.prototype.buildCSSClass = function(){\n  return 'vjs-play-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n};\n\n// OnClick - Toggle between play and pause\nvjs.PlayToggle.prototype.onClick = function(){\n  if (this.player_.paused()) {\n    this.player_.play();\n  } else {\n    this.player_.pause();\n  }\n};\n\n  // OnPlay - Add the vjs-playing class to the element so it can change appearance\nvjs.PlayToggle.prototype.onPlay = function(){\n  this.removeClass('vjs-paused');\n  this.addClass('vjs-playing');\n  this.el_.children[0].children[0].innerHTML = this.localize('Pause'); // change the button text to \"Pause\"\n};\n\n  // OnPause - Add the vjs-paused class to the element so it can change appearance\nvjs.PlayToggle.prototype.onPause = function(){\n  this.removeClass('vjs-playing');\n  this.addClass('vjs-paused');\n  this.el_.children[0].children[0].innerHTML = this.localize('Play'); // change the button text to \"Play\"\n};\n/**\n * Displays the current time\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.CurrentTimeDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.on(player, 'timeupdate', this.updateContent);\n  }\n});\n\nvjs.CurrentTimeDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-current-time vjs-time-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-current-time-display',\n    innerHTML: '<span class=\"vjs-control-text\">Current Time </span>' + '0:00', // label the current time for screen reader users\n    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n  });\n\n  el.appendChild(this.contentEl_);\n  return el;\n};\n\nvjs.CurrentTimeDisplay.prototype.updateContent = function(){\n  // Allows for smooth scrubbing, when player can't keep up.\n  var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n  this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Current Time') + '</span> ' + vjs.formatTime(time, this.player_.duration());\n};\n\n/**\n * Displays the duration\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.DurationDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // this might need to be changed to 'durationchange' instead of 'timeupdate' eventually,\n    // however the durationchange event fires before this.player_.duration() is set,\n    // so the value cannot be written out using this method.\n    // Once the order of durationchange and this.player_.duration() being set is figured out,\n    // this can be updated.\n    this.on(player, 'timeupdate', this.updateContent);\n    this.on(player, 'loadedmetadata', this.updateContent);\n  }\n});\n\nvjs.DurationDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-duration vjs-time-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-duration-display',\n    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Duration Time') + '</span> ' + '0:00', // label the duration time for screen reader users\n    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n  });\n\n  el.appendChild(this.contentEl_);\n  return el;\n};\n\nvjs.DurationDisplay.prototype.updateContent = function(){\n  var duration = this.player_.duration();\n  if (duration) {\n      this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Duration Time') + '</span> ' + vjs.formatTime(duration); // label the duration time for screen reader users\n  }\n};\n\n/**\n * The separator between the current time and duration\n *\n * Can be hidden if it's not needed in the design.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.TimeDivider = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.TimeDivider.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-time-divider',\n    innerHTML: '<div><span>/</span></div>'\n  });\n};\n\n/**\n * Displays the time left in the video\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.RemainingTimeDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.on(player, 'timeupdate', this.updateContent);\n  }\n});\n\nvjs.RemainingTimeDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-remaining-time vjs-time-controls vjs-control'\n  });\n\n  this.contentEl_ = vjs.createEl('div', {\n    className: 'vjs-remaining-time-display',\n    innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Remaining Time') + '</span> ' + '-0:00', // label the remaining time for screen reader users\n    'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n  });\n\n  el.appendChild(this.contentEl_);\n  return el;\n};\n\nvjs.RemainingTimeDisplay.prototype.updateContent = function(){\n  if (this.player_.duration()) {\n    this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + this.localize('Remaining Time') + '</span> ' + '-'+ vjs.formatTime(this.player_.remainingTime());\n  }\n\n  // Allows for smooth scrubbing, when player can't keep up.\n  // var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n  // this.contentEl_.innerHTML = vjs.formatTime(time, this.player_.duration());\n};\n/**\n * Toggle fullscreen video\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @extends vjs.Button\n */\nvjs.FullscreenToggle = vjs.Button.extend({\n  /**\n   * @constructor\n   * @memberof vjs.FullscreenToggle\n   * @instance\n   */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n  }\n});\n\nvjs.FullscreenToggle.prototype.buttonText = 'Fullscreen';\n\nvjs.FullscreenToggle.prototype.buildCSSClass = function(){\n  return 'vjs-fullscreen-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n};\n\nvjs.FullscreenToggle.prototype.onClick = function(){\n  if (!this.player_.isFullscreen()) {\n    this.player_.requestFullscreen();\n    this.controlText_.innerHTML = this.localize('Non-Fullscreen');\n  } else {\n    this.player_.exitFullscreen();\n    this.controlText_.innerHTML = this.localize('Fullscreen');\n  }\n};\n/**\n * The Progress Control component contains the seek bar, load progress,\n * and play progress\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.ProgressControl = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.ProgressControl.prototype.options_ = {\n  children: {\n    'seekBar': {}\n  }\n};\n\nvjs.ProgressControl.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-progress-control vjs-control'\n  });\n};\n\n/**\n * Seek Bar and holder for the progress bars\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.SeekBar = vjs.Slider.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Slider.call(this, player, options);\n    this.on(player, 'timeupdate', this.updateARIAAttributes);\n    player.ready(vjs.bind(this, this.updateARIAAttributes));\n  }\n});\n\nvjs.SeekBar.prototype.options_ = {\n  children: {\n    'loadProgressBar': {},\n    'playProgressBar': {},\n    'seekHandle': {}\n  },\n  'barName': 'playProgressBar',\n  'handleName': 'seekHandle'\n};\n\nvjs.SeekBar.prototype.playerEvent = 'timeupdate';\n\nvjs.SeekBar.prototype.createEl = function(){\n  return vjs.Slider.prototype.createEl.call(this, 'div', {\n    className: 'vjs-progress-holder',\n    'aria-label': 'video progress bar'\n  });\n};\n\nvjs.SeekBar.prototype.updateARIAAttributes = function(){\n    // Allows for smooth scrubbing, when player can't keep up.\n    var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n    this.el_.setAttribute('aria-valuenow',vjs.round(this.getPercent()*100, 2)); // machine readable value of progress bar (percentage complete)\n    this.el_.setAttribute('aria-valuetext',vjs.formatTime(time, this.player_.duration())); // human readable value of progress bar (time complete)\n};\n\nvjs.SeekBar.prototype.getPercent = function(){\n  return this.player_.currentTime() / this.player_.duration();\n};\n\nvjs.SeekBar.prototype.onMouseDown = function(event){\n  vjs.Slider.prototype.onMouseDown.call(this, event);\n\n  this.player_.scrubbing = true;\n  this.player_.addClass('vjs-scrubbing');\n\n  this.videoWasPlaying = !this.player_.paused();\n  this.player_.pause();\n};\n\nvjs.SeekBar.prototype.onMouseMove = function(event){\n  var newTime = this.calculateDistance(event) * this.player_.duration();\n\n  // Don't let video end while scrubbing.\n  if (newTime == this.player_.duration()) { newTime = newTime - 0.1; }\n\n  // Set new time (tell player to seek to new time)\n  this.player_.currentTime(newTime);\n};\n\nvjs.SeekBar.prototype.onMouseUp = function(event){\n  vjs.Slider.prototype.onMouseUp.call(this, event);\n\n  this.player_.scrubbing = false;\n  this.player_.removeClass('vjs-scrubbing');\n  if (this.videoWasPlaying) {\n    this.player_.play();\n  }\n};\n\nvjs.SeekBar.prototype.stepForward = function(){\n  this.player_.currentTime(this.player_.currentTime() + 5); // more quickly fast forward for keyboard-only users\n};\n\nvjs.SeekBar.prototype.stepBack = function(){\n  this.player_.currentTime(this.player_.currentTime() - 5); // more quickly rewind for keyboard-only users\n};\n\n/**\n * Shows load progress\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.LoadProgressBar = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n    this.on(player, 'progress', this.update);\n  }\n});\n\nvjs.LoadProgressBar.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-load-progress',\n    innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Loaded') + '</span>: 0%</span>'\n  });\n};\n\nvjs.LoadProgressBar.prototype.update = function(){\n  var i, start, end, part,\n      buffered = this.player_.buffered(),\n      duration = this.player_.duration(),\n      bufferedEnd = this.player_.bufferedEnd(),\n      children = this.el_.children,\n      // get the percent width of a time compared to the total end\n      percentify = function (time, end){\n        var percent = (time / end) || 0; // no NaN\n        return (percent * 100) + '%';\n      };\n\n  // update the width of the progress bar\n  this.el_.style.width = percentify(bufferedEnd, duration);\n\n  // add child elements to represent the individual buffered time ranges\n  for (i = 0; i < buffered.length; i++) {\n    start = buffered.start(i),\n    end = buffered.end(i),\n    part = children[i];\n\n    if (!part) {\n      part = this.el_.appendChild(vjs.createEl());\n    }\n\n    // set the percent based on the width of the progress bar (bufferedEnd)\n    part.style.left = percentify(start, bufferedEnd);\n    part.style.width = percentify(end - start, bufferedEnd);\n  }\n\n  // remove unused buffered range elements\n  for (i = children.length; i > buffered.length; i--) {\n    this.el_.removeChild(children[i-1]);\n  }\n};\n\n/**\n * Shows play progress\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.PlayProgressBar = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.PlayProgressBar.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-play-progress',\n    innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Progress') + '</span>: 0%</span>'\n  });\n};\n\n/**\n * The Seek Handle shows the current position of the playhead during playback,\n * and can be dragged to adjust the playhead.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.SeekHandle = vjs.SliderHandle.extend({\n  init: function(player, options) {\n    vjs.SliderHandle.call(this, player, options);\n    this.on(player, 'timeupdate', this.updateContent);\n  }\n});\n\n/**\n * The default value for the handle content, which may be read by screen readers\n *\n * @type {String}\n * @private\n */\nvjs.SeekHandle.prototype.defaultValue = '00:00';\n\n/** @inheritDoc */\nvjs.SeekHandle.prototype.createEl = function() {\n  return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n    className: 'vjs-seek-handle',\n    'aria-live': 'off'\n  });\n};\n\nvjs.SeekHandle.prototype.updateContent = function() {\n  var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n  this.el_.innerHTML = '<span class=\"vjs-control-text\">' + vjs.formatTime(time, this.player_.duration()) + '</span>';\n};\n/**\n * The component for controlling the volume level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.VolumeControl = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // hide volume controls when they're not supported by the current tech\n    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n      this.addClass('vjs-hidden');\n    }\n    this.on(player, 'loadstart', function(){\n      if (player.tech['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      } else {\n        this.removeClass('vjs-hidden');\n      }\n    });\n  }\n});\n\nvjs.VolumeControl.prototype.options_ = {\n  children: {\n    'volumeBar': {}\n  }\n};\n\nvjs.VolumeControl.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-control vjs-control'\n  });\n};\n\n/**\n * The bar that contains the volume level and can be clicked on to adjust the level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.VolumeBar = vjs.Slider.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Slider.call(this, player, options);\n    this.on(player, 'volumechange', this.updateARIAAttributes);\n    player.ready(vjs.bind(this, this.updateARIAAttributes));\n  }\n});\n\nvjs.VolumeBar.prototype.updateARIAAttributes = function(){\n  // Current value of volume bar as a percentage\n  this.el_.setAttribute('aria-valuenow',vjs.round(this.player_.volume()*100, 2));\n  this.el_.setAttribute('aria-valuetext',vjs.round(this.player_.volume()*100, 2)+'%');\n};\n\nvjs.VolumeBar.prototype.options_ = {\n  children: {\n    'volumeLevel': {},\n    'volumeHandle': {}\n  },\n  'barName': 'volumeLevel',\n  'handleName': 'volumeHandle'\n};\n\nvjs.VolumeBar.prototype.playerEvent = 'volumechange';\n\nvjs.VolumeBar.prototype.createEl = function(){\n  return vjs.Slider.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-bar',\n    'aria-label': 'volume level'\n  });\n};\n\nvjs.VolumeBar.prototype.onMouseMove = function(event) {\n  if (this.player_.muted()) {\n    this.player_.muted(false);\n  }\n\n  this.player_.volume(this.calculateDistance(event));\n};\n\nvjs.VolumeBar.prototype.getPercent = function(){\n  if (this.player_.muted()) {\n    return 0;\n  } else {\n    return this.player_.volume();\n  }\n};\n\nvjs.VolumeBar.prototype.stepForward = function(){\n  this.player_.volume(this.player_.volume() + 0.1);\n};\n\nvjs.VolumeBar.prototype.stepBack = function(){\n  this.player_.volume(this.player_.volume() - 0.1);\n};\n\n/**\n * Shows volume level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.VolumeLevel = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n  }\n});\n\nvjs.VolumeLevel.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-level',\n    innerHTML: '<span class=\"vjs-control-text\"></span>'\n  });\n};\n\n/**\n * The volume handle can be dragged to adjust the volume level\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\n vjs.VolumeHandle = vjs.SliderHandle.extend();\n\n vjs.VolumeHandle.prototype.defaultValue = '00:00';\n\n /** @inheritDoc */\n vjs.VolumeHandle.prototype.createEl = function(){\n   return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n     className: 'vjs-volume-handle'\n   });\n };\n/**\n * A button component for muting the audio\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.MuteToggle = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.on(player, 'volumechange', this.update);\n\n    // hide mute toggle if the current tech doesn't support volume control\n    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n      this.addClass('vjs-hidden');\n    }\n\n    this.on(player, 'loadstart', function(){\n      if (player.tech['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      } else {\n        this.removeClass('vjs-hidden');\n      }\n    });\n  }\n});\n\nvjs.MuteToggle.prototype.createEl = function(){\n  return vjs.Button.prototype.createEl.call(this, 'div', {\n    className: 'vjs-mute-control vjs-control',\n    innerHTML: '<div><span class=\"vjs-control-text\">' + this.localize('Mute') + '</span></div>'\n  });\n};\n\nvjs.MuteToggle.prototype.onClick = function(){\n  this.player_.muted( this.player_.muted() ? false : true );\n};\n\nvjs.MuteToggle.prototype.update = function(){\n  var vol = this.player_.volume(),\n      level = 3;\n\n  if (vol === 0 || this.player_.muted()) {\n    level = 0;\n  } else if (vol < 0.33) {\n    level = 1;\n  } else if (vol < 0.67) {\n    level = 2;\n  }\n\n  // Don't rewrite the button text if the actual text doesn't change.\n  // This causes unnecessary and confusing information for screen reader users.\n  // This check is needed because this function gets called every time the volume level is changed.\n  if(this.player_.muted()){\n      if(this.el_.children[0].children[0].innerHTML!=this.localize('Unmute')){\n          this.el_.children[0].children[0].innerHTML = this.localize('Unmute'); // change the button text to \"Unmute\"\n      }\n  } else {\n      if(this.el_.children[0].children[0].innerHTML!=this.localize('Mute')){\n          this.el_.children[0].children[0].innerHTML = this.localize('Mute'); // change the button text to \"Mute\"\n      }\n  }\n\n  /* TODO improve muted icon classes */\n  for (var i = 0; i < 4; i++) {\n    vjs.removeClass(this.el_, 'vjs-vol-'+i);\n  }\n  vjs.addClass(this.el_, 'vjs-vol-'+level);\n};\n/**\n * Menu button with a popup for showing the volume slider.\n * @constructor\n */\nvjs.VolumeMenuButton = vjs.MenuButton.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.MenuButton.call(this, player, options);\n\n    // Same listeners as MuteToggle\n    this.on(player, 'volumechange', this.volumeUpdate);\n\n    // hide mute toggle if the current tech doesn't support volume control\n    if (player.tech && player.tech['featuresVolumeControl'] === false) {\n      this.addClass('vjs-hidden');\n    }\n    this.on(player, 'loadstart', function(){\n      if (player.tech['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      } else {\n        this.removeClass('vjs-hidden');\n      }\n    });\n    this.addClass('vjs-menu-button');\n  }\n});\n\nvjs.VolumeMenuButton.prototype.createMenu = function(){\n  var menu = new vjs.Menu(this.player_, {\n    contentElType: 'div'\n  });\n  var vc = new vjs.VolumeBar(this.player_, this.options_['volumeBar']);\n  vc.on('focus', function() {\n    menu.lockShowing();\n  });\n  vc.on('blur', function() {\n    menu.unlockShowing();\n  });\n  menu.addChild(vc);\n  return menu;\n};\n\nvjs.VolumeMenuButton.prototype.onClick = function(){\n  vjs.MuteToggle.prototype.onClick.call(this);\n  vjs.MenuButton.prototype.onClick.call(this);\n};\n\nvjs.VolumeMenuButton.prototype.createEl = function(){\n  return vjs.Button.prototype.createEl.call(this, 'div', {\n    className: 'vjs-volume-menu-button vjs-menu-button vjs-control',\n    innerHTML: '<div><span class=\"vjs-control-text\">' + this.localize('Mute') + '</span></div>'\n  });\n};\nvjs.VolumeMenuButton.prototype.volumeUpdate = vjs.MuteToggle.prototype.update;\n/**\n * The component for controlling the playback rate\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.PlaybackRateMenuButton = vjs.MenuButton.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.MenuButton.call(this, player, options);\n\n    this.updateVisibility();\n    this.updateLabel();\n\n    this.on(player, 'loadstart', this.updateVisibility);\n    this.on(player, 'ratechange', this.updateLabel);\n  }\n});\n\nvjs.PlaybackRateMenuButton.prototype.buttonText = 'Playback Rate';\nvjs.PlaybackRateMenuButton.prototype.className = 'vjs-playback-rate';\n\nvjs.PlaybackRateMenuButton.prototype.createEl = function(){\n  var el = vjs.MenuButton.prototype.createEl.call(this);\n\n  this.labelEl_ = vjs.createEl('div', {\n    className: 'vjs-playback-rate-value',\n    innerHTML: 1.0\n  });\n\n  el.appendChild(this.labelEl_);\n\n  return el;\n};\n\n// Menu creation\nvjs.PlaybackRateMenuButton.prototype.createMenu = function(){\n  var menu = new vjs.Menu(this.player());\n  var rates = this.player().options()['playbackRates'];\n\n  if (rates) {\n    for (var i = rates.length - 1; i >= 0; i--) {\n      menu.addChild(\n        new vjs.PlaybackRateMenuItem(this.player(), { 'rate': rates[i] + 'x'})\n        );\n    }\n  }\n\n  return menu;\n};\n\nvjs.PlaybackRateMenuButton.prototype.updateARIAAttributes = function(){\n  // Current playback rate\n  this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n};\n\nvjs.PlaybackRateMenuButton.prototype.onClick = function(){\n  // select next rate option\n  var currentRate = this.player().playbackRate();\n  var rates = this.player().options()['playbackRates'];\n  // this will select first one if the last one currently selected\n  var newRate = rates[0];\n  for (var i = 0; i <rates.length ; i++) {\n    if (rates[i] > currentRate) {\n      newRate = rates[i];\n      break;\n    }\n  }\n  this.player().playbackRate(newRate);\n};\n\nvjs.PlaybackRateMenuButton.prototype.playbackRateSupported = function(){\n  return this.player().tech\n    && this.player().tech['featuresPlaybackRate']\n    && this.player().options()['playbackRates']\n    && this.player().options()['playbackRates'].length > 0\n  ;\n};\n\n/**\n * Hide playback rate controls when they're no playback rate options to select\n */\nvjs.PlaybackRateMenuButton.prototype.updateVisibility = function(){\n  if (this.playbackRateSupported()) {\n    this.removeClass('vjs-hidden');\n  } else {\n    this.addClass('vjs-hidden');\n  }\n};\n\n/**\n * Update button label when rate changed\n */\nvjs.PlaybackRateMenuButton.prototype.updateLabel = function(){\n  if (this.playbackRateSupported()) {\n    this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n  }\n};\n\n/**\n * The specific menu item type for selecting a playback rate\n *\n * @constructor\n */\nvjs.PlaybackRateMenuItem = vjs.MenuItem.extend({\n  contentElType: 'button',\n  /** @constructor */\n  init: function(player, options){\n    var label = this.label = options['rate'];\n    var rate = this.rate = parseFloat(label, 10);\n\n    // Modify options for parent MenuItem class's init.\n    options['label'] = label;\n    options['selected'] = rate === 1;\n    vjs.MenuItem.call(this, player, options);\n\n    this.on(player, 'ratechange', this.update);\n  }\n});\n\nvjs.PlaybackRateMenuItem.prototype.onClick = function(){\n  vjs.MenuItem.prototype.onClick.call(this);\n  this.player().playbackRate(this.rate);\n};\n\nvjs.PlaybackRateMenuItem.prototype.update = function(){\n  this.selected(this.player().playbackRate() == this.rate);\n};\n/* Poster Image\n================================================================================ */\n/**\n * The component that handles showing the poster image.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.PosterImage = vjs.Button.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Button.call(this, player, options);\n\n    this.update();\n    player.on('posterchange', vjs.bind(this, this.update));\n  }\n});\n\n/**\n * Clean up the poster image\n */\nvjs.PosterImage.prototype.dispose = function(){\n  this.player().off('posterchange', this.update);\n  vjs.Button.prototype.dispose.call(this);\n};\n\n/**\n * Create the poster image element\n * @return {Element}\n */\nvjs.PosterImage.prototype.createEl = function(){\n  var el = vjs.createEl('div', {\n    className: 'vjs-poster',\n\n    // Don't want poster to be tabbable.\n    tabIndex: -1\n  });\n\n  // To ensure the poster image resizes while maintaining its original aspect\n  // ratio, use a div with `background-size` when available. For browsers that\n  // do not support `background-size` (e.g. IE8), fall back on using a regular\n  // img element.\n  if (!vjs.BACKGROUND_SIZE_SUPPORTED) {\n    this.fallbackImg_ = vjs.createEl('img');\n    el.appendChild(this.fallbackImg_);\n  }\n\n  return el;\n};\n\n/**\n * Event handler for updates to the player's poster source\n */\nvjs.PosterImage.prototype.update = function(){\n  var url = this.player().poster();\n\n  this.setSrc(url);\n\n  // If there's no poster source we should display:none on this component\n  // so it's not still clickable or right-clickable\n  if (url) {\n    this.show();\n  } else {\n    this.hide();\n  }\n};\n\n/**\n * Set the poster source depending on the display method\n */\nvjs.PosterImage.prototype.setSrc = function(url){\n  var backgroundImage;\n\n  if (this.fallbackImg_) {\n    this.fallbackImg_.src = url;\n  } else {\n    backgroundImage = '';\n    // Any falsey values should stay as an empty string, otherwise\n    // this will throw an extra error\n    if (url) {\n      backgroundImage = 'url(\"' + url + '\")';\n    }\n\n    this.el_.style.backgroundImage = backgroundImage;\n  }\n};\n\n/**\n * Event handler for clicks on the poster image\n */\nvjs.PosterImage.prototype.onClick = function(){\n  // We don't want a click to trigger playback when controls are disabled\n  // but CSS should be hiding the poster to prevent that from happening\n  this.player_.play();\n};\n/* Loading Spinner\n================================================================================ */\n/**\n * Loading spinner for waiting events\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.LoadingSpinner = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    // MOVING DISPLAY HANDLING TO CSS\n\n    // player.on('canplay', vjs.bind(this, this.hide));\n    // player.on('canplaythrough', vjs.bind(this, this.hide));\n    // player.on('playing', vjs.bind(this, this.hide));\n    // player.on('seeking', vjs.bind(this, this.show));\n\n    // in some browsers seeking does not trigger the 'playing' event,\n    // so we also need to trap 'seeked' if we are going to set a\n    // 'seeking' event\n    // player.on('seeked', vjs.bind(this, this.hide));\n\n    // player.on('ended', vjs.bind(this, this.hide));\n\n    // Not showing spinner on stalled any more. Browsers may stall and then not trigger any events that would remove the spinner.\n    // Checked in Chrome 16 and Safari 5.1.2. http://help.videojs.com/discussions/problems/883-why-is-the-download-progress-showing\n    // player.on('stalled', vjs.bind(this, this.show));\n\n    // player.on('waiting', vjs.bind(this, this.show));\n  }\n});\n\nvjs.LoadingSpinner.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-loading-spinner'\n  });\n};\n/* Big Play Button\n================================================================================ */\n/**\n * Initial play button. Shows before the video has played. The hiding of the\n * big play button is done via CSS and player states.\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @class\n * @constructor\n */\nvjs.BigPlayButton = vjs.Button.extend();\n\nvjs.BigPlayButton.prototype.createEl = function(){\n  return vjs.Button.prototype.createEl.call(this, 'div', {\n    className: 'vjs-big-play-button',\n    innerHTML: '<span aria-hidden=\"true\"></span>',\n    'aria-label': 'play video'\n  });\n};\n\nvjs.BigPlayButton.prototype.onClick = function(){\n  this.player_.play();\n};\n/**\n * Display that an error has occurred making the video unplayable\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.ErrorDisplay = vjs.Component.extend({\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    this.update();\n    this.on(player, 'error', this.update);\n  }\n});\n\nvjs.ErrorDisplay.prototype.createEl = function(){\n  var el = vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-error-display'\n  });\n\n  this.contentEl_ = vjs.createEl('div');\n  el.appendChild(this.contentEl_);\n\n  return el;\n};\n\nvjs.ErrorDisplay.prototype.update = function(){\n  if (this.player().error()) {\n    this.contentEl_.innerHTML = this.localize(this.player().error().message);\n  }\n};\n(function() {\n  var createTrackHelper;\n/**\n * @fileoverview Media Technology Controller - Base class for media playback\n * technology controllers like Flash and HTML5\n */\n\n/**\n * Base class for media (HTML5 Video, Flash) controllers\n * @param {vjs.Player|Object} player  Central player instance\n * @param {Object=} options Options object\n * @constructor\n */\nvjs.MediaTechController = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    options = options || {};\n    // we don't want the tech to report user activity automatically.\n    // This is done manually in addControlsListeners\n    options.reportTouchActivity = false;\n    vjs.Component.call(this, player, options, ready);\n\n    // Manually track progress in cases where the browser/flash player doesn't report it.\n    if (!this['featuresProgressEvents']) {\n      this.manualProgressOn();\n    }\n\n    // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n    if (!this['featuresTimeupdateEvents']) {\n      this.manualTimeUpdatesOn();\n    }\n\n    this.initControlsListeners();\n\n    if (!this['featuresNativeTextTracks']) {\n      this.emulateTextTracks();\n    }\n\n    this.initTextTrackListeners();\n  }\n});\n\n/**\n * Set up click and touch listeners for the playback element\n * On desktops, a click on the video itself will toggle playback,\n * on a mobile device a click on the video toggles controls.\n * (toggling controls is done by toggling the user state between active and\n * inactive)\n *\n * A tap can signal that a user has become active, or has become inactive\n * e.g. a quick tap on an iPhone movie should reveal the controls. Another\n * quick tap should hide them again (signaling the user is in an inactive\n * viewing state)\n *\n * In addition to this, we still want the user to be considered inactive after\n * a few seconds of inactivity.\n *\n * Note: the only part of iOS interaction we can't mimic with this setup\n * is a touch and hold on the video element counting as activity in order to\n * keep the controls showing, but that shouldn't be an issue. A touch and hold on\n * any controls will still keep the user active\n */\nvjs.MediaTechController.prototype.initControlsListeners = function(){\n  var player, activateControls;\n\n  player = this.player();\n\n  activateControls = function(){\n    if (player.controls() && !player.usingNativeControls()) {\n      this.addControlsListeners();\n    }\n  };\n\n  // Set up event listeners once the tech is ready and has an element to apply\n  // listeners to\n  this.ready(activateControls);\n  this.on(player, 'controlsenabled', activateControls);\n  this.on(player, 'controlsdisabled', this.removeControlsListeners);\n\n  // if we're loading the playback object after it has started loading or playing the\n  // video (often with autoplay on) then the loadstart event has already fired and we\n  // need to fire it manually because many things rely on it.\n  // Long term we might consider how we would do this for other events like 'canplay'\n  // that may also have fired.\n  this.ready(function(){\n    if (this.networkState && this.networkState() > 0) {\n      this.player().trigger('loadstart');\n    }\n  });\n};\n\nvjs.MediaTechController.prototype.addControlsListeners = function(){\n  var userWasActive;\n\n  // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n  // trigger mousedown/up.\n  // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n  // Any touch events are set to block the mousedown event from happening\n  this.on('mousedown', this.onClick);\n\n  // If the controls were hidden we don't want that to change without a tap event\n  // so we'll check if the controls were already showing before reporting user\n  // activity\n  this.on('touchstart', function(event) {\n    userWasActive = this.player_.userActive();\n  });\n\n  this.on('touchmove', function(event) {\n    if (userWasActive){\n      this.player().reportUserActivity();\n    }\n  });\n\n  this.on('touchend', function(event) {\n    // Stop the mouse events from also happening\n    event.preventDefault();\n  });\n\n  // Turn on component tap events\n  this.emitTapEvents();\n\n  // The tap listener needs to come after the touchend listener because the tap\n  // listener cancels out any reportedUserActivity when setting userActive(false)\n  this.on('tap', this.onTap);\n};\n\n/**\n * Remove the listeners used for click and tap controls. This is needed for\n * toggling to controls disabled, where a tap/touch should do nothing.\n */\nvjs.MediaTechController.prototype.removeControlsListeners = function(){\n  // We don't want to just use `this.off()` because there might be other needed\n  // listeners added by techs that extend this.\n  this.off('tap');\n  this.off('touchstart');\n  this.off('touchmove');\n  this.off('touchleave');\n  this.off('touchcancel');\n  this.off('touchend');\n  this.off('click');\n  this.off('mousedown');\n};\n\n/**\n * Handle a click on the media element. By default will play/pause the media.\n */\nvjs.MediaTechController.prototype.onClick = function(event){\n  // We're using mousedown to detect clicks thanks to Flash, but mousedown\n  // will also be triggered with right-clicks, so we need to prevent that\n  if (event.button !== 0) return;\n\n  // When controls are disabled a click should not toggle playback because\n  // the click is considered a control\n  if (this.player().controls()) {\n    if (this.player().paused()) {\n      this.player().play();\n    } else {\n      this.player().pause();\n    }\n  }\n};\n\n/**\n * Handle a tap on the media element. By default it will toggle the user\n * activity state, which hides and shows the controls.\n */\nvjs.MediaTechController.prototype.onTap = function(){\n  this.player().userActive(!this.player().userActive());\n};\n\n/* Fallbacks for unsupported event types\n================================================================================ */\n// Manually trigger progress events based on changes to the buffered amount\n// Many flash players and older HTML5 browsers don't send progress or progress-like events\nvjs.MediaTechController.prototype.manualProgressOn = function(){\n  this.manualProgress = true;\n\n  // Trigger progress watching when a source begins loading\n  this.trackProgress();\n};\n\nvjs.MediaTechController.prototype.manualProgressOff = function(){\n  this.manualProgress = false;\n  this.stopTrackingProgress();\n};\n\nvjs.MediaTechController.prototype.trackProgress = function(){\n  this.progressInterval = this.setInterval(function(){\n    // Don't trigger unless buffered amount is greater than last time\n\n    var bufferedPercent = this.player().bufferedPercent();\n\n    if (this.bufferedPercent_ != bufferedPercent) {\n      this.player().trigger('progress');\n    }\n\n    this.bufferedPercent_ = bufferedPercent;\n\n    if (bufferedPercent === 1) {\n      this.stopTrackingProgress();\n    }\n  }, 500);\n};\nvjs.MediaTechController.prototype.stopTrackingProgress = function(){ this.clearInterval(this.progressInterval); };\n\n/*! Time Tracking -------------------------------------------------------------- */\nvjs.MediaTechController.prototype.manualTimeUpdatesOn = function(){\n  var player = this.player_;\n\n  this.manualTimeUpdates = true;\n\n  this.on(player, 'play', this.trackCurrentTime);\n  this.on(player, 'pause', this.stopTrackingCurrentTime);\n  // timeupdate is also called by .currentTime whenever current time is set\n\n  // Watch for native timeupdate event\n  this.one('timeupdate', function(){\n    // Update known progress support for this playback technology\n    this['featuresTimeupdateEvents'] = true;\n    // Turn off manual progress tracking\n    this.manualTimeUpdatesOff();\n  });\n};\n\nvjs.MediaTechController.prototype.manualTimeUpdatesOff = function(){\n  var player = this.player_;\n\n  this.manualTimeUpdates = false;\n  this.stopTrackingCurrentTime();\n  this.off(player, 'play', this.trackCurrentTime);\n  this.off(player, 'pause', this.stopTrackingCurrentTime);\n};\n\nvjs.MediaTechController.prototype.trackCurrentTime = function(){\n  if (this.currentTimeInterval) { this.stopTrackingCurrentTime(); }\n  this.currentTimeInterval = this.setInterval(function(){\n    this.player().trigger('timeupdate');\n  }, 250); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n};\n\n// Turn off play progress tracking (when paused or dragging)\nvjs.MediaTechController.prototype.stopTrackingCurrentTime = function(){\n  this.clearInterval(this.currentTimeInterval);\n\n  // #1002 - if the video ends right before the next timeupdate would happen,\n  // the progress bar won't make it all the way to the end\n  this.player().trigger('timeupdate');\n};\n\nvjs.MediaTechController.prototype.dispose = function() {\n  // Turn off any manual progress or timeupdate tracking\n  if (this.manualProgress) { this.manualProgressOff(); }\n\n  if (this.manualTimeUpdates) { this.manualTimeUpdatesOff(); }\n\n  vjs.Component.prototype.dispose.call(this);\n};\n\nvjs.MediaTechController.prototype.setCurrentTime = function() {\n  // improve the accuracy of manual timeupdates\n  if (this.manualTimeUpdates) { this.player().trigger('timeupdate'); }\n};\n\n// TODO: Consider looking at moving this into the text track display directly\n// https://github.com/videojs/video.js/issues/1863\nvjs.MediaTechController.prototype.initTextTrackListeners = function() {\n  var player = this.player_,\n      tracks,\n      textTrackListChanges = function() {\n        var textTrackDisplay = player.getChild('textTrackDisplay'),\n            controlBar;\n\n        if (textTrackDisplay) {\n          textTrackDisplay.updateDisplay();\n        }\n      };\n\n  tracks = this.textTracks();\n\n  if (!tracks) {\n    return;\n  }\n\n  tracks.addEventListener('removetrack', textTrackListChanges);\n  tracks.addEventListener('addtrack', textTrackListChanges);\n\n  this.on('dispose', vjs.bind(this, function() {\n    tracks.removeEventListener('removetrack', textTrackListChanges);\n    tracks.removeEventListener('addtrack', textTrackListChanges);\n  }));\n};\n\nvjs.MediaTechController.prototype.emulateTextTracks = function() {\n  var player = this.player_,\n      textTracksChanges,\n      tracks,\n      script;\n\n  if (!window['WebVTT']) {\n    script = document.createElement('script');\n    script.src = player.options()['vtt.js'] || '../node_modules/vtt.js/dist/vtt.js';\n    player.el().appendChild(script);\n    window['WebVTT'] = true;\n  }\n\n  tracks = this.textTracks();\n  if (!tracks) {\n    return;\n  }\n\n  textTracksChanges = function() {\n    var i, track, textTrackDisplay;\n\n    textTrackDisplay = player.getChild('textTrackDisplay'),\n\n    textTrackDisplay.updateDisplay();\n\n    for (i = 0; i < this.length; i++) {\n      track = this[i];\n      track.removeEventListener('cuechange', vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay));\n      if (track.mode === 'showing') {\n        track.addEventListener('cuechange', vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay));\n      }\n    }\n  };\n\n  tracks.addEventListener('change', textTracksChanges);\n\n  this.on('dispose', vjs.bind(this, function() {\n    tracks.removeEventListener('change', textTracksChanges);\n  }));\n};\n\n/**\n * Provide default methods for text tracks.\n *\n * Html5 tech overrides these.\n */\n\n/**\n * List of associated text tracks\n * @type {Array}\n * @private\n */\nvjs.MediaTechController.prototype.textTracks_;\n\nvjs.MediaTechController.prototype.textTracks = function() {\n  this.player_.textTracks_ = this.player_.textTracks_ || new vjs.TextTrackList();\n  return this.player_.textTracks_;\n};\n\nvjs.MediaTechController.prototype.remoteTextTracks = function() {\n  this.player_.remoteTextTracks_ = this.player_.remoteTextTracks_ || new vjs.TextTrackList();\n  return this.player_.remoteTextTracks_;\n};\n\ncreateTrackHelper = function(self, kind, label, language, options) {\n  var tracks = self.textTracks(),\n      track;\n\n  options = options || {};\n\n  options['kind'] = kind;\n  if (label) {\n    options['label'] = label;\n  }\n  if (language) {\n    options['language'] = language;\n  }\n  options['player'] = self.player_;\n\n  track = new vjs.TextTrack(options);\n  tracks.addTrack_(track);\n\n  return track;\n};\n\nvjs.MediaTechController.prototype.addTextTrack = function(kind, label, language) {\n  if (!kind) {\n    throw new Error('TextTrack kind is required but was not provided');\n  }\n\n  return createTrackHelper(this, kind, label, language);\n};\n\nvjs.MediaTechController.prototype.addRemoteTextTrack = function(options) {\n  var track = createTrackHelper(this, options['kind'], options['label'], options['language'], options);\n  this.remoteTextTracks().addTrack_(track);\n  return {\n    track: track\n  };\n};\n\nvjs.MediaTechController.prototype.removeRemoteTextTrack = function(track) {\n  this.textTracks().removeTrack_(track);\n  this.remoteTextTracks().removeTrack_(track);\n};\n\n/**\n * Provide a default setPoster method for techs\n *\n * Poster support for techs should be optional, so we don't want techs to\n * break if they don't have a way to set a poster.\n */\nvjs.MediaTechController.prototype.setPoster = function(){};\n\nvjs.MediaTechController.prototype['featuresVolumeControl'] = true;\n\n// Resizing plugins using request fullscreen reloads the plugin\nvjs.MediaTechController.prototype['featuresFullscreenResize'] = false;\nvjs.MediaTechController.prototype['featuresPlaybackRate'] = false;\n\n// Optional events that we can manually mimic with timers\n// currently not triggered by video-js-swf\nvjs.MediaTechController.prototype['featuresProgressEvents'] = false;\nvjs.MediaTechController.prototype['featuresTimeupdateEvents'] = false;\n\nvjs.MediaTechController.prototype['featuresNativeTextTracks'] = false;\n\n/**\n * A functional mixin for techs that want to use the Source Handler pattern.\n *\n * ##### EXAMPLE:\n *\n *   videojs.MediaTechController.withSourceHandlers.call(MyTech);\n *\n */\nvjs.MediaTechController.withSourceHandlers = function(Tech){\n  /**\n   * Register a source handler\n   * Source handlers are scripts for handling specific formats.\n   * The source handler pattern is used for adaptive formats (HLS, DASH) that\n   * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n   * @param  {Function} handler  The source handler\n   * @param  {Boolean}  first    Register it before any existing handlers\n   */\n  Tech['registerSourceHandler'] = function(handler, index){\n    var handlers = Tech.sourceHandlers;\n\n    if (!handlers) {\n      handlers = Tech.sourceHandlers = [];\n    }\n\n    if (index === undefined) {\n      // add to the end of the list\n      index = handlers.length;\n    }\n\n    handlers.splice(index, 0, handler);\n  };\n\n  /**\n   * Return the first source handler that supports the source\n   * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n   * @param  {Object} source The source object\n   * @returns {Object}       The first source handler that supports the source\n   * @returns {null}         Null if no source handler is found\n   */\n  Tech.selectSourceHandler = function(source){\n    var handlers = Tech.sourceHandlers || [],\n        can;\n\n    for (var i = 0; i < handlers.length; i++) {\n      can = handlers[i]['canHandleSource'](source);\n\n      if (can) {\n        return handlers[i];\n      }\n    }\n\n    return null;\n  };\n\n  /**\n  * Check if the tech can support the given source\n  * @param  {Object} srcObj  The source object\n  * @return {String}         'probably', 'maybe', or '' (empty string)\n  */\n  Tech.canPlaySource = function(srcObj){\n    var sh = Tech.selectSourceHandler(srcObj);\n\n    if (sh) {\n      return sh['canHandleSource'](srcObj);\n    }\n\n    return '';\n  };\n\n  /**\n   * Create a function for setting the source using a source object\n   * and source handlers.\n   * Should never be called unless a source handler was found.\n   * @param {Object} source  A source object with src and type keys\n   * @return {vjs.MediaTechController} self\n   */\n  Tech.prototype.setSource = function(source){\n    var sh = Tech.selectSourceHandler(source);\n\n    if (!sh) {\n      // Fall back to a native source hander when unsupported sources are\n      // deliberately set\n      if (Tech['nativeSourceHandler']) {\n        sh = Tech['nativeSourceHandler'];\n      } else {\n        vjs.log.error('No source hander found for the current source.');\n      }\n    }\n\n    // Dispose any existing source handler\n    this.disposeSourceHandler();\n    this.off('dispose', this.disposeSourceHandler);\n\n    this.currentSource_ = source;\n    this.sourceHandler_ = sh['handleSource'](source, this);\n    this.on('dispose', this.disposeSourceHandler);\n\n    return this;\n  };\n\n  /**\n   * Clean up any existing source handler\n   */\n  Tech.prototype.disposeSourceHandler = function(){\n    if (this.sourceHandler_ && this.sourceHandler_['dispose']) {\n      this.sourceHandler_['dispose']();\n    }\n  };\n\n};\n\nvjs.media = {};\n\n})();\n/**\n * @fileoverview HTML5 Media Controller - Wrapper for HTML5 Media API\n */\n\n/**\n * HTML5 Media Controller - Wrapper for HTML5 Media API\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @param {Function=} ready\n * @constructor\n */\nvjs.Html5 = vjs.MediaTechController.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    var  nodes, nodesLength, i, node, nodeName, removeNodes;\n\n    if (options['nativeCaptions'] === false || options['nativeTextTracks'] === false) {\n      this['featuresNativeTextTracks'] = false;\n    }\n\n    vjs.MediaTechController.call(this, player, options, ready);\n\n    this.setupTriggers();\n\n    var source = options['source'];\n\n    // Set the source if one is provided\n    // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n    // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n    // anyway so the error gets fired.\n    if (source && (this.el_.currentSrc !== source.src || (player.tag && player.tag.initNetworkState_ === 3))) {\n      this.setSource(source);\n    }\n\n    if (this.el_.hasChildNodes()) {\n\n      nodes = this.el_.childNodes;\n      nodesLength = nodes.length;\n      removeNodes = [];\n\n      while (nodesLength--) {\n        node = nodes[nodesLength];\n        nodeName = node.nodeName.toLowerCase();\n        if (nodeName === 'track') {\n          if (!this['featuresNativeTextTracks']) {\n            // Empty video tag tracks so the built-in player doesn't use them also.\n            // This may not be fast enough to stop HTML5 browsers from reading the tags\n            // so we'll need to turn off any default tracks if we're manually doing\n            // captions and subtitles. videoElement.textTracks\n            removeNodes.push(node);\n          } else {\n            this.remoteTextTracks().addTrack_(node['track']);\n          }\n        }\n      }\n\n      for (i=0; i<removeNodes.length; i++) {\n        this.el_.removeChild(removeNodes[i]);\n      }\n    }\n\n    // Determine if native controls should be used\n    // Our goal should be to get the custom controls on mobile solid everywhere\n    // so we can remove this all together. Right now this will block custom\n    // controls on touch enabled laptops like the Chrome Pixel\n    if (vjs.TOUCH_ENABLED && player.options()['nativeControlsForTouch'] === true) {\n      this.useNativeControls();\n    }\n\n    // Chrome and Safari both have issues with autoplay.\n    // In Safari (5.1.1), when we move the video element into the container div, autoplay doesn't work.\n    // In Chrome (15), if you have autoplay + a poster + no controls, the video gets hidden (but audio plays)\n    // This fixes both issues. Need to wait for API, so it updates displays correctly\n    player.ready(function(){\n      if (this.src() && this.tag && this.options_['autoplay'] && this.paused()) {\n        delete this.tag['poster']; // Chrome Fix. Fixed in Chrome v16.\n        this.play();\n      }\n    });\n\n    this.triggerReady();\n  }\n});\n\nvjs.Html5.prototype.dispose = function(){\n  vjs.Html5.disposeMediaElement(this.el_);\n  vjs.MediaTechController.prototype.dispose.call(this);\n};\n\nvjs.Html5.prototype.createEl = function(){\n  var player = this.player_,\n      track,\n      trackEl,\n      i,\n      // If possible, reuse original tag for HTML5 playback technology element\n      el = player.tag,\n      attributes,\n      newEl,\n      clone;\n\n  // Check if this browser supports moving the element into the box.\n  // On the iPhone video will break if you move the element,\n  // So we have to create a brand new element.\n  if (!el || this['movingMediaElementInDOM'] === false) {\n\n    // If the original tag is still there, clone and remove it.\n    if (el) {\n      clone = el.cloneNode(false);\n      vjs.Html5.disposeMediaElement(el);\n      el = clone;\n      player.tag = null;\n    } else {\n      el = vjs.createEl('video');\n\n      // determine if native controls should be used\n      attributes = videojs.util.mergeOptions({}, player.tagAttributes);\n      if (!vjs.TOUCH_ENABLED || player.options()['nativeControlsForTouch'] !== true) {\n        delete attributes.controls;\n      }\n\n      vjs.setElementAttributes(el,\n        vjs.obj.merge(attributes, {\n          id:player.id() + '_html5_api',\n          'class':'vjs-tech'\n        })\n      );\n    }\n    // associate the player with the new tag\n    el['player'] = player;\n\n    if (player.options_.tracks) {\n      for (i = 0; i < player.options_.tracks.length; i++) {\n        track = player.options_.tracks[i];\n        trackEl = document.createElement('track');\n        trackEl.kind = track.kind;\n        trackEl.label = track.label;\n        trackEl.srclang = track.srclang;\n        trackEl.src = track.src;\n        if ('default' in track) {\n          trackEl.setAttribute('default', 'default');\n        }\n        el.appendChild(trackEl);\n      }\n    }\n\n    vjs.insertFirst(el, player.el());\n  }\n\n  // Update specific tag settings, in case they were overridden\n  var settingsAttrs = ['autoplay','preload','loop','muted'];\n  for (i = settingsAttrs.length - 1; i >= 0; i--) {\n    var attr = settingsAttrs[i];\n    var overwriteAttrs = {};\n    if (typeof player.options_[attr] !== 'undefined') {\n      overwriteAttrs[attr] = player.options_[attr];\n    }\n    vjs.setElementAttributes(el, overwriteAttrs);\n  }\n\n  return el;\n  // jenniisawesome = true;\n};\n\n// Make video events trigger player events\n// May seem verbose here, but makes other APIs possible.\n// Triggers removed using this.off when disposed\nvjs.Html5.prototype.setupTriggers = function(){\n  for (var i = vjs.Html5.Events.length - 1; i >= 0; i--) {\n    this.on(vjs.Html5.Events[i], this.eventHandler);\n  }\n};\n\nvjs.Html5.prototype.eventHandler = function(evt){\n  // In the case of an error on the video element, set the error prop\n  // on the player and let the player handle triggering the event. On\n  // some platforms, error events fire that do not cause the error\n  // property on the video element to be set. See #1465 for an example.\n  if (evt.type == 'error' && this.error()) {\n    this.player().error(this.error().code);\n\n  // in some cases we pass the event directly to the player\n  } else {\n    // No need for media events to bubble up.\n    evt.bubbles = false;\n\n    this.player().trigger(evt);\n  }\n};\n\nvjs.Html5.prototype.useNativeControls = function(){\n  var tech, player, controlsOn, controlsOff, cleanUp;\n\n  tech = this;\n  player = this.player();\n\n  // If the player controls are enabled turn on the native controls\n  tech.setControls(player.controls());\n\n  // Update the native controls when player controls state is updated\n  controlsOn = function(){\n    tech.setControls(true);\n  };\n  controlsOff = function(){\n    tech.setControls(false);\n  };\n  player.on('controlsenabled', controlsOn);\n  player.on('controlsdisabled', controlsOff);\n\n  // Clean up when not using native controls anymore\n  cleanUp = function(){\n    player.off('controlsenabled', controlsOn);\n    player.off('controlsdisabled', controlsOff);\n  };\n  tech.on('dispose', cleanUp);\n  player.on('usingcustomcontrols', cleanUp);\n\n  // Update the state of the player to using native controls\n  player.usingNativeControls(true);\n};\n\n\nvjs.Html5.prototype.play = function(){ this.el_.play(); };\nvjs.Html5.prototype.pause = function(){ this.el_.pause(); };\nvjs.Html5.prototype.paused = function(){ return this.el_.paused; };\n\nvjs.Html5.prototype.currentTime = function(){ return this.el_.currentTime; };\nvjs.Html5.prototype.setCurrentTime = function(seconds){\n  try {\n    this.el_.currentTime = seconds;\n  } catch(e) {\n    vjs.log(e, 'Video is not ready. (Video.js)');\n    // this.warning(VideoJS.warnings.videoNotReady);\n  }\n};\n\nvjs.Html5.prototype.duration = function(){ return this.el_.duration || 0; };\nvjs.Html5.prototype.buffered = function(){ return this.el_.buffered; };\n\nvjs.Html5.prototype.volume = function(){ return this.el_.volume; };\nvjs.Html5.prototype.setVolume = function(percentAsDecimal){ this.el_.volume = percentAsDecimal; };\nvjs.Html5.prototype.muted = function(){ return this.el_.muted; };\nvjs.Html5.prototype.setMuted = function(muted){ this.el_.muted = muted; };\n\nvjs.Html5.prototype.width = function(){ return this.el_.offsetWidth; };\nvjs.Html5.prototype.height = function(){ return this.el_.offsetHeight; };\n\nvjs.Html5.prototype.supportsFullScreen = function(){\n  if (typeof this.el_.webkitEnterFullScreen == 'function') {\n\n    // Seems to be broken in Chromium/Chrome && Safari in Leopard\n    if (/Android/.test(vjs.USER_AGENT) || !/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nvjs.Html5.prototype.enterFullScreen = function(){\n  var video = this.el_;\n\n  if ('webkitDisplayingFullscreen' in video) {\n    this.one('webkitbeginfullscreen', function() {\n      this.player_.isFullscreen(true);\n\n      this.one('webkitendfullscreen', function() {\n        this.player_.isFullscreen(false);\n        this.player_.trigger('fullscreenchange');\n      });\n\n      this.player_.trigger('fullscreenchange');\n    });\n  }\n\n  if (video.paused && video.networkState <= video.HAVE_METADATA) {\n    // attempt to prime the video element for programmatic access\n    // this isn't necessary on the desktop but shouldn't hurt\n    this.el_.play();\n\n    // playing and pausing synchronously during the transition to fullscreen\n    // can get iOS ~6.1 devices into a play/pause loop\n    this.setTimeout(function(){\n      video.pause();\n      video.webkitEnterFullScreen();\n    }, 0);\n  } else {\n    video.webkitEnterFullScreen();\n  }\n};\n\nvjs.Html5.prototype.exitFullScreen = function(){\n  this.el_.webkitExitFullScreen();\n};\n\n// Checks to see if the element's reported URI (either from `el_.src`\n// or `el_.currentSrc`) is a blob-uri and, if so, returns the uri that\n// was passed into the source-handler when it was first invoked instead\n// of the blob-uri\nvjs.Html5.prototype.returnOriginalIfBlobURI_ = function (elementURI, originalURI) {\n  var blobURIRegExp = /^blob\\:/i;\n\n  // If originalURI is undefined then we are probably in a non-source-handler-enabled\n  // tech that inherits from the Html5 tech so we should just return the elementURI\n  // regardless of it's blobby-ness\n  if (originalURI && elementURI && blobURIRegExp.test(elementURI)) {\n    return originalURI;\n  }\n  return elementURI;\n};\n\nvjs.Html5.prototype.src = function(src) {\n  var elementSrc = this.el_.src;\n\n  if (src === undefined) {\n    return this.returnOriginalIfBlobURI_(elementSrc, this.source_);\n  } else {\n    // Setting src through `src` instead of `setSrc` will be deprecated\n    this.setSrc(src);\n  }\n};\n\nvjs.Html5.prototype.setSrc = function(src) {\n  this.el_.src = src;\n};\n\nvjs.Html5.prototype.load = function(){ this.el_.load(); };\nvjs.Html5.prototype.currentSrc = function(){\n  var elementSrc = this.el_.currentSrc;\n\n  if (!this.currentSource_) {\n    return elementSrc;\n  }\n\n  return this.returnOriginalIfBlobURI_(elementSrc, this.currentSource_.src);\n};\n\nvjs.Html5.prototype.poster = function(){ return this.el_.poster; };\nvjs.Html5.prototype.setPoster = function(val){ this.el_.poster = val; };\n\nvjs.Html5.prototype.preload = function(){ return this.el_.preload; };\nvjs.Html5.prototype.setPreload = function(val){ this.el_.preload = val; };\n\nvjs.Html5.prototype.autoplay = function(){ return this.el_.autoplay; };\nvjs.Html5.prototype.setAutoplay = function(val){ this.el_.autoplay = val; };\n\nvjs.Html5.prototype.controls = function(){ return this.el_.controls; };\nvjs.Html5.prototype.setControls = function(val){ this.el_.controls = !!val; };\n\nvjs.Html5.prototype.loop = function(){ return this.el_.loop; };\nvjs.Html5.prototype.setLoop = function(val){ this.el_.loop = val; };\n\nvjs.Html5.prototype.error = function(){ return this.el_.error; };\nvjs.Html5.prototype.seeking = function(){ return this.el_.seeking; };\nvjs.Html5.prototype.seekable = function(){ return this.el_.seekable; };\nvjs.Html5.prototype.ended = function(){ return this.el_.ended; };\nvjs.Html5.prototype.defaultMuted = function(){ return this.el_.defaultMuted; };\n\nvjs.Html5.prototype.playbackRate = function(){ return this.el_.playbackRate; };\nvjs.Html5.prototype.setPlaybackRate = function(val){ this.el_.playbackRate = val; };\n\nvjs.Html5.prototype.networkState = function(){ return this.el_.networkState; };\nvjs.Html5.prototype.readyState = function(){ return this.el_.readyState; };\n\nvjs.Html5.prototype.textTracks = function() {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.textTracks.call(this);\n  }\n\n  return this.el_.textTracks;\n};\nvjs.Html5.prototype.addTextTrack = function(kind, label, language) {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.addTextTrack.call(this, kind, label, language);\n  }\n\n  return this.el_.addTextTrack(kind, label, language);\n};\n\nvjs.Html5.prototype.addRemoteTextTrack = function(options) {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this, options);\n  }\n\n  var track = document.createElement('track');\n  options = options || {};\n\n  if (options['kind']) {\n    track['kind'] = options['kind'];\n  }\n  if (options['label']) {\n    track['label'] = options['label'];\n  }\n  if (options['language'] || options['srclang']) {\n    track['srclang'] = options['language'] || options['srclang'];\n  }\n  if (options['default']) {\n    track['default'] = options['default'];\n  }\n  if (options['id']) {\n    track['id'] = options['id'];\n  }\n  if (options['src']) {\n    track['src'] = options['src'];\n  }\n\n  this.el().appendChild(track);\n  this.remoteTextTracks().addTrack_(track.track);\n\n  return track;\n};\n\nvjs.Html5.prototype.removeRemoteTextTrack = function(track) {\n  if (!this['featuresNativeTextTracks']) {\n    return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this, track);\n  }\n\n  var tracks, i;\n\n  this.remoteTextTracks().removeTrack_(track);\n\n  tracks = this.el()['querySelectorAll']('track');\n\n  for (i = 0; i < tracks.length; i++) {\n    if (tracks[i] === track || tracks[i]['track'] === track) {\n      tracks[i]['parentNode']['removeChild'](tracks[i]);\n      break;\n    }\n  }\n};\n\n/* HTML5 Support Testing ---------------------------------------------------- */\n\n/**\n * Check if HTML5 video is supported by this browser/device\n * @return {Boolean}\n */\nvjs.Html5.isSupported = function(){\n  // IE9 with no Media Player is a LIAR! (#984)\n  try {\n    vjs.TEST_VID['volume'] = 0.5;\n  } catch (e) {\n    return false;\n  }\n\n  return !!vjs.TEST_VID.canPlayType;\n};\n\n// Add Source Handler pattern functions to this tech\nvjs.MediaTechController.withSourceHandlers(vjs.Html5);\n\n/*\n * Override the withSourceHandler mixin's methods with our own because\n * the HTML5 Media Element returns blob urls when utilizing MSE and we\n * want to still return proper source urls even when in that case\n */\n(function(){\n  var\n    origSetSource = vjs.Html5.prototype.setSource,\n    origDisposeSourceHandler = vjs.Html5.prototype.disposeSourceHandler;\n\n  vjs.Html5.prototype.setSource = function (source) {\n    var retVal = origSetSource.call(this, source);\n    this.source_ = source.src;\n    return retVal;\n  };\n\n  vjs.Html5.prototype.disposeSourceHandler = function () {\n    this.source_ = undefined;\n    return origDisposeSourceHandler.call(this);\n  };\n})();\n\n/**\n * The default native source handler.\n * This simply passes the source to the video element. Nothing fancy.\n * @param  {Object} source   The source object\n * @param  {vjs.Html5} tech  The instance of the HTML5 tech\n */\nvjs.Html5['nativeSourceHandler'] = {};\n\n/**\n * Check if the video element can handle the source natively\n * @param  {Object} source  The source object\n * @return {String}         'probably', 'maybe', or '' (empty string)\n */\nvjs.Html5['nativeSourceHandler']['canHandleSource'] = function(source){\n  var match, ext;\n\n  function canPlayType(type){\n    // IE9 on Windows 7 without MediaPlayer throws an error here\n    // https://github.com/videojs/video.js/issues/519\n    try {\n      return vjs.TEST_VID.canPlayType(type);\n    } catch(e) {\n      return '';\n    }\n  }\n\n  // If a type was provided we should rely on that\n  if (source.type) {\n    return canPlayType(source.type);\n  } else if (source.src) {\n    // If no type, fall back to checking 'video/[EXTENSION]'\n    match = source.src.match(/\\.([^.\\/\\?]+)(\\?[^\\/]+)?$/i);\n    ext = match && match[1];\n\n    return canPlayType('video/'+ext);\n  }\n\n  return '';\n};\n\n/**\n * Pass the source to the video element\n * Adaptive source handlers will have more complicated workflows before passing\n * video data to the video element\n * @param  {Object} source    The source object\n * @param  {vjs.Html5} tech   The instance of the Html5 tech\n */\nvjs.Html5['nativeSourceHandler']['handleSource'] = function(source, tech){\n  tech.setSrc(source.src);\n};\n\n/**\n * Clean up the source handler when disposing the player or switching sources..\n * (no cleanup is needed when supporting the format natively)\n */\nvjs.Html5['nativeSourceHandler']['dispose'] = function(){};\n\n// Register the native source handler\nvjs.Html5['registerSourceHandler'](vjs.Html5['nativeSourceHandler']);\n\n/**\n * Check if the volume can be changed in this browser/device.\n * Volume cannot be changed in a lot of mobile devices.\n * Specifically, it can't be changed from 1 on iOS.\n * @return {Boolean}\n */\nvjs.Html5.canControlVolume = function(){\n  var volume =  vjs.TEST_VID.volume;\n  vjs.TEST_VID.volume = (volume / 2) + 0.1;\n  return volume !== vjs.TEST_VID.volume;\n};\n\n/**\n * Check if playbackRate is supported in this browser/device.\n * @return {[type]} [description]\n */\nvjs.Html5.canControlPlaybackRate = function(){\n  var playbackRate =  vjs.TEST_VID.playbackRate;\n  vjs.TEST_VID.playbackRate = (playbackRate / 2) + 0.1;\n  return playbackRate !== vjs.TEST_VID.playbackRate;\n};\n\n/**\n * Check to see if native text tracks are supported by this browser/device\n * @return {Boolean}\n */\nvjs.Html5.supportsNativeTextTracks = function() {\n  var supportsTextTracks;\n\n  // Figure out native text track support\n  // If mode is a number, we cannot change it because it'll disappear from view.\n  // Browsers with numeric modes include IE10 and older (<=2013) samsung android models.\n  // Firefox isn't playing nice either with modifying the mode\n  // TODO: Investigate firefox: https://github.com/videojs/video.js/issues/1862\n  supportsTextTracks = !!vjs.TEST_VID.textTracks;\n  if (supportsTextTracks && vjs.TEST_VID.textTracks.length > 0) {\n    supportsTextTracks = typeof vjs.TEST_VID.textTracks[0]['mode'] !== 'number';\n  }\n  if (supportsTextTracks && vjs.IS_FIREFOX) {\n    supportsTextTracks = false;\n  }\n\n  return supportsTextTracks;\n};\n\n/**\n * Set the tech's volume control support status\n * @type {Boolean}\n */\nvjs.Html5.prototype['featuresVolumeControl'] = vjs.Html5.canControlVolume();\n\n/**\n * Set the tech's playbackRate support status\n * @type {Boolean}\n */\nvjs.Html5.prototype['featuresPlaybackRate'] = vjs.Html5.canControlPlaybackRate();\n\n/**\n * Set the tech's status on moving the video element.\n * In iOS, if you move a video element in the DOM, it breaks video playback.\n * @type {Boolean}\n */\nvjs.Html5.prototype['movingMediaElementInDOM'] = !vjs.IS_IOS;\n\n/**\n * Set the the tech's fullscreen resize support status.\n * HTML video is able to automatically resize when going to fullscreen.\n * (No longer appears to be used. Can probably be removed.)\n */\nvjs.Html5.prototype['featuresFullscreenResize'] = true;\n\n/**\n * Set the tech's progress event support status\n * (this disables the manual progress events of the MediaTechController)\n */\nvjs.Html5.prototype['featuresProgressEvents'] = true;\n\n/**\n * Sets the tech's status on native text track support\n * @type {Boolean}\n */\nvjs.Html5.prototype['featuresNativeTextTracks'] = vjs.Html5.supportsNativeTextTracks();\n\n// HTML5 Feature detection and Device Fixes --------------------------------- //\n(function() {\n  var canPlayType,\n      mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i,\n      mp4RE = /^video\\/mp4/i;\n\n  vjs.Html5.patchCanPlayType = function() {\n    // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n    if (vjs.ANDROID_VERSION >= 4.0) {\n      if (!canPlayType) {\n        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType;\n      }\n\n      vjs.TEST_VID.constructor.prototype.canPlayType = function(type) {\n        if (type && mpegurlRE.test(type)) {\n          return 'maybe';\n        }\n        return canPlayType.call(this, type);\n      };\n    }\n\n    // Override Android 2.2 and less canPlayType method which is broken\n    if (vjs.IS_OLD_ANDROID) {\n      if (!canPlayType) {\n        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType;\n      }\n\n      vjs.TEST_VID.constructor.prototype.canPlayType = function(type){\n        if (type && mp4RE.test(type)) {\n          return 'maybe';\n        }\n        return canPlayType.call(this, type);\n      };\n    }\n  };\n\n  vjs.Html5.unpatchCanPlayType = function() {\n    var r = vjs.TEST_VID.constructor.prototype.canPlayType;\n    vjs.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n    canPlayType = null;\n    return r;\n  };\n\n  // by default, patch the video element\n  vjs.Html5.patchCanPlayType();\n})();\n\n// List of all HTML5 events (various uses).\nvjs.Html5.Events = 'loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange'.split(',');\n\nvjs.Html5.disposeMediaElement = function(el){\n  if (!el) { return; }\n\n  el['player'] = null;\n\n  if (el.parentNode) {\n    el.parentNode.removeChild(el);\n  }\n\n  // remove any child track or source nodes to prevent their loading\n  while(el.hasChildNodes()) {\n    el.removeChild(el.firstChild);\n  }\n\n  // remove any src reference. not setting `src=''` because that causes a warning\n  // in firefox\n  el.removeAttribute('src');\n\n  // force the media element to update its loading state by calling load()\n  // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n  if (typeof el.load === 'function') {\n    // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n    (function() {\n      try {\n        el.load();\n      } catch (e) {\n        // not supported\n      }\n    })();\n  }\n};\n/**\n * @fileoverview VideoJS-SWF - Custom Flash Player with HTML5-ish API\n * https://github.com/zencoder/video-js-swf\n * Not using setupTriggers. Using global onEvent func to distribute events\n */\n\n/**\n * Flash Media Controller - Wrapper for fallback SWF API\n *\n * @param {vjs.Player} player\n * @param {Object=} options\n * @param {Function=} ready\n * @constructor\n */\nvjs.Flash = vjs.MediaTechController.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.MediaTechController.call(this, player, options, ready);\n\n    var source = options['source'],\n\n        // Generate ID for swf object\n        objId = player.id()+'_flash_api',\n\n        // Store player options in local var for optimization\n        // TODO: switch to using player methods instead of options\n        // e.g. player.autoplay();\n        playerOptions = player.options_,\n\n        // Merge default flashvars with ones passed in to init\n        flashVars = vjs.obj.merge({\n\n          // SWF Callback Functions\n          'readyFunction': 'videojs.Flash.onReady',\n          'eventProxyFunction': 'videojs.Flash.onEvent',\n          'errorEventProxyFunction': 'videojs.Flash.onError',\n\n          // Player Settings\n          'autoplay': playerOptions.autoplay,\n          'preload': playerOptions.preload,\n          'loop': playerOptions.loop,\n          'muted': playerOptions.muted\n\n        }, options['flashVars']),\n\n        // Merge default parames with ones passed in\n        params = vjs.obj.merge({\n          'wmode': 'opaque', // Opaque is needed to overlay controls, but can affect playback performance\n          'bgcolor': '#000000' // Using bgcolor prevents a white flash when the object is loading\n        }, options['params']),\n\n        // Merge default attributes with ones passed in\n        attributes = vjs.obj.merge({\n          'id': objId,\n          'name': objId, // Both ID and Name needed or swf to identify itself\n          'class': 'vjs-tech'\n        }, options['attributes'])\n    ;\n\n    // If source was supplied pass as a flash var.\n    if (source) {\n      this.ready(function(){\n        this.setSource(source);\n      });\n    }\n\n    // Add placeholder to player div\n    vjs.insertFirst(this.el_, options['parentEl']);\n\n    // Having issues with Flash reloading on certain page actions (hide/resize/fullscreen) in certain browsers\n    // This allows resetting the playhead when we catch the reload\n    if (options['startTime']) {\n      this.ready(function(){\n        this.load();\n        this.play();\n        this['currentTime'](options['startTime']);\n      });\n    }\n\n    // firefox doesn't bubble mousemove events to parent. videojs/video-js-swf#37\n    // bugzilla bug: https://bugzilla.mozilla.org/show_bug.cgi?id=836786\n    if (vjs.IS_FIREFOX) {\n      this.ready(function(){\n        this.on('mousemove', function(){\n          // since it's a custom event, don't bubble higher than the player\n          this.player().trigger({ 'type':'mousemove', 'bubbles': false });\n        });\n      });\n    }\n\n    // native click events on the SWF aren't triggered on IE11, Win8.1RT\n    // use stageclick events triggered from inside the SWF instead\n    player.on('stageclick', player.reportUserActivity);\n\n    this.el_ = vjs.Flash.embed(options['swf'], this.el_, flashVars, params, attributes);\n  }\n});\n\nvjs.Flash.prototype.dispose = function(){\n  vjs.MediaTechController.prototype.dispose.call(this);\n};\n\nvjs.Flash.prototype.play = function(){\n  if (this.ended()) {\n    this['setCurrentTime'](0);\n  }\n\n  this.el_.vjs_play();\n};\n\nvjs.Flash.prototype.pause = function(){\n  this.el_.vjs_pause();\n};\n\nvjs.Flash.prototype.src = function(src){\n  if (src === undefined) {\n    return this['currentSrc']();\n  }\n\n  // Setting src through `src` not `setSrc` will be deprecated\n  return this.setSrc(src);\n};\n\nvjs.Flash.prototype.setSrc = function(src){\n  // Make sure source URL is absolute.\n  src = vjs.getAbsoluteURL(src);\n  this.el_.vjs_src(src);\n\n  // Currently the SWF doesn't autoplay if you load a source later.\n  // e.g. Load player w/ no source, wait 2s, set src.\n  if (this.player_.autoplay()) {\n    var tech = this;\n    this.setTimeout(function(){ tech.play(); }, 0);\n  }\n};\n\nvjs.Flash.prototype['setCurrentTime'] = function(time){\n  this.lastSeekTarget_ = time;\n  this.el_.vjs_setProperty('currentTime', time);\n  vjs.MediaTechController.prototype.setCurrentTime.call(this);\n};\n\nvjs.Flash.prototype['currentTime'] = function(time){\n  // when seeking make the reported time keep up with the requested time\n  // by reading the time we're seeking to\n  if (this.seeking()) {\n    return this.lastSeekTarget_ || 0;\n  }\n  return this.el_.vjs_getProperty('currentTime');\n};\n\nvjs.Flash.prototype['currentSrc'] = function(){\n  if (this.currentSource_) {\n    return this.currentSource_.src;\n  } else {\n    return this.el_.vjs_getProperty('currentSrc');\n  }\n};\n\nvjs.Flash.prototype.load = function(){\n  this.el_.vjs_load();\n};\n\nvjs.Flash.prototype.poster = function(){\n  this.el_.vjs_getProperty('poster');\n};\nvjs.Flash.prototype['setPoster'] = function(){\n  // poster images are not handled by the Flash tech so make this a no-op\n};\n\nvjs.Flash.prototype.seekable = function() {\n  var duration = this.duration();\n  if (duration === 0) {\n    // The SWF reports a duration of zero when the actual duration is unknown\n    return vjs.createTimeRange();\n  }\n  return vjs.createTimeRange(0, this.duration());\n};\n\nvjs.Flash.prototype.buffered = function(){\n  if (!this.el_.vjs_getProperty) {\n    return vjs.createTimeRange();\n  }\n  return vjs.createTimeRange(0, this.el_.vjs_getProperty('buffered'));\n};\n\nvjs.Flash.prototype.duration = function(){\n  if (!this.el_.vjs_getProperty) {\n    return 0;\n  }\n  return this.el_.vjs_getProperty('duration');\n};\n\nvjs.Flash.prototype.supportsFullScreen = function(){\n  return false; // Flash does not allow fullscreen through javascript\n};\n\nvjs.Flash.prototype.enterFullScreen = function(){\n  return false;\n};\n\n(function(){\n  // Create setters and getters for attributes\n  var api = vjs.Flash.prototype,\n    readWrite = 'rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(','),\n    readOnly = 'error,networkState,readyState,seeking,initialTime,startOffsetTime,paused,played,ended,videoTracks,audioTracks,videoWidth,videoHeight'.split(','),\n    // Overridden: buffered, currentTime, currentSrc\n    i;\n\n  function createSetter(attr){\n    var attrUpper = attr.charAt(0).toUpperCase() + attr.slice(1);\n    api['set'+attrUpper] = function(val){ return this.el_.vjs_setProperty(attr, val); };\n  }\n  function createGetter(attr) {\n    api[attr] = function(){ return this.el_.vjs_getProperty(attr); };\n  }\n\n  // Create getter and setters for all read/write attributes\n  for (i = 0; i < readWrite.length; i++) {\n    createGetter(readWrite[i]);\n    createSetter(readWrite[i]);\n  }\n\n  // Create getters for read-only attributes\n  for (i = 0; i < readOnly.length; i++) {\n    createGetter(readOnly[i]);\n  }\n})();\n\n/* Flash Support Testing -------------------------------------------------------- */\n\nvjs.Flash.isSupported = function(){\n  return vjs.Flash.version()[0] >= 10;\n  // return swfobject.hasFlashPlayerVersion('10');\n};\n\n// Add Source Handler pattern functions to this tech\nvjs.MediaTechController.withSourceHandlers(vjs.Flash);\n\n/**\n * The default native source handler.\n * This simply passes the source to the video element. Nothing fancy.\n * @param  {Object} source   The source object\n * @param  {vjs.Flash} tech  The instance of the Flash tech\n */\nvjs.Flash['nativeSourceHandler'] = {};\n\n/**\n * Check Flash can handle the source natively\n * @param  {Object} source  The source object\n * @return {String}         'probably', 'maybe', or '' (empty string)\n */\nvjs.Flash['nativeSourceHandler']['canHandleSource'] = function(source){\n  var type;\n\n  if (!source.type) {\n    return '';\n  }\n\n  // Strip code information from the type because we don't get that specific\n  type = source.type.replace(/;.*/,'').toLowerCase();\n\n  if (type in vjs.Flash.formats) {\n    return 'maybe';\n  }\n\n  return '';\n};\n\n/**\n * Pass the source to the flash object\n * Adaptive source handlers will have more complicated workflows before passing\n * video data to the video element\n * @param  {Object} source    The source object\n * @param  {vjs.Flash} tech   The instance of the Flash tech\n */\nvjs.Flash['nativeSourceHandler']['handleSource'] = function(source, tech){\n  tech.setSrc(source.src);\n};\n\n/**\n * Clean up the source handler when disposing the player or switching sources..\n * (no cleanup is needed when supporting the format natively)\n */\nvjs.Flash['nativeSourceHandler']['dispose'] = function(){};\n\n// Register the native source handler\nvjs.Flash['registerSourceHandler'](vjs.Flash['nativeSourceHandler']);\n\nvjs.Flash.formats = {\n  'video/flv': 'FLV',\n  'video/x-flv': 'FLV',\n  'video/mp4': 'MP4',\n  'video/m4v': 'MP4'\n};\n\nvjs.Flash['onReady'] = function(currSwf){\n  var el, player;\n\n  el = vjs.el(currSwf);\n\n  // get player from the player div property\n  player = el && el.parentNode && el.parentNode['player'];\n\n  // if there is no el or player then the tech has been disposed\n  // and the tech element was removed from the player div\n  if (player) {\n    // reference player on tech element\n    el['player'] = player;\n    // check that the flash object is really ready\n    vjs.Flash['checkReady'](player.tech);\n  }\n};\n\n// The SWF isn't always ready when it says it is. Sometimes the API functions still need to be added to the object.\n// If it's not ready, we set a timeout to check again shortly.\nvjs.Flash['checkReady'] = function(tech){\n  // stop worrying if the tech has been disposed\n  if (!tech.el()) {\n    return;\n  }\n\n  // check if API property exists\n  if (tech.el().vjs_getProperty) {\n    // tell tech it's ready\n    tech.triggerReady();\n  } else {\n    // wait longer\n    this.setTimeout(function(){\n      vjs.Flash['checkReady'](tech);\n    }, 50);\n  }\n};\n\n// Trigger events from the swf on the player\nvjs.Flash['onEvent'] = function(swfID, eventName){\n  var player = vjs.el(swfID)['player'];\n  player.trigger(eventName);\n};\n\n// Log errors from the swf\nvjs.Flash['onError'] = function(swfID, err){\n  var player = vjs.el(swfID)['player'];\n  var msg = 'FLASH: '+err;\n\n  if (err == 'srcnotfound') {\n    player.error({ code: 4, message: msg });\n\n  // errors we haven't categorized into the media errors\n  } else {\n    player.error(msg);\n  }\n};\n\n// Flash Version Check\nvjs.Flash.version = function(){\n  var version = '0,0,0';\n\n  // IE\n  try {\n    version = new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n\n  // other browsers\n  } catch(e) {\n    try {\n      if (navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin){\n        version = (navigator.plugins['Shockwave Flash 2.0'] || navigator.plugins['Shockwave Flash']).description.replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n      }\n    } catch(err) {}\n  }\n  return version.split(',');\n};\n\n// Flash embedding method. Only used in non-iframe mode\nvjs.Flash.embed = function(swf, placeHolder, flashVars, params, attributes){\n  var code = vjs.Flash.getEmbedCode(swf, flashVars, params, attributes),\n\n      // Get element by embedding code and retrieving created element\n      obj = vjs.createEl('div', { innerHTML: code }).childNodes[0],\n\n      par = placeHolder.parentNode\n  ;\n\n  placeHolder.parentNode.replaceChild(obj, placeHolder);\n  obj[vjs.expando] = placeHolder[vjs.expando];\n\n  // IE6 seems to have an issue where it won't initialize the swf object after injecting it.\n  // This is a dumb fix\n  var newObj = par.childNodes[0];\n  setTimeout(function(){\n    newObj.style.display = 'block';\n  }, 1000);\n\n  return obj;\n\n};\n\nvjs.Flash.getEmbedCode = function(swf, flashVars, params, attributes){\n\n  var objTag = '<object type=\"application/x-shockwave-flash\" ',\n      flashVarsString = '',\n      paramsString = '',\n      attrsString = '';\n\n  // Convert flash vars to string\n  if (flashVars) {\n    vjs.obj.each(flashVars, function(key, val){\n      flashVarsString += (key + '=' + val + '&amp;');\n    });\n  }\n\n  // Add swf, flashVars, and other default params\n  params = vjs.obj.merge({\n    'movie': swf,\n    'flashvars': flashVarsString,\n    'allowScriptAccess': 'always', // Required to talk to swf\n    'allowNetworking': 'all' // All should be default, but having security issues.\n  }, params);\n\n  // Create param tags string\n  vjs.obj.each(params, function(key, val){\n    paramsString += '<param name=\"'+key+'\" value=\"'+val+'\" />';\n  });\n\n  attributes = vjs.obj.merge({\n    // Add swf to attributes (need both for IE and Others to work)\n    'data': swf,\n\n    // Default to 100% width/height\n    'width': '100%',\n    'height': '100%'\n\n  }, attributes);\n\n  // Create Attributes string\n  vjs.obj.each(attributes, function(key, val){\n    attrsString += (key + '=\"' + val + '\" ');\n  });\n\n  return objTag + attrsString + '>' + paramsString + '</object>';\n};\nvjs.Flash.streamingFormats = {\n  'rtmp/mp4': 'MP4',\n  'rtmp/flv': 'FLV'\n};\n\nvjs.Flash.streamFromParts = function(connection, stream) {\n  return connection + '&' + stream;\n};\n\nvjs.Flash.streamToParts = function(src) {\n  var parts = {\n    connection: '',\n    stream: ''\n  };\n\n  if (! src) {\n    return parts;\n  }\n\n  // Look for the normal URL separator we expect, '&'.\n  // If found, we split the URL into two pieces around the\n  // first '&'.\n  var connEnd = src.indexOf('&');\n  var streamBegin;\n  if (connEnd !== -1) {\n    streamBegin = connEnd + 1;\n  }\n  else {\n    // If there's not a '&', we use the last '/' as the delimiter.\n    connEnd = streamBegin = src.lastIndexOf('/') + 1;\n    if (connEnd === 0) {\n      // really, there's not a '/'?\n      connEnd = streamBegin = src.length;\n    }\n  }\n  parts.connection = src.substring(0, connEnd);\n  parts.stream = src.substring(streamBegin, src.length);\n\n  return parts;\n};\n\nvjs.Flash.isStreamingType = function(srcType) {\n  return srcType in vjs.Flash.streamingFormats;\n};\n\n// RTMP has four variations, any string starting\n// with one of these protocols should be valid\nvjs.Flash.RTMP_RE = /^rtmp[set]?:\\/\\//i;\n\nvjs.Flash.isStreamingSrc = function(src) {\n  return vjs.Flash.RTMP_RE.test(src);\n};\n\n/**\n * A source handler for RTMP urls\n * @type {Object}\n */\nvjs.Flash.rtmpSourceHandler = {};\n\n/**\n * Check Flash can handle the source natively\n * @param  {Object} source  The source object\n * @return {String}         'probably', 'maybe', or '' (empty string)\n */\nvjs.Flash.rtmpSourceHandler['canHandleSource'] = function(source){\n  if (vjs.Flash.isStreamingType(source.type) || vjs.Flash.isStreamingSrc(source.src)) {\n    return 'maybe';\n  }\n\n  return '';\n};\n\n/**\n * Pass the source to the flash object\n * Adaptive source handlers will have more complicated workflows before passing\n * video data to the video element\n * @param  {Object} source    The source object\n * @param  {vjs.Flash} tech   The instance of the Flash tech\n */\nvjs.Flash.rtmpSourceHandler['handleSource'] = function(source, tech){\n  var srcParts = vjs.Flash.streamToParts(source.src);\n\n  tech['setRtmpConnection'](srcParts.connection);\n  tech['setRtmpStream'](srcParts.stream);\n};\n\n// Register the native source handler\nvjs.Flash['registerSourceHandler'](vjs.Flash.rtmpSourceHandler);\n/**\n * The Media Loader is the component that decides which playback technology to load\n * when the player is initialized.\n *\n * @constructor\n */\nvjs.MediaLoader = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.Component.call(this, player, options, ready);\n\n    // If there are no sources when the player is initialized,\n    // load the first supported playback technology.\n    if (!player.options_['sources'] || player.options_['sources'].length === 0) {\n      for (var i=0,j=player.options_['techOrder']; i<j.length; i++) {\n        var techName = vjs.capitalize(j[i]),\n            tech = window['videojs'][techName];\n\n        // Check if the browser supports this technology\n        if (tech && tech.isSupported()) {\n          player.loadTech(techName);\n          break;\n        }\n      }\n    } else {\n      // // Loop through playback technologies (HTML5, Flash) and check for support.\n      // // Then load the best source.\n      // // A few assumptions here:\n      // //   All playback technologies respect preload false.\n      player.src(player.options_['sources']);\n    }\n  }\n});\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n *\n * enum TextTrackMode { \"disabled\",  \"hidden\",  \"showing\" };\n */\nvjs.TextTrackMode = {\n  'disabled': 'disabled',\n  'hidden': 'hidden',\n  'showing': 'showing'\n};\n\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackkind\n *\n * enum TextTrackKind { \"subtitles\",  \"captions\",  \"descriptions\",  \"chapters\",  \"metadata\" };\n */\nvjs.TextTrackKind = {\n  'subtitles': 'subtitles',\n  'captions': 'captions',\n  'descriptions': 'descriptions',\n  'chapters': 'chapters',\n  'metadata': 'metadata'\n};\n(function() {\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack\n *\n * interface TextTrack : EventTarget {\n *   readonly attribute TextTrackKind kind;\n *   readonly attribute DOMString label;\n *   readonly attribute DOMString language;\n *\n *   readonly attribute DOMString id;\n *   readonly attribute DOMString inBandMetadataTrackDispatchType;\n *\n *   attribute TextTrackMode mode;\n *\n *   readonly attribute TextTrackCueList? cues;\n *   readonly attribute TextTrackCueList? activeCues;\n *\n *   void addCue(TextTrackCue cue);\n *   void removeCue(TextTrackCue cue);\n *\n *   attribute EventHandler oncuechange;\n * };\n */\n\nvjs.TextTrack = function(options) {\n  var tt, id, mode, kind, label, language, cues, activeCues, timeupdateHandler, changed, prop;\n\n  options = options || {};\n\n  if (!options['player']) {\n    throw new Error('A player was not provided.');\n  }\n\n  tt = this;\n  if (vjs.IS_IE8) {\n    tt = document.createElement('custom');\n\n    for (prop in vjs.TextTrack.prototype) {\n      tt[prop] = vjs.TextTrack.prototype[prop];\n    }\n  }\n\n  tt.player_ = options['player'];\n\n  mode = vjs.TextTrackMode[options['mode']] || 'disabled';\n  kind = vjs.TextTrackKind[options['kind']] || 'subtitles';\n  label = options['label'] || '';\n  language = options['language'] || options['srclang'] || '';\n  id = options['id'] || 'vjs_text_track_' + vjs.guid++;\n\n  if (kind === 'metadata' || kind === 'chapters') {\n    mode = 'hidden';\n  }\n\n  tt.cues_ = [];\n  tt.activeCues_ = [];\n\n  cues = new vjs.TextTrackCueList(tt.cues_);\n  activeCues = new vjs.TextTrackCueList(tt.activeCues_);\n\n  changed = false;\n  timeupdateHandler = vjs.bind(tt, function() {\n    this['activeCues'];\n    if (changed) {\n      this['trigger']('cuechange');\n      changed = false;\n    }\n  });\n  if (mode !== 'disabled') {\n    tt.player_.on('timeupdate', timeupdateHandler);\n  }\n\n  Object.defineProperty(tt, 'kind', {\n    get: function() {\n      return kind;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'label', {\n    get: function() {\n      return label;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'language', {\n    get: function() {\n      return language;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'id', {\n    get: function() {\n      return id;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'mode', {\n    get: function() {\n      return mode;\n    },\n    set: function(newMode) {\n      if (!vjs.TextTrackMode[newMode]) {\n        return;\n      }\n      mode = newMode;\n      if (mode === 'showing') {\n        this.player_.on('timeupdate', timeupdateHandler);\n      }\n      this.trigger('modechange');\n    }\n  });\n\n  Object.defineProperty(tt, 'cues', {\n    get: function() {\n      if (!this.loaded_) {\n        return null;\n      }\n\n      return cues;\n    },\n    set: Function.prototype\n  });\n\n  Object.defineProperty(tt, 'activeCues', {\n    get: function() {\n      var i, l, active, ct, cue;\n\n      if (!this.loaded_) {\n        return null;\n      }\n\n      if (this['cues'].length === 0) {\n        return activeCues; // nothing to do\n      }\n\n      ct = this.player_.currentTime();\n      i = 0;\n      l = this['cues'].length;\n      active = [];\n\n      for (; i < l; i++) {\n        cue = this['cues'][i];\n        if (cue['startTime'] <= ct && cue['endTime'] >= ct) {\n          active.push(cue);\n        } else if (cue['startTime'] === cue['endTime'] && cue['startTime'] <= ct && cue['startTime'] + 0.5 >= ct) {\n          active.push(cue);\n        }\n      }\n\n      changed = false;\n\n      if (active.length !== this.activeCues_.length) {\n        changed = true;\n      } else {\n        for (i = 0; i < active.length; i++) {\n          if (indexOf.call(this.activeCues_, active[i]) === -1) {\n            changed = true;\n          }\n        }\n      }\n\n      this.activeCues_ = active;\n      activeCues.setCues_(this.activeCues_);\n\n      return activeCues;\n    },\n    set: Function.prototype\n  });\n\n  if (options.src) {\n    loadTrack(options.src, tt);\n  } else {\n    tt.loaded_ = true;\n  }\n\n  if (vjs.IS_IE8) {\n    return tt;\n  }\n};\n\nvjs.TextTrack.prototype = vjs.obj.create(vjs.EventEmitter.prototype);\nvjs.TextTrack.prototype.constructor = vjs.TextTrack;\n\n/*\n * cuechange - One or more cues in the track have become active or stopped being active.\n */\nvjs.TextTrack.prototype.allowedEvents_ = {\n  'cuechange': 'cuechange'\n};\n\nvjs.TextTrack.prototype.addCue = function(cue) {\n  var tracks = this.player_.textTracks(),\n      i = 0;\n\n  if (tracks) {\n    for (; i < tracks.length; i++) {\n      if (tracks[i] !== this) {\n        tracks[i].removeCue(cue);\n      }\n    }\n  }\n\n  this.cues_.push(cue);\n  this['cues'].setCues_(this.cues_);\n};\n\nvjs.TextTrack.prototype.removeCue = function(removeCue) {\n  var i = 0,\n      l = this.cues_.length,\n      cue,\n      removed = false;\n\n  for (; i < l; i++) {\n    cue = this.cues_[i];\n    if (cue === removeCue) {\n      this.cues_.splice(i, 1);\n      removed = true;\n    }\n  }\n\n  if (removed) {\n    this.cues.setCues_(this.cues_);\n  }\n};\n\n/*\n * Downloading stuff happens below this point\n */\nvar loadTrack, parseCues, indexOf;\n\nloadTrack = function(src, track) {\n  vjs.xhr(src, vjs.bind(this, function(err, response, responseBody){\n    if (err) {\n      return vjs.log.error(err);\n    }\n\n\n    track.loaded_ = true;\n    parseCues(responseBody, track);\n  }));\n};\n\nparseCues = function(srcContent, track) {\n  if (typeof window['WebVTT'] !== 'function') {\n    //try again a bit later\n    return window.setTimeout(function() {\n      parseCues(srcContent, track);\n    }, 25);\n  }\n\n  var parser = new window['WebVTT']['Parser'](window, window['vttjs'], window['WebVTT']['StringDecoder']());\n\n  parser['oncue'] = function(cue) {\n    track.addCue(cue);\n  };\n  parser['onparsingerror'] = function(error) {\n    vjs.log.error(error);\n  };\n\n  parser['parse'](srcContent);\n  parser['flush']();\n};\n\nindexOf = function(searchElement, fromIndex) {\n\n  var k;\n\n  if (this == null) {\n    throw new TypeError('\"this\" is null or not defined');\n  }\n\n  var O = Object(this);\n\n  var len = O.length >>> 0;\n\n  if (len === 0) {\n    return -1;\n  }\n\n  var n = +fromIndex || 0;\n\n  if (Math.abs(n) === Infinity) {\n    n = 0;\n  }\n\n  if (n >= len) {\n    return -1;\n  }\n\n  k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n  while (k < len) {\n    if (k in O && O[k] === searchElement) {\n      return k;\n    }\n    k++;\n  }\n  return -1;\n};\n\n})();\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist\n *\n * interface TextTrackList : EventTarget {\n *   readonly attribute unsigned long length;\n *   getter TextTrack (unsigned long index);\n *   TextTrack? getTrackById(DOMString id);\n * \n *   attribute EventHandler onchange;\n *   attribute EventHandler onaddtrack;\n *   attribute EventHandler onremovetrack;\n * };\n */\nvjs.TextTrackList = function(tracks) {\n  var list = this,\n      prop,\n      i = 0;\n\n  if (vjs.IS_IE8) {\n    list = document.createElement('custom');\n\n    for (prop in vjs.TextTrackList.prototype) {\n      list[prop] = vjs.TextTrackList.prototype[prop];\n    }\n  }\n\n  tracks = tracks || [];\n  list.tracks_ = [];\n\n  Object.defineProperty(list, 'length', {\n    get: function() {\n      return this.tracks_.length;\n    }\n  });\n\n  for (; i < tracks.length; i++) {\n    list.addTrack_(tracks[i]);\n  }\n\n  if (vjs.IS_IE8) {\n    return list;\n  }\n};\n\nvjs.TextTrackList.prototype = vjs.obj.create(vjs.EventEmitter.prototype);\nvjs.TextTrackList.prototype.constructor = vjs.TextTrackList;\n\n/*\n * change - One or more tracks in the track list have been enabled or disabled.\n * addtrack - A track has been added to the track list.\n * removetrack - A track has been removed from the track list.\n*/\nvjs.TextTrackList.prototype.allowedEvents_ = {\n  'change': 'change',\n  'addtrack': 'addtrack',\n  'removetrack': 'removetrack'\n};\n\n// emulate attribute EventHandler support to allow for feature detection\n(function() {\n  var event;\n\n  for (event in vjs.TextTrackList.prototype.allowedEvents_) {\n    vjs.TextTrackList.prototype['on' + event] = null;\n  }\n})();\n\nvjs.TextTrackList.prototype.addTrack_ = function(track) {\n  var index = this.tracks_.length;\n  if (!(''+index in this)) {\n    Object.defineProperty(this, index, {\n      get: function() {\n        return this.tracks_[index];\n      }\n    });\n  }\n\n  track.addEventListener('modechange', vjs.bind(this, function() {\n    this.trigger('change');\n  }));\n  this.tracks_.push(track);\n\n  this.trigger({\n    type: 'addtrack',\n    track: track\n  });\n};\n\nvjs.TextTrackList.prototype.removeTrack_ = function(rtrack) {\n  var i = 0,\n      l = this.length,\n      result = null,\n      track;\n\n  for (; i < l; i++) {\n    track = this[i];\n    if (track === rtrack) {\n      this.tracks_.splice(i, 1);\n      break;\n    }\n  }\n\n  this.trigger({\n    type: 'removetrack',\n    track: rtrack\n  });\n};\n\nvjs.TextTrackList.prototype.getTrackById = function(id) {\n  var i = 0,\n      l = this.length,\n      result = null,\n      track;\n\n  for (; i < l; i++) {\n    track = this[i];\n    if (track.id === id) {\n      result = track;\n      break;\n    }\n  }\n\n  return result;\n};\n/*\n * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist\n *\n * interface TextTrackCueList {\n *   readonly attribute unsigned long length;\n *   getter TextTrackCue (unsigned long index);\n *   TextTrackCue? getCueById(DOMString id);\n * };\n */\n\nvjs.TextTrackCueList = function(cues) {\n  var list = this,\n      prop;\n\n  if (vjs.IS_IE8) {\n    list = document.createElement('custom');\n\n    for (prop in vjs.TextTrackCueList.prototype) {\n      list[prop] = vjs.TextTrackCueList.prototype[prop];\n    }\n  }\n\n  vjs.TextTrackCueList.prototype.setCues_.call(list, cues);\n\n  Object.defineProperty(list, 'length', {\n    get: function() {\n      return this.length_;\n    }\n  });\n\n  if (vjs.IS_IE8) {\n    return list;\n  }\n};\n\nvjs.TextTrackCueList.prototype.setCues_ = function(cues) {\n  var oldLength = this.length || 0,\n      i = 0,\n      l = cues.length,\n      defineProp;\n\n  this.cues_ = cues;\n  this.length_ = cues.length;\n\n  defineProp = function(i) {\n    if (!(''+i in this)) {\n      Object.defineProperty(this, '' + i, {\n        get: function() {\n          return this.cues_[i];\n        }\n      });\n    }\n  };\n\n  if (oldLength < l) {\n    i = oldLength;\n    for(; i < l; i++) {\n      defineProp.call(this, i);\n    }\n  }\n};\n\nvjs.TextTrackCueList.prototype.getCueById = function(id) {\n  var i = 0,\n      l = this.length,\n      result = null,\n      cue;\n\n  for (; i < l; i++) {\n    cue = this[i];\n    if (cue.id === id) {\n      result = cue;\n      break;\n    }\n  }\n\n  return result;\n};\n(function() {\n'use strict';\n\n/* Text Track Display\n============================================================================= */\n// Global container for both subtitle and captions text. Simple div container.\n\n/**\n * The component for displaying text track cues\n *\n * @constructor\n */\nvjs.TextTrackDisplay = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.Component.call(this, player, options, ready);\n\n    player.on('loadstart', vjs.bind(this, this.toggleDisplay));\n\n    // This used to be called during player init, but was causing an error\n    // if a track should show by default and the display hadn't loaded yet.\n    // Should probably be moved to an external track loader when we support\n    // tracks that don't need a display.\n    player.ready(vjs.bind(this, function() {\n      if (player.tech && player.tech['featuresNativeTextTracks']) {\n        this.hide();\n        return;\n      }\n\n      var i, tracks, track;\n\n      player.on('fullscreenchange', vjs.bind(this, this.updateDisplay));\n\n      tracks = player.options_['tracks'] || [];\n      for (i = 0; i < tracks.length; i++) {\n        track = tracks[i];\n        this.player_.addRemoteTextTrack(track);\n      }\n    }));\n  }\n});\n\nvjs.TextTrackDisplay.prototype.toggleDisplay = function() {\n  if (this.player_.tech && this.player_.tech['featuresNativeTextTracks']) {\n    this.hide();\n  } else {\n    this.show();\n  }\n};\n\nvjs.TextTrackDisplay.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-text-track-display'\n  });\n};\n\nvjs.TextTrackDisplay.prototype.clearDisplay = function() {\n  if (typeof window['WebVTT'] === 'function') {\n    window['WebVTT']['processCues'](window, [], this.el_);\n  }\n};\n\n// Add cue HTML to display\nvar constructColor = function(color, opacity) {\n  return 'rgba(' +\n    // color looks like \"#f0e\"\n    parseInt(color[1] + color[1], 16) + ',' +\n    parseInt(color[2] + color[2], 16) + ',' +\n    parseInt(color[3] + color[3], 16) + ',' +\n    opacity + ')';\n};\nvar darkGray = '#222';\nvar lightGray = '#ccc';\nvar fontMap = {\n  monospace:             'monospace',\n  sansSerif:             'sans-serif',\n  serif:                 'serif',\n  monospaceSansSerif:    '\"Andale Mono\", \"Lucida Console\", monospace',\n  monospaceSerif:        '\"Courier New\", monospace',\n  proportionalSansSerif: 'sans-serif',\n  proportionalSerif:     'serif',\n  casual:                '\"Comic Sans MS\", Impact, fantasy',\n  script:                '\"Monotype Corsiva\", cursive',\n  smallcaps:             '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n};\nvar tryUpdateStyle = function(el, style, rule) {\n  // some style changes will throw an error, particularly in IE8. Those should be noops.\n  try {\n    el.style[style] = rule;\n  } catch (e) {}\n};\n\nvjs.TextTrackDisplay.prototype.updateDisplay = function() {\n  var tracks = this.player_.textTracks(),\n      i = 0,\n      track;\n\n  this.clearDisplay();\n\n  if (!tracks) {\n    return;\n  }\n\n  for (; i < tracks.length; i++) {\n    track = tracks[i];\n    if (track['mode'] === 'showing') {\n      this.updateForTrack(track);\n    }\n  }\n};\n\nvjs.TextTrackDisplay.prototype.updateForTrack = function(track) {\n  if (typeof window['WebVTT'] !== 'function' || !track['activeCues']) {\n    return;\n  }\n\n  var i = 0,\n      property,\n      cueDiv,\n      overrides = this.player_['textTrackSettings'].getValues(),\n      fontSize,\n      cues = [];\n\n  for (; i < track['activeCues'].length; i++) {\n    cues.push(track['activeCues'][i]);\n  }\n\n  window['WebVTT']['processCues'](window, track['activeCues'], this.el_);\n\n  i = cues.length;\n  while (i--) {\n    cueDiv = cues[i].displayState;\n    if (overrides.color) {\n      cueDiv.firstChild.style.color = overrides.color;\n    }\n    if (overrides.textOpacity) {\n      tryUpdateStyle(cueDiv.firstChild,\n                     'color',\n                     constructColor(overrides.color || '#fff',\n                                    overrides.textOpacity));\n    }\n    if (overrides.backgroundColor) {\n      cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n    }\n    if (overrides.backgroundOpacity) {\n      tryUpdateStyle(cueDiv.firstChild,\n                     'backgroundColor',\n                     constructColor(overrides.backgroundColor || '#000',\n                                    overrides.backgroundOpacity));\n    }\n    if (overrides.windowColor) {\n      if (overrides.windowOpacity) {\n        tryUpdateStyle(cueDiv,\n                       'backgroundColor',\n                       constructColor(overrides.windowColor, overrides.windowOpacity));\n      } else {\n        cueDiv.style.backgroundColor = overrides.windowColor;\n      }\n    }\n    if (overrides.edgeStyle) {\n      if (overrides.edgeStyle === 'dropshadow') {\n        cueDiv.firstChild.style.textShadow = '2px 2px 3px ' + darkGray + ', 2px 2px 4px ' + darkGray + ', 2px 2px 5px ' + darkGray;\n      } else if (overrides.edgeStyle === 'raised') {\n        cueDiv.firstChild.style.textShadow = '1px 1px ' + darkGray + ', 2px 2px ' + darkGray + ', 3px 3px ' + darkGray;\n      } else if (overrides.edgeStyle === 'depressed') {\n        cueDiv.firstChild.style.textShadow = '1px 1px ' + lightGray + ', 0 1px ' + lightGray + ', -1px -1px ' + darkGray + ', 0 -1px ' + darkGray;\n      } else if (overrides.edgeStyle === 'uniform') {\n        cueDiv.firstChild.style.textShadow = '0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray;\n      }\n    }\n    if (overrides.fontPercent && overrides.fontPercent !== 1) {\n      fontSize = window.parseFloat(cueDiv.style.fontSize);\n      cueDiv.style.fontSize = (fontSize * overrides.fontPercent) + 'px';\n      cueDiv.style.height = 'auto';\n      cueDiv.style.top = 'auto';\n      cueDiv.style.bottom = '2px';\n    }\n    if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n      if (overrides.fontFamily === 'small-caps') {\n        cueDiv.firstChild.style.fontVariant = 'small-caps';\n      } else {\n        cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n      }\n    }\n  }\n};\n\n\n/**\n * The specific menu item type for selecting a language within a text track kind\n *\n * @constructor\n */\nvjs.TextTrackMenuItem = vjs.MenuItem.extend({\n  /** @constructor */\n  init: function(player, options){\n    var track = this.track = options['track'],\n        tracks = player.textTracks(),\n        changeHandler,\n        event;\n\n    if (tracks) {\n      changeHandler = vjs.bind(this, function() {\n        var selected = this.track['mode'] === 'showing',\n            track,\n            i,\n            l;\n\n        if (this instanceof vjs.OffTextTrackMenuItem) {\n          selected = true;\n\n          i = 0,\n          l = tracks.length;\n\n          for (; i < l; i++) {\n            track = tracks[i];\n            if (track['kind'] === this.track['kind'] && track['mode'] === 'showing') {\n              selected = false;\n              break;\n            }\n          }\n        }\n\n        this.selected(selected);\n      });\n      tracks.addEventListener('change', changeHandler);\n      player.on('dispose', function() {\n        tracks.removeEventListener('change', changeHandler);\n      });\n    }\n\n    // Modify options for parent MenuItem class's init.\n    options['label'] = track['label'] || track['language'] || 'Unknown';\n    options['selected'] = track['default'] || track['mode'] === 'showing';\n    vjs.MenuItem.call(this, player, options);\n\n    // iOS7 doesn't dispatch change events to TextTrackLists when an\n    // associated track's mode changes. Without something like\n    // Object.observe() (also not present on iOS7), it's not\n    // possible to detect changes to the mode attribute and polyfill\n    // the change event. As a poor substitute, we manually dispatch\n    // change events whenever the controls modify the mode.\n    if (tracks && tracks.onchange === undefined) {\n      this.on(['tap', 'click'], function() {\n        if (typeof window.Event !== 'object') {\n          // Android 2.3 throws an Illegal Constructor error for window.Event\n          try {\n            event = new window.Event('change');\n          } catch(err){}\n        }\n\n        if (!event) {\n          event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n        }\n\n        tracks.dispatchEvent(event);\n      });\n    }\n  }\n});\n\nvjs.TextTrackMenuItem.prototype.onClick = function(){\n  var kind = this.track['kind'],\n      tracks = this.player_.textTracks(),\n      mode,\n      track,\n      i = 0;\n\n  vjs.MenuItem.prototype.onClick.call(this);\n\n  if (!tracks) {\n    return;\n  }\n\n  for (; i < tracks.length; i++) {\n    track = tracks[i];\n\n    if (track['kind'] !== kind) {\n      continue;\n    }\n\n    if (track === this.track) {\n      track['mode'] = 'showing';\n    } else {\n      track['mode'] = 'disabled';\n    }\n  }\n};\n\n/**\n * A special menu item for turning of a specific type of text track\n *\n * @constructor\n */\nvjs.OffTextTrackMenuItem = vjs.TextTrackMenuItem.extend({\n  /** @constructor */\n  init: function(player, options){\n    // Create pseudo track info\n    // Requires options['kind']\n    options['track'] = {\n      'kind': options['kind'],\n      'player': player,\n      'label': options['kind'] + ' off',\n      'default': false,\n      'mode': 'disabled'\n    };\n    vjs.TextTrackMenuItem.call(this, player, options);\n    this.selected(true);\n  }\n});\n\nvjs.CaptionSettingsMenuItem = vjs.TextTrackMenuItem.extend({\n  init: function(player, options) {\n    options['track'] = {\n      'kind': options['kind'],\n      'player': player,\n      'label': options['kind'] + ' settings',\n      'default': false,\n      mode: 'disabled'\n    };\n\n    vjs.TextTrackMenuItem.call(this, player, options);\n    this.addClass('vjs-texttrack-settings');\n  }\n});\n\nvjs.CaptionSettingsMenuItem.prototype.onClick = function() {\n  this.player().getChild('textTrackSettings').show();\n};\n\n/**\n * The base class for buttons that toggle specific text track types (e.g. subtitles)\n *\n * @constructor\n */\nvjs.TextTrackButton = vjs.MenuButton.extend({\n  /** @constructor */\n  init: function(player, options){\n    var tracks, updateHandler;\n\n    vjs.MenuButton.call(this, player, options);\n\n    tracks = this.player_.textTracks();\n\n    if (this.items.length <= 1) {\n      this.hide();\n    }\n\n    if (!tracks) {\n      return;\n    }\n\n    updateHandler = vjs.bind(this, this.update);\n    tracks.addEventListener('removetrack', updateHandler);\n    tracks.addEventListener('addtrack', updateHandler);\n\n    this.player_.on('dispose', function() {\n      tracks.removeEventListener('removetrack', updateHandler);\n      tracks.removeEventListener('addtrack', updateHandler);\n    });\n  }\n});\n\n// Create a menu item for each text track\nvjs.TextTrackButton.prototype.createItems = function(){\n  var items = [], track, tracks;\n\n  if (this instanceof vjs.CaptionsButton && !(this.player().tech && this.player().tech['featuresNativeTextTracks'])) {\n    items.push(new vjs.CaptionSettingsMenuItem(this.player_, { 'kind': this.kind_ }));\n  }\n\n  // Add an OFF menu item to turn all tracks off\n  items.push(new vjs.OffTextTrackMenuItem(this.player_, { 'kind': this.kind_ }));\n\n  tracks = this.player_.textTracks();\n\n  if (!tracks) {\n    return items;\n  }\n\n  for (var i = 0; i < tracks.length; i++) {\n    track = tracks[i];\n\n    // only add tracks that are of the appropriate kind and have a label\n    if (track['kind'] === this.kind_) {\n      items.push(new vjs.TextTrackMenuItem(this.player_, {\n        'track': track\n      }));\n    }\n  }\n\n  return items;\n};\n\n/**\n * The button component for toggling and selecting captions\n *\n * @constructor\n */\nvjs.CaptionsButton = vjs.TextTrackButton.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.TextTrackButton.call(this, player, options, ready);\n    this.el_.setAttribute('aria-label','Captions Menu');\n  }\n});\nvjs.CaptionsButton.prototype.kind_ = 'captions';\nvjs.CaptionsButton.prototype.buttonText = 'Captions';\nvjs.CaptionsButton.prototype.className = 'vjs-captions-button';\n\nvjs.CaptionsButton.prototype.update = function() {\n  var threshold = 2;\n  vjs.TextTrackButton.prototype.update.call(this);\n\n  // if native, then threshold is 1 because no settings button\n  if (this.player().tech && this.player().tech['featuresNativeTextTracks']) {\n    threshold = 1;\n  }\n\n  if (this.items && this.items.length > threshold) {\n    this.show();\n  } else {\n    this.hide();\n  }\n};\n\n/**\n * The button component for toggling and selecting subtitles\n *\n * @constructor\n */\nvjs.SubtitlesButton = vjs.TextTrackButton.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.TextTrackButton.call(this, player, options, ready);\n    this.el_.setAttribute('aria-label','Subtitles Menu');\n  }\n});\nvjs.SubtitlesButton.prototype.kind_ = 'subtitles';\nvjs.SubtitlesButton.prototype.buttonText = 'Subtitles';\nvjs.SubtitlesButton.prototype.className = 'vjs-subtitles-button';\n\n// Chapters act much differently than other text tracks\n// Cues are navigation vs. other tracks of alternative languages\n/**\n * The button component for toggling and selecting chapters\n *\n * @constructor\n */\nvjs.ChaptersButton = vjs.TextTrackButton.extend({\n  /** @constructor */\n  init: function(player, options, ready){\n    vjs.TextTrackButton.call(this, player, options, ready);\n    this.el_.setAttribute('aria-label','Chapters Menu');\n  }\n});\nvjs.ChaptersButton.prototype.kind_ = 'chapters';\nvjs.ChaptersButton.prototype.buttonText = 'Chapters';\nvjs.ChaptersButton.prototype.className = 'vjs-chapters-button';\n\n// Create a menu item for each text track\nvjs.ChaptersButton.prototype.createItems = function(){\n  var items = [], track, tracks;\n\n  tracks = this.player_.textTracks();\n\n  if (!tracks) {\n    return items;\n  }\n\n  for (var i = 0; i < tracks.length; i++) {\n    track = tracks[i];\n    if (track['kind'] === this.kind_) {\n      items.push(new vjs.TextTrackMenuItem(this.player_, {\n        'track': track\n      }));\n    }\n  }\n\n  return items;\n};\n\nvjs.ChaptersButton.prototype.createMenu = function(){\n  var tracks = this.player_.textTracks() || [],\n      i = 0,\n      l = tracks.length,\n      track, chaptersTrack,\n      items = this.items = [];\n\n  for (; i < l; i++) {\n    track = tracks[i];\n    if (track['kind'] == this.kind_) {\n      if (!track.cues) {\n        track['mode'] = 'hidden';\n        /* jshint loopfunc:true */\n        // TODO see if we can figure out a better way of doing this https://github.com/videojs/video.js/issues/1864\n        window.setTimeout(vjs.bind(this, function() {\n          this.createMenu();\n        }), 100);\n        /* jshint loopfunc:false */\n      } else {\n        chaptersTrack = track;\n        break;\n      }\n    }\n  }\n\n  var menu = this.menu;\n  if (menu === undefined) {\n    menu = new vjs.Menu(this.player_);\n    menu.contentEl().appendChild(vjs.createEl('li', {\n      className: 'vjs-menu-title',\n      innerHTML: vjs.capitalize(this.kind_),\n      tabindex: -1\n    }));\n  }\n\n  if (chaptersTrack) {\n    var cues = chaptersTrack['cues'], cue, mi;\n    i = 0;\n    l = cues.length;\n\n    for (; i < l; i++) {\n      cue = cues[i];\n\n      mi = new vjs.ChaptersTrackMenuItem(this.player_, {\n        'track': chaptersTrack,\n        'cue': cue\n      });\n\n      items.push(mi);\n\n      menu.addChild(mi);\n    }\n    this.addChild(menu);\n  }\n\n  if (this.items.length > 0) {\n    this.show();\n  }\n\n  return menu;\n};\n\n\n/**\n * @constructor\n */\nvjs.ChaptersTrackMenuItem = vjs.MenuItem.extend({\n  /** @constructor */\n  init: function(player, options){\n    var track = this.track = options['track'],\n        cue = this.cue = options['cue'],\n        currentTime = player.currentTime();\n\n    // Modify options for parent MenuItem class's init.\n    options['label'] = cue.text;\n    options['selected'] = (cue['startTime'] <= currentTime && currentTime < cue['endTime']);\n    vjs.MenuItem.call(this, player, options);\n\n    track.addEventListener('cuechange', vjs.bind(this, this.update));\n  }\n});\n\nvjs.ChaptersTrackMenuItem.prototype.onClick = function(){\n  vjs.MenuItem.prototype.onClick.call(this);\n  this.player_.currentTime(this.cue.startTime);\n  this.update(this.cue.startTime);\n};\n\nvjs.ChaptersTrackMenuItem.prototype.update = function(){\n  var cue = this.cue,\n      currentTime = this.player_.currentTime();\n\n  // vjs.log(currentTime, cue.startTime);\n  this.selected(cue['startTime'] <= currentTime && currentTime < cue['endTime']);\n};\n})();\n(function() {\n  'use strict';\n\n  vjs.TextTrackSettings = vjs.Component.extend({\n    init: function(player, options) {\n      vjs.Component.call(this, player, options);\n      this.hide();\n\n      vjs.on(this.el().querySelector('.vjs-done-button'), 'click', vjs.bind(this, function() {\n        this.saveSettings();\n        this.hide();\n      }));\n\n      vjs.on(this.el().querySelector('.vjs-default-button'), 'click', vjs.bind(this, function() {\n        this.el().querySelector('.vjs-fg-color > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-bg-color > select').selectedIndex = 0;\n        this.el().querySelector('.window-color > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-text-opacity > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-bg-opacity > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-window-opacity > select').selectedIndex = 0;\n        this.el().querySelector('.vjs-edge-style select').selectedIndex = 0;\n        this.el().querySelector('.vjs-font-family select').selectedIndex = 0;\n        this.el().querySelector('.vjs-font-percent select').selectedIndex = 2;\n        this.updateDisplay();\n      }));\n\n      vjs.on(this.el().querySelector('.vjs-fg-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-bg-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.window-color > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-text-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-bg-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-window-opacity > select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-font-percent select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-edge-style select'), 'change', vjs.bind(this, this.updateDisplay));\n      vjs.on(this.el().querySelector('.vjs-font-family select'), 'change', vjs.bind(this, this.updateDisplay));\n\n      if (player.options()['persistTextTrackSettings']) {\n        this.restoreSettings();\n      }\n    }\n  });\n\n  vjs.TextTrackSettings.prototype.createEl = function() {\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-caption-settings vjs-modal-overlay',\n      innerHTML: captionOptionsMenuTemplate()\n    });\n  };\n\n  vjs.TextTrackSettings.prototype.getValues = function() {\n    var el, bgOpacity, textOpacity, windowOpacity, textEdge, fontFamily, fgColor, bgColor, windowColor, result, name, fontPercent;\n\n    el = this.el();\n\n    textEdge = getSelectedOptionValue(el.querySelector('.vjs-edge-style select'));\n    fontFamily = getSelectedOptionValue(el.querySelector('.vjs-font-family select'));\n    fgColor = getSelectedOptionValue(el.querySelector('.vjs-fg-color > select'));\n    textOpacity = getSelectedOptionValue(el.querySelector('.vjs-text-opacity > select'));\n    bgColor = getSelectedOptionValue(el.querySelector('.vjs-bg-color > select'));\n    bgOpacity = getSelectedOptionValue(el.querySelector('.vjs-bg-opacity > select'));\n    windowColor = getSelectedOptionValue(el.querySelector('.window-color > select'));\n    windowOpacity = getSelectedOptionValue(el.querySelector('.vjs-window-opacity > select'));\n    fontPercent = window['parseFloat'](getSelectedOptionValue(el.querySelector('.vjs-font-percent > select')));\n\n    result = {\n      'backgroundOpacity': bgOpacity,\n      'textOpacity': textOpacity,\n      'windowOpacity': windowOpacity,\n      'edgeStyle': textEdge,\n      'fontFamily': fontFamily,\n      'color': fgColor,\n      'backgroundColor': bgColor,\n      'windowColor': windowColor,\n      'fontPercent': fontPercent\n    };\n    for (name in result) {\n      if (result[name] === '' || result[name] === 'none' || (name === 'fontPercent' && result[name] === 1.00)) {\n        delete result[name];\n      }\n    }\n    return result;\n  };\n\n  vjs.TextTrackSettings.prototype.setValues = function(values) {\n    var el = this.el(), fontPercent;\n\n    setSelectedOption(el.querySelector('.vjs-edge-style select'), values.edgeStyle);\n    setSelectedOption(el.querySelector('.vjs-font-family select'), values.fontFamily);\n    setSelectedOption(el.querySelector('.vjs-fg-color > select'), values.color);\n    setSelectedOption(el.querySelector('.vjs-text-opacity > select'), values.textOpacity);\n    setSelectedOption(el.querySelector('.vjs-bg-color > select'), values.backgroundColor);\n    setSelectedOption(el.querySelector('.vjs-bg-opacity > select'), values.backgroundOpacity);\n    setSelectedOption(el.querySelector('.window-color > select'), values.windowColor);\n    setSelectedOption(el.querySelector('.vjs-window-opacity > select'), values.windowOpacity);\n\n    fontPercent = values.fontPercent;\n\n    if (fontPercent) {\n      fontPercent = fontPercent.toFixed(2);\n    }\n\n    setSelectedOption(el.querySelector('.vjs-font-percent > select'), fontPercent);\n  };\n\n  vjs.TextTrackSettings.prototype.restoreSettings = function() {\n    var values;\n    try {\n      values = JSON.parse(window.localStorage.getItem('vjs-text-track-settings'));\n    } catch (e) {}\n\n    if (values) {\n      this.setValues(values);\n    }\n  };\n\n  vjs.TextTrackSettings.prototype.saveSettings = function() {\n    var values;\n\n    if (!this.player_.options()['persistTextTrackSettings']) {\n      return;\n    }\n\n    values = this.getValues();\n    try {\n      if (!vjs.isEmpty(values)) {\n        window.localStorage.setItem('vjs-text-track-settings', JSON.stringify(values));\n      } else {\n        window.localStorage.removeItem('vjs-text-track-settings');\n      }\n    } catch (e) {}\n  };\n\n  vjs.TextTrackSettings.prototype.updateDisplay = function() {\n    var ttDisplay = this.player_.getChild('textTrackDisplay');\n    if (ttDisplay) {\n      ttDisplay.updateDisplay();\n    }\n  };\n\n  function getSelectedOptionValue(target) {\n    var selectedOption;\n    // not all browsers support selectedOptions, so, fallback to options\n    if (target.selectedOptions) {\n      selectedOption = target.selectedOptions[0];\n    } else if (target.options) {\n      selectedOption = target.options[target.options.selectedIndex];\n    }\n\n    return selectedOption.value;\n  }\n\n  function setSelectedOption(target, value) {\n    var i, option;\n\n    if (!value) {\n      return;\n    }\n\n    for (i = 0; i < target.options.length; i++) {\n      option = target.options[i];\n      if (option.value === value) {\n        break;\n      }\n    }\n\n    target.selectedIndex = i;\n  }\n\n  function captionOptionsMenuTemplate() {\n    return '<div class=\"vjs-tracksettings\">' +\n        '<div class=\"vjs-tracksettings-colors\">' +\n          '<div class=\"vjs-fg-color vjs-tracksetting\">' +\n              '<label class=\"vjs-label\">Foreground</label>' +\n              '<select>' +\n                '<option value=\"\">---</option>' +\n                '<option value=\"#FFF\">White</option>' +\n                '<option value=\"#000\">Black</option>' +\n                '<option value=\"#F00\">Red</option>' +\n                '<option value=\"#0F0\">Green</option>' +\n                '<option value=\"#00F\">Blue</option>' +\n                '<option value=\"#FF0\">Yellow</option>' +\n                '<option value=\"#F0F\">Magenta</option>' +\n                '<option value=\"#0FF\">Cyan</option>' +\n              '</select>' +\n              '<span class=\"vjs-text-opacity vjs-opacity\">' +\n                '<select>' +\n                  '<option value=\"\">---</option>' +\n                  '<option value=\"1\">Opaque</option>' +\n                  '<option value=\"0.5\">Semi-Opaque</option>' +\n                '</select>' +\n              '</span>' +\n          '</div>' + // vjs-fg-color\n          '<div class=\"vjs-bg-color vjs-tracksetting\">' +\n              '<label class=\"vjs-label\">Background</label>' +\n              '<select>' +\n                '<option value=\"\">---</option>' +\n                '<option value=\"#FFF\">White</option>' +\n                '<option value=\"#000\">Black</option>' +\n                '<option value=\"#F00\">Red</option>' +\n                '<option value=\"#0F0\">Green</option>' +\n                '<option value=\"#00F\">Blue</option>' +\n                '<option value=\"#FF0\">Yellow</option>' +\n                '<option value=\"#F0F\">Magenta</option>' +\n                '<option value=\"#0FF\">Cyan</option>' +\n              '</select>' +\n              '<span class=\"vjs-bg-opacity vjs-opacity\">' +\n                  '<select>' +\n                    '<option value=\"\">---</option>' +\n                    '<option value=\"1\">Opaque</option>' +\n                    '<option value=\"0.5\">Semi-Transparent</option>' +\n                    '<option value=\"0\">Transparent</option>' +\n                  '</select>' +\n              '</span>' +\n          '</div>' + // vjs-bg-color\n          '<div class=\"window-color vjs-tracksetting\">' +\n              '<label class=\"vjs-label\">Window</label>' +\n              '<select>' +\n                '<option value=\"\">---</option>' +\n                '<option value=\"#FFF\">White</option>' +\n                '<option value=\"#000\">Black</option>' +\n                '<option value=\"#F00\">Red</option>' +\n                '<option value=\"#0F0\">Green</option>' +\n                '<option value=\"#00F\">Blue</option>' +\n                '<option value=\"#FF0\">Yellow</option>' +\n                '<option value=\"#F0F\">Magenta</option>' +\n                '<option value=\"#0FF\">Cyan</option>' +\n              '</select>' +\n              '<span class=\"vjs-window-opacity vjs-opacity\">' +\n                  '<select>' +\n                    '<option value=\"\">---</option>' +\n                    '<option value=\"1\">Opaque</option>' +\n                    '<option value=\"0.5\">Semi-Transparent</option>' +\n                    '<option value=\"0\">Transparent</option>' +\n                  '</select>' +\n              '</span>' +\n          '</div>' + // vjs-window-color\n        '</div>' + // vjs-tracksettings\n        '<div class=\"vjs-tracksettings-font\">' +\n          '<div class=\"vjs-font-percent vjs-tracksetting\">' +\n            '<label class=\"vjs-label\">Font Size</label>' +\n            '<select>' +\n              '<option value=\"0.50\">50%</option>' +\n              '<option value=\"0.75\">75%</option>' +\n              '<option value=\"1.00\" selected>100%</option>' +\n              '<option value=\"1.25\">125%</option>' +\n              '<option value=\"1.50\">150%</option>' +\n              '<option value=\"1.75\">175%</option>' +\n              '<option value=\"2.00\">200%</option>' +\n              '<option value=\"3.00\">300%</option>' +\n              '<option value=\"4.00\">400%</option>' +\n            '</select>' +\n          '</div>' + // vjs-font-percent\n          '<div class=\"vjs-edge-style vjs-tracksetting\">' +\n            '<label class=\"vjs-label\">Text Edge Style</label>' +\n            '<select>' +\n              '<option value=\"none\">None</option>' +\n              '<option value=\"raised\">Raised</option>' +\n              '<option value=\"depressed\">Depressed</option>' +\n              '<option value=\"uniform\">Uniform</option>' +\n              '<option value=\"dropshadow\">Dropshadow</option>' +\n            '</select>' +\n          '</div>' + // vjs-edge-style\n          '<div class=\"vjs-font-family vjs-tracksetting\">' +\n            '<label class=\"vjs-label\">Font Family</label>' +\n            '<select>' +\n              '<option value=\"\">Default</option>' +\n              '<option value=\"monospaceSerif\">Monospace Serif</option>' +\n              '<option value=\"proportionalSerif\">Proportional Serif</option>' +\n              '<option value=\"monospaceSansSerif\">Monospace Sans-Serif</option>' +\n              '<option value=\"proportionalSansSerif\">Proportional Sans-Serif</option>' +\n              '<option value=\"casual\">Casual</option>' +\n              '<option value=\"script\">Script</option>' +\n              '<option value=\"small-caps\">Small Caps</option>' +\n            '</select>' +\n          '</div>' + // vjs-font-family\n        '</div>' +\n      '</div>' +\n      '<div class=\"vjs-tracksettings-controls\">' +\n        '<button class=\"vjs-default-button\">Defaults</button>' +\n        '<button class=\"vjs-done-button\">Done</button>' +\n      '</div>';\n  }\n\n})();\n/**\n * @fileoverview Add JSON support\n * @suppress {undefinedVars}\n * (Compiler doesn't like JSON not being declared)\n */\n\n/**\n * Javascript JSON implementation\n * (Parse Method Only)\n * https://github.com/douglascrockford/JSON-js/blob/master/json2.js\n * Only using for parse method when parsing data-setup attribute JSON.\n * @suppress {undefinedVars}\n * @namespace\n * @private\n */\nvjs.JSON;\n\nif (typeof window.JSON !== 'undefined' && typeof window.JSON.parse === 'function') {\n  vjs.JSON = window.JSON;\n\n} else {\n  vjs.JSON = {};\n\n  var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n  /**\n   * parse the json\n   *\n   * @memberof vjs.JSON\n   * @param {String} text The JSON string to parse\n   * @param {Function=} [reviver] Optional function that can transform the results\n   * @return {Object|Array} The parsed JSON\n   */\n  vjs.JSON.parse = function (text, reviver) {\n      var j;\n\n      function walk(holder, key) {\n          var k, v, value = holder[key];\n          if (value && typeof value === 'object') {\n              for (k in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n                      v = walk(value, k);\n                      if (v !== undefined) {\n                          value[k] = v;\n                      } else {\n                          delete value[k];\n                      }\n                  }\n              }\n          }\n          return reviver.call(holder, key, value);\n      }\n      text = String(text);\n      cx.lastIndex = 0;\n      if (cx.test(text)) {\n          text = text.replace(cx, function (a) {\n              return '\\\\u' +\n                  ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n          });\n      }\n\n      if (/^[\\],:{}\\s]*$/\n              .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                  .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                  .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n          j = eval('(' + text + ')');\n\n          return typeof reviver === 'function' ?\n              walk({'': j}, '') : j;\n      }\n\n      throw new SyntaxError('JSON.parse(): invalid or malformed JSON data');\n  };\n}\n/**\n * @fileoverview Functions for automatically setting up a player\n * based on the data-setup attribute of the video tag\n */\n\n// Automatically set up any tags that have a data-setup attribute\nvjs.autoSetup = function(){\n  var options, mediaEl, player, i, e;\n\n  // One day, when we stop supporting IE8, go back to this, but in the meantime...*hack hack hack*\n  // var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n  // var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n  // var mediaEls = vids.concat(audios);\n\n  // Because IE8 doesn't support calling slice on a node list, we need to loop through each list of elements\n  // to build up a new, combined list of elements.\n  var vids = document.getElementsByTagName('video');\n  var audios = document.getElementsByTagName('audio');\n  var mediaEls = [];\n  if (vids && vids.length > 0) {\n    for(i=0, e=vids.length; i<e; i++) {\n      mediaEls.push(vids[i]);\n    }\n  }\n  if (audios && audios.length > 0) {\n    for(i=0, e=audios.length; i<e; i++) {\n      mediaEls.push(audios[i]);\n    }\n  }\n\n  // Check if any media elements exist\n  if (mediaEls && mediaEls.length > 0) {\n\n    for (i=0,e=mediaEls.length; i<e; i++) {\n      mediaEl = mediaEls[i];\n\n      // Check if element exists, has getAttribute func.\n      // IE seems to consider typeof el.getAttribute == 'object' instead of 'function' like expected, at least when loading the player immediately.\n      if (mediaEl && mediaEl.getAttribute) {\n\n        // Make sure this player hasn't already been set up.\n        if (mediaEl['player'] === undefined) {\n          options = mediaEl.getAttribute('data-setup');\n\n          // Check if data-setup attr exists.\n          // We only auto-setup if they've added the data-setup attr.\n          if (options !== null) {\n            // Create new video.js instance.\n            player = videojs(mediaEl);\n          }\n        }\n\n      // If getAttribute isn't defined, we need to wait for the DOM.\n      } else {\n        vjs.autoSetupTimeout(1);\n        break;\n      }\n    }\n\n  // No videos were found, so keep looping unless page is finished loading.\n  } else if (!vjs.windowLoaded) {\n    vjs.autoSetupTimeout(1);\n  }\n};\n\n// Pause to let the DOM keep processing\nvjs.autoSetupTimeout = function(wait){\n  setTimeout(vjs.autoSetup, wait);\n};\n\nif (document.readyState === 'complete') {\n  vjs.windowLoaded = true;\n} else {\n  vjs.one(window, 'load', function(){\n    vjs.windowLoaded = true;\n  });\n}\n\n// Run Auto-load players\n// You have to wait at least once in case this script is loaded after your video in the DOM (weird behavior only with minified version)\nvjs.autoSetupTimeout(1);\n/**\n * the method for registering a video.js plugin\n *\n * @param  {String} name The name of the plugin\n * @param  {Function} init The function that is run when the player inits\n */\nvjs.plugin = function(name, init){\n  vjs.Player.prototype[name] = init;\n};\n\n/* vtt.js - v0.12.1 (https://github.com/mozilla/vtt.js) built on 08-07-2015 */\n\n(function(root) {\n  var vttjs = root.vttjs = {};\n  var cueShim = vttjs.VTTCue;\n  var regionShim = vttjs.VTTRegion;\n  var oldVTTCue = root.VTTCue;\n  var oldVTTRegion = root.VTTRegion;\n\n  vttjs.shim = function() {\n    vttjs.VTTCue = cueShim;\n    vttjs.VTTRegion = regionShim;\n  };\n\n  vttjs.restore = function() {\n    vttjs.VTTCue = oldVTTCue;\n    vttjs.VTTRegion = oldVTTRegion;\n  };\n}(this));\n\n/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(root, vttjs) {\n\n  var autoKeyword = \"auto\";\n  var directionSetting = {\n    \"\": true,\n    \"lr\": true,\n    \"rl\": true\n  };\n  var alignSetting = {\n    \"start\": true,\n    \"middle\": true,\n    \"end\": true,\n    \"left\": true,\n    \"right\": true\n  };\n\n  function findDirectionSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n  }\n\n  function findAlignSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n  }\n\n  function extend(obj) {\n    var i = 1;\n    for (; i < arguments.length; i++) {\n      var cobj = arguments[i];\n      for (var p in cobj) {\n        obj[p] = cobj[p];\n      }\n    }\n\n    return obj;\n  }\n\n  function VTTCue(startTime, endTime, text) {\n    var cue = this;\n    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n    var baseObj = {};\n\n    if (isIE8) {\n      cue = document.createElement('custom');\n    } else {\n      baseObj.enumerable = true;\n    }\n\n    /**\n     * Shim implementation specific properties. These properties are not in\n     * the spec.\n     */\n\n    // Lets us know when the VTTCue's data has changed in such a way that we need\n    // to recompute its display state. This lets us compute its display state\n    // lazily.\n    cue.hasBeenReset = false;\n\n    /**\n     * VTTCue and TextTrackCue properties\n     * http://dev.w3.org/html5/webvtt/#vttcue-interface\n     */\n\n    var _id = \"\";\n    var _pauseOnExit = false;\n    var _startTime = startTime;\n    var _endTime = endTime;\n    var _text = text;\n    var _region = null;\n    var _vertical = \"\";\n    var _snapToLines = true;\n    var _line = \"auto\";\n    var _lineAlign = \"start\";\n    var _position = 50;\n    var _positionAlign = \"middle\";\n    var _size = 50;\n    var _align = \"middle\";\n\n    Object.defineProperty(cue,\n      \"id\", extend({}, baseObj, {\n        get: function() {\n          return _id;\n        },\n        set: function(value) {\n          _id = \"\" + value;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"pauseOnExit\", extend({}, baseObj, {\n        get: function() {\n          return _pauseOnExit;\n        },\n        set: function(value) {\n          _pauseOnExit = !!value;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"startTime\", extend({}, baseObj, {\n        get: function() {\n          return _startTime;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Start time must be set to a number.\");\n          }\n          _startTime = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"endTime\", extend({}, baseObj, {\n        get: function() {\n          return _endTime;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"End time must be set to a number.\");\n          }\n          _endTime = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"text\", extend({}, baseObj, {\n        get: function() {\n          return _text;\n        },\n        set: function(value) {\n          _text = \"\" + value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"region\", extend({}, baseObj, {\n        get: function() {\n          return _region;\n        },\n        set: function(value) {\n          _region = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"vertical\", extend({}, baseObj, {\n        get: function() {\n          return _vertical;\n        },\n        set: function(value) {\n          var setting = findDirectionSetting(value);\n          // Have to check for false because the setting an be an empty string.\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _vertical = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"snapToLines\", extend({}, baseObj, {\n        get: function() {\n          return _snapToLines;\n        },\n        set: function(value) {\n          _snapToLines = !!value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"line\", extend({}, baseObj, {\n        get: function() {\n          return _line;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\" && value !== autoKeyword) {\n            throw new SyntaxError(\"An invalid number or illegal string was specified.\");\n          }\n          _line = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"lineAlign\", extend({}, baseObj, {\n        get: function() {\n          return _lineAlign;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _lineAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"position\", extend({}, baseObj, {\n        get: function() {\n          return _position;\n        },\n        set: function(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Position must be between 0 and 100.\");\n          }\n          _position = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"positionAlign\", extend({}, baseObj, {\n        get: function() {\n          return _positionAlign;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _positionAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"size\", extend({}, baseObj, {\n        get: function() {\n          return _size;\n        },\n        set: function(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Size must be between 0 and 100.\");\n          }\n          _size = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"align\", extend({}, baseObj, {\n        get: function() {\n          return _align;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _align = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    /**\n     * Other <track> spec defined properties\n     */\n\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n    cue.displayState = undefined;\n\n    if (isIE8) {\n      return cue;\n    }\n  }\n\n  /**\n   * VTTCue methods\n   */\n\n  VTTCue.prototype.getCueAsHTML = function() {\n    // Assume WebVTT.convertCueToDOMTree is on the global.\n    return WebVTT.convertCueToDOMTree(window, this.text);\n  };\n\n  root.VTTCue = root.VTTCue || VTTCue;\n  vttjs.VTTCue = VTTCue;\n}(this, (this.vttjs || {})));\n\n/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(root, vttjs) {\n\n  var scrollSetting = {\n    \"\": true,\n    \"up\": true\n  };\n\n  function findScrollSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var scroll = scrollSetting[value.toLowerCase()];\n    return scroll ? value.toLowerCase() : false;\n  }\n\n  function isValidPercentValue(value) {\n    return typeof value === \"number\" && (value >= 0 && value <= 100);\n  }\n\n  // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n  function VTTRegion() {\n    var _width = 100;\n    var _lines = 3;\n    var _regionAnchorX = 0;\n    var _regionAnchorY = 100;\n    var _viewportAnchorX = 0;\n    var _viewportAnchorY = 100;\n    var _scroll = \"\";\n\n    Object.defineProperties(this, {\n      \"width\": {\n        enumerable: true,\n        get: function() {\n          return _width;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"Width must be between 0 and 100.\");\n          }\n          _width = value;\n        }\n      },\n      \"lines\": {\n        enumerable: true,\n        get: function() {\n          return _lines;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Lines must be set to a number.\");\n          }\n          _lines = value;\n        }\n      },\n      \"regionAnchorY\": {\n        enumerable: true,\n        get: function() {\n          return _regionAnchorY;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n          }\n          _regionAnchorY = value;\n        }\n      },\n      \"regionAnchorX\": {\n        enumerable: true,\n        get: function() {\n          return _regionAnchorX;\n        },\n        set: function(value) {\n          if(!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n          }\n          _regionAnchorX = value;\n        }\n      },\n      \"viewportAnchorY\": {\n        enumerable: true,\n        get: function() {\n          return _viewportAnchorY;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n          }\n          _viewportAnchorY = value;\n        }\n      },\n      \"viewportAnchorX\": {\n        enumerable: true,\n        get: function() {\n          return _viewportAnchorX;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n          }\n          _viewportAnchorX = value;\n        }\n      },\n      \"scroll\": {\n        enumerable: true,\n        get: function() {\n          return _scroll;\n        },\n        set: function(value) {\n          var setting = findScrollSetting(value);\n          // Have to check for false as an empty string is a legal value.\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _scroll = setting;\n        }\n      }\n    });\n  }\n\n  root.VTTRegion = root.VTTRegion || VTTRegion;\n  vttjs.VTTRegion = VTTRegion;\n}(this, (this.vttjs || {})));\n\n/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n\n(function(global) {\n\n  var _objCreate = Object.create || (function() {\n    function F() {}\n    return function(o) {\n      if (arguments.length !== 1) {\n        throw new Error('Object.create shim only accepts one parameter.');\n      }\n      F.prototype = o;\n      return new F();\n    };\n  })();\n\n  // Creates a new ParserError object from an errorData object. The errorData\n  // object should have default code and message properties. The default message\n  // property can be overriden by passing in a message parameter.\n  // See ParsingError.Errors below for acceptable errors.\n  function ParsingError(errorData, message) {\n    this.name = \"ParsingError\";\n    this.code = errorData.code;\n    this.message = message || errorData.message;\n  }\n  ParsingError.prototype = _objCreate(Error.prototype);\n  ParsingError.prototype.constructor = ParsingError;\n\n  // ParsingError metadata for acceptable ParsingErrors.\n  ParsingError.Errors = {\n    BadSignature: {\n      code: 0,\n      message: \"Malformed WebVTT signature.\"\n    },\n    BadTimeStamp: {\n      code: 1,\n      message: \"Malformed time stamp.\"\n    }\n  };\n\n  // Try to parse input as a time stamp.\n  function parseTimeStamp(input) {\n\n    function computeSeconds(h, m, s, f) {\n      return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n    }\n\n    var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\n    if (!m) {\n      return null;\n    }\n\n    if (m[3]) {\n      // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n      return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n    } else if (m[1] > 59) {\n      // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n      // First position is hours as it's over 59.\n      return computeSeconds(m[1], m[2], 0,  m[4]);\n    } else {\n      // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n      return computeSeconds(0, m[1], m[2], m[4]);\n    }\n  }\n\n  // A settings object holds key/value pairs and will ignore anything but the first\n  // assignment to a specific key.\n  function Settings() {\n    this.values = _objCreate(null);\n  }\n\n  Settings.prototype = {\n    // Only accept the first assignment to any key.\n    set: function(k, v) {\n      if (!this.get(k) && v !== \"\") {\n        this.values[k] = v;\n      }\n    },\n    // Return the value for a key, or a default value.\n    // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n    // a number of possible default values as properties where 'defaultKey' is\n    // the key of the property that will be chosen; otherwise it's assumed to be\n    // a single value.\n    get: function(k, dflt, defaultKey) {\n      if (defaultKey) {\n        return this.has(k) ? this.values[k] : dflt[defaultKey];\n      }\n      return this.has(k) ? this.values[k] : dflt;\n    },\n    // Check whether we have a value for a key.\n    has: function(k) {\n      return k in this.values;\n    },\n    // Accept a setting if its one of the given alternatives.\n    alt: function(k, v, a) {\n      for (var n = 0; n < a.length; ++n) {\n        if (v === a[n]) {\n          this.set(k, v);\n          break;\n        }\n      }\n    },\n    // Accept a setting if its a valid (signed) integer.\n    integer: function(k, v) {\n      if (/^-?\\d+$/.test(v)) { // integer\n        this.set(k, parseInt(v, 10));\n      }\n    },\n    // Accept a setting if its a valid percentage.\n    percent: function(k, v) {\n      var m;\n      if ((m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/))) {\n        v = parseFloat(v);\n        if (v >= 0 && v <= 100) {\n          this.set(k, v);\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n\n  // Helper function to parse input into groups separated by 'groupDelim', and\n  // interprete each group as a key/value pair separated by 'keyValueDelim'.\n  function parseOptions(input, callback, keyValueDelim, groupDelim) {\n    var groups = groupDelim ? input.split(groupDelim) : [input];\n    for (var i in groups) {\n      if (typeof groups[i] !== \"string\") {\n        continue;\n      }\n      var kv = groups[i].split(keyValueDelim);\n      if (kv.length !== 2) {\n        continue;\n      }\n      var k = kv[0];\n      var v = kv[1];\n      callback(k, v);\n    }\n  }\n\n  function parseCue(input, cue, regionList) {\n    // Remember the original input if we need to throw an error.\n    var oInput = input;\n    // 4.1 WebVTT timestamp\n    function consumeTimeStamp() {\n      var ts = parseTimeStamp(input);\n      if (ts === null) {\n        throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n                              \"Malformed timestamp: \" + oInput);\n      }\n      // Remove time stamp from input.\n      input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n      return ts;\n    }\n\n    // 4.4.2 WebVTT cue settings\n    function consumeCueSettings(input, cue) {\n      var settings = new Settings();\n\n      parseOptions(input, function (k, v) {\n        switch (k) {\n        case \"region\":\n          // Find the last region we parsed with the same region id.\n          for (var i = regionList.length - 1; i >= 0; i--) {\n            if (regionList[i].id === v) {\n              settings.set(k, regionList[i].region);\n              break;\n            }\n          }\n          break;\n        case \"vertical\":\n          settings.alt(k, v, [\"rl\", \"lr\"]);\n          break;\n        case \"line\":\n          var vals = v.split(\",\"),\n              vals0 = vals[0];\n          settings.integer(k, vals0);\n          settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n          settings.alt(k, vals0, [\"auto\"]);\n          if (vals.length === 2) {\n            settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n          }\n          break;\n        case \"position\":\n          vals = v.split(\",\");\n          settings.percent(k, vals[0]);\n          if (vals.length === 2) {\n            settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n          }\n          break;\n        case \"size\":\n          settings.percent(k, v);\n          break;\n        case \"align\":\n          settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\n          break;\n        }\n      }, /:/, /\\s/);\n\n      // Apply default values for any missing fields.\n      cue.region = settings.get(\"region\", null);\n      cue.vertical = settings.get(\"vertical\", \"\");\n      cue.line = settings.get(\"line\", \"auto\");\n      cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n      cue.snapToLines = settings.get(\"snapToLines\", true);\n      cue.size = settings.get(\"size\", 100);\n      cue.align = settings.get(\"align\", \"middle\");\n      cue.position = settings.get(\"position\", {\n        start: 0,\n        left: 0,\n        middle: 50,\n        end: 100,\n        right: 100\n      }, cue.align);\n      cue.positionAlign = settings.get(\"positionAlign\", {\n        start: \"start\",\n        left: \"start\",\n        middle: \"middle\",\n        end: \"end\",\n        right: \"end\"\n      }, cue.align);\n    }\n\n    function skipWhitespace() {\n      input = input.replace(/^\\s+/, \"\");\n    }\n\n    // 4.1 WebVTT cue timings.\n    skipWhitespace();\n    cue.startTime = consumeTimeStamp();   // (1) collect cue start time\n    skipWhitespace();\n    if (input.substr(0, 3) !== \"-->\") {     // (3) next characters must match \"-->\"\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n                             \"Malformed time stamp (time stamps must be separated by '-->'): \" +\n                             oInput);\n    }\n    input = input.substr(3);\n    skipWhitespace();\n    cue.endTime = consumeTimeStamp();     // (5) collect cue end time\n\n    // 4.1 WebVTT cue settings list.\n    skipWhitespace();\n    consumeCueSettings(input, cue);\n  }\n\n  var ESCAPE = {\n    \"&amp;\": \"&\",\n    \"&lt;\": \"<\",\n    \"&gt;\": \">\",\n    \"&lrm;\": \"\\u200e\",\n    \"&rlm;\": \"\\u200f\",\n    \"&nbsp;\": \"\\u00a0\"\n  };\n\n  var TAG_NAME = {\n    c: \"span\",\n    i: \"i\",\n    b: \"b\",\n    u: \"u\",\n    ruby: \"ruby\",\n    rt: \"rt\",\n    v: \"span\",\n    lang: \"span\"\n  };\n\n  var TAG_ANNOTATION = {\n    v: \"title\",\n    lang: \"lang\"\n  };\n\n  var NEEDS_PARENT = {\n    rt: \"ruby\"\n  };\n\n  // Parse content into a document fragment.\n  function parseContent(window, input) {\n    function nextToken() {\n      // Check for end-of-string.\n      if (!input) {\n        return null;\n      }\n\n      // Consume 'n' characters from the input.\n      function consume(result) {\n        input = input.substr(result.length);\n        return result;\n      }\n\n      var m = input.match(/^([^<]*)(<[^>]+>?)?/);\n      // If there is some text before the next tag, return it, otherwise return\n      // the tag.\n      return consume(m[1] ? m[1] : m[2]);\n    }\n\n    // Unescape a string 's'.\n    function unescape1(e) {\n      return ESCAPE[e];\n    }\n    function unescape(s) {\n      while ((m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))) {\n        s = s.replace(m[0], unescape1);\n      }\n      return s;\n    }\n\n    function shouldAdd(current, element) {\n      return !NEEDS_PARENT[element.localName] ||\n             NEEDS_PARENT[element.localName] === current.localName;\n    }\n\n    // Create an element for this tag.\n    function createElement(type, annotation) {\n      var tagName = TAG_NAME[type];\n      if (!tagName) {\n        return null;\n      }\n      var element = window.document.createElement(tagName);\n      element.localName = tagName;\n      var name = TAG_ANNOTATION[type];\n      if (name && annotation) {\n        element[name] = annotation.trim();\n      }\n      return element;\n    }\n\n    var rootDiv = window.document.createElement(\"div\"),\n        current = rootDiv,\n        t,\n        tagStack = [];\n\n    while ((t = nextToken()) !== null) {\n      if (t[0] === '<') {\n        if (t[1] === \"/\") {\n          // If the closing tag matches, move back up to the parent node.\n          if (tagStack.length &&\n              tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n            tagStack.pop();\n            current = current.parentNode;\n          }\n          // Otherwise just ignore the end tag.\n          continue;\n        }\n        var ts = parseTimeStamp(t.substr(1, t.length - 2));\n        var node;\n        if (ts) {\n          // Timestamps are lead nodes as well.\n          node = window.document.createProcessingInstruction(\"timestamp\", ts);\n          current.appendChild(node);\n          continue;\n        }\n        var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);\n        // If we can't parse the tag, skip to the next tag.\n        if (!m) {\n          continue;\n        }\n        // Try to construct an element, and ignore the tag if we couldn't.\n        node = createElement(m[1], m[3]);\n        if (!node) {\n          continue;\n        }\n        // Determine if the tag should be added based on the context of where it\n        // is placed in the cuetext.\n        if (!shouldAdd(current, node)) {\n          continue;\n        }\n        // Set the class list (as a list of classes, separated by space).\n        if (m[2]) {\n          node.className = m[2].substr(1).replace('.', ' ');\n        }\n        // Append the node to the current node, and enter the scope of the new\n        // node.\n        tagStack.push(m[1]);\n        current.appendChild(node);\n        current = node;\n        continue;\n      }\n\n      // Text nodes are leaf nodes.\n      current.appendChild(window.document.createTextNode(unescape(t)));\n    }\n\n    return rootDiv;\n  }\n\n  // This is a list of all the Unicode characters that have a strong\n  // right-to-left category. What this means is that these characters are\n  // written right-to-left for sure. It was generated by pulling all the strong\n  // right-to-left characters out of the Unicode data table. That table can\n  // found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n  var strongRTLChars = [0x05BE, 0x05C0, 0x05C3, 0x05C6, 0x05D0, 0x05D1,\n      0x05D2, 0x05D3, 0x05D4, 0x05D5, 0x05D6, 0x05D7, 0x05D8, 0x05D9, 0x05DA,\n      0x05DB, 0x05DC, 0x05DD, 0x05DE, 0x05DF, 0x05E0, 0x05E1, 0x05E2, 0x05E3,\n      0x05E4, 0x05E5, 0x05E6, 0x05E7, 0x05E8, 0x05E9, 0x05EA, 0x05F0, 0x05F1,\n      0x05F2, 0x05F3, 0x05F4, 0x0608, 0x060B, 0x060D, 0x061B, 0x061E, 0x061F,\n      0x0620, 0x0621, 0x0622, 0x0623, 0x0624, 0x0625, 0x0626, 0x0627, 0x0628,\n      0x0629, 0x062A, 0x062B, 0x062C, 0x062D, 0x062E, 0x062F, 0x0630, 0x0631,\n      0x0632, 0x0633, 0x0634, 0x0635, 0x0636, 0x0637, 0x0638, 0x0639, 0x063A,\n      0x063B, 0x063C, 0x063D, 0x063E, 0x063F, 0x0640, 0x0641, 0x0642, 0x0643,\n      0x0644, 0x0645, 0x0646, 0x0647, 0x0648, 0x0649, 0x064A, 0x066D, 0x066E,\n      0x066F, 0x0671, 0x0672, 0x0673, 0x0674, 0x0675, 0x0676, 0x0677, 0x0678,\n      0x0679, 0x067A, 0x067B, 0x067C, 0x067D, 0x067E, 0x067F, 0x0680, 0x0681,\n      0x0682, 0x0683, 0x0684, 0x0685, 0x0686, 0x0687, 0x0688, 0x0689, 0x068A,\n      0x068B, 0x068C, 0x068D, 0x068E, 0x068F, 0x0690, 0x0691, 0x0692, 0x0693,\n      0x0694, 0x0695, 0x0696, 0x0697, 0x0698, 0x0699, 0x069A, 0x069B, 0x069C,\n      0x069D, 0x069E, 0x069F, 0x06A0, 0x06A1, 0x06A2, 0x06A3, 0x06A4, 0x06A5,\n      0x06A6, 0x06A7, 0x06A8, 0x06A9, 0x06AA, 0x06AB, 0x06AC, 0x06AD, 0x06AE,\n      0x06AF, 0x06B0, 0x06B1, 0x06B2, 0x06B3, 0x06B4, 0x06B5, 0x06B6, 0x06B7,\n      0x06B8, 0x06B9, 0x06BA, 0x06BB, 0x06BC, 0x06BD, 0x06BE, 0x06BF, 0x06C0,\n      0x06C1, 0x06C2, 0x06C3, 0x06C4, 0x06C5, 0x06C6, 0x06C7, 0x06C8, 0x06C9,\n      0x06CA, 0x06CB, 0x06CC, 0x06CD, 0x06CE, 0x06CF, 0x06D0, 0x06D1, 0x06D2,\n      0x06D3, 0x06D4, 0x06D5, 0x06E5, 0x06E6, 0x06EE, 0x06EF, 0x06FA, 0x06FB,\n      0x06FC, 0x06FD, 0x06FE, 0x06FF, 0x0700, 0x0701, 0x0702, 0x0703, 0x0704,\n      0x0705, 0x0706, 0x0707, 0x0708, 0x0709, 0x070A, 0x070B, 0x070C, 0x070D,\n      0x070F, 0x0710, 0x0712, 0x0713, 0x0714, 0x0715, 0x0716, 0x0717, 0x0718,\n      0x0719, 0x071A, 0x071B, 0x071C, 0x071D, 0x071E, 0x071F, 0x0720, 0x0721,\n      0x0722, 0x0723, 0x0724, 0x0725, 0x0726, 0x0727, 0x0728, 0x0729, 0x072A,\n      0x072B, 0x072C, 0x072D, 0x072E, 0x072F, 0x074D, 0x074E, 0x074F, 0x0750,\n      0x0751, 0x0752, 0x0753, 0x0754, 0x0755, 0x0756, 0x0757, 0x0758, 0x0759,\n      0x075A, 0x075B, 0x075C, 0x075D, 0x075E, 0x075F, 0x0760, 0x0761, 0x0762,\n      0x0763, 0x0764, 0x0765, 0x0766, 0x0767, 0x0768, 0x0769, 0x076A, 0x076B,\n      0x076C, 0x076D, 0x076E, 0x076F, 0x0770, 0x0771, 0x0772, 0x0773, 0x0774,\n      0x0775, 0x0776, 0x0777, 0x0778, 0x0779, 0x077A, 0x077B, 0x077C, 0x077D,\n      0x077E, 0x077F, 0x0780, 0x0781, 0x0782, 0x0783, 0x0784, 0x0785, 0x0786,\n      0x0787, 0x0788, 0x0789, 0x078A, 0x078B, 0x078C, 0x078D, 0x078E, 0x078F,\n      0x0790, 0x0791, 0x0792, 0x0793, 0x0794, 0x0795, 0x0796, 0x0797, 0x0798,\n      0x0799, 0x079A, 0x079B, 0x079C, 0x079D, 0x079E, 0x079F, 0x07A0, 0x07A1,\n      0x07A2, 0x07A3, 0x07A4, 0x07A5, 0x07B1, 0x07C0, 0x07C1, 0x07C2, 0x07C3,\n      0x07C4, 0x07C5, 0x07C6, 0x07C7, 0x07C8, 0x07C9, 0x07CA, 0x07CB, 0x07CC,\n      0x07CD, 0x07CE, 0x07CF, 0x07D0, 0x07D1, 0x07D2, 0x07D3, 0x07D4, 0x07D5,\n      0x07D6, 0x07D7, 0x07D8, 0x07D9, 0x07DA, 0x07DB, 0x07DC, 0x07DD, 0x07DE,\n      0x07DF, 0x07E0, 0x07E1, 0x07E2, 0x07E3, 0x07E4, 0x07E5, 0x07E6, 0x07E7,\n      0x07E8, 0x07E9, 0x07EA, 0x07F4, 0x07F5, 0x07FA, 0x0800, 0x0801, 0x0802,\n      0x0803, 0x0804, 0x0805, 0x0806, 0x0807, 0x0808, 0x0809, 0x080A, 0x080B,\n      0x080C, 0x080D, 0x080E, 0x080F, 0x0810, 0x0811, 0x0812, 0x0813, 0x0814,\n      0x0815, 0x081A, 0x0824, 0x0828, 0x0830, 0x0831, 0x0832, 0x0833, 0x0834,\n      0x0835, 0x0836, 0x0837, 0x0838, 0x0839, 0x083A, 0x083B, 0x083C, 0x083D,\n      0x083E, 0x0840, 0x0841, 0x0842, 0x0843, 0x0844, 0x0845, 0x0846, 0x0847,\n      0x0848, 0x0849, 0x084A, 0x084B, 0x084C, 0x084D, 0x084E, 0x084F, 0x0850,\n      0x0851, 0x0852, 0x0853, 0x0854, 0x0855, 0x0856, 0x0857, 0x0858, 0x085E,\n      0x08A0, 0x08A2, 0x08A3, 0x08A4, 0x08A5, 0x08A6, 0x08A7, 0x08A8, 0x08A9,\n      0x08AA, 0x08AB, 0x08AC, 0x200F, 0xFB1D, 0xFB1F, 0xFB20, 0xFB21, 0xFB22,\n      0xFB23, 0xFB24, 0xFB25, 0xFB26, 0xFB27, 0xFB28, 0xFB2A, 0xFB2B, 0xFB2C,\n      0xFB2D, 0xFB2E, 0xFB2F, 0xFB30, 0xFB31, 0xFB32, 0xFB33, 0xFB34, 0xFB35,\n      0xFB36, 0xFB38, 0xFB39, 0xFB3A, 0xFB3B, 0xFB3C, 0xFB3E, 0xFB40, 0xFB41,\n      0xFB43, 0xFB44, 0xFB46, 0xFB47, 0xFB48, 0xFB49, 0xFB4A, 0xFB4B, 0xFB4C,\n      0xFB4D, 0xFB4E, 0xFB4F, 0xFB50, 0xFB51, 0xFB52, 0xFB53, 0xFB54, 0xFB55,\n      0xFB56, 0xFB57, 0xFB58, 0xFB59, 0xFB5A, 0xFB5B, 0xFB5C, 0xFB5D, 0xFB5E,\n      0xFB5F, 0xFB60, 0xFB61, 0xFB62, 0xFB63, 0xFB64, 0xFB65, 0xFB66, 0xFB67,\n      0xFB68, 0xFB69, 0xFB6A, 0xFB6B, 0xFB6C, 0xFB6D, 0xFB6E, 0xFB6F, 0xFB70,\n      0xFB71, 0xFB72, 0xFB73, 0xFB74, 0xFB75, 0xFB76, 0xFB77, 0xFB78, 0xFB79,\n      0xFB7A, 0xFB7B, 0xFB7C, 0xFB7D, 0xFB7E, 0xFB7F, 0xFB80, 0xFB81, 0xFB82,\n      0xFB83, 0xFB84, 0xFB85, 0xFB86, 0xFB87, 0xFB88, 0xFB89, 0xFB8A, 0xFB8B,\n      0xFB8C, 0xFB8D, 0xFB8E, 0xFB8F, 0xFB90, 0xFB91, 0xFB92, 0xFB93, 0xFB94,\n      0xFB95, 0xFB96, 0xFB97, 0xFB98, 0xFB99, 0xFB9A, 0xFB9B, 0xFB9C, 0xFB9D,\n      0xFB9E, 0xFB9F, 0xFBA0, 0xFBA1, 0xFBA2, 0xFBA3, 0xFBA4, 0xFBA5, 0xFBA6,\n      0xFBA7, 0xFBA8, 0xFBA9, 0xFBAA, 0xFBAB, 0xFBAC, 0xFBAD, 0xFBAE, 0xFBAF,\n      0xFBB0, 0xFBB1, 0xFBB2, 0xFBB3, 0xFBB4, 0xFBB5, 0xFBB6, 0xFBB7, 0xFBB8,\n      0xFBB9, 0xFBBA, 0xFBBB, 0xFBBC, 0xFBBD, 0xFBBE, 0xFBBF, 0xFBC0, 0xFBC1,\n      0xFBD3, 0xFBD4, 0xFBD5, 0xFBD6, 0xFBD7, 0xFBD8, 0xFBD9, 0xFBDA, 0xFBDB,\n      0xFBDC, 0xFBDD, 0xFBDE, 0xFBDF, 0xFBE0, 0xFBE1, 0xFBE2, 0xFBE3, 0xFBE4,\n      0xFBE5, 0xFBE6, 0xFBE7, 0xFBE8, 0xFBE9, 0xFBEA, 0xFBEB, 0xFBEC, 0xFBED,\n      0xFBEE, 0xFBEF, 0xFBF0, 0xFBF1, 0xFBF2, 0xFBF3, 0xFBF4, 0xFBF5, 0xFBF6,\n      0xFBF7, 0xFBF8, 0xFBF9, 0xFBFA, 0xFBFB, 0xFBFC, 0xFBFD, 0xFBFE, 0xFBFF,\n      0xFC00, 0xFC01, 0xFC02, 0xFC03, 0xFC04, 0xFC05, 0xFC06, 0xFC07, 0xFC08,\n      0xFC09, 0xFC0A, 0xFC0B, 0xFC0C, 0xFC0D, 0xFC0E, 0xFC0F, 0xFC10, 0xFC11,\n      0xFC12, 0xFC13, 0xFC14, 0xFC15, 0xFC16, 0xFC17, 0xFC18, 0xFC19, 0xFC1A,\n      0xFC1B, 0xFC1C, 0xFC1D, 0xFC1E, 0xFC1F, 0xFC20, 0xFC21, 0xFC22, 0xFC23,\n      0xFC24, 0xFC25, 0xFC26, 0xFC27, 0xFC28, 0xFC29, 0xFC2A, 0xFC2B, 0xFC2C,\n      0xFC2D, 0xFC2E, 0xFC2F, 0xFC30, 0xFC31, 0xFC32, 0xFC33, 0xFC34, 0xFC35,\n      0xFC36, 0xFC37, 0xFC38, 0xFC39, 0xFC3A, 0xFC3B, 0xFC3C, 0xFC3D, 0xFC3E,\n      0xFC3F, 0xFC40, 0xFC41, 0xFC42, 0xFC43, 0xFC44, 0xFC45, 0xFC46, 0xFC47,\n      0xFC48, 0xFC49, 0xFC4A, 0xFC4B, 0xFC4C, 0xFC4D, 0xFC4E, 0xFC4F, 0xFC50,\n      0xFC51, 0xFC52, 0xFC53, 0xFC54, 0xFC55, 0xFC56, 0xFC57, 0xFC58, 0xFC59,\n      0xFC5A, 0xFC5B, 0xFC5C, 0xFC5D, 0xFC5E, 0xFC5F, 0xFC60, 0xFC61, 0xFC62,\n      0xFC63, 0xFC64, 0xFC65, 0xFC66, 0xFC67, 0xFC68, 0xFC69, 0xFC6A, 0xFC6B,\n      0xFC6C, 0xFC6D, 0xFC6E, 0xFC6F, 0xFC70, 0xFC71, 0xFC72, 0xFC73, 0xFC74,\n      0xFC75, 0xFC76, 0xFC77, 0xFC78, 0xFC79, 0xFC7A, 0xFC7B, 0xFC7C, 0xFC7D,\n      0xFC7E, 0xFC7F, 0xFC80, 0xFC81, 0xFC82, 0xFC83, 0xFC84, 0xFC85, 0xFC86,\n      0xFC87, 0xFC88, 0xFC89, 0xFC8A, 0xFC8B, 0xFC8C, 0xFC8D, 0xFC8E, 0xFC8F,\n      0xFC90, 0xFC91, 0xFC92, 0xFC93, 0xFC94, 0xFC95, 0xFC96, 0xFC97, 0xFC98,\n      0xFC99, 0xFC9A, 0xFC9B, 0xFC9C, 0xFC9D, 0xFC9E, 0xFC9F, 0xFCA0, 0xFCA1,\n      0xFCA2, 0xFCA3, 0xFCA4, 0xFCA5, 0xFCA6, 0xFCA7, 0xFCA8, 0xFCA9, 0xFCAA,\n      0xFCAB, 0xFCAC, 0xFCAD, 0xFCAE, 0xFCAF, 0xFCB0, 0xFCB1, 0xFCB2, 0xFCB3,\n      0xFCB4, 0xFCB5, 0xFCB6, 0xFCB7, 0xFCB8, 0xFCB9, 0xFCBA, 0xFCBB, 0xFCBC,\n      0xFCBD, 0xFCBE, 0xFCBF, 0xFCC0, 0xFCC1, 0xFCC2, 0xFCC3, 0xFCC4, 0xFCC5,\n      0xFCC6, 0xFCC7, 0xFCC8, 0xFCC9, 0xFCCA, 0xFCCB, 0xFCCC, 0xFCCD, 0xFCCE,\n      0xFCCF, 0xFCD0, 0xFCD1, 0xFCD2, 0xFCD3, 0xFCD4, 0xFCD5, 0xFCD6, 0xFCD7,\n      0xFCD8, 0xFCD9, 0xFCDA, 0xFCDB, 0xFCDC, 0xFCDD, 0xFCDE, 0xFCDF, 0xFCE0,\n      0xFCE1, 0xFCE2, 0xFCE3, 0xFCE4, 0xFCE5, 0xFCE6, 0xFCE7, 0xFCE8, 0xFCE9,\n      0xFCEA, 0xFCEB, 0xFCEC, 0xFCED, 0xFCEE, 0xFCEF, 0xFCF0, 0xFCF1, 0xFCF2,\n      0xFCF3, 0xFCF4, 0xFCF5, 0xFCF6, 0xFCF7, 0xFCF8, 0xFCF9, 0xFCFA, 0xFCFB,\n      0xFCFC, 0xFCFD, 0xFCFE, 0xFCFF, 0xFD00, 0xFD01, 0xFD02, 0xFD03, 0xFD04,\n      0xFD05, 0xFD06, 0xFD07, 0xFD08, 0xFD09, 0xFD0A, 0xFD0B, 0xFD0C, 0xFD0D,\n      0xFD0E, 0xFD0F, 0xFD10, 0xFD11, 0xFD12, 0xFD13, 0xFD14, 0xFD15, 0xFD16,\n      0xFD17, 0xFD18, 0xFD19, 0xFD1A, 0xFD1B, 0xFD1C, 0xFD1D, 0xFD1E, 0xFD1F,\n      0xFD20, 0xFD21, 0xFD22, 0xFD23, 0xFD24, 0xFD25, 0xFD26, 0xFD27, 0xFD28,\n      0xFD29, 0xFD2A, 0xFD2B, 0xFD2C, 0xFD2D, 0xFD2E, 0xFD2F, 0xFD30, 0xFD31,\n      0xFD32, 0xFD33, 0xFD34, 0xFD35, 0xFD36, 0xFD37, 0xFD38, 0xFD39, 0xFD3A,\n      0xFD3B, 0xFD3C, 0xFD3D, 0xFD50, 0xFD51, 0xFD52, 0xFD53, 0xFD54, 0xFD55,\n      0xFD56, 0xFD57, 0xFD58, 0xFD59, 0xFD5A, 0xFD5B, 0xFD5C, 0xFD5D, 0xFD5E,\n      0xFD5F, 0xFD60, 0xFD61, 0xFD62, 0xFD63, 0xFD64, 0xFD65, 0xFD66, 0xFD67,\n      0xFD68, 0xFD69, 0xFD6A, 0xFD6B, 0xFD6C, 0xFD6D, 0xFD6E, 0xFD6F, 0xFD70,\n      0xFD71, 0xFD72, 0xFD73, 0xFD74, 0xFD75, 0xFD76, 0xFD77, 0xFD78, 0xFD79,\n      0xFD7A, 0xFD7B, 0xFD7C, 0xFD7D, 0xFD7E, 0xFD7F, 0xFD80, 0xFD81, 0xFD82,\n      0xFD83, 0xFD84, 0xFD85, 0xFD86, 0xFD87, 0xFD88, 0xFD89, 0xFD8A, 0xFD8B,\n      0xFD8C, 0xFD8D, 0xFD8E, 0xFD8F, 0xFD92, 0xFD93, 0xFD94, 0xFD95, 0xFD96,\n      0xFD97, 0xFD98, 0xFD99, 0xFD9A, 0xFD9B, 0xFD9C, 0xFD9D, 0xFD9E, 0xFD9F,\n      0xFDA0, 0xFDA1, 0xFDA2, 0xFDA3, 0xFDA4, 0xFDA5, 0xFDA6, 0xFDA7, 0xFDA8,\n      0xFDA9, 0xFDAA, 0xFDAB, 0xFDAC, 0xFDAD, 0xFDAE, 0xFDAF, 0xFDB0, 0xFDB1,\n      0xFDB2, 0xFDB3, 0xFDB4, 0xFDB5, 0xFDB6, 0xFDB7, 0xFDB8, 0xFDB9, 0xFDBA,\n      0xFDBB, 0xFDBC, 0xFDBD, 0xFDBE, 0xFDBF, 0xFDC0, 0xFDC1, 0xFDC2, 0xFDC3,\n      0xFDC4, 0xFDC5, 0xFDC6, 0xFDC7, 0xFDF0, 0xFDF1, 0xFDF2, 0xFDF3, 0xFDF4,\n      0xFDF5, 0xFDF6, 0xFDF7, 0xFDF8, 0xFDF9, 0xFDFA, 0xFDFB, 0xFDFC, 0xFE70,\n      0xFE71, 0xFE72, 0xFE73, 0xFE74, 0xFE76, 0xFE77, 0xFE78, 0xFE79, 0xFE7A,\n      0xFE7B, 0xFE7C, 0xFE7D, 0xFE7E, 0xFE7F, 0xFE80, 0xFE81, 0xFE82, 0xFE83,\n      0xFE84, 0xFE85, 0xFE86, 0xFE87, 0xFE88, 0xFE89, 0xFE8A, 0xFE8B, 0xFE8C,\n      0xFE8D, 0xFE8E, 0xFE8F, 0xFE90, 0xFE91, 0xFE92, 0xFE93, 0xFE94, 0xFE95,\n      0xFE96, 0xFE97, 0xFE98, 0xFE99, 0xFE9A, 0xFE9B, 0xFE9C, 0xFE9D, 0xFE9E,\n      0xFE9F, 0xFEA0, 0xFEA1, 0xFEA2, 0xFEA3, 0xFEA4, 0xFEA5, 0xFEA6, 0xFEA7,\n      0xFEA8, 0xFEA9, 0xFEAA, 0xFEAB, 0xFEAC, 0xFEAD, 0xFEAE, 0xFEAF, 0xFEB0,\n      0xFEB1, 0xFEB2, 0xFEB3, 0xFEB4, 0xFEB5, 0xFEB6, 0xFEB7, 0xFEB8, 0xFEB9,\n      0xFEBA, 0xFEBB, 0xFEBC, 0xFEBD, 0xFEBE, 0xFEBF, 0xFEC0, 0xFEC1, 0xFEC2,\n      0xFEC3, 0xFEC4, 0xFEC5, 0xFEC6, 0xFEC7, 0xFEC8, 0xFEC9, 0xFECA, 0xFECB,\n      0xFECC, 0xFECD, 0xFECE, 0xFECF, 0xFED0, 0xFED1, 0xFED2, 0xFED3, 0xFED4,\n      0xFED5, 0xFED6, 0xFED7, 0xFED8, 0xFED9, 0xFEDA, 0xFEDB, 0xFEDC, 0xFEDD,\n      0xFEDE, 0xFEDF, 0xFEE0, 0xFEE1, 0xFEE2, 0xFEE3, 0xFEE4, 0xFEE5, 0xFEE6,\n      0xFEE7, 0xFEE8, 0xFEE9, 0xFEEA, 0xFEEB, 0xFEEC, 0xFEED, 0xFEEE, 0xFEEF,\n      0xFEF0, 0xFEF1, 0xFEF2, 0xFEF3, 0xFEF4, 0xFEF5, 0xFEF6, 0xFEF7, 0xFEF8,\n      0xFEF9, 0xFEFA, 0xFEFB, 0xFEFC, 0x10800, 0x10801, 0x10802, 0x10803,\n      0x10804, 0x10805, 0x10808, 0x1080A, 0x1080B, 0x1080C, 0x1080D, 0x1080E,\n      0x1080F, 0x10810, 0x10811, 0x10812, 0x10813, 0x10814, 0x10815, 0x10816,\n      0x10817, 0x10818, 0x10819, 0x1081A, 0x1081B, 0x1081C, 0x1081D, 0x1081E,\n      0x1081F, 0x10820, 0x10821, 0x10822, 0x10823, 0x10824, 0x10825, 0x10826,\n      0x10827, 0x10828, 0x10829, 0x1082A, 0x1082B, 0x1082C, 0x1082D, 0x1082E,\n      0x1082F, 0x10830, 0x10831, 0x10832, 0x10833, 0x10834, 0x10835, 0x10837,\n      0x10838, 0x1083C, 0x1083F, 0x10840, 0x10841, 0x10842, 0x10843, 0x10844,\n      0x10845, 0x10846, 0x10847, 0x10848, 0x10849, 0x1084A, 0x1084B, 0x1084C,\n      0x1084D, 0x1084E, 0x1084F, 0x10850, 0x10851, 0x10852, 0x10853, 0x10854,\n      0x10855, 0x10857, 0x10858, 0x10859, 0x1085A, 0x1085B, 0x1085C, 0x1085D,\n      0x1085E, 0x1085F, 0x10900, 0x10901, 0x10902, 0x10903, 0x10904, 0x10905,\n      0x10906, 0x10907, 0x10908, 0x10909, 0x1090A, 0x1090B, 0x1090C, 0x1090D,\n      0x1090E, 0x1090F, 0x10910, 0x10911, 0x10912, 0x10913, 0x10914, 0x10915,\n      0x10916, 0x10917, 0x10918, 0x10919, 0x1091A, 0x1091B, 0x10920, 0x10921,\n      0x10922, 0x10923, 0x10924, 0x10925, 0x10926, 0x10927, 0x10928, 0x10929,\n      0x1092A, 0x1092B, 0x1092C, 0x1092D, 0x1092E, 0x1092F, 0x10930, 0x10931,\n      0x10932, 0x10933, 0x10934, 0x10935, 0x10936, 0x10937, 0x10938, 0x10939,\n      0x1093F, 0x10980, 0x10981, 0x10982, 0x10983, 0x10984, 0x10985, 0x10986,\n      0x10987, 0x10988, 0x10989, 0x1098A, 0x1098B, 0x1098C, 0x1098D, 0x1098E,\n      0x1098F, 0x10990, 0x10991, 0x10992, 0x10993, 0x10994, 0x10995, 0x10996,\n      0x10997, 0x10998, 0x10999, 0x1099A, 0x1099B, 0x1099C, 0x1099D, 0x1099E,\n      0x1099F, 0x109A0, 0x109A1, 0x109A2, 0x109A3, 0x109A4, 0x109A5, 0x109A6,\n      0x109A7, 0x109A8, 0x109A9, 0x109AA, 0x109AB, 0x109AC, 0x109AD, 0x109AE,\n      0x109AF, 0x109B0, 0x109B1, 0x109B2, 0x109B3, 0x109B4, 0x109B5, 0x109B6,\n      0x109B7, 0x109BE, 0x109BF, 0x10A00, 0x10A10, 0x10A11, 0x10A12, 0x10A13,\n      0x10A15, 0x10A16, 0x10A17, 0x10A19, 0x10A1A, 0x10A1B, 0x10A1C, 0x10A1D,\n      0x10A1E, 0x10A1F, 0x10A20, 0x10A21, 0x10A22, 0x10A23, 0x10A24, 0x10A25,\n      0x10A26, 0x10A27, 0x10A28, 0x10A29, 0x10A2A, 0x10A2B, 0x10A2C, 0x10A2D,\n      0x10A2E, 0x10A2F, 0x10A30, 0x10A31, 0x10A32, 0x10A33, 0x10A40, 0x10A41,\n      0x10A42, 0x10A43, 0x10A44, 0x10A45, 0x10A46, 0x10A47, 0x10A50, 0x10A51,\n      0x10A52, 0x10A53, 0x10A54, 0x10A55, 0x10A56, 0x10A57, 0x10A58, 0x10A60,\n      0x10A61, 0x10A62, 0x10A63, 0x10A64, 0x10A65, 0x10A66, 0x10A67, 0x10A68,\n      0x10A69, 0x10A6A, 0x10A6B, 0x10A6C, 0x10A6D, 0x10A6E, 0x10A6F, 0x10A70,\n      0x10A71, 0x10A72, 0x10A73, 0x10A74, 0x10A75, 0x10A76, 0x10A77, 0x10A78,\n      0x10A79, 0x10A7A, 0x10A7B, 0x10A7C, 0x10A7D, 0x10A7E, 0x10A7F, 0x10B00,\n      0x10B01, 0x10B02, 0x10B03, 0x10B04, 0x10B05, 0x10B06, 0x10B07, 0x10B08,\n      0x10B09, 0x10B0A, 0x10B0B, 0x10B0C, 0x10B0D, 0x10B0E, 0x10B0F, 0x10B10,\n      0x10B11, 0x10B12, 0x10B13, 0x10B14, 0x10B15, 0x10B16, 0x10B17, 0x10B18,\n      0x10B19, 0x10B1A, 0x10B1B, 0x10B1C, 0x10B1D, 0x10B1E, 0x10B1F, 0x10B20,\n      0x10B21, 0x10B22, 0x10B23, 0x10B24, 0x10B25, 0x10B26, 0x10B27, 0x10B28,\n      0x10B29, 0x10B2A, 0x10B2B, 0x10B2C, 0x10B2D, 0x10B2E, 0x10B2F, 0x10B30,\n      0x10B31, 0x10B32, 0x10B33, 0x10B34, 0x10B35, 0x10B40, 0x10B41, 0x10B42,\n      0x10B43, 0x10B44, 0x10B45, 0x10B46, 0x10B47, 0x10B48, 0x10B49, 0x10B4A,\n      0x10B4B, 0x10B4C, 0x10B4D, 0x10B4E, 0x10B4F, 0x10B50, 0x10B51, 0x10B52,\n      0x10B53, 0x10B54, 0x10B55, 0x10B58, 0x10B59, 0x10B5A, 0x10B5B, 0x10B5C,\n      0x10B5D, 0x10B5E, 0x10B5F, 0x10B60, 0x10B61, 0x10B62, 0x10B63, 0x10B64,\n      0x10B65, 0x10B66, 0x10B67, 0x10B68, 0x10B69, 0x10B6A, 0x10B6B, 0x10B6C,\n      0x10B6D, 0x10B6E, 0x10B6F, 0x10B70, 0x10B71, 0x10B72, 0x10B78, 0x10B79,\n      0x10B7A, 0x10B7B, 0x10B7C, 0x10B7D, 0x10B7E, 0x10B7F, 0x10C00, 0x10C01,\n      0x10C02, 0x10C03, 0x10C04, 0x10C05, 0x10C06, 0x10C07, 0x10C08, 0x10C09,\n      0x10C0A, 0x10C0B, 0x10C0C, 0x10C0D, 0x10C0E, 0x10C0F, 0x10C10, 0x10C11,\n      0x10C12, 0x10C13, 0x10C14, 0x10C15, 0x10C16, 0x10C17, 0x10C18, 0x10C19,\n      0x10C1A, 0x10C1B, 0x10C1C, 0x10C1D, 0x10C1E, 0x10C1F, 0x10C20, 0x10C21,\n      0x10C22, 0x10C23, 0x10C24, 0x10C25, 0x10C26, 0x10C27, 0x10C28, 0x10C29,\n      0x10C2A, 0x10C2B, 0x10C2C, 0x10C2D, 0x10C2E, 0x10C2F, 0x10C30, 0x10C31,\n      0x10C32, 0x10C33, 0x10C34, 0x10C35, 0x10C36, 0x10C37, 0x10C38, 0x10C39,\n      0x10C3A, 0x10C3B, 0x10C3C, 0x10C3D, 0x10C3E, 0x10C3F, 0x10C40, 0x10C41,\n      0x10C42, 0x10C43, 0x10C44, 0x10C45, 0x10C46, 0x10C47, 0x10C48, 0x1EE00,\n      0x1EE01, 0x1EE02, 0x1EE03, 0x1EE05, 0x1EE06, 0x1EE07, 0x1EE08, 0x1EE09,\n      0x1EE0A, 0x1EE0B, 0x1EE0C, 0x1EE0D, 0x1EE0E, 0x1EE0F, 0x1EE10, 0x1EE11,\n      0x1EE12, 0x1EE13, 0x1EE14, 0x1EE15, 0x1EE16, 0x1EE17, 0x1EE18, 0x1EE19,\n      0x1EE1A, 0x1EE1B, 0x1EE1C, 0x1EE1D, 0x1EE1E, 0x1EE1F, 0x1EE21, 0x1EE22,\n      0x1EE24, 0x1EE27, 0x1EE29, 0x1EE2A, 0x1EE2B, 0x1EE2C, 0x1EE2D, 0x1EE2E,\n      0x1EE2F, 0x1EE30, 0x1EE31, 0x1EE32, 0x1EE34, 0x1EE35, 0x1EE36, 0x1EE37,\n      0x1EE39, 0x1EE3B, 0x1EE42, 0x1EE47, 0x1EE49, 0x1EE4B, 0x1EE4D, 0x1EE4E,\n      0x1EE4F, 0x1EE51, 0x1EE52, 0x1EE54, 0x1EE57, 0x1EE59, 0x1EE5B, 0x1EE5D,\n      0x1EE5F, 0x1EE61, 0x1EE62, 0x1EE64, 0x1EE67, 0x1EE68, 0x1EE69, 0x1EE6A,\n      0x1EE6C, 0x1EE6D, 0x1EE6E, 0x1EE6F, 0x1EE70, 0x1EE71, 0x1EE72, 0x1EE74,\n      0x1EE75, 0x1EE76, 0x1EE77, 0x1EE79, 0x1EE7A, 0x1EE7B, 0x1EE7C, 0x1EE7E,\n      0x1EE80, 0x1EE81, 0x1EE82, 0x1EE83, 0x1EE84, 0x1EE85, 0x1EE86, 0x1EE87,\n      0x1EE88, 0x1EE89, 0x1EE8B, 0x1EE8C, 0x1EE8D, 0x1EE8E, 0x1EE8F, 0x1EE90,\n      0x1EE91, 0x1EE92, 0x1EE93, 0x1EE94, 0x1EE95, 0x1EE96, 0x1EE97, 0x1EE98,\n      0x1EE99, 0x1EE9A, 0x1EE9B, 0x1EEA1, 0x1EEA2, 0x1EEA3, 0x1EEA5, 0x1EEA6,\n      0x1EEA7, 0x1EEA8, 0x1EEA9, 0x1EEAB, 0x1EEAC, 0x1EEAD, 0x1EEAE, 0x1EEAF,\n      0x1EEB0, 0x1EEB1, 0x1EEB2, 0x1EEB3, 0x1EEB4, 0x1EEB5, 0x1EEB6, 0x1EEB7,\n      0x1EEB8, 0x1EEB9, 0x1EEBA, 0x1EEBB, 0x10FFFD];\n\n  function determineBidi(cueDiv) {\n    var nodeStack = [],\n        text = \"\",\n        charCode;\n\n    if (!cueDiv || !cueDiv.childNodes) {\n      return \"ltr\";\n    }\n\n    function pushNodes(nodeStack, node) {\n      for (var i = node.childNodes.length - 1; i >= 0; i--) {\n        nodeStack.push(node.childNodes[i]);\n      }\n    }\n\n    function nextTextNode(nodeStack) {\n      if (!nodeStack || !nodeStack.length) {\n        return null;\n      }\n\n      var node = nodeStack.pop(),\n          text = node.textContent || node.innerText;\n      if (text) {\n        // TODO: This should match all unicode type B characters (paragraph\n        // separator characters). See issue #115.\n        var m = text.match(/^.*(\\n|\\r)/);\n        if (m) {\n          nodeStack.length = 0;\n          return m[0];\n        }\n        return text;\n      }\n      if (node.tagName === \"ruby\") {\n        return nextTextNode(nodeStack);\n      }\n      if (node.childNodes) {\n        pushNodes(nodeStack, node);\n        return nextTextNode(nodeStack);\n      }\n    }\n\n    pushNodes(nodeStack, cueDiv);\n    while ((text = nextTextNode(nodeStack))) {\n      for (var i = 0; i < text.length; i++) {\n        charCode = text.charCodeAt(i);\n        for (var j = 0; j < strongRTLChars.length; j++) {\n          if (strongRTLChars[j] === charCode) {\n            return \"rtl\";\n          }\n        }\n      }\n    }\n    return \"ltr\";\n  }\n\n  function computeLinePos(cue) {\n    if (typeof cue.line === \"number\" &&\n        (cue.snapToLines || (cue.line >= 0 && cue.line <= 100))) {\n      return cue.line;\n    }\n    if (!cue.track || !cue.track.textTrackList ||\n        !cue.track.textTrackList.mediaElement) {\n      return -1;\n    }\n    var track = cue.track,\n        trackList = track.textTrackList,\n        count = 0;\n    for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n      if (trackList[i].mode === \"showing\") {\n        count++;\n      }\n    }\n    return ++count * -1;\n  }\n\n  function StyleBox() {\n  }\n\n  // Apply styles to a div. If there is no div passed then it defaults to the\n  // div on 'this'.\n  StyleBox.prototype.applyStyles = function(styles, div) {\n    div = div || this.div;\n    for (var prop in styles) {\n      if (styles.hasOwnProperty(prop)) {\n        div.style[prop] = styles[prop];\n      }\n    }\n  };\n\n  StyleBox.prototype.formatStyle = function(val, unit) {\n    return val === 0 ? 0 : val + unit;\n  };\n\n  // Constructs the computed display state of the cue (a div). Places the div\n  // into the overlay which should be a block level element (usually a div).\n  function CueStyleBox(window, cue, styleOptions) {\n    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n    var color = \"rgba(255, 255, 255, 1)\";\n    var backgroundColor = \"rgba(0, 0, 0, 0.8)\";\n\n    if (isIE8) {\n      color = \"rgb(255, 255, 255)\";\n      backgroundColor = \"rgb(0, 0, 0)\";\n    }\n\n    StyleBox.call(this);\n    this.cue = cue;\n\n    // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n    // have inline positioning and will function as the cue background box.\n    this.cueDiv = parseContent(window, cue.text);\n    var styles = {\n      color: color,\n      backgroundColor: backgroundColor,\n      position: \"relative\",\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      display: \"inline\"\n    };\n\n    if (!isIE8) {\n      styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\n                                               : cue.vertical === \"lr\" ? \"vertical-lr\"\n                                                                       : \"vertical-rl\";\n      styles.unicodeBidi = \"plaintext\";\n    }\n    this.applyStyles(styles, this.cueDiv);\n\n    // Create an absolutely positioned div that will be used to position the cue\n    // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n    // mirrors of them except \"middle\" which is \"center\" in CSS.\n    this.div = window.document.createElement(\"div\");\n    styles = {\n      textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n      font: styleOptions.font,\n      whiteSpace: \"pre-line\",\n      position: \"absolute\"\n    };\n\n    if (!isIE8) {\n      styles.direction = determineBidi(this.cueDiv);\n      styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\n                                               : cue.vertical === \"lr\" ? \"vertical-lr\"\n                                                                       : \"vertical-rl\".\n      stylesunicodeBidi =  \"plaintext\";\n    }\n\n    this.applyStyles(styles);\n\n    this.div.appendChild(this.cueDiv);\n\n    // Calculate the distance from the reference edge of the viewport to the text\n    // position of the cue box. The reference edge will be resolved later when\n    // the box orientation styles are applied.\n    var textPos = 0;\n    switch (cue.positionAlign) {\n    case \"start\":\n      textPos = cue.position;\n      break;\n    case \"middle\":\n      textPos = cue.position - (cue.size / 2);\n      break;\n    case \"end\":\n      textPos = cue.position - cue.size;\n      break;\n    }\n\n    // Horizontal box orientation; textPos is the distance from the left edge of the\n    // area to the left edge of the box and cue.size is the distance extending to\n    // the right from there.\n    if (cue.vertical === \"\") {\n      this.applyStyles({\n        left:  this.formatStyle(textPos, \"%\"),\n        width: this.formatStyle(cue.size, \"%\")\n      });\n    // Vertical box orientation; textPos is the distance from the top edge of the\n    // area to the top edge of the box and cue.size is the height extending\n    // downwards from there.\n    } else {\n      this.applyStyles({\n        top: this.formatStyle(textPos, \"%\"),\n        height: this.formatStyle(cue.size, \"%\")\n      });\n    }\n\n    this.move = function(box) {\n      this.applyStyles({\n        top: this.formatStyle(box.top, \"px\"),\n        bottom: this.formatStyle(box.bottom, \"px\"),\n        left: this.formatStyle(box.left, \"px\"),\n        right: this.formatStyle(box.right, \"px\"),\n        height: this.formatStyle(box.height, \"px\"),\n        width: this.formatStyle(box.width, \"px\")\n      });\n    };\n  }\n  CueStyleBox.prototype = _objCreate(StyleBox.prototype);\n  CueStyleBox.prototype.constructor = CueStyleBox;\n\n  // Represents the co-ordinates of an Element in a way that we can easily\n  // compute things with such as if it overlaps or intersects with another Element.\n  // Can initialize it with either a StyleBox or another BoxPosition.\n  function BoxPosition(obj) {\n    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n\n    // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n    // was passed in and we need to copy the results of 'getBoundingClientRect'\n    // as the object returned is readonly. All co-ordinate values are in reference\n    // to the viewport origin (top left).\n    var lh, height, width, top;\n    if (obj.div) {\n      height = obj.div.offsetHeight;\n      width = obj.div.offsetWidth;\n      top = obj.div.offsetTop;\n\n      var rects = (rects = obj.div.childNodes) && (rects = rects[0]) &&\n                  rects.getClientRects && rects.getClientRects();\n      obj = obj.div.getBoundingClientRect();\n      // In certain cases the outter div will be slightly larger then the sum of\n      // the inner div's lines. This could be due to bold text, etc, on some platforms.\n      // In this case we should get the average line height and use that. This will\n      // result in the desired behaviour.\n      lh = rects ? Math.max((rects[0] && rects[0].height) || 0, obj.height / rects.length)\n                 : 0;\n\n    }\n    this.left = obj.left;\n    this.right = obj.right;\n    this.top = obj.top || top;\n    this.height = obj.height || height;\n    this.bottom = obj.bottom || (top + (obj.height || height));\n    this.width = obj.width || width;\n    this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n\n    if (isIE8 && !this.lineHeight) {\n      this.lineHeight = 13;\n    }\n  }\n\n  // Move the box along a particular axis. Optionally pass in an amount to move\n  // the box. If no amount is passed then the default is the line height of the\n  // box.\n  BoxPosition.prototype.move = function(axis, toMove) {\n    toMove = toMove !== undefined ? toMove : this.lineHeight;\n    switch (axis) {\n    case \"+x\":\n      this.left += toMove;\n      this.right += toMove;\n      break;\n    case \"-x\":\n      this.left -= toMove;\n      this.right -= toMove;\n      break;\n    case \"+y\":\n      this.top += toMove;\n      this.bottom += toMove;\n      break;\n    case \"-y\":\n      this.top -= toMove;\n      this.bottom -= toMove;\n      break;\n    }\n  };\n\n  // Check if this box overlaps another box, b2.\n  BoxPosition.prototype.overlaps = function(b2) {\n    return this.left < b2.right &&\n           this.right > b2.left &&\n           this.top < b2.bottom &&\n           this.bottom > b2.top;\n  };\n\n  // Check if this box overlaps any other boxes in boxes.\n  BoxPosition.prototype.overlapsAny = function(boxes) {\n    for (var i = 0; i < boxes.length; i++) {\n      if (this.overlaps(boxes[i])) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  // Check if this box is within another box.\n  BoxPosition.prototype.within = function(container) {\n    return this.top >= container.top &&\n           this.bottom <= container.bottom &&\n           this.left >= container.left &&\n           this.right <= container.right;\n  };\n\n  // Check if this box is entirely within the container or it is overlapping\n  // on the edge opposite of the axis direction passed. For example, if \"+x\" is\n  // passed and the box is overlapping on the left edge of the container, then\n  // return true.\n  BoxPosition.prototype.overlapsOppositeAxis = function(container, axis) {\n    switch (axis) {\n    case \"+x\":\n      return this.left < container.left;\n    case \"-x\":\n      return this.right > container.right;\n    case \"+y\":\n      return this.top < container.top;\n    case \"-y\":\n      return this.bottom > container.bottom;\n    }\n  };\n\n  // Find the percentage of the area that this box is overlapping with another\n  // box.\n  BoxPosition.prototype.intersectPercentage = function(b2) {\n    var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n        y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n        intersectArea = x * y;\n    return intersectArea / (this.height * this.width);\n  };\n\n  // Convert the positions from this box to CSS compatible positions using\n  // the reference container's positions. This has to be done because this\n  // box's positions are in reference to the viewport origin, whereas, CSS\n  // values are in referecne to their respective edges.\n  BoxPosition.prototype.toCSSCompatValues = function(reference) {\n    return {\n      top: this.top - reference.top,\n      bottom: reference.bottom - this.bottom,\n      left: this.left - reference.left,\n      right: reference.right - this.right,\n      height: this.height,\n      width: this.width\n    };\n  };\n\n  // Get an object that represents the box's position without anything extra.\n  // Can pass a StyleBox, HTMLElement, or another BoxPositon.\n  BoxPosition.getSimpleBoxPosition = function(obj) {\n    var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n    var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n    var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n\n    obj = obj.div ? obj.div.getBoundingClientRect() :\n                  obj.tagName ? obj.getBoundingClientRect() : obj;\n    var ret = {\n      left: obj.left,\n      right: obj.right,\n      top: obj.top || top,\n      height: obj.height || height,\n      bottom: obj.bottom || (top + (obj.height || height)),\n      width: obj.width || width\n    };\n    return ret;\n  };\n\n  // Move a StyleBox to its specified, or next best, position. The containerBox\n  // is the box that contains the StyleBox, such as a div. boxPositions are\n  // a list of other boxes that the styleBox can't overlap with.\n  function moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n\n    // Find the best position for a cue box, b, on the video. The axis parameter\n    // is a list of axis, the order of which, it will move the box along. For example:\n    // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n    // direction. If it doesn't find a good position for it there it will then move\n    // it along the x axis in the negative direction.\n    function findBestPosition(b, axis) {\n      var bestPosition,\n          specifiedPosition = new BoxPosition(b),\n          percentage = 1; // Highest possible so the first thing we get is better.\n\n      for (var i = 0; i < axis.length; i++) {\n        while (b.overlapsOppositeAxis(containerBox, axis[i]) ||\n               (b.within(containerBox) && b.overlapsAny(boxPositions))) {\n          b.move(axis[i]);\n        }\n        // We found a spot where we aren't overlapping anything. This is our\n        // best position.\n        if (b.within(containerBox)) {\n          return b;\n        }\n        var p = b.intersectPercentage(containerBox);\n        // If we're outside the container box less then we were on our last try\n        // then remember this position as the best position.\n        if (percentage > p) {\n          bestPosition = new BoxPosition(b);\n          percentage = p;\n        }\n        // Reset the box position to the specified position.\n        b = new BoxPosition(specifiedPosition);\n      }\n      return bestPosition || specifiedPosition;\n    }\n\n    var boxPosition = new BoxPosition(styleBox),\n        cue = styleBox.cue,\n        linePos = computeLinePos(cue),\n        axis = [];\n\n    // If we have a line number to align the cue to.\n    if (cue.snapToLines) {\n      var size;\n      switch (cue.vertical) {\n      case \"\":\n        axis = [ \"+y\", \"-y\" ];\n        size = \"height\";\n        break;\n      case \"rl\":\n        axis = [ \"+x\", \"-x\" ];\n        size = \"width\";\n        break;\n      case \"lr\":\n        axis = [ \"-x\", \"+x\" ];\n        size = \"width\";\n        break;\n      }\n\n      var step = boxPosition.lineHeight,\n          position = step * Math.round(linePos),\n          maxPosition = containerBox[size] + step,\n          initialAxis = axis[0];\n\n      // If the specified intial position is greater then the max position then\n      // clamp the box to the amount of steps it would take for the box to\n      // reach the max position.\n      if (Math.abs(position) > maxPosition) {\n        position = position < 0 ? -1 : 1;\n        position *= Math.ceil(maxPosition / step) * step;\n      }\n\n      // If computed line position returns negative then line numbers are\n      // relative to the bottom of the video instead of the top. Therefore, we\n      // need to increase our initial position by the length or width of the\n      // video, depending on the writing direction, and reverse our axis directions.\n      if (linePos < 0) {\n        position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n        axis = axis.reverse();\n      }\n\n      // Move the box to the specified position. This may not be its best\n      // position.\n      boxPosition.move(initialAxis, position);\n\n    } else {\n      // If we have a percentage line value for the cue.\n      var calculatedPercentage = (boxPosition.lineHeight / containerBox.height) * 100;\n\n      switch (cue.lineAlign) {\n      case \"middle\":\n        linePos -= (calculatedPercentage / 2);\n        break;\n      case \"end\":\n        linePos -= calculatedPercentage;\n        break;\n      }\n\n      // Apply initial line position to the cue box.\n      switch (cue.vertical) {\n      case \"\":\n        styleBox.applyStyles({\n          top: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n      case \"rl\":\n        styleBox.applyStyles({\n          left: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n      case \"lr\":\n        styleBox.applyStyles({\n          right: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n      }\n\n      axis = [ \"+y\", \"-x\", \"+x\", \"-y\" ];\n\n      // Get the box position again after we've applied the specified positioning\n      // to it.\n      boxPosition = new BoxPosition(styleBox);\n    }\n\n    var bestPosition = findBestPosition(boxPosition, axis);\n    styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n  }\n\n  function WebVTT() {\n    // Nothing\n  }\n\n  // Helper to allow strings to be decoded instead of the default binary utf8 data.\n  WebVTT.StringDecoder = function() {\n    return {\n      decode: function(data) {\n        if (!data) {\n          return \"\";\n        }\n        if (typeof data !== \"string\") {\n          throw new Error(\"Error - expected string data.\");\n        }\n        return decodeURIComponent(encodeURIComponent(data));\n      }\n    };\n  };\n\n  WebVTT.convertCueToDOMTree = function(window, cuetext) {\n    if (!window || !cuetext) {\n      return null;\n    }\n    return parseContent(window, cuetext);\n  };\n\n  var FONT_SIZE_PERCENT = 0.05;\n  var FONT_STYLE = \"sans-serif\";\n  var CUE_BACKGROUND_PADDING = \"1.5%\";\n\n  // Runs the processing model over the cues and regions passed to it.\n  // @param overlay A block level element (usually a div) that the computed cues\n  //                and regions will be placed into.\n  WebVTT.processCues = function(window, cues, overlay) {\n    if (!window || !cues || !overlay) {\n      return null;\n    }\n\n    // Remove all previous children.\n    while (overlay.firstChild) {\n      overlay.removeChild(overlay.firstChild);\n    }\n\n    var paddedOverlay = window.document.createElement(\"div\");\n    paddedOverlay.style.position = \"absolute\";\n    paddedOverlay.style.left = \"0\";\n    paddedOverlay.style.right = \"0\";\n    paddedOverlay.style.top = \"0\";\n    paddedOverlay.style.bottom = \"0\";\n    paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n    overlay.appendChild(paddedOverlay);\n\n    // Determine if we need to compute the display states of the cues. This could\n    // be the case if a cue's state has been changed since the last computation or\n    // if it has not been computed yet.\n    function shouldCompute(cues) {\n      for (var i = 0; i < cues.length; i++) {\n        if (cues[i].hasBeenReset || !cues[i].displayState) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // We don't need to recompute the cues' display states. Just reuse them.\n    if (!shouldCompute(cues)) {\n      for (var i = 0; i < cues.length; i++) {\n        paddedOverlay.appendChild(cues[i].displayState);\n      }\n      return;\n    }\n\n    var boxPositions = [],\n        containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n        fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n    var styleOptions = {\n      font: fontSize + \"px \" + FONT_STYLE\n    };\n\n    (function() {\n      var styleBox, cue;\n\n      for (var i = 0; i < cues.length; i++) {\n        cue = cues[i];\n\n        // Compute the intial position and styles of the cue div.\n        styleBox = new CueStyleBox(window, cue, styleOptions);\n        paddedOverlay.appendChild(styleBox.div);\n\n        // Move the cue div to it's correct line position.\n        moveBoxToLinePosition(window, styleBox, containerBox, boxPositions);\n\n        // Remember the computed div so that we don't have to recompute it later\n        // if we don't have too.\n        cue.displayState = styleBox.div;\n\n        boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n      }\n    })();\n  };\n\n  WebVTT.Parser = function(window, vttjs, decoder) {\n    if (!decoder) {\n      decoder = vttjs;\n      vttjs = {};\n    }\n    if (!vttjs) {\n      vttjs = {};\n    }\n\n    this.window = window;\n    this.vttjs = vttjs;\n    this.state = \"INITIAL\";\n    this.buffer = \"\";\n    this.decoder = decoder || new TextDecoder(\"utf8\");\n    this.regionList = [];\n  };\n\n  WebVTT.Parser.prototype = {\n    // If the error is a ParsingError then report it to the consumer if\n    // possible. If it's not a ParsingError then throw it like normal.\n    reportOrThrowError: function(e) {\n      if (e instanceof ParsingError) {\n        this.onparsingerror && this.onparsingerror(e);\n      } else {\n        throw e;\n      }\n    },\n    parse: function (data) {\n      var self = this;\n\n      // If there is no data then we won't decode it, but will just try to parse\n      // whatever is in buffer already. This may occur in circumstances, for\n      // example when flush() is called.\n      if (data) {\n        // Try to decode the data that we received.\n        self.buffer += self.decoder.decode(data, {stream: true});\n      }\n\n      function collectNextLine() {\n        var buffer = self.buffer;\n        var pos = 0;\n        while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n          ++pos;\n        }\n        var line = buffer.substr(0, pos);\n        // Advance the buffer early in case we fail below.\n        if (buffer[pos] === '\\r') {\n          ++pos;\n        }\n        if (buffer[pos] === '\\n') {\n          ++pos;\n        }\n        self.buffer = buffer.substr(pos);\n        return line;\n      }\n\n      // 3.4 WebVTT region and WebVTT region settings syntax\n      function parseRegion(input) {\n        var settings = new Settings();\n\n        parseOptions(input, function (k, v) {\n          switch (k) {\n          case \"id\":\n            settings.set(k, v);\n            break;\n          case \"width\":\n            settings.percent(k, v);\n            break;\n          case \"lines\":\n            settings.integer(k, v);\n            break;\n          case \"regionanchor\":\n          case \"viewportanchor\":\n            var xy = v.split(',');\n            if (xy.length !== 2) {\n              break;\n            }\n            // We have to make sure both x and y parse, so use a temporary\n            // settings object here.\n            var anchor = new Settings();\n            anchor.percent(\"x\", xy[0]);\n            anchor.percent(\"y\", xy[1]);\n            if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n              break;\n            }\n            settings.set(k + \"X\", anchor.get(\"x\"));\n            settings.set(k + \"Y\", anchor.get(\"y\"));\n            break;\n          case \"scroll\":\n            settings.alt(k, v, [\"up\"]);\n            break;\n          }\n        }, /=/, /\\s/);\n\n        // Create the region, using default values for any values that were not\n        // specified.\n        if (settings.has(\"id\")) {\n          var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n          region.width = settings.get(\"width\", 100);\n          region.lines = settings.get(\"lines\", 3);\n          region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n          region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n          region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n          region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n          region.scroll = settings.get(\"scroll\", \"\");\n          // Register the region.\n          self.onregion && self.onregion(region);\n          // Remember the VTTRegion for later in case we parse any VTTCues that\n          // reference it.\n          self.regionList.push({\n            id: settings.get(\"id\"),\n            region: region\n          });\n        }\n      }\n\n      // 3.2 WebVTT metadata header syntax\n      function parseHeader(input) {\n        parseOptions(input, function (k, v) {\n          switch (k) {\n          case \"Region\":\n            // 3.3 WebVTT region metadata header syntax\n            parseRegion(v);\n            break;\n          }\n        }, /:/);\n      }\n\n      // 5.1 WebVTT file parsing.\n      try {\n        var line;\n        if (self.state === \"INITIAL\") {\n          // We can't start parsing until we have the first line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          line = collectNextLine();\n\n          var m = line.match(/^WEBVTT([ \\t].*)?$/);\n          if (!m || !m[0]) {\n            throw new ParsingError(ParsingError.Errors.BadSignature);\n          }\n\n          self.state = \"HEADER\";\n        }\n\n        var alreadyCollectedLine = false;\n        while (self.buffer) {\n          // We can't parse a line until we have the full line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          if (!alreadyCollectedLine) {\n            line = collectNextLine();\n          } else {\n            alreadyCollectedLine = false;\n          }\n\n          switch (self.state) {\n          case \"HEADER\":\n            // 13-18 - Allow a header (metadata) under the WEBVTT line.\n            if (/:/.test(line)) {\n              parseHeader(line);\n            } else if (!line) {\n              // An empty line terminates the header and starts the body (cues).\n              self.state = \"ID\";\n            }\n            continue;\n          case \"NOTE\":\n            // Ignore NOTE blocks.\n            if (!line) {\n              self.state = \"ID\";\n            }\n            continue;\n          case \"ID\":\n            // Check for the start of NOTE blocks.\n            if (/^NOTE($|[ \\t])/.test(line)) {\n              self.state = \"NOTE\";\n              break;\n            }\n            // 19-29 - Allow any number of line terminators, then initialize new cue values.\n            if (!line) {\n              continue;\n            }\n            self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\");\n            self.state = \"CUE\";\n            // 30-39 - Check if self line contains an optional identifier or timing data.\n            if (line.indexOf(\"-->\") === -1) {\n              self.cue.id = line;\n              continue;\n            }\n            // Process line as start of a cue.\n            /*falls through*/\n          case \"CUE\":\n            // 40 - Collect cue timings and settings.\n            try {\n              parseCue(line, self.cue, self.regionList);\n            } catch (e) {\n              self.reportOrThrowError(e);\n              // In case of an error ignore rest of the cue.\n              self.cue = null;\n              self.state = \"BADCUE\";\n              continue;\n            }\n            self.state = \"CUETEXT\";\n            continue;\n          case \"CUETEXT\":\n            var hasSubstring = line.indexOf(\"-->\") !== -1;\n            // 34 - If we have an empty line then report the cue.\n            // 35 - If we have the special substring '-->' then report the cue,\n            // but do not collect the line as we need to process the current\n            // one as a new cue.\n            if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n              // We are done parsing self cue.\n              self.oncue && self.oncue(self.cue);\n              self.cue = null;\n              self.state = \"ID\";\n              continue;\n            }\n            if (self.cue.text) {\n              self.cue.text += \"\\n\";\n            }\n            self.cue.text += line;\n            continue;\n          case \"BADCUE\": // BADCUE\n            // 54-62 - Collect and discard the remaining cue.\n            if (!line) {\n              self.state = \"ID\";\n            }\n            continue;\n          }\n        }\n      } catch (e) {\n        self.reportOrThrowError(e);\n\n        // If we are currently parsing a cue, report what we have.\n        if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n          self.oncue(self.cue);\n        }\n        self.cue = null;\n        // Enter BADWEBVTT state if header was not parsed correctly otherwise\n        // another exception occurred so enter BADCUE state.\n        self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n      }\n      return this;\n    },\n    flush: function () {\n      var self = this;\n      try {\n        // Finish decoding the stream.\n        self.buffer += self.decoder.decode();\n        // Synthesize the end of the current cue or region.\n        if (self.cue || self.state === \"HEADER\") {\n          self.buffer += \"\\n\\n\";\n          self.parse();\n        }\n        // If we've flushed, parsed, and we're still on the INITIAL state then\n        // that means we don't have enough of the stream to parse the first\n        // line.\n        if (self.state === \"INITIAL\") {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n      } catch(e) {\n        self.reportOrThrowError(e);\n      }\n      self.onflush && self.onflush();\n      return this;\n    }\n  };\n\n  global.WebVTT = WebVTT;\n\n}(this, (this.vttjs || {})));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/video.js/dist/video-js/video.dev.js\n ** module id = 1\n ** module chunks = 0 1\n **/","/**\n * isMobile.js v0.4.0\n *\n * A simple library to detect Apple phones and tablets,\n * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),\n * and any kind of seven inch device, via user agent sniffing.\n *\n * @author: Kai Mallea (kmallea@gmail.com)\n *\n * @license: http://creativecommons.org/publicdomain/zero/1.0/\n */\n(function (global) {\n\n    var apple_phone         = /iPhone/i,\n        apple_ipod          = /iPod/i,\n        apple_tablet        = /iPad/i,\n        android_phone       = /(?=.*\\bAndroid\\b)(?=.*\\bMobile\\b)/i, // Match 'Android' AND 'Mobile'\n        android_tablet      = /Android/i,\n        amazon_phone        = /(?=.*\\bAndroid\\b)(?=.*\\bSD4930UR\\b)/i,\n        amazon_tablet       = /(?=.*\\bAndroid\\b)(?=.*\\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\\b)/i,\n        windows_phone       = /IEMobile/i,\n        windows_tablet      = /(?=.*\\bWindows\\b)(?=.*\\bARM\\b)/i, // Match 'Windows' AND 'ARM'\n        other_blackberry    = /BlackBerry/i,\n        other_blackberry_10 = /BB10/i,\n        other_opera         = /Opera Mini/i,\n        other_chrome        = /(CriOS|Chrome)(?=.*\\bMobile\\b)/i,\n        other_firefox       = /(?=.*\\bFirefox\\b)(?=.*\\bMobile\\b)/i, // Match 'Firefox' AND 'Mobile'\n        seven_inch = new RegExp(\n            '(?:' +         // Non-capturing group\n\n            'Nexus 7' +     // Nexus 7\n\n            '|' +           // OR\n\n            'BNTV250' +     // B&N Nook Tablet 7 inch\n\n            '|' +           // OR\n\n            'Kindle Fire' + // Kindle Fire\n\n            '|' +           // OR\n\n            'Silk' +        // Kindle Fire, Silk Accelerated\n\n            '|' +           // OR\n\n            'GT-P1000' +    // Galaxy Tab 7 inch\n\n            ')',            // End non-capturing group\n\n            'i');           // Case-insensitive matching\n\n    var match = function(regex, userAgent) {\n        return regex.test(userAgent);\n    };\n\n    var IsMobileClass = function(userAgent) {\n        var ua = userAgent || navigator.userAgent;\n\n        // Facebook mobile app's integrated browser adds a bunch of strings that\n        // match everything. Strip it out if it exists.\n        var tmp = ua.split('[FBAN');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n        // iPhone\" string. Same probable happens on other tablet platforms.\n        // This will confuse detection so strip it out if it exists.\n        tmp = ua.split('Twitter');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        this.apple = {\n            phone:  match(apple_phone, ua),\n            ipod:   match(apple_ipod, ua),\n            tablet: !match(apple_phone, ua) && match(apple_tablet, ua),\n            device: match(apple_phone, ua) || match(apple_ipod, ua) || match(apple_tablet, ua)\n        };\n        this.amazon = {\n            phone:  match(amazon_phone, ua),\n            tablet: !match(amazon_phone, ua) && match(amazon_tablet, ua),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua)\n        };\n        this.android = {\n            phone:  match(amazon_phone, ua) || match(android_phone, ua),\n            tablet: !match(amazon_phone, ua) && !match(android_phone, ua) && (match(amazon_tablet, ua) || match(android_tablet, ua)),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua) || match(android_phone, ua) || match(android_tablet, ua)\n        };\n        this.windows = {\n            phone:  match(windows_phone, ua),\n            tablet: match(windows_tablet, ua),\n            device: match(windows_phone, ua) || match(windows_tablet, ua)\n        };\n        this.other = {\n            blackberry:   match(other_blackberry, ua),\n            blackberry10: match(other_blackberry_10, ua),\n            opera:        match(other_opera, ua),\n            firefox:      match(other_firefox, ua),\n            chrome:       match(other_chrome, ua),\n            device:       match(other_blackberry, ua) || match(other_blackberry_10, ua) || match(other_opera, ua) || match(other_firefox, ua) || match(other_chrome, ua)\n        };\n        this.seven_inch = match(seven_inch, ua);\n        this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch;\n\n        // excludes 'other' devices and ipods, targeting touchscreen phones\n        this.phone = this.apple.phone || this.android.phone || this.windows.phone;\n\n        // excludes 7 inch devices, classifying as phone or tablet is left to the user\n        this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet;\n\n        if (typeof window === 'undefined') {\n            return this;\n        }\n    };\n\n    var instantiate = function() {\n        var IM = new IsMobileClass();\n        IM.Class = IsMobileClass;\n        return IM;\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof window === 'undefined') {\n        //node\n        module.exports = IsMobileClass;\n    } else if (typeof module !== 'undefined' && module.exports && typeof window !== 'undefined') {\n        //browserify\n        module.exports = instantiate();\n    } else if (typeof define === 'function' && define.amd) {\n        //AMD\n        define('isMobile', [], global.isMobile = instantiate());\n    } else {\n        global.isMobile = instantiate();\n    }\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/isMobile/isMobile.js\n ** module id = 2\n ** module chunks = 0 1\n **/","/*\n * Copyright (c) 2014 Mike King (@micjamking)\n *\n * jQuery Succinct plugin\n * Version 1.1.0 (October 2014)\n *\n * Licensed under the MIT License\n */\n\n /*global jQuery*/\n(function($) {\n\t'use strict';\n\n\t$.fn.succinct = function(options) {\n\n\t\tvar settings = $.extend({\n\t\t\t\tsize: 240,\n\t\t\t\tomission: '...',\n\t\t\t\tignore: true\n\t\t\t}, options);\n\n\t\treturn this.each(function() {\n\n\t\t\tvar textDefault,\n\t\t\t\ttextTruncated,\n\t\t\t\telements = $(this),\n\t\t\t\tregex    = /[!-\\/:-@\\[-`{-~]$/,\n\t\t\t\tinit     = function() {\n\t\t\t\t\telements.each(function() {\n\t\t\t\t\t\ttextDefault = $(this).html();\n\n\t\t\t\t\t\tif (textDefault.length > settings.size) {\n\t\t\t\t\t\t\ttextTruncated = $.trim(textDefault)\n\t\t\t\t\t\t\t\t\t\t\t.substring(0, settings.size)\n\t\t\t\t\t\t\t\t\t\t\t.split(' ')\n\t\t\t\t\t\t\t\t\t\t\t.slice(0, -1)\n\t\t\t\t\t\t\t\t\t\t\t.join(' ');\n\n\t\t\t\t\t\t\tif (settings.ignore) {\n\t\t\t\t\t\t\t\ttextTruncated = textTruncated.replace(regex, '');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$(this).html(textTruncated + settings.omission);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\tinit();\n\t\t});\n\t};\n})(jQuery);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/succinct/jQuery.succinct.js\n ** module id = 3\n ** module chunks = 0 1\n **/","'use strict';\n\n(function (window, document, videojs) {\n\n  /**\n   *  Cookie access functions.\n   *  From: https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n   */\n  var cookies = {\n    getItem: function (sKey) {\n      if (!sKey) { return null; }\n      return decodeURIComponent(\n        document.cookie.replace(\n          new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(\n            /[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")\n        ) || null;\n    },\n    setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n      if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n      var sExpires = \"\";\n      if (vEnd) {\n        switch (vEnd.constructor) {\n          case Number:\n            sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n            break;\n          case String:\n            sExpires = \"; expires=\" + vEnd;\n            break;\n          case Date:\n            sExpires = \"; expires=\" + vEnd.toUTCString();\n            break;\n        }\n      }\n      document.cookie =\n        encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue)\n          + sExpires\n          + (sDomain ? \"; domain=\" + sDomain : \"\")\n          + (sPath ? \"; path=\" + sPath : \"\")\n          + (bSecure ? \"; secure\" : \"\");\n      return true;\n    },\n    removeItem: function(sKey, sPath, sDomain) {\n      if (!this.hasItem(sKey)) {\n        return false;\n      }\n      document.cookie = encodeURIComponent(sKey) + \"=;\" + \" expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n      return true;\n    },\n    hasItem: function (sKey) {\n      if (!sKey) { return false; }\n      return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(\n        /[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n    },\n  },\n\n  /**\n   *  Local storage functionality.\n   */\n  localStorage = {\n    available: function() {\n      try {\n        window.localStorage.setItem('fishingForLocalStorage', 'itsHere');\n        window.localStorage.removeItem('fishingForLocalStorage');\n        return true;\n      } catch(e) {\n        return false;\n      }\n    },\n    getItem: function(key) {\n      return window.localStorage.getItem(key);\n    },\n    setItem: function(key, value) {\n      return window.localStorage.setItem(key, value);\n    },\n    removeItem: function(key) {\n      return window.localStorage.removeItem(key);\n    }\n  },\n\n  /**\n   *  Storage chooser, will use localstorage if available, otherwise use cookies.\n   */\n  storage = {\n    getItem: function (key) {\n      return localStorage.available() ? localStorage.getItem(key) : cookies.getItem(key);\n    },\n    setItem: function (key, value) {\n      localStorage.available() ? localStorage.setItem(key, value) : cookies.setItem(key, value, Infinity, '/');\n      return value;\n    },\n    removeItem: function (key) {\n      localStorage.available() ? localStorage.removeItem(key) : cookies.removeItem(key);\n    }\n  },\n\n  /**\n   *  Object extend function.\n   */\n  extend = function(obj) {\n    var arg, i, k;\n    for (i = 1; i < arguments.length; i++) {\n      arg = arguments[i];\n      for (k in arg) {\n        if (arg.hasOwnProperty(k)) {\n          obj[k] = arg[k];\n        }\n      }\n    }\n    return obj;\n  },\n\n  /**\n   *  Default settings for this plugin.\n   */\n  defaults = {\n    namespace: 'autoplay-toggle',   // namespace for cookie/localstorage\n  },\n\n  /**\n   *  Autoplay toggle plugin setup.\n   */\n  autoplayToggle = function (options) {\n\n    var player = this,\n        settings = extend({}, defaults, options || {}),\n        key = settings.namespace + '-autoplay';\n\n    // add new button to player\n    var autoplayBtn = document.createElement('div');\n    autoplayBtn.className = 'vjs-autoplay-toggle-button vjs-menu-button vjs-control';\n    autoplayBtn.innerHTML =\n      '<div>'\n        + '<span class=\"vjs-control-text\">'\n            + 'Autoplay:<br>'\n            + '<span class=\"autoplay-toggle autoplay-toggle-active autoplay-on\">On</span>'\n            + '&nbsp;/&nbsp;'\n            + '<span class=\"autoplay-toggle autoplay-off\">Off</span>'\n        + '</span>'\n      '</div>';\n    player.controlBar.el().appendChild(autoplayBtn);\n\n    // retrieve autoplay from storage and highlight the correct toggle option in *all* video players\n    var autoplayToggleButton = function (activate) {\n\n      // set cookie once\n      activate ? storage.removeItem(key) : storage.setItem(key, 'no');\n\n      // get all videos and toggle all their autoplays\n      var videos = document.querySelectorAll('.video-js');\n      for (var i = 0; i < videos.length; i++) {\n\n        // check that this video has a toggle button\n        var toggleBtnSelector  = videos[i].querySelectorAll('.vjs-autoplay-toggle-button');\n        if (toggleBtnSelector.length > 0) {\n          var toggleBtn = toggleBtnSelector[0],\n              toggleOn = toggleBtn.querySelectorAll('.autoplay-on')[0],\n              toggleOff = toggleBtn.querySelectorAll('.autoplay-off')[0];\n\n          if (activate) {\n            // toggle this on\n            toggleOn.className = 'autoplay-toggle autoplay-toggle-active autoplay-on';\n            toggleOff.className = 'autoplay-toggle autoplay-off';\n          } else {\n            // toggle this off\n            toggleOn.className = 'autoplay-toggle autoplay-on';\n            toggleOff.className = 'autoplay-toggle autoplay-toggle-active autoplay-off';\n          }\n        }\n      }\n    };\n\n    var turnOn = !storage.getItem(key);\n    // change player behavior based on toggle\n    if (player.autoplay() && !turnOn) {\n      // this could be autoplaying, make sure to stop it and ensure player's autoplay is false\n      player.autoplay(false);\n      player.pause();\n    } else if (player.autoplay() && turnOn) {\n      // we want this to autoplay\n      player.play();\n    }\n\n    // initialize autoplay toggle\n    autoplayToggleButton(turnOn);\n\n    // set up toggle click\n    autoplayBtn.onclick = function () {\n      // check if key in storage and do the opposite of that to toggle\n      var toggle = !!storage.getItem(key);\n      autoplayToggleButton(toggle);\n    };\n\n    // return player to allow this plugin to be chained\n    return player;\n\n  };\n\n  // set this thing up as a vjs plugin\n  videojs.plugin('autoplayToggle', autoplayToggle);\n\n  // alternative function for retrieving autoplay value from storage for situations where other plugins\n  //  are interfering with this plugin\n  videojs.autoplaySettingFromStorage = function (options) {\n    var settings = extend({}, defaults, options || {}),\n        key = settings.namespace + '-autoplay';\n\n    // negate what's in storage since only \"don't autoplay\" is stored\n    return !storage.getItem(key);\n  };\n\n})(window, document, videojs);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/videojs-autoplay-toggle/videojs.autoplay-toggle.js\n ** module id = 4\n ** module chunks = 0 1\n **/","/*\n* videojs-ga - v0.4.2 - 2016-04-25\n* Copyright (c) 2016 Michael Bensoussan\n* Licensed MIT\n*/\n(function() {\n  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  videojs.plugin('ga', function(options) {\n    var dataSetupOptions, defaultsEventsToTrack, end, error, eventCategory, eventLabel, eventsToTrack, fullscreen, loaded, parsedOptions, pause, percentsAlreadyTracked, percentsPlayedInterval, play, resize, seekEnd, seekStart, seeking, sendbeacon, timeupdate, volumeChange;\n    if (options == null) {\n      options = {};\n    }\n    dataSetupOptions = {};\n    if (this.options()[\"data-setup\"]) {\n      parsedOptions = JSON.parse(this.options()[\"data-setup\"]);\n      if (parsedOptions.ga) {\n        dataSetupOptions = parsedOptions.ga;\n      }\n    }\n    defaultsEventsToTrack = ['loaded', 'percentsPlayed', 'start', 'end', 'seek', 'play', 'pause', 'resize', 'volumeChange', 'error', 'fullscreen'];\n    eventsToTrack = options.eventsToTrack || dataSetupOptions.eventsToTrack || defaultsEventsToTrack;\n    percentsPlayedInterval = options.percentsPlayedInterval || dataSetupOptions.percentsPlayedInterval || 10;\n    eventCategory = options.eventCategory || dataSetupOptions.eventCategory || 'Video';\n    eventLabel = options.eventLabel || dataSetupOptions.eventLabel;\n    options.debug = options.debug || false;\n    percentsAlreadyTracked = [];\n    seekStart = seekEnd = 0;\n    seeking = false;\n    loaded = function() {\n      if (!eventLabel) {\n        eventLabel = this.currentSrc().split(\"/\").slice(-1)[0].replace(/\\.(\\w{3,4})(\\?.*)?$/i, '');\n      }\n      if (__indexOf.call(eventsToTrack, \"loadedmetadata\") >= 0) {\n        sendbeacon('loadedmetadata', true);\n      }\n    };\n    timeupdate = function() {\n      var currentTime, duration, percent, percentPlayed, _i;\n      currentTime = Math.round(this.currentTime());\n      duration = Math.round(this.duration());\n      percentPlayed = Math.round(currentTime / duration * 100);\n      for (percent = _i = 0; _i <= 99; percent = _i += percentsPlayedInterval) {\n        if (percentPlayed >= percent && __indexOf.call(percentsAlreadyTracked, percent) < 0) {\n          if (__indexOf.call(eventsToTrack, \"start\") >= 0 && percent === 0 && percentPlayed > 0) {\n            sendbeacon('start', true);\n          } else if (__indexOf.call(eventsToTrack, \"percentsPlayed\") >= 0 && percentPlayed !== 0) {\n            sendbeacon('percent played', true, percent);\n          }\n          if (percentPlayed > 0) {\n            percentsAlreadyTracked.push(percent);\n          }\n        }\n      }\n      if (__indexOf.call(eventsToTrack, \"seek\") >= 0) {\n        seekStart = seekEnd;\n        seekEnd = currentTime;\n        if (Math.abs(seekStart - seekEnd) > 1) {\n          seeking = true;\n          sendbeacon('seek start', false, seekStart);\n          sendbeacon('seek end', false, seekEnd);\n        }\n      }\n    };\n    end = function() {\n      sendbeacon('end', true);\n    };\n    play = function() {\n      var currentTime;\n      currentTime = Math.round(this.currentTime());\n      sendbeacon('play', true, currentTime);\n      seeking = false;\n    };\n    pause = function() {\n      var currentTime, duration;\n      currentTime = Math.round(this.currentTime());\n      duration = Math.round(this.duration());\n      if (currentTime !== duration && !seeking) {\n        sendbeacon('pause', false, currentTime);\n      }\n    };\n    volumeChange = function() {\n      var volume;\n      volume = this.muted() === true ? 0 : this.volume();\n      sendbeacon('volume change', false, volume);\n    };\n    resize = function() {\n      sendbeacon('resize - ' + this.width() + \"*\" + this.height(), true);\n    };\n    error = function() {\n      var currentTime;\n      currentTime = Math.round(this.currentTime());\n      sendbeacon('error', true, currentTime);\n    };\n    fullscreen = function() {\n      var currentTime;\n      currentTime = Math.round(this.currentTime());\n      if ((typeof this.isFullscreen === \"function\" ? this.isFullscreen() : void 0) || (typeof this.isFullScreen === \"function\" ? this.isFullScreen() : void 0)) {\n        sendbeacon('enter fullscreen', false, currentTime);\n      } else {\n        sendbeacon('exit fullscreen', false, currentTime);\n      }\n    };\n    sendbeacon = function(action, nonInteraction, value) {\n      var send;\n      send = options.gaPrefix ? \"\" + options.gaPrefix + \".send\" : 'send';\n      if (window.ga) {\n        ga(send, 'event', {\n          'eventCategory': eventCategory,\n          'eventAction': action,\n          'eventLabel': eventLabel,\n          'eventValue': value,\n          'nonInteraction': nonInteraction\n        });\n      } else if (window._gaq) {\n        if (options.gaPrefix) {\n          throw new Error('videojs.ga plugin does not support a gaPrefix with the `_gaq` implementation.');\n        }\n        _gaq.push(['_trackEvent', eventCategory, action, eventLabel, value, nonInteraction]);\n      } else if (options.debug) {\n        console.log(\"Google Analytics not detected\");\n      }\n    };\n    this.ready(function() {\n      this.on(\"loadedmetadata\", loaded);\n      this.on(\"timeupdate\", timeupdate);\n      if (__indexOf.call(eventsToTrack, \"end\") >= 0) {\n        this.on(\"ended\", end);\n      }\n      if (__indexOf.call(eventsToTrack, \"play\") >= 0) {\n        this.on(\"play\", play);\n      }\n      if (__indexOf.call(eventsToTrack, \"pause\") >= 0) {\n        this.on(\"pause\", pause);\n      }\n      if (__indexOf.call(eventsToTrack, \"volumeChange\") >= 0) {\n        this.on(\"volumechange\", volumeChange);\n      }\n      if (__indexOf.call(eventsToTrack, \"resize\") >= 0) {\n        this.on(\"resize\", resize);\n      }\n      if (__indexOf.call(eventsToTrack, \"error\") >= 0) {\n        this.on(\"error\", error);\n      }\n      if (__indexOf.call(eventsToTrack, \"fullscreen\") >= 0) {\n        return this.on(\"fullscreenchange\", fullscreen);\n      }\n    });\n    return {\n      'sendbeacon': sendbeacon\n    };\n  });\n\n}).call(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/videojs-ga/dist/videojs.ga.js\n ** module id = 5\n ** module chunks = 0 1\n **/","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>\n    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>\n*/\nvar swfobject=function(){var D=\"undefined\",r=\"object\",T=\"Shockwave Flash\",Z=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",S=\"SWFObjectExprInst\",x=\"onreadystatechange\",Q=window,h=document,t=navigator,V=false,X=[],o=[],P=[],K=[],I,p,E,B,L=false,a=false,m,G,j=true,l=false,O=function(){var ad=typeof h.getElementById!=D&&typeof h.getElementsByTagName!=D&&typeof h.createElement!=D,ak=t.userAgent.toLowerCase(),ab=t.platform.toLowerCase(),ah=ab?/win/.test(ab):/win/.test(ak),af=ab?/mac/.test(ab):/mac/.test(ak),ai=/webkit/.test(ak)?parseFloat(ak.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,aa=t.appName===\"Microsoft Internet Explorer\",aj=[0,0,0],ae=null;if(typeof t.plugins!=D&&typeof t.plugins[T]==r){ae=t.plugins[T].description;if(ae&&(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&t.mimeTypes[q].enabledPlugin)){V=true;aa=false;ae=ae.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");aj[0]=n(ae.replace(/^(.*)\\..*$/,\"$1\"));aj[1]=n(ae.replace(/^.*\\.(.*)\\s.*$/,\"$1\"));aj[2]=/[a-zA-Z]/.test(ae)?n(ae.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\")):0}}else{if(typeof Q.ActiveXObject!=D){try{var ag=new ActiveXObject(Z);if(ag){ae=ag.GetVariable(\"$version\");if(ae){aa=true;ae=ae.split(\" \")[1].split(\",\");aj=[n(ae[0]),n(ae[1]),n(ae[2])]}}}catch(ac){}}}return{w3:ad,pv:aj,wk:ai,ie:aa,win:ah,mac:af}}(),i=function(){if(!O.w3){return}if((typeof h.readyState!=D&&(h.readyState===\"complete\"||h.readyState===\"interactive\"))||(typeof h.readyState==D&&(h.getElementsByTagName(\"body\")[0]||h.body))){f()}if(!L){if(typeof h.addEventListener!=D){h.addEventListener(\"DOMContentLoaded\",f,false)}if(O.ie){h.attachEvent(x,function aa(){if(h.readyState==\"complete\"){h.detachEvent(x,aa);f()}});if(Q==top){(function ac(){if(L){return}try{h.documentElement.doScroll(\"left\")}catch(ad){setTimeout(ac,0);return}f()}())}}if(O.wk){(function ab(){if(L){return}if(!/loaded|complete/.test(h.readyState)){setTimeout(ab,0);return}f()}())}}}();function f(){if(L||!document.getElementsByTagName(\"body\")[0]){return}try{var ac,ad=C(\"span\");ad.style.display=\"none\";ac=h.getElementsByTagName(\"body\")[0].appendChild(ad);ac.parentNode.removeChild(ac);ac=null;ad=null}catch(ae){return}L=true;var aa=X.length;for(var ab=0;ab<aa;ab++){X[ab]()}}function M(aa){if(L){aa()}else{X[X.length]=aa}}function s(ab){if(typeof Q.addEventListener!=D){Q.addEventListener(\"load\",ab,false)}else{if(typeof h.addEventListener!=D){h.addEventListener(\"load\",ab,false)}else{if(typeof Q.attachEvent!=D){g(Q,\"onload\",ab)}else{if(typeof Q.onload==\"function\"){var aa=Q.onload;Q.onload=function(){aa();ab()}}else{Q.onload=ab}}}}}function Y(){var aa=h.getElementsByTagName(\"body\")[0];var ae=C(r);ae.setAttribute(\"style\",\"visibility: hidden;\");ae.setAttribute(\"type\",q);var ad=aa.appendChild(ae);if(ad){var ac=0;(function ab(){if(typeof ad.GetVariable!=D){try{var ag=ad.GetVariable(\"$version\");if(ag){ag=ag.split(\" \")[1].split(\",\");O.pv=[n(ag[0]),n(ag[1]),n(ag[2])]}}catch(af){O.pv=[8,0,0]}}else{if(ac<10){ac++;setTimeout(ab,10);return}}aa.removeChild(ae);ad=null;H()}())}else{H()}}function H(){var aj=o.length;if(aj>0){for(var ai=0;ai<aj;ai++){var ab=o[ai].id;var ae=o[ai].callbackFn;var ad={success:false,id:ab};if(O.pv[0]>0){var ah=c(ab);if(ah){if(F(o[ai].swfVersion)&&!(O.wk&&O.wk<312)){w(ab,true);if(ae){ad.success=true;ad.ref=z(ab);ad.id=ab;ae(ad)}}else{if(o[ai].expressInstall&&A()){var al={};al.data=o[ai].expressInstall;al.width=ah.getAttribute(\"width\")||\"0\";al.height=ah.getAttribute(\"height\")||\"0\";if(ah.getAttribute(\"class\")){al.styleclass=ah.getAttribute(\"class\")}if(ah.getAttribute(\"align\")){al.align=ah.getAttribute(\"align\")}var ak={};var aa=ah.getElementsByTagName(\"param\");var af=aa.length;for(var ag=0;ag<af;ag++){if(aa[ag].getAttribute(\"name\").toLowerCase()!=\"movie\"){ak[aa[ag].getAttribute(\"name\")]=aa[ag].getAttribute(\"value\")}}R(al,ak,ab,ae)}else{b(ah);if(ae){ae(ad)}}}}}else{w(ab,true);if(ae){var ac=z(ab);if(ac&&typeof ac.SetVariable!=D){ad.success=true;ad.ref=ac;ad.id=ac.id}ae(ad)}}}}}X[0]=function(){if(V){Y()}else{H()}};function z(ac){var aa=null,ab=c(ac);if(ab&&ab.nodeName.toUpperCase()===\"OBJECT\"){if(typeof ab.SetVariable!==D){aa=ab}else{aa=ab.getElementsByTagName(r)[0]||ab}}return aa}function A(){return !a&&F(\"6.0.65\")&&(O.win||O.mac)&&!(O.wk&&O.wk<312)}function R(ad,ae,aa,ac){var ah=c(aa);aa=W(aa);a=true;E=ac||null;B={success:false,id:aa};if(ah){if(ah.nodeName.toUpperCase()==\"OBJECT\"){I=J(ah);p=null}else{I=ah;p=aa}ad.id=S;if(typeof ad.width==D||(!/%$/.test(ad.width)&&n(ad.width)<310)){ad.width=\"310\"}if(typeof ad.height==D||(!/%$/.test(ad.height)&&n(ad.height)<137)){ad.height=\"137\"}var ag=O.ie?\"ActiveX\":\"PlugIn\",af=\"MMredirectURL=\"+encodeURIComponent(Q.location.toString().replace(/&/g,\"%26\"))+\"&MMplayerType=\"+ag+\"&MMdoctitle=\"+encodeURIComponent(h.title.slice(0,47)+\" - Flash Player Installation\");if(typeof ae.flashvars!=D){ae.flashvars+=\"&\"+af}else{ae.flashvars=af}if(O.ie&&ah.readyState!=4){var ab=C(\"div\");\naa+=\"SWFObjectNew\";ab.setAttribute(\"id\",aa);ah.parentNode.insertBefore(ab,ah);ah.style.display=\"none\";y(ah)}u(ad,ae,aa)}}function b(ab){if(O.ie&&ab.readyState!=4){ab.style.display=\"none\";var aa=C(\"div\");ab.parentNode.insertBefore(aa,ab);aa.parentNode.replaceChild(J(ab),aa);y(ab)}else{ab.parentNode.replaceChild(J(ab),ab)}}function J(af){var ae=C(\"div\");if(O.win&&O.ie){ae.innerHTML=af.innerHTML}else{var ab=af.getElementsByTagName(r)[0];if(ab){var ag=ab.childNodes;if(ag){var aa=ag.length;for(var ad=0;ad<aa;ad++){if(!(ag[ad].nodeType==1&&ag[ad].nodeName==\"PARAM\")&&!(ag[ad].nodeType==8)){ae.appendChild(ag[ad].cloneNode(true))}}}}}return ae}function k(aa,ab){var ac=C(\"div\");ac.innerHTML=\"<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='\"+aa+\"'>\"+ab+\"</object>\";return ac.firstChild}function u(ai,ag,ab){var aa,ad=c(ab);ab=W(ab);if(O.wk&&O.wk<312){return aa}if(ad){var ac=(O.ie)?C(\"div\"):C(r),af,ah,ae;if(typeof ai.id==D){ai.id=ab}for(ae in ag){if(ag.hasOwnProperty(ae)&&ae.toLowerCase()!==\"movie\"){e(ac,ae,ag[ae])}}if(O.ie){ac=k(ai.data,ac.innerHTML)}for(af in ai){if(ai.hasOwnProperty(af)){ah=af.toLowerCase();if(ah===\"styleclass\"){ac.setAttribute(\"class\",ai[af])}else{if(ah!==\"classid\"&&ah!==\"data\"){ac.setAttribute(af,ai[af])}}}}if(O.ie){P[P.length]=ai.id}else{ac.setAttribute(\"type\",q);ac.setAttribute(\"data\",ai.data)}ad.parentNode.replaceChild(ac,ad);aa=ac}return aa}function e(ac,aa,ab){var ad=C(\"param\");ad.setAttribute(\"name\",aa);ad.setAttribute(\"value\",ab);ac.appendChild(ad)}function y(ac){var ab=c(ac);if(ab&&ab.nodeName.toUpperCase()==\"OBJECT\"){if(O.ie){ab.style.display=\"none\";(function aa(){if(ab.readyState==4){for(var ad in ab){if(typeof ab[ad]==\"function\"){ab[ad]=null}}ab.parentNode.removeChild(ab)}else{setTimeout(aa,10)}}())}else{ab.parentNode.removeChild(ab)}}}function U(aa){return(aa&&aa.nodeType&&aa.nodeType===1)}function W(aa){return(U(aa))?aa.id:aa}function c(ac){if(U(ac)){return ac}var aa=null;try{aa=h.getElementById(ac)}catch(ab){}return aa}function C(aa){return h.createElement(aa)}function n(aa){return parseInt(aa,10)}function g(ac,aa,ab){ac.attachEvent(aa,ab);K[K.length]=[ac,aa,ab]}function F(ac){ac+=\"\";var ab=O.pv,aa=ac.split(\".\");aa[0]=n(aa[0]);aa[1]=n(aa[1])||0;aa[2]=n(aa[2])||0;return(ab[0]>aa[0]||(ab[0]==aa[0]&&ab[1]>aa[1])||(ab[0]==aa[0]&&ab[1]==aa[1]&&ab[2]>=aa[2]))?true:false}function v(af,ab,ag,ae){var ad=h.getElementsByTagName(\"head\")[0];if(!ad){return}var aa=(typeof ag==\"string\")?ag:\"screen\";if(ae){m=null;G=null}if(!m||G!=aa){var ac=C(\"style\");ac.setAttribute(\"type\",\"text/css\");ac.setAttribute(\"media\",aa);m=ad.appendChild(ac);if(O.ie&&typeof h.styleSheets!=D&&h.styleSheets.length>0){m=h.styleSheets[h.styleSheets.length-1]}G=aa}if(m){if(typeof m.addRule!=D){m.addRule(af,ab)}else{if(typeof h.createTextNode!=D){m.appendChild(h.createTextNode(af+\" {\"+ab+\"}\"))}}}}function w(ad,aa){if(!j){return}var ab=aa?\"visible\":\"hidden\",ac=c(ad);if(L&&ac){ac.style.visibility=ab}else{if(typeof ad===\"string\"){v(\"#\"+ad,\"visibility:\"+ab)}}}function N(ab){var ac=/[\\\\\\\"<>\\.;]/;var aa=ac.exec(ab)!=null;return aa&&typeof encodeURIComponent!=D?encodeURIComponent(ab):ab}var d=function(){if(O.ie){window.attachEvent(\"onunload\",function(){var af=K.length;for(var ae=0;ae<af;ae++){K[ae][0].detachEvent(K[ae][1],K[ae][2])}var ac=P.length;for(var ad=0;ad<ac;ad++){y(P[ad])}for(var ab in O){O[ab]=null}O=null;for(var aa in swfobject){swfobject[aa]=null}swfobject=null})}}();return{registerObject:function(ae,aa,ad,ac){if(O.w3&&ae&&aa){var ab={};ab.id=ae;ab.swfVersion=aa;ab.expressInstall=ad;ab.callbackFn=ac;o[o.length]=ab;w(ae,false)}else{if(ac){ac({success:false,id:ae})}}},getObjectById:function(aa){if(O.w3){return z(aa)}},embedSWF:function(af,al,ai,ak,ab,ae,ad,ah,aj,ag){var ac=W(al),aa={success:false,id:ac};if(O.w3&&!(O.wk&&O.wk<312)&&af&&al&&ai&&ak&&ab){w(ac,false);M(function(){ai+=\"\";ak+=\"\";var an={};if(aj&&typeof aj===r){for(var aq in aj){an[aq]=aj[aq]}}an.data=af;an.width=ai;an.height=ak;var ar={};if(ah&&typeof ah===r){for(var ao in ah){ar[ao]=ah[ao]}}if(ad&&typeof ad===r){for(var am in ad){if(ad.hasOwnProperty(am)){var ap=(l)?encodeURIComponent(am):am,at=(l)?encodeURIComponent(ad[am]):ad[am];if(typeof ar.flashvars!=D){ar.flashvars+=\"&\"+ap+\"=\"+at}else{ar.flashvars=ap+\"=\"+at}}}}if(F(ab)){var au=u(an,ar,al);if(an.id==ac){w(ac,true)}aa.success=true;aa.ref=au;aa.id=au.id}else{if(ae&&A()){an.data=ae;R(an,ar,al,ag);return}else{w(ac,true)}}if(ag){ag(aa)}})}else{if(ag){ag(aa)}}},switchOffAutoHideShow:function(){j=false},enableUriEncoding:function(aa){l=(typeof aa===D)?true:aa},ua:O,getFlashPlayerVersion:function(){return{major:O.pv[0],minor:O.pv[1],release:O.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(ac,ab,aa){if(O.w3){return u(ac,ab,aa)}else{return undefined}},showExpressInstall:function(ac,ad,aa,ab){if(O.w3&&A()){R(ac,ad,aa,ab)}},removeSWF:function(aa){if(O.w3){y(aa)}},createCSS:function(ad,ac,ab,aa){if(O.w3){v(ad,ac,ab,aa)}},addDomLoadEvent:M,addLoadEvent:s,getQueryParamValue:function(ad){var ac=h.location.search||h.location.hash;\nif(ac){if(/\\?/.test(ac)){ac=ac.split(\"?\")[1]}if(ad==null){return N(ac)}var ab=ac.split(\"&\");for(var aa=0;aa<ab.length;aa++){if(ab[aa].substring(0,ab[aa].indexOf(\"=\"))==ad){return N(ab[aa].substring((ab[aa].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var aa=c(S);if(aa&&I){aa.parentNode.replaceChild(I,aa);if(p){w(p,true);if(O.ie){I.style.display=\"block\"}}if(E){E(B)}}a=false}},version:\"2.3\"}}();\n\n; browserify_shim__define__module__export__(typeof swfobject != \"undefined\" ? swfobject : window.swfobject);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(require,module,exports){\n(function (global){\n; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/**\n * Basic Ad support plugin for video.js.\n *\n * Common code to support ad integrations.\n */\n(function(window, document, vjs, undefined) {\n\"use strict\";\n\nvar\n\n  /**\n   * Copies properties from one or more objects onto an original.\n   */\n  extend = function(obj /*, arg1, arg2, ... */) {\n    var arg, i, k;\n    for (i=1; i<arguments.length; i++) {\n      arg = arguments[i];\n      for (k in arg) {\n        if (arg.hasOwnProperty(k)) {\n          obj[k] = arg[k];\n        }\n      }\n    }\n    return obj;\n  },\n\n  /**\n   * Add a handler for multiple listeners to an object that supports addEventListener() or on().\n   *\n   * @param {object} obj The object to which the handler will be assigned.\n   * @param {mixed} events A string, array of strings, or hash of string/callback pairs.\n   * @param {function} callback Invoked when specified events occur, if events param is not a hash.\n   *\n   * @return {object} obj The object passed in.\n   */\n  on = function(obj, events, handler) {\n\n    var\n\n      type = Object.prototype.toString.call(events),\n\n      register = function(obj, event, handler) {\n        if (obj.addEventListener) {\n          obj.addEventListener(event, handler);\n        } else if (obj.on) {\n          obj.on(event, handler);\n        } else if (obj.attachEvent) {\n          obj.attachEvent('on' + event, handler);\n        } else {\n          throw new Error('object has no mechanism for adding event listeners');\n        }\n      },\n\n      i,\n      ii;\n\n    switch (type) {\n      case '[object String]':\n        register(obj, events, handler);\n        break;\n      case '[object Array]':\n        for (i = 0, ii = events.length; i<ii; i++) {\n          register(obj, events[i], handler);\n        }\n        break;\n      case '[object Object]':\n        for (i in events) {\n          if (events.hasOwnProperty(i)) {\n            register(obj, i, events[i]);\n          }\n        }\n        break;\n      default:\n        throw new Error('Unrecognized events parameter type: ' + type);\n    }\n\n    return obj;\n\n  },\n\n  /**\n   * Runs the callback at the next available opportunity.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/window.setImmediate\n   */\n  setImmediate = function(callback) {\n    return (\n      window.setImmediate ||\n      window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.setTimeout\n    )(callback, 0);\n  },\n\n  /**\n   * Clears a callback previously registered with `setImmediate`.\n   * @param {id} id The identifier of the callback to abort\n   */\n  clearImmediate = function(id) {\n    return (window.clearImmediate ||\n            window.cancelAnimationFrame ||\n            window.webkitCancelAnimationFrame ||\n            window.mozCancelAnimationFrame ||\n            window.clearTimeout)(id);\n  },\n\n  /**\n   * If ads are not playing, pauses the player at the next available\n   * opportunity. Has no effect if ads have started. This function is necessary\n   * because pausing a video element while processing a `play` event on iOS can\n   * cause the video element to continuously toggle between playing and paused\n   * states.\n   *\n   * @param {object} player The video player\n   */\n  cancelContentPlay = function(player) {\n    if (player.ads.cancelPlayTimeout) {\n      // another cancellation is already in flight, so do nothing\n      return;\n    }\n    player.ads.cancelPlayTimeout = setImmediate(function() {\n      // deregister the cancel timeout so subsequent cancels are scheduled\n      player.ads.cancelPlayTimeout = null;\n\n      // pause playback so ads can be handled.\n      if (!player.paused()) {\n        player.pause();\n      }\n\n      // add a contentplayback handler to resume playback when ads finish.\n      player.one('contentplayback', function() {\n        if (player.paused()) {\n          player.play();\n        }\n      });\n    });\n  },\n\n  /**\n   * Returns an object that captures the portions of player state relevant to\n   * video playback. The result of this function can be passed to\n   * restorePlayerSnapshot with a player to return the player to the state it\n   * was in when this function was invoked.\n   * @param {object} player The videojs player object\n   */\n  getPlayerSnapshot = function(player) {\n    var\n      tech = player.el().querySelector('.vjs-tech'),\n      tracks = player.remoteTextTracks ? player.remoteTextTracks() : [],\n      track,\n      i,\n      suppressedTracks = [],\n      snapshot = {\n        ended: player.ended(),\n        src: player.currentSrc(),\n        currentTime: player.currentTime(),\n        type: player.currentType()\n      };\n\n    if (tech) {\n      snapshot.nativePoster = tech.poster;\n      snapshot.style = tech.getAttribute('style');\n    }\n\n    i = tracks.length;\n    while (i--) {\n      track = tracks[i];\n      suppressedTracks.push({\n        track: track,\n        mode: track.mode\n      });\n      track.mode = 'disabled';\n    }\n    snapshot.suppressedTracks = suppressedTracks;\n\n    return snapshot;\n  },\n\n  removeClass = function(element, className) {\n    var\n      classes = element.className.split(/\\s+/),\n      i = classes.length,\n      newClasses = [];\n    while (i--) {\n      if (classes[i] !== className) {\n        newClasses.push(classes[i]);\n      }\n    }\n    element.className = newClasses.join(' ');\n  },\n\n  /**\n   * Attempts to modify the specified player so that its state is equivalent to\n   * the state of the snapshot.\n   * @param {object} snapshot - the player state to apply\n   */\n  restorePlayerSnapshot = function(player, snapshot) {\n    var\n      // the playback tech\n      tech = player.el().querySelector('.vjs-tech'),\n\n      // the number of remaining attempts to restore the snapshot\n      attempts = 20,\n\n      suppressedTracks = snapshot.suppressedTracks,\n      trackSnapshot,\n      restoreTracks =  function() {\n        var i = suppressedTracks.length;\n        while (i--) {\n          trackSnapshot = suppressedTracks[i];\n          trackSnapshot.track.mode = trackSnapshot.mode;\n        }\n      },\n\n      // finish restoring the playback state\n      resume = function() {\n        var\n          ended = false,\n          updateEnded = function() {\n            ended = true;\n          };\n        player.currentTime(snapshot.currentTime);\n\n        // Resume playback if this wasn't a postroll\n        if (!snapshot.ended) {\n          player.play();\n        } else {\n          // On iOS 8.1, the \"ended\" event will not fire if you seek\n          // directly to the end of a video. To make that behavior\n          // consistent with the standard, fire a synthetic event if\n          // \"ended\" does not fire within 250ms. Note that the ended\n          // event should occur whether the browser actually has data\n          // available for that position\n          // (https://html.spec.whatwg.org/multipage/embedded-content.html#seeking),\n          // so it should not be necessary to wait for the seek to\n          // indicate completion.\n          window.setTimeout(function() {\n            if (!ended) {\n              player.play();\n            }\n            player.off('ended', updateEnded);\n          }, 250);\n          player.on('ended', updateEnded);\n        }\n      },\n\n      // determine if the video element has loaded enough of the snapshot source\n      // to be ready to apply the rest of the state\n      tryToResume = function() {\n        if (tech.readyState > 1) {\n          // some browsers and media aren't \"seekable\".\n          // readyState greater than 1 allows for seeking without exceptions\n          return resume();\n        }\n\n        if (tech.seekable === undefined) {\n          // if the tech doesn't expose the seekable time ranges, try to\n          // resume playback immediately\n          return resume();\n        }\n\n        if (tech.seekable.length > 0) {\n          // if some period of the video is seekable, resume playback\n          return resume();\n        }\n\n        // delay a bit and then check again unless we're out of attempts\n        if (attempts--) {\n          setTimeout(tryToResume, 50);\n        } else {\n          (function() {\n            try {\n              resume();\n            } catch(e) {\n              videojs.log.warn('Failed to resume the content after an advertisement', e);\n            }\n          })();\n        }\n      },\n\n      // whether the video element has been modified since the\n      // snapshot was taken\n      srcChanged;\n\n    if (snapshot.nativePoster) {\n      tech.poster = snapshot.nativePoster;\n    }\n\n    if ('style' in snapshot) {\n      // overwrite all css style properties to restore state precisely\n      tech.setAttribute('style', snapshot.style || '');\n    }\n\n    // Determine whether the player needs to be restored to its state\n    // before ad playback began. With a custom ad display or burned-in\n    // ads, the content player state hasn't been modified and so no\n    // restoration is required\n\n    if (player.src()) {\n      // the player was in src attribute mode before the ad and the\n      // src attribute has not been modified, no restoration is required\n      // to resume playback\n      srcChanged = player.src() !== snapshot.src;\n    } else {\n      // the player was configured through source element children\n      // and the currentSrc hasn't changed, no restoration is required\n      // to resume playback\n      srcChanged = player.currentSrc() !== snapshot.src;\n    }\n\n    if (srcChanged) {\n      // on ios7, fiddling with textTracks too early will cause safari to crash\n      player.one('contentloadedmetadata', restoreTracks);\n\n      // if the src changed for ad playback, reset it\n      player.src({ src: snapshot.src, type: snapshot.type });\n      // safari requires a call to `load` to pick up a changed source\n      player.load();\n      // and then resume from the snapshots time once the original src has loaded\n      player.one('contentcanplay', tryToResume);\n    } else if (!player.ended() || !snapshot.ended) {\n      // if we didn't change the src, just restore the tracks\n      restoreTracks();\n      // the src didn't change and this wasn't a postroll\n      // just resume playback at the current time.\n      player.play();\n    }\n  },\n\n  /**\n   * Remove the poster attribute from the video element tech, if present. When\n   * reusing a video element for multiple videos, the poster image will briefly\n   * reappear while the new source loads. Removing the attribute ahead of time\n   * prevents the poster from showing up between videos.\n   * @param {object} player The videojs player object\n   */\n  removeNativePoster = function(player) {\n    var tech = player.el().querySelector('.vjs-tech');\n    if (tech) {\n      tech.removeAttribute('poster');\n    }\n  },\n\n  // ---------------------------------------------------------------------------\n  // Ad Framework\n  // ---------------------------------------------------------------------------\n\n  // default framework settings\n  defaults = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 5000,\n\n    // maximum amount of time in ms to wait for the ad implementation to start\n    // linear ad mode after `readyforpreroll` has fired. This is in addition to\n    // the standard timeout.\n    prerollTimeout: 100,\n\n    // maximum amount of time in ms to wait for the ad implementation to start\n    // linear ad mode after `contentended` has fired.\n    postrollTimeout: 100,\n\n    // when truthy, instructs the plugin to output additional information about\n    // plugin state to the video.js log. On most devices, the video.js log is\n    // the same as the developer console.\n    debug: false\n  },\n\n  adFramework = function(options) {\n    var\n      player = this,\n\n      // merge options and defaults\n      settings = extend({}, defaults, options || {}),\n\n      fsmHandler;\n\n    // prefix all video element events during ad playback\n    // if the video element emits ad-related events directly,\n    // plugins that aren't ad-aware will break. prefixing allows\n    // plugins that wish to handle ad events to do so while\n    // avoiding the complexity for common usage\n    (function() {\n      var\n        videoEvents = videojs.Html5.Events,\n        i,\n        returnTrue = function() { return true; },\n        triggerEvent = function(type, event) {\n          // pretend we called stopImmediatePropagation because we want the native\n          // element events to continue propagating\n          event.isImmediatePropagationStopped = returnTrue;\n          event.cancelBubble = true;\n          event.isPropagationStopped = returnTrue;\n          player.trigger({\n            type: type + event.type,\n            state: player.ads.state,\n            originalEvent: event\n          });\n        },\n        redispatch = function(event) {\n          if (player.ads.state === 'ad-playback') {\n            triggerEvent('ad', event);\n          } else if (player.ads.state === 'content-playback' && event.type === 'ended') {\n            triggerEvent('content', event);\n          } else if (player.ads.state === 'content-resuming') {\n            if (player.ads.snapshot) {\n              // the video element was recycled for ad playback\n              if (player.currentSrc() !== player.ads.snapshot.src) {\n                if (event.type === 'loadstart') {\n                  return;\n                }\n                return triggerEvent('content', event);\n\n              // we ended playing postrolls and the video itself\n              // the content src is back in place\n              } else if (player.ads.snapshot.ended) {\n                if ((event.type === 'pause' ||\n                    event.type === 'ended')) {\n                  // after loading a video, the natural state is to not be started\n                  // in this case, it actually has, so, we do it manually\n                  player.addClass('vjs-has-started');\n                  // let `pause` and `ended` events through, naturally\n                  return;\n                }\n                // prefix all other events in content-resuming with `content`\n                return triggerEvent('content', event);\n              }\n            }\n            if (event.type !== 'playing') {\n              triggerEvent('content', event);\n            }\n          }\n        };\n\n      //Add video.js specific events\n      videoEvents.push('firstplay');\n      videoEvents.push('loadedalldata');\n\n      i = videoEvents.length;\n      while (i--) {\n        player.on(videoEvents[i], redispatch);\n      }\n      return redispatch;\n    })();\n\n    // We now auto-play when an ad gets loaded if we're playing ads in the same video element as the content.\n    // The problem is that in IE11, we cannot play in addurationchange but in iOS8, we cannot play from adcanplay.\n    // This will allow ad-integrations from needing to do this themselves.\n    player.on(['addurationchange', 'adcanplay'], function() {\n      var snapshot = player.ads.snapshot;\n      if (player.currentSrc() === snapshot.src) {\n        return;  // do nothing\n      }\n\n      player.play();\n    });\n\n    // replace the ad initializer with the ad namespace\n    player.ads = {\n      state: 'content-set',\n\n      // Call this when an ad response has been recieved and there are\n      // linear ads ready to be played.\n      startLinearAdMode: function() {\n        if (player.ads.state !== 'ad-playback') {\n          player.trigger('adstart');\n        }\n      },\n\n      // Call this when a linear ad pod has finished playing.\n      endLinearAdMode: function() {\n        if (player.ads.state === 'ad-playback') {\n          player.trigger('adend');\n        }\n      },\n\n      // Call this when an ad response has been recieved but there are no\n      // linear ads to be played (i.e. no ads available, or overlays).\n      // This has no effect if we are already in a linear ad mode.  Always\n      // use endLinearAdMode() to exit from linear ad-playback state.\n      skipLinearAdMode: function() {\n        if (player.ads.state !== 'ad-playback') {\n          player.trigger('adskip');\n        }\n      }\n    };\n\n    fsmHandler = function(event) {\n      // Ad Playback State Machine\n      var\n        fsm = {\n          'content-set': {\n            events: {\n              'adscanceled': function() {\n                this.state = 'content-playback';\n              },\n              'adsready': function() {\n                this.state = 'ads-ready';\n              },\n              'play': function() {\n                this.state = 'ads-ready?';\n                cancelContentPlay(player);\n                // remove the poster so it doesn't flash between videos\n                removeNativePoster(player);\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              },\n              'adskip': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ads-ready': {\n            events: {\n              'play': function() {\n                this.state = 'preroll?';\n                cancelContentPlay(player);\n              },\n              'adskip': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'preroll?': {\n            enter: function() {\n              // change class to show that we're waiting on ads\n              player.el().className += ' vjs-ad-loading';\n              // schedule an adtimeout event to fire if we waited too long\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.prerollTimeout);\n              // signal to ad plugin that it's their opportunity to play a preroll\n              player.trigger('readyforpreroll');\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'play': function() {\n                cancelContentPlay(player);\n              },\n              'adstart': function() {\n                this.state = 'ad-playback';\n              },\n              'adskip': function() {\n                this.state = 'content-playback';\n              },\n              'adtimeout': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ads-ready?': {\n            enter: function() {\n              player.el().className += ' vjs-ad-loading';\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.timeout);\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'play': function() {\n                cancelContentPlay(player);\n              },\n              'adscanceled': function() {\n                this.state = 'content-playback';\n              },\n              'adsready': function() {\n                this.state = 'preroll?';\n              },\n              'adskip': function() {\n                this.state = 'content-playback';\n              },\n              'adtimeout': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ad-playback': {\n            enter: function() {\n              // capture current player state snapshot (playing, currentTime, src)\n              this.snapshot = getPlayerSnapshot(player);\n\n              // add css to the element to indicate and ad is playing.\n              player.el().className += ' vjs-ad-playing';\n\n              // remove the poster so it doesn't flash between ads\n              removeNativePoster(player);\n\n              // We no longer need to supress play events once an ad is playing.\n              // Clear it if we were.\n              if (player.ads.cancelPlayTimeout) {\n                clearImmediate(player.ads.cancelPlayTimeout);\n                player.ads.cancelPlayTimeout = null;\n              }\n            },\n            leave: function() {\n              removeClass(player.el(), 'vjs-ad-playing');\n              restorePlayerSnapshot(player, this.snapshot);\n              // trigger 'adend' as a consistent notification\n              // event that we're exiting ad-playback.\n              if (player.ads.triggerevent !== 'adend') {\n                player.trigger('adend');\n              }\n            },\n            events: {\n              'adend': function() {\n                this.state = 'content-resuming';\n              },\n              'adserror': function() {\n                this.state = 'content-resuming';\n              }\n            }\n          },\n          'content-resuming': {\n            enter: function() {\n              if (this.snapshot.ended) {\n                window.clearTimeout(player.ads._fireEndedTimeout);\n                // in some cases, ads are played in a swf or another video element\n                // so we do not get an ended event in this state automatically.\n                // If we don't get an ended event we can use, we need to trigger\n                // one ourselves or else we won't actually ever end the current video.\n                player.ads._fireEndedTimeout = window.setTimeout(function() {\n                  player.trigger('ended');\n                }, 1000);\n              }\n            },\n            leave: function() {\n              window.clearTimeout(player.ads._fireEndedTimeout);\n            },\n            events: {\n              'contentupdate': function() {\n                this.state = 'content-set';\n              },\n              'playing': function() {\n                this.state = 'content-playback';\n              },\n              'ended': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'postroll?': {\n            enter: function() {\n              this.snapshot = getPlayerSnapshot(player);\n\n              player.el().className += ' vjs-ad-loading';\n\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.postrollTimeout);\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'adstart': function() {\n                this.state = 'ad-playback';\n              },\n              'adskip': function() {\n                this.state = 'content-resuming';\n                setImmediate(function() {\n                  player.trigger('ended');\n                });\n              },\n              'adtimeout': function() {\n                this.state = 'content-resuming';\n                setImmediate(function() {\n                  player.trigger('ended');\n                });\n              },\n              'adserror': function() {\n                this.state = 'content-resuming';\n                setImmediate(function() {\n                  player.trigger('ended');\n                });\n              }\n            }\n          },\n          'content-playback': {\n            enter: function() {\n              // make sure that any cancelPlayTimeout is cleared\n              if (player.ads.cancelPlayTimeout) {\n                clearImmediate(player.ads.cancelPlayTimeout);\n                player.ads.cancelPlayTimeout = null;\n              }\n              // this will cause content to start if a user initiated\n              // 'play' event was canceled earlier.\n              player.trigger({\n                type: 'contentplayback',\n                triggerevent: player.ads.triggerevent\n              });\n            },\n            events: {\n              // in the case of a timeout, adsready might come in late.\n              'adsready': function() {\n                player.trigger('readyforpreroll');\n              },\n              'adstart': function() {\n                this.state = 'ad-playback';\n              },\n              'contentupdate': function() {\n                if (player.paused()) {\n                  this.state = 'content-set';\n                } else {\n                  this.state = 'ads-ready?';\n                }\n              },\n              'contentended': function() {\n                this.state = 'postroll?';\n              }\n            }\n          }\n        };\n\n      (function(state) {\n        var noop = function() {};\n\n        // process the current event with a noop default handler\n        ((fsm[state].events || {})[event.type] || noop).apply(player.ads);\n\n        // check whether the state has changed\n        if (state !== player.ads.state) {\n\n          // record the event that caused the state transition\n          player.ads.triggerevent = event.type;\n\n          // execute leave/enter callbacks if present\n          (fsm[state].leave || noop).apply(player.ads);\n          (fsm[player.ads.state].enter || noop).apply(player.ads);\n\n          // output debug logging\n          if (settings.debug) {\n            videojs.log('ads', player.ads.triggerevent + ' triggered: ' + state + ' -> ' + player.ads.state);\n          }\n        }\n\n      })(player.ads.state);\n\n    };\n\n    // register for the events we're interested in\n    on(player, vjs.Html5.Events.concat([\n      // events emitted by ad plugin\n      'adtimeout',\n      'contentupdate',\n      'contentplaying',\n      'contentended',\n\n      // events emitted by third party ad implementors\n      'adsready',\n      'adserror',\n      'adscanceled',\n      'adstart',  // startLinearAdMode()\n      'adend',    // endLinearAdMode()\n      'adskip'    // skipLinearAdMode()\n    ]), fsmHandler);\n\n    // keep track of the current content source\n    // if you want to change the src of the video without triggering\n    // the ad workflow to restart, you can update this variable before\n    // modifying the player's source\n    player.ads.contentSrc = player.currentSrc();\n\n    // implement 'contentupdate' event.\n    (function(){\n      var\n        // check if a new src has been set, if so, trigger contentupdate\n        checkSrc = function() {\n          var src;\n          if (player.ads.state !== 'ad-playback') {\n            src = player.currentSrc();\n            if (src !== player.ads.contentSrc) {\n              player.trigger({\n                type: 'contentupdate',\n                oldValue: player.ads.contentSrc,\n                newValue: src\n              });\n              player.ads.contentSrc = src;\n            }\n          }\n        };\n      // loadstart reliably indicates a new src has been set\n      player.on(['loadstart'], checkSrc);\n      // check immediately in case we missed the loadstart\n      setImmediate(checkSrc);\n    })();\n\n    // kick off the fsm\n    if (!player.paused()) {\n      // simulate a play event if we're autoplaying\n      fsmHandler({type:'play'});\n    }\n\n  };\n\n  // register the ad plugin framework\n  vjs.plugin('ads', adFramework);\n\n})(window, document, videojs);\n; browserify_shim__define__module__export__(typeof contribAds != \"undefined\" ? contribAds : window.contribAds);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],3:[function(require,module,exports){\nvar jsutils = require('jsutils');\n\nfunction bridge() {\n\t\"use strict\";\n    var logger = jsutils.createLogger(false, 'Ads Flash Overlay');\n\tvar player;\n\tvar metadata;\n\tvar swfObject;\n\tvar vpTimeout;\n\tvar vpTimeoutValue = 30000;\n\tvar playDenied = false;\n\tvar vpAvailable = false;\n\tvar loadingError = false;\n\tvar timeoutInitiated = false;\n\tvar loader;\n\tvar state = {\n\t\tfullscreen: false,\n\t\tmute: false,\n\t\tpostroll: false,\n\t\tadPlaying: false,\n\t\tplayedAd: false,\n\t\tplayedPreroll: false,\n\t\tvolumeChangePending: false\n\t};\n\tvar elementId;\n\tvar adIsPlaying = false;\n\n\tfunction init(playerObj, config, flashElementId) {\n\t\tvar swfElement;\n\t\tplayer = playerObj;\n\t\tmetadata = config;\n\t\telementId = flashElementId;\n\t\tloader = document.getElementById(elementId).parentNode;\n\n\t\tsetTimeoutValue(config);\n\n\t\t//global object required for js-flash interaction\n\t\twindow.vpBridge = window.vpBridge || {};\n\t\twindow.vpBridge[elementId] = flashEventHandler;\n\n\t}\n\n\tfunction getSwfObject() {\n\t\treturn document.getElementById(elementId);\n\t}\n\n\tfunction setTimeoutValue(config) {\n\t\tif (config.optional && config.optional.flashTimeout) {\n\t\t\tvpTimeoutValue = config.optional.flashTimeout * 1000;\n\t\t}\n\t}\n\n\tfunction playPreroll() {\n\t\tvar adSize = getAdPlayerSize();\n\t\tstate.playedPreroll = true;\n\t\tstate.postroll = false;\n\t\tswfObject.sendToFlash('video-start');\n\t\tlogger.log('start flash ad', adSize.width, adSize.height);\n\t\tswfObject.start(metadata, adSize.width, adSize.height);\n\t\tstate.adPlaying = true;\n\t\tlogger.log('BRIDGE playPreroll pause video');\n\t\tplayer.pause();\n\t}\n\n\tfunction isSwfAvailable() {\n\t\tif( !swfObject || !swfObject.sendToFlash ) {\n\t\t\tvpAvailable = false;\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tfunction hideAdPlayer() {\n\t\tloader.className = \"\";\n\t\tplayer.controlBar.el().style.display = '';\n\t}\n\n\tfunction showAdPlayer() {\n\t\tplayer.pause();\n\t\tloader.className = loader.id;\n\t\tif( swfObject && swfObject.toggleFullscreen ) {\n\t\t\tswfObject.toggleFullscreen(getAdPlayerSize().width, getAdPlayerSize().height, 'normal');\n\t\t}\n\t\tplayer.controlBar.el().style.display = 'none';\n\t}\n\n\tfunction getAdPlayerSize() {\n\t\treturn {\n\t\t\twidth: player.el().offsetWidth,\n\t\t\theight: player.el().offsetHeight\n\t\t};\n\t}\n\n\tfunction toggleFullscreen() {\n\t\tif (!vpAvailable) return;\n\t\tif (!state.adPlaying) return;\n\n\t\tif (!state.fullscreen) {\n\t\t\tstate.fullscreen = true;\n\n\t\t\tvar i1 = setInterval(function(){\n\t\t\t\tshowAdPlayer();\n\t\t\t}, 50);\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tclearInterval(i1);\n\t\t\t}, 510);\n\t\t} else {\n\t\t\tvar i2 = setInterval(function(){\n\t\t\t\tshowAdPlayer();\n\t\t\t}, 50);\n\t\t\tsetTimeout(function(){\n\t\t\t\tclearInterval(i2);\n\t\t\t}, 510);\n\n\t\t\tstate.fullscreen = false;\n\t\t}\n\t}\n\n\tfunction playPostroll() {\n\t\tif (!vpAvailable || state.postroll) return;\n\n\t\tshowAdPlayer();\n\t\tif( swfObject && swfObject.sendToFlash ) {\n\t\t\tswfObject.sendToFlash('video-ended');\n\t\t}\n\t\tstate.postroll = true;\n\t}\n\n\tfunction playAd() {\n\t\tplayer.pause();\n\t\tshowAdPlayer();\n\n\t\tstate.adPlaying = true;\n\t}\n\n\t/**\n\t * Do necessary validations and then play prerolls if possible\n\t * 1. Make sure flash is loaded\n\t * @return {[type]} [description]\n\t */\n\tfunction onPlay() {\n\t\tlogger.log('onPlay ad state', player.ads.state);\n\t\tif (player.ads.state === \"ad-playback\") {\n\t\t\tplayer.pause();\n\t\t} else {\n\t\t\tif (canPlayPreroll()) {\n\t\t\t\tplayPreroll();\n\t\t\t} else {\n\t\t\t\tdenyPlay();\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction canPlayPreroll() {\n\t\tlogger.log('canPlayPreroll', isSwfAvailable(), vpAvailable, !state.playedPreroll);\n\t\tif (!isSwfAvailable()) return false;\n\t\tif (!vpAvailable) return false;\n\t\tif (state.playedPreroll) return false; //not becoming true atm\n\t\tif (loadingError) return false;\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * As long as the plugin is waiting for AdPlayerReady, pause player every time a play event is received\n\t * Reset state of plugin, so the plays received don't count as real plays\n\t */\n\tfunction denyPlay() {\n\t\tlogger.log('BRIDGE denyPlay', state.playedAd, loadingError)\n\t\t/*if ad has been played already or there was an loading error, do not deny play*/\n\t\tif (state.playedAd || loadingError) return;\n\t\tplayDenied = true;\n\t\tplayer.pause();\n\t\tstartFlashTimeout();\n\t}\n\n\tfunction startFlashTimeout() {\n\t\tlogger.log('BRIDGE: Start Flash Timeout');\n\t\tif (timeoutInitiated) return;\n\t\tvpTimeout = setTimeout(function(){\n\t\t\tlogger.log('BRIDGE flash timeout hit');\n\t\t\tplayDenied = false;\n\t\t\tloadingError = true;\n\t\t\tstate.playedPreroll = true; //in case there was a timeout, avoid the preroll play on a future unrelated play event\n\n\t\t\tif (!adIsPlaying) {\n\t\t\t\tplayer.play();\n\t\t\t}\n\t\t}, vpTimeoutValue);\n\t\ttimeoutInitiated = true;\n\t}\n\n\tfunction allowPlay() {\n\t\tlogger.log('allow play hit but play is not denied');\n\t\tif (!playDenied) return;\n\t\tlogger.log('allow play triggerd');\n\t\tclearInterval(vpTimeout);\n\t\tplayDenied = false;\n\t\tplayer.play();\n\t}\n\n\t/**\n\t * Order of events:\n\t * 1. AdPlayerReady (no need for any interaction for this to be fired by the flash player)\n\t * 2. AdPlayerStart\n\t */\n\tfunction flashEventHandler(eventType) {\n\t\tswitch (eventType) {\n\t\t\tcase 'AdPlayerReady':\n\t\t\t\tlogger.log('BRIDGE: AdPlayerReady');\n\t\t\t\tadPlayerReady();\n\t\t\t\tallowPlay();\n\t\t\t\tif (!loadingError) {\n\t\t\t\t\tplayer.trigger('adsready');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'AdPlayerStart':\n\t\t\t\tplayer.trigger('adsready');\n\t\t\t\tlogger.log('BRIDGE: AdPlayerStart');\n\t\t\t\tadIsPlaying = true;\n\t\t\t\tplayAd();\n\t\t\t\tlogger.log('AdPlayerStart');\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tplayer.ads.startLinearAdMode();\n\t\t\t\t}, 50);\n\t\t\t\tbreak;\n\t\t\tcase 'AdPlayerComplete':\n\t\t\t\tplayer.ads.endLinearAdMode();\n\t\t\t\tstate.playedAd = true;\n\t\t\t\tadIsPlaying = false;\n\t\t\t\tresumePlayback();\n\t\t\t\tlogger.log('BRIDGE: AdPlayerComplete');\n\t\t\t\tbreak;\n\t\t\tcase 'ad-ended':\n\t\t\t\tlogging(eventType);\n\t\t\t\tbreak;\n\t\t\tcase 'ad-failed':\n\t\t\t\tlogging(eventType);\n\t\t\t\tbreak;\n\t\t\tcase 'ad-timeout':\n\t\t\t\tlogging(eventType);\n\t\t\t\tbreak;\n\t\t\tcase 'AdLoaded':\n\t\t\t\tlogger.log('BRIDGE: AdLoaded');\n\t\t\t\t// playAd();\n\t\t\t\tbreak;\n\t\t\t// default:\n\t\t}\n\t}\n\n\tfunction resumePlayback() {\n\t\tstate.adPlaying = false;\n\t\thideAdPlayer();\n\t\tplayer.play();\n\t\tif (state.postroll) player.currentTime(player.duration() - 0.4);\n\t}\n\n\tfunction adPlayerReady() {\n\t\tvpAvailable = true;\n\t\tswfObject = getSwfObject();\n\t\tchangeVolume();\n\t\t// player.show();\n\t\t// hideAdPlayer();\n\t}\n\n\tfunction trackTime(event) {\n\t\tif (!vpAvailable) return;\n\t\tif( swfObject && player && swfObject.updateTime && player.currentTime ) {\n\t\t\tswfObject.updateTime(player.currentTime());\n\t\t}\n\t}\n\n\tfunction logging(eventType) {\n\t\tlogger.log(eventType)\n\t}\n\n\t/**\n\t * Checks if current flag exists in the flags array\n\t * @param  {[type]}  adType [description]\n\t * @return {Boolean}        [description]\n\t */\n\tfunction hasFlag(flag) {\n\t\tif (!metadata.flags) return;\n\n\t\tvar flags = metadata.flags;\n\t\tfor (var i=0; i<flags.length; i++) {\n\t\t\tif (flags[i] === flag) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction volumeChanged(evt){\n\t\tif (!swfObject) return;\n\t\tchangeVolume();\n\t}\n\n\tfunction changeVolume() {\n\t\tif (player.volume() === 0 || player.muted()) {\n\t\t\tswfObject.setVolume(0);\n\t\t} else {\n\t\t\tswfObject.setVolume(player.volume());\n\t\t}\n\t}\n\n\tfunction reset() {\n\t\tstate.playedPreroll = false;\n\t\tstate.adPlaying = false;\n\t\tloadingError = false;\n\t\tlogger.log('reset');\n\t}\n\n\tfunction pauseAd() {\n\t\tif (!isSwfAvailable()) return;\n\t\tswfObject.sendToFlash('pause-ad');\n\t}\n\n\tfunction resumeAd() {\n\t\tif (!isSwfAvailable()) return;\n\t\tswfObject.sendToFlash('resume-ad');\n\t}\n\n\treturn {\n\t\tinit: init,\n\t\tonPlay: onPlay,\n\t\tupdateTime: trackTime,\n\t\tonEnd: playPostroll,\n\t\ttoggleFullscreen: toggleFullscreen,\n\t\tvolumeChanged: volumeChanged,\n\t\tpauseAd: pauseAd,\n\t\tresumeAd: resumeAd,\n\t\treset: reset\n\t};\n}\n\nmodule.exports = bridge;\n},{\"jsutils\":11}],4:[function(require,module,exports){\n\"use strict\";\n//change this based on the interface you want to use or make it configurable\nvar videojsInterface = require('./videojsInterface'); //modularised\nvar jsutils = require('jsutils');\n\nfunction flashBridge() {\n    var pluginInterface = videojsInterface();\n    var logger = jsutils.createLogger(false, 'Ads Flash Overlay');\n\n\n    return {\n        flashComponent: pluginInterface\n    };\n}\n\nmodule.exports = flashBridge;\n},{\"./videojsInterface\":5,\"jsutils\":11}],5:[function(require,module,exports){\n\"use strict\";\nvar bridgeModule = require(\"./bridge\");\nvar jsutils = require('jsutils');\n\nfunction videojsInterface() {\n    var player, metadata, bridge;\n    var logger = jsutils.createLogger(false, 'Ads Flash Overlay');\n\n\n    function init(playerObj, config, flashElementId) {\n        config.contentduration = playerObj.duration();\n        bridge = bridgeModule();\n\n        player = playerObj;\n        metadata = config;\n\n\n        playerEventHandlers();\n        initApi();\n\n        bridge.init(playerObj, config, flashElementId);\n\n    }\n    // Events: JS -> Flash: Video Paused, Video Resumed, Video End\n    function playerEventHandlers() {\n        player.on('play', bridge.onPlay);\n        player.on('timeupdate', function(){\n            bridge.updateTime();\n            checkPostroll();\n        });\n        player.on('ended', function(){\n            bridge.reset();\n        });\n        player.on('fullscreenchange', bridge.toggleFullscreen);\n        player.on('volumechange', bridge.volumeChanged);\n        player.on('adfullscreenchange', bridge.toggleFullscreen);\n        player.on('advolumechange', bridge.volumeChanged);\n        player.on('contentupdate', function(){\n            logger.log('contentupdate flash');\n            bridge.reset();\n            player.pause();\n            player.play();\n        });\n    }\n\n    function initApi() {\n        player.vpApi.pauseAd = function() {\n            if (player.ads.state !== 'ad-playback') return;\n            bridge.pauseAd();\n        };\n        player.vpApi.resumeAd = function() {\n            if (player.ads.state !== 'ad-playback') return;\n            bridge.resumeAd();\n        };\n    }\n\n    function checkPostroll() {\n        if (player.currentTime()*1000 > (player.duration()*1000 - 700)) {\n            bridge.onEnd();\n        }\n    }\n\n    return {\n        init: init\n    };\n}\n\nmodule.exports = videojsInterface;\n},{\"./bridge\":3,\"jsutils\":11}],6:[function(require,module,exports){\n(function (global){\n; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/* \n* !html5-sdk v1.0.14.17.1 | client-side HTML5 SDK \n* Copyright (c) 2014   by Videoplaza, www.videoplaza.com \n* email: info@videoplaza.com \n*/ \n!function(window,a){\"use strict\";var error={},model={},parse={},request={},format={},core={error:error,model:model,parse:parse,request:request,format:format};core.debugMessage=function(a){return window.videoplaza.debug&&window.videoplaza.debug[a]?window.videoplaza.debug[a]:a},function(core){core.error.ParseError=function(a){this.message=a,this.name=\"ParseError\"},core.error.ParseError.prototype=new window.Error,core.error.ParseError.prototype.constructor=core.error.ParseError}(core),function(core){core.Tracker=function(){var a,b=function(){a=new core.request.VpTracker},c=function(b,error){return a.reportError(b,error)},d=function(b,c){return a.track(b,c)};return b.prototype={reportError:c,track:d},b}(),core.Tracker.errorEvents={ad:{error:\"error\"},creative:{invalidCreativeUri:\"invalidCreativeUri\",invalidCreative:\"invalidCreative\"}},core.Tracker.trackingEvents={ad:{impression:\"0\"},creative:{acceptInvitation:\"1\",clickThrough:\"20\",close:\"7\",creativeView:\"90\",collapse:\"2\",complete:\"18\",expand:\"31\",firstQuartile:\"15\",fullscreen:\"37\",midpoint:\"16\",mute:\"32\",pause:\"34\",resume:\"36\",rewind:\"35\",start:\"14\",thirdQuartile:\"17\",timeSpent:\"100\",unmute:\"33\"}}}(core),function(core){core.request.VpXHR=function(){},core.request.VpXHR.httpErrorCodeTranslation={503:\"serviceUnavailableCode503\",500:\"internalServerErrorCode500\",404:\"requestedResourceNotFoundCode404\",400:\"badRequestToServerCode400\",0:\"requestCouldNotBeSentToServerCode0\",ieError:\"requestFailedError\"},core.request.VpXHR.prototype.request=function(a,b,c,d){var e,f,g,h=\"GET\";if(b||(b=2e3),c||(c=function(){}),d||(d=function(){}),window.XMLHttpRequest)if(e=new window.XMLHttpRequest,\"withCredentials\"in e){try{e.withCredentials=!0}catch(i){}try{e.open(h,a,!0),f=!1}catch(i){return void d(core.request.VpXHR.httpErrorCodeTranslation[0])}e.onreadystatechange=function(){4===e.readyState&&(g&&window.clearTimeout(g),200===e.status?c(e.responseText):f||d(core.request.VpXHR.httpErrorCodeTranslation[e.status]||\"unknownError\"))},g=window.setTimeout(function(){f=!0,e.abort(),d(\"requestTimeout\")},b),e.send()}else if(window.XDomainRequest){e=new window.XDomainRequest,e.onload=function(){c(e.responseText)},e.onerror=function(){d(core.request.VpXHR.httpErrorCodeTranslation.ieError||\"unknownError\")},e.onprogress=function(){},e.ontimeout=function(){d(\"requestTimeout\")};try{e.open(h,a),e.timeout=b,e.send()}catch(i){d(core.request.VpXHR.httpErrorCodeTranslation.ieError||\"unknownError\")}}else d(\"corsNotSupportedInBrowser\")}}(core),function(core){core.request.Bucket=function(){},core.request.Bucket.isBucketEvent=function(){return!1},core.request.Bucket.prototype.add=function(){return!1},core.request.Bucket.prototype.empty=function(){return!1}}(core),function(core){core.request.LocalStorage=function(a){this.pidKey=a},core.request.LocalStorage.prototype.getObjectFromUri=function(a){var b={},c=a.split(\"?\");if(c.length>0){if(b.base=c[0],b.params={},c[1])for(var d=c[1].split(\"&\"),e=0;e<d.length;e++){var f=d[e].split(\"=\");b.params[f[0]]=f[1]?f[1]:null}else b.params=null;return b}return null},core.request.LocalStorage.prototype.supportsLocalStorage=function(){try{return\"localStorage\"in window&&null!==window.localStorage}catch(a){return!1}},core.request.LocalStorage.prototype.getData=function(a){try{return localStorage.getItem(a)}catch(b){return null}},core.request.LocalStorage.prototype.setData=function(a,b){try{return localStorage.setItem(a,b),!0}catch(c){return!1}},core.request.LocalStorage.prototype.removeData=function(a){try{return localStorage.removeItem(a),!0}catch(b){return!1}},core.request.LocalStorage.prototype.getPersistentIdFromTicket=function(a){var b=null;if(this.supportsLocalStorage()&&a.length>0){var c=this.getObjectFromUri(a[0].trackingUris.impression[0]);if(c&&c.params&&c.params.pid&&(b=c.params.pid,!this.setData(this.pidKey,b)))return null}return b},core.request.LocalStorage.prototype.getPersistentIdFromLocalStorage=function(){return this.supportsLocalStorage()?this.getData(this.pidKey):null}}(core),function(core){function a(b){if(null===b||\"object\"!=typeof b)return b;var c=new b.constructor;for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}function b(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){b[c]={};for(var d in a[c])a[c].hasOwnProperty(d)&&(b[c][a[c][d]]=d)}return b}function c(a){var b,c=/\\[CACHEBUSTING\\]|%5BCACHEBUSTING%5D/;return c.test(a)&&(b=Math.floor(89999999*Math.random()+1e7),a=a.replace(c,b.toString())),a}core.request.VpTracker=function(){this.vpXHR=new core.request.VpXHR,this.bucket=new core.request.Bucket,this.blocked={}},core.request.VpTracker.errorEvents=a(core.Tracker.errorEvents),core.request.VpTracker.trackingEvents=a(core.Tracker.trackingEvents),core.request.VpTracker.trackingEvents.ad.impression2=\"3\",core.request.VpTracker.trackingEvents.creative.creativeView2=\"91\",core.request.VpTracker.trackingEvents.creative.acceptInvitation2=\"4\",core.request.VpTracker.trackingEvents.creative.interaction=\"10\",core.request.VpTracker.errorEventNames=b(core.request.VpTracker.errorEvents),core.request.VpTracker.trackingEventNames=b(core.request.VpTracker.trackingEvents),core.request.VpTracker.prototype.trackUris=function(a){for(var b=\"\",d=0;d<a.length;d++)b=a[d],core.request.Bucket.isBucketEvent(b)?this.bucket.add(c(a[d])):this.vpXHR.request(c(b),2e3)},core.request.VpTracker.prototype.block=function(a,b){return b||(b=\"\"),a instanceof core.model.Trackable?(this.blocked[a.uniqueId+b]=!0,!0):!1},core.request.VpTracker.prototype.isBlocked=function(a,b){return b||(b=\"\"),a instanceof core.model.Trackable?a.uniqueId+b in this.blocked:!1},core.request.VpTracker.prototype.trackCreativeEvent=function(a,b){var c,d=core.request.VpTracker.trackingEvents.creative,e=[d.clickThrough,d.creativeView,d.creativeView2],f=[d.acceptInvitation,d.clickThrough,d.close,d.collapse,d.expand,d.fullscreen,d.pause,d.resume,d.rewind,d.mute,d.unmute],g=[d.acceptInvitation,d.interaction,d.start,d.firstQuartile,d.midpoint,d.thirdQuartile,d.complete],h=[d.creativeView];return a instanceof core.model.Creative&&core.request.VpTracker.trackingEventNames.creative[b]?a instanceof core.model.Companion&&e.indexOf(b)<0?!1:(c=a.parent,this.isBlocked(c)||this.isBlocked(a)?!1:(f.indexOf(b)>-1&&a.type!==core.model.Creative.creativeTypes.companion&&this.track(a,d.interaction),b===d.complete?this.track(a,d.thirdQuartile):b===d.thirdQuartile?this.track(a,d.midpoint):b===d.midpoint?this.track(a,d.firstQuartile):b===d.firstQuartile&&this.track(a,d.start),b===d.timeSpent?!0:b!==d.clickThrough||a.type!==core.model.Creative.creativeTypes.nonLinear&&a.type!==core.model.Creative.creativeTypes.companion?(this.isBlocked(c,b)||this.isBlocked(a,b)?b===d.acceptInvitation?this.track(a,core.request.VpTracker.trackingEvents.creative.acceptInvitation2):b===d.creativeView&&this.track(a,core.request.VpTracker.trackingEvents.creative.creativeView2):(g.indexOf(b)>-1&&this.block(c,b),h.indexOf(b)>-1&&this.block(a,b),this.trackUris(a.trackingUris[core.request.VpTracker.trackingEventNames.creative[b]])),!0):a.resourceType!==core.model.NonLinearCreative.resourceTypes.staticResource?!1:!0)):!1},core.request.VpTracker.prototype.trackAdEvent=function(a,b){return a.constructor===core.model.Ad&&core.request.VpTracker.trackingEventNames.ad[b]?this.isBlocked(a)?!1:a.type===core.model.Ad.types.inventory&&b===core.request.VpTracker.trackingEvents.ad.impression?(this.block(a),this.trackUris(a.trackingUris[core.request.VpTracker.errorEventNames.ad.error]),!0):(this.isBlocked(a,b)?b===core.request.VpTracker.trackingEvents.ad.impression&&this.track(a,core.request.VpTracker.trackingEvents.ad.impression2):(b===core.request.VpTracker.trackingEvents.ad.impression&&this.block(a,b),this.trackUris(a.trackingUris[core.request.VpTracker.trackingEventNames.ad[b]])),!0):!1},core.request.VpTracker.prototype.track=function(a,b){return a?a.constructor===core.model.Ad?this.trackAdEvent(a,b):a instanceof core.model.Creative?this.trackCreativeEvent(a,b):!1:!1},core.request.VpTracker.prototype.reportError=function(a,b){var c;return a&&a instanceof core.model.Creative&&core.request.VpTracker.errorEventNames.creative[b]?(c=a.parent,this.isBlocked(c)||this.isBlocked(a)?!1:(a.type===core.model.Creative.creativeTypes.companion?this.block(a):(this.isBlocked(c,core.request.VpTracker.trackingEvents.ad.impression)||this.track(c,core.request.VpTracker.errorEventNames.ad.error),this.block(c)),!0)):!1}}(core),function(core){function b(a){return/(^(http|https)\\:\\/\\/)?([a-z0-9\\-]+)\\.([a-z0-9\\-]+)\\.[a-z]+/i.test(a)}function c(a){var b;return a&&a.constructor===core.model.Ad?(b=new core.model.Ad,b.type=core.model.Ad.types.inventory,b.trackingUris=a.trackingUris,b):!1}core.request.VpAdCallModule=function(a,c){if(!b(a))throw new Error(core.debugMessage(\"invalidVpHost\"));this.vpHost=a,this.adCallModuleSettings=c,this.videoplazaXHR=new core.request.VpXHR,this.vastParser=new core.parse.VastXmlParser,this.vpLocalStorage=new core.request.LocalStorage(\"vpPID\")},core.request.VpAdCallModule.browser=function(){function a(a){return a in document.documentElement.style}var b=a(\"MozBoxSizing\"),c=Object.prototype.toString.call(window.HTMLElement).indexOf(\"Constructor\")>0,d=!c&&a(\"WebkitTransform\"),e=!1||a(\"msTransform\");return{isSafari:c,isChrome:d,isIE:e,isFirefox:b}}(),core.request.VpAdCallModule.hasData=function(a){return a?a.constructor===Array&&0===a.length?!1:!0:!1},core.request.VpAdCallModule.validateNumber=function(a,b){if(a){if(core.request.VpAdCallModule.isNumber(a)){if(0>a)throw new Error(core.debugMessage(b+\"IsLessThanZero\"));return!0}throw new Error(core.debugMessage(b+\"IsNaN\"))}return b+\"IsMissing\"},core.request.VpAdCallModule.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},core.request.VpAdCallModule.prototype.verifyRequestSettings=function(a,b){var c={height:\"\",width:\"\",maxBitRate:\"\",insertionPointType:\"\",playbackPosition:\"\"},d=\"\";if(!a)throw new Error(core.debugMessage(\"requestSettingsIsUndefined\"));if(c.height=core.request.VpAdCallModule.validateNumber(a.height,\"height\"),c.width=core.request.VpAdCallModule.validateNumber(a.width,\"width\"),c.maxBitRate=core.request.VpAdCallModule.validateNumber(a.maxBitRate,\"maxBitRate\"),!a.insertionPointType)throw new Error(core.debugMessage(\"undefinedInsertionPointType\"));switch(d=a.insertionPointType.toLowerCase()){case\"onbeforecontent\":case\"oncontentend\":case\"playbacktime\":c.insertionPointType=\"true\";break;case\"playbackposition\":if(c.insertionPointType=\"true\",!a.playbackPosition)throw new Error(core.debugMessage(\"undefinedPlaybackPosition\"));if(c.playbackPosition=\"true\",!core.request.VpAdCallModule.isNumber(a.playbackPosition))throw new Error(core.debugMessage(\"invalidPlaybackPosition\"));if(core.request.VpAdCallModule.hasData(b)&&Number(a.playbackPosition)>Number(b))throw new Error(core.debugMessage(\"playbackPositionIsGtDuration\"));break;default:throw new Error(core.debugMessage(\"invalidInsertionPointType\"))}return c},core.request.VpAdCallModule.prototype.verifyContentMetadata=function(a){var b={contentForm:\"\",duration:\"\"};if(!a)throw new Error(core.debugMessage(\"contentMetadataIsUndefined\"));if(core.request.VpAdCallModule.hasData(a.contentForm)){var c=a.contentForm.toLowerCase();if(b.contentForm=\"true\",\"shortform\"!==c&&\"longform\"!==c)throw new Error(core.debugMessage(\"invalidContentForm\"))}else b.contentForm=\"contentFormIsMissing\";return b.duration=core.request.VpAdCallModule.validateNumber(a.duration,\"duration\"),b},core.request.VpAdCallModule.prototype.translateInsertionPointType=function(a){var b=a.toLowerCase();switch(b){case\"onbeforecontent\":return\"p\";case\"playbackposition\":return\"m\";case\"oncontentend\":return\"po\";case\"playbacktime\":return\"o\";default:throw new Error(core.debugMessage(\"invalidInsertionPointType\"))}},core.request.VpAdCallModule.prototype.buildUrl=function(a,b){var c=this.vpHost;if(-1===c.indexOf(\"http://\")&&-1===c.indexOf(\"https://\")&&(c=\"http://\"+c),c.lastIndexOf(\"/\")!==c.length-1&&(c+=\"/\"),c+=\"proxy/distributor/v2?\",c+=\"rt=vast_2.0\",c+=\"&pf=html5\",c+=\"&cv=h5_\"+window.videoplaza.versionNumber,a){core.request.VpAdCallModule.hasData(a.flags)&&(c+=\"&f=\"+encodeURIComponent(a.flags.join(\",\"))),core.request.VpAdCallModule.hasData(a.tags)&&(c+=\"&t=\"+encodeURIComponent(a.tags.join(\",\")));var d=\"\";if(core.request.VpAdCallModule.hasData(a.category)&&(d+=a.category),a.contentPartner&&core.request.VpAdCallModule.hasData(a.contentPartner)&&(d=core.request.VpAdCallModule.hasData(d)?d+=\",\"+a.contentPartner:a.contentPartner),core.request.VpAdCallModule.hasData(d)&&(c+=\"&s=\"+encodeURIComponent(d)),core.request.VpAdCallModule.hasData(a.contentForm)&&(c+=\"&cf=\"+this.translateContentForm(a.contentForm)),core.request.VpAdCallModule.hasData(a.contentId)&&(c+=\"&ci=\"+encodeURIComponent(a.contentId)),core.request.VpAdCallModule.hasData(a.duration)&&(c+=\"&cd=\"+a.duration),core.request.VpAdCallModule.hasData(a.customParameters)){var e=/[^A-Za-z0-9_~\\-.]/;for(var f in a.customParameters)a.customParameters.hasOwnProperty(f)&&!e.test(f)&&(c+=\"&cp.\"+f+\"=\"+encodeURIComponent(a.customParameters[f]))}}if(b){if(core.request.VpAdCallModule.hasData(b.width)&&(c+=\"&vwt=\"+b.width),core.request.VpAdCallModule.hasData(b.height)&&(c+=\"&vht=\"+b.height),core.request.VpAdCallModule.hasData(b.maxBitRate)&&(c+=\"&vbw=\"+b.maxBitRate),core.request.VpAdCallModule.hasData(b.insertionPointType)){var g=b.insertionPointType.toLowerCase();c+=\"&tt=\"+this.translateInsertionPointType(g),\"playbackposition\"===g&&core.request.VpAdCallModule.hasData(b.playbackPosition)&&(c+=\"&bp=\"+encodeURIComponent(b.playbackPosition))}core.request.VpAdCallModule.hasData(b.referrerUrl)&&(c+=\"&ru=\"+encodeURIComponent(b.referrerUrl))}if(this.adCallModuleSettings&&core.request.VpAdCallModule.hasData(this.adCallModuleSettings.deviceContainer)&&(c+=\"&dcid=\"+encodeURIComponent(this.adCallModuleSettings.deviceContainer)),this.adCallModuleSettings&&core.request.VpAdCallModule.hasData(this.adCallModuleSettings.persistentId))c+=\"&pid=\"+encodeURIComponent(this.adCallModuleSettings.persistentId);else{var h=this.vpLocalStorage.getPersistentIdFromLocalStorage();h&&(c+=\"&pid=\"+encodeURIComponent(h))}var i=this.getURLParameter(\"vppreview\");return core.request.VpAdCallModule.hasData(i)&&(c+=\"&vppreview=\"+i),c+=\"&st=\"+encodeURIComponent(\"0:0,3,4,10,20:1,91,100\"),c+=\"&rnd=\"+core.model.Trackable.generateUniqueId()},core.request.VpAdCallModule.prototype.translateContentForm=function(a){var b=a.toLowerCase();return\"longform\"===b?\"long_form\":\"short_form\"},core.request.VpAdCallModule.prototype.getURLParameter=function(a){var b=\"\",c=\"[\\\\?&]\"+a+\"=([^&#]*)\",d=new RegExp(c),e=d.exec(window.location.href.toString());return null!==e&&(b=e[1]),b},core.request.VpAdCallModule.prototype.requestAds=function(d,e,f,g){function h(b,d){function e(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=b[c].concat(a[c]));return b}function o(a,b){if(b.trackingUris=e(a.trackingUris,b.trackingUris),a.vastAdTagUri?b.vastAdTagUri=a.vastAdTagUri:delete b.vastAdTagUri,a.creatives)for(var c in a.creatives)!a.creatives.hasOwnProperty(c)||a.creatives[c]instanceof core.model.Companion||(b.creatives[c].duration=a.creatives[c].duration,b.creatives[c].trackingUris=e(a.creatives[c].trackingUris,b.creatives[c].trackingUris),b.creatives[c].mediaFiles=a.creatives[c].mediaFiles,b.creatives[c].clickThroughUri=a.creatives[c].clickThroughUri);return b}function p(a){k-=1,0===k&&f(a)}function q(a,b){var d=b.indexOf(a);b[d]=c(a),p(b)}k+=1,i.videoplazaXHR.request(b,n,function(b){var c,e;try{b=b.replace(/<!--[\\s\\S]*?-->/g,\"\"),c=i.vastParser.parse(b)}catch(error){return void(d?q(d,j):g(error.message))}if((d===a&&core.request.VpAdCallModule.browser.isSafari||core.request.VpAdCallModule.browser.isIE)&&i.vpLocalStorage.getPersistentIdFromTicket(c),d&&1!=c.length)return void q(d,j);for(var f=0;f<c.length;f++)e=c[f],d?e=o(e,d):j[f]=e,e.vastAdTagUri!==a?(d===a&&(l[e.id]=function(a){return window.setTimeout(function(){m=!0,q(a,j)},n)}(e)),m||h(e.vastAdTagUri,e)):l[e.id]!==a&&window.clearTimeout(l[e.id]);p(j)},function(a){d?q(d,j):g(a)})}var i=this,j=[],k=0,l={},m=!1,n=4e3;if(\"function\"!=typeof f&&\"function\"!=typeof g)throw new Error(core.debugMessage(\"adRequestMissingMandatoryCallbacks\"));if(!b(this.vpHost))throw new Error(core.debugMessage(\"invalidVpHost\"));try{this.verifyContentMetadata(d),this.verifyRequestSettings(e,d.duration)}catch(error){return void g(error.message)}h(this.buildUrl(d,e))}}(core),function(core){core.model.Trackable=function(){this.trackingUris=null,this.uniqueId=null},core.model.Trackable.generateTrackingUris=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=[]);for(var e in b)b.hasOwnProperty(e)&&(c[e]=[]);return c},core.model.Trackable.generateUniqueId=function(){return Math.floor(1e16*Math.random())}}(core),function(core){core.model.Ad=function(){this.campaignId=null,this.creatives=[],this.customId=null,this.customGoalId=null,this.customCampaignId=null,this.goalId=null,this.id=\"0\",this.labels={},this.type=null,this.variant=null,this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.ad,core.request.VpTracker.errorEvents.ad),this.uniqueId=core.model.Trackable.generateUniqueId()},core.model.Ad.types={inventory:\"inventory\",standard:\"standard_spot\"},core.model.Ad.variants={normal:\"normal\",sponsor:\"sponsor\"},core.model.Ad.prototype=new core.model.Trackable,core.model.Ad.prototype.constructor=core.model.Ad}(core),function(core){core.model.Creative=function(){this.clickThroughUri=null,this.duration=null,this.id=null,this.parent=null,this.type=null},core.model.Creative.creativeTypes={linear:\"linear\",nonLinear:\"nonLinear\",companion:\"companion\"},core.model.Creative.prototype=new core.model.Trackable,core.model.Creative.prototype.constructor=core.model.Creative}(core),function(core){core.model.MediaFile=function(){this.bitRate=null,this.deliveryMethod=null,this.height=null,this.id=null,this.mimeType=null,this.uri=null,this.width=null}}(core),function(core){core.model.LinearCreative=function(a){this.mediaFiles=[],this.parent=a||null,this.type=core.model.Creative.creativeTypes.linear,this.uniqueId=core.model.Trackable.generateUniqueId(),this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.creative)},core.model.LinearCreative.prototype=new core.model.Creative,core.model.LinearCreative.prototype.constructor=core.model.LinearCreative}(core),function(core){core.model.NonLinearCreative=function(a){this.height=null,this.mimeType=null,this.resource=null,this.resourceType=null,this.width=null,this.parent=a||null,this.type=core.model.Creative.creativeTypes.nonLinear,this.uniqueId=core.model.Trackable.generateUniqueId(),this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.creative)},core.model.NonLinearCreative.resourceTypes={staticResource:\"staticResource\",iFrame:\"iFrame\",html:\"html\"},core.model.NonLinearCreative.prototype=new core.model.Creative,core.model.NonLinearCreative.prototype.constructor=core.model.NonLinearCreative}(core),function(core){core.model.Companion=function(a){this.zoneId=null,this.zoneType=null,this.parent=a||null,this.type=core.model.Creative.creativeTypes.companion,this.uniqueId=core.model.Trackable.generateUniqueId(),this.trackingUris=core.model.Trackable.generateTrackingUris(core.request.VpTracker.trackingEvents.creative)},core.model.Companion.zoneTypes={html:\"html\"},core.model.Companion.prototype=new core.model.NonLinearCreative,core.model.Companion.prototype.constructor=core.model.Companion}(core),function(core){function a(a){var b=a.split(\":\"),c=0;if(!(b.length>0&&b.length<=3))return null;for(var d=0;d<b.length;d++)c+=Number(b[b.length-d-1]*(d?Math.pow(60,d):1));return isNaN(c)?null:c}function b(a,b){return\"2.0\"===b&&-1===a.indexOf(\"[CACHEBUSTING]\")&&-1===a.indexOf(\"%5BCACHEBUSTING%5D\")&&a.length>0&&(a+=a.indexOf(\"?\")>-1?\"&rnd=[CACHEBUSTING]\":\"?rnd=[CACHEBUSTING]\"),a}function c(a){return a&&(a=a.toLowerCase(),\"bumper\"===a||a===core.model.Ad.variants.sponsor)?core.model.Ad.variants.sponsor:core.model.Ad.variants.normal}core.parse.VastXmlParser=function(){this.parser=new window.DOMParser},core.parse.VastXmlParser.prototype.getAttributeValue=function(a,b){var c;return a&&a.attributes&&(c=a.attributes.getNamedItem(b))?c.value:null},core.parse.VastXmlParser.prototype.createTrackingUris=function(a,c,d){var e,f,g,h;e={},f=c.getElementsByTagName(\"Tracking\");for(var i=0;i<f.length;i++)g=f.item(i),h=this.getAttributeValue(g,\"event\"),(h in core.request.VpTracker.trackingEvents.ad||h in core.request.VpTracker.trackingEvents.creative||h in core.request.VpTracker.trackingEventNames.ad||h in core.request.VpTracker.trackingEventNames.creative)&&(h in core.request.VpTracker.trackingEventNames.ad?h=core.request.VpTracker.trackingEventNames.ad[h]:h in core.request.VpTracker.trackingEventNames.creative&&(h=core.request.VpTracker.trackingEventNames.creative[h]),e[h]||(e[h]=[]),e[h].push(b(this.trim(g.textContent),d)));for(h in e)a[h]&&(a[h]=a[h].concat(e[h]));return a},core.parse.VastXmlParser.prototype.createCreatives=function(c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p,q,r,s,t=[],u={Linear:core.model.Creative.creativeTypes.linear,NonLinearAds:core.model.Creative.creativeTypes.nonLinear,CompanionAds:core.model.Creative.creativeTypes.companion},v={StaticResource:core.model.NonLinearCreative.resourceTypes.staticResource,IFrameResource:core.model.NonLinearCreative.resourceTypes.iFrame,HTMLResource:core.model.NonLinearCreative.resourceTypes.html},w=0;w<c.length;w++)if(g=this.getAttributeValue(c[w],\"id\"),h=u[c[w].firstChild.nodeName],h===core.model.Creative.creativeTypes.linear){for(i=new core.model.LinearCreative(d),i.id=g,j=c[w].getElementsByTagName(\"Duration\"),j.length>0&&(i.duration=a(j[0].textContent)),k=c[w].getElementsByTagName(\"TrackingEvents\"),k.length>0&&(i.trackingUris=this.createTrackingUris(i.trackingUris,k[0],f)),m=c[w].getElementsByTagName(\"ClickTracking\"),l=0;l<m.length;l++)i.trackingUris.clickThrough.push(b(this.trim(m[l].textContent),f));for(n=c[w].getElementsByTagName(\"ClickThrough\"),n.length>0&&(i.clickThroughUri=this.trim(n[0].textContent)),o=c[w].getElementsByTagName(\"MediaFile\"),l=0;l<o.length;l++)p=new core.model.MediaFile,p.bitRate=this.getAttributeValue(o[l],\"bitrate\"),p.deliveryMethod=this.getAttributeValue(o[l],\"delivery\"),p.height=this.getAttributeValue(o[l],\"height\"),p.id=this.getAttributeValue(o[l],\"id\"),p.mimeType=this.getAttributeValue(o[l],\"type\"),p.uri=o[l].textContent,p.width=this.getAttributeValue(o[l],\"width\"),i.mediaFiles.push(p);t.push(i)}else if(h===core.model.Creative.creativeTypes.nonLinear)r=c[w].getElementsByTagName(\"NonLinear\");else if(h===core.model.Creative.creativeTypes.companion)for(s=c[w].getElementsByTagName(\"Companion\"),l=0;l<s.length;l++)i=new core.model.Companion(d),s[l].getElementsByTagName(\"TrackingEvents\")[0]&&(i.trackingUris=this.createTrackingUris(i.trackingUris,s[l].getElementsByTagName(\"TrackingEvents\")[0])),q=s[l].firstChild,i.resourceType=v[q.nodeName],i.resource=q.textContent,i.height=this.getAttributeValue(s[l],\"height\"),i.id=this.getAttributeValue(s[l],\"id\"),i.width=this.getAttributeValue(s[l],\"width\"),e&&e[i.id]?(i.zoneId=e[i.id].zoneId,i.zoneType=e[i.id].zoneMethod):\"undefined\"!=typeof console&&console.log(\"No matching companion in AdInfo.\"),t.push(i);return t},core.parse.VastXmlParser.prototype.createAds=function(a,d){for(var e,f,g,h,i,j,k,l,m,n=[],o=[],p={COMPANION_BANNER_JAVASCRIPT:core.model.Companion.zoneTypes.html},q=!1,r=0;r<a.length;r++){if(e=new core.model.Ad,a[r].getElementsByTagName(\"AdSystem\").length>0){var s=a[r].getElementsByTagName(\"AdSystem\")[0].textContent;s&&s.toLowerCase().indexOf(\"videoplaza karbon\")>-1&&(q=!0)}for(\"Wrapper\"===a[r].firstChild.nodeName?(f=a[r].getElementsByTagName(\"VASTAdTagURI\"),f.length>0&&(e.vastAdTagUri=f[0].textContent)):f=null,e.id=this.getAttributeValue(a[r],\"id\"),null===e.id&&(e.id=\"0\",e.type=core.model.Ad.types.inventory),h=a[r].getElementsByTagName(\"Extension\"),g=0;g<h.length;g++)if(\"AdServer\"===this.getAttributeValue(h[g],\"type\")&&\"Videoplaza\"===this.getAttributeValue(h[g],\"name\")){i=h[g].getElementsByTagName(\"AdInfo\")[0],e.campaignId=this.getAttributeValue(i,\"cid\"),e.customId=this.getAttributeValue(i,\"customaid\"),e.customGoalId=this.getAttributeValue(i,\"customgid\"),e.customCampaignId=this.getAttributeValue(i,\"customcid\"),e.goalId=this.getAttributeValue(i,\"gid\"),e.type=this.translateIncorrectAdType(this.getAttributeValue(i,\"format\")),e.variant=c(this.getAttributeValue(i,\"variant\")),j=i.getElementsByTagName(\"Companion\");for(var t=0;t<j.length;t++)o[this.getAttributeValue(j[t],\"id\")]={zoneId:this.getAttributeValue(j[t],\"zone\"),zoneMethod:p[this.getAttributeValue(j[t],\"zoneType\")]}}for(k=a[r].getElementsByTagName(\"Impression\"),g=0;g<k.length;g++)e.trackingUris.impression.push(b(this.trim(k[g].textContent),d));if(e.trackingUris.impression.length<1)throw new core.error.ParseError(core.debugMessage(\"noImpressionElement\"));for(l=a[r].getElementsByTagName(\"Error\"),null===f&&q&&0===l.length&&e.type===core.model.Ad.types.inventory&&(l=k),g=0;g<l.length;g++)e.trackingUris.error.push(b(this.trim(l[g].textContent),d));if(m=a[r].getElementsByTagName(\"Creative\"),!q&&0===m.length&&null===f)throw new core.error.ParseError(core.debugMessage(\"noCreativeElement\"));e.creatives=this.createCreatives(m,e,o,d),n.push(e)}return n},core.parse.VastXmlParser.prototype.translateIncorrectAdType=function(a){return\"spot_standard\"===a?\"standard_spot\":a},core.parse.VastXmlParser.prototype.removeTextNodes=function(a){var b,c,d=/^\\s*$/;if(3===a.nodeType)d.test(a.nodeValue)&&a.parentNode.removeChild(a);else if(1===a.nodeType||9===a.nodeType)for(b=a.firstChild;b;)c=b.nextSibling,this.removeTextNodes(b),b=c},core.parse.VastXmlParser.prototype.trim=function(a){return a.replace(/^\\s+|\\s+$/g,\"\")},core.parse.VastXmlParser.prototype.parse=function(a){var b,c,d,e,f=[];try{b=this.parser.parseFromString(a,\"text/xml\")}catch(g){throw\"undefined\"!=typeof console&&console.log(core.debugMessage(\"nonValidXML\")),new core.error.ParseError(\"Could not parse VAST. \"+g.message)}if(c=b.documentElement,!c)throw new core.error.ParseError(\"Could not parse VAST. No root element\");if(this.removeTextNodes(c),\"VAST\"!==c.nodeName)throw c.getElementsByTagName(\"parsererror\")&&c.getElementsByTagName(\"parsererror\").length>0&&\"undefined\"!=typeof console&&console.log(core.debugMessage(\"nonValidXML\")),\"undefined\"!=typeof console&&console.log(core.debugMessage(\"nonValidVASTTicket\")),new core.error.ParseError('Could not parse VAST. Root element is not \"VAST\".');return e=this.getAttributeValue(c,\"version\"),d=c.getElementsByTagName(\"Ad\"),d.length>0&&(f=this.createAds(d,e)),f}}(core),function(core){core.AdCallModule=function(){var a,b=function(b,c){a=new core.request.VpAdCallModule(b,c)};return b.prototype.requestAds=function(b,c,d,e){a.requestAds(b,c,d,e)},b}()}(core),window.videoplaza||(window.videoplaza={}),window.videoplaza.core=core,window.videoplaza.buildDate=\"20140828\",window.videoplaza.versionNumber=\"1.0.14.17.1\"}(window);\n; browserify_shim__define__module__export__(typeof videoplaza != \"undefined\" ? videoplaza : window.videoplaza);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],7:[function(require,module,exports){\nfunction metadataAggregator() {\n\t\"use strict\";\n\t/**\n\t * Format of the metadata object that will be sent to the sdk.\n\t * The metadata sent from the bridge is compared with the properties of this object (case insesitive) and generated accordingly.\n\t * If you are trying to send properties that are not defined below, they will not be accepted\n\t * @type {Object}\n\t */\n\tvar skdFormattedData = {\n\t\tvpHost: '',\n\t\tcuepoints: [],\n\t\tplayerDivId: '',\n\n\t    category: '',\n\t    contentForm: '',\n\t    contentId: '',\n\t    contentPartner: '',\n\t    duration: null,\n\t    flags: [],\n\t    tags: [],\n\t    customParameters: {},\n\n\t\theight: null,\n\t\tmaxBitRate: null,\n\t\tplaybackPosition: null,\n\t\tinsertionType: '',\n\t\twidth: null,\n\t\treferrerUrl: '',\n\n\t\tdeviceContainer: '',\n\t\tpersistentId: '',\n\n\t\toptional: {\n\t\t\tplayMidrollOnSeek: true\n\t\t},\n\n\t    longFormLimit: null // if this is set and the duration of the video is known, it should ovveride the content form\n\t};\n\n\tvar isDataAgreggated = false;\n\tvar flashFormatMetadata = {};\n\n\t/**\n\t * Converts object to a transitional (bridge) format. The properties are all lowercase, with no '-', '_' and 'vp' is removed from the start\n\t * of the property name\n \t * @param  {object} metadataObject Metadata object in a loosely format.\n\t * @return {object}                Returns the transitional formatted object\n\t */\n\tfunction _getDataInBridgeFormat(metadataObject) {\n\t\tvar prop, lprop;\n\t\tvar bridgeFormattedMetadata = {};\n\t\tfor (prop in metadataObject) {\n\t\t\tif (metadataObject.hasOwnProperty(prop)) {\n\t\t\t\tlprop = prop.toLowerCase();\n\t\t\t\t// lprop = lprop.replace(/[_,-]/g, ''); generating a cuepoint problem, ignore for the moment\n\t\t\t\tlprop = lprop.replace(/^vp/i, '');\n\t\t\t\tif (lprop === 'host') lprop = 'vpHost';\n\t\t\t\tbridgeFormattedMetadata[lprop] = {val: metadataObject[prop], oldName: prop};\n\t\t\t}\n\t\t}\n\n\t\treturn bridgeFormattedMetadata;\n\t}\n\t/**\n\t * Converts the object passed to the format required by the Videoplaza HTML5 SDK\n\t * @param  {object} metadataObject Metadata object with lowercase properties, but with 'linking' to the sdk format\n\t * @return {object} Returns object in sdk format.\n\t */\n\tfunction _getDataInSdkFormat(metadataObject) { // do this once\n\t\tvar prop;\n\t\tvar sdkFormattedMetadata = {};\n\t\tvar sdkBridgeMetadataTranslator = _getDataInBridgeFormat(skdFormattedData);\n\t\t//Go through the properties of the metdataObject that will be converted\n\t\tfor (prop in metadataObject) {\n\t\t\tif (metadataObject.hasOwnProperty(prop)) {\n\t\t\t\t//On the new object, take the old name of the property that matches the template and assign the value of the property\n\t\t\t\tif (sdkBridgeMetadataTranslator[prop]) {\n\t\t\t\t\tsdkFormattedMetadata[sdkBridgeMetadataTranslator[prop].oldName] = metadataObject[prop].val;\n\t\t\t\t} else {\n\t\t\t\t\tsdkFormattedMetadata[metadataObject[prop].oldName] = metadataObject[prop].val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn sdkFormattedMetadata;\n\t}\n\n\t/**\n\t * Merging objects together, with the last ovveriding the previous if properties have the same name\n\t * @param  {array} listOfObjectsToBeAggregated Array of objects to be aggregated. The last object in the list ovewrites the previous\n\t * @return {object} Result of the aggregation\n\t */\n\tfunction _extend(listOfObjectsToBeAggregated) {\n\t\tvar objects = listOfObjectsToBeAggregated;\n\t    var extended = {};\n\t    var prop;\n\n\t    for (var i = 0; i < objects.length; i++) {\n\t    \tif (objects[i]) {\n\t\t    \tfor (prop in objects[i]) {\n\t\t\t        if (objects[i].hasOwnProperty(prop)) {\n\t\t\t        \tif (prop === 'tags' || prop === 'flags') {\n\t\t\t        \t\tif (!extended[prop]) extended[prop] = objects[i][prop];\n\t\t\t        \t\textended[prop].val = extended[prop].val.concat(objects[i][prop].val);\n\t\t\t        \t\textended[prop].val = _removeArrayDuplicates(extended[prop].val);\n\t\t\t        \t} else {\n\t\t\t        \t\tif (objects[i][prop].val!==undefined && objects[i][prop].val!==null && objects[i][prop].val.toString().length) {\n\t\t\t        \t\t\textended[prop] = objects[i][prop];\n\t\t\t        \t\t}\n\t\t\t        \t}\n\t\t\t        }\n\t\t    \t}\n\t    \t}\n\t    }\n\t    return extended;\n\t}\n\n\tfunction _removeArrayDuplicates(array) {\n\t\tvar result = [];\n\t\tvar different = true;\n\t\tfor (var i = 0; i< array.length; i++) {\n\t\t\tif (result.length === 0) {\n\t\t\t\tresult.push(array[i]);\n\t\t\t} else {\n\t\t\t\tfor (var j = 0; j< result.length; j++) {\n\t\t\t\t\tif (result[j] === array[i]) different = false;\n\t\t\t\t}\n\t\t\t\tif (different) {\n\t\t\t\t\tresult.push(array[i]);\n\t\t\t\t}\n\t\t\t\tdifferent = true;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\t/**\n\t * If a longFormLimit is specified, the module modifies the metadata.contentForm and sets shortForm or longForm accordingly\n\t * @param {object} metadata Object to be on which the check is made\n\t * @return {object} metadata Returns the metadata object\n\t */\n\tfunction _setContentFormByLongFormLimit(metadata) {\n\t\tif (!metadata.duration || !metadata.longFormLimit) return metadata;\n\t\tif (metadata.duration >= metadata.longFormLimit) {\n\t\t\tmetadata.contentForm = 'longForm';\n\t\t} else {\n\t\t\tmetadata.contentForm = 'shortForm';\n\t\t}\n\n\t\treturn metadata;\n\t}\n\n\tfunction _changeContentFormFormat(metadata) {\n\t\tif (!metadata.contentForm) return;\n\t\tif (metadata.contentForm === 'short_form') metadata.contentForm = 'shortForm';\n\t\tif (metadata.contentForm === 'long_form') metadata.contentForm = 'longForm';\n\t}\n\n\tfunction _addContentFormToTags(metadata) {\n\t\tif (!metadata.contentForm) return;\n\t\tif (!metadata.tags) metadata.tags = [];\n\t\tif (metadata.contentForm === 'shortForm') metadata.tags.push('short_form');\n\t\tif (metadata.contentForm === 'longForm') metadata.tags.push('long_form');\n\t}\n\n\t/**\n\t * Enable the usage of metadata configuration objects from different sources and aggregate them into one metadata object that can be sent to the SDK\n\t * @param  {array} listOfObjectsToBeAggregated List of objects to be agreaggated\n\t * @param  {boolean} addExistingMetadata     If true, merge the new metadata objects with the existing one, else, just merge them and return\n\t * @return {object}  metadata                  Returns the metadata object in the format expected by the SDK\n\t */\n\tfunction aggregateData(listOfObjectsToBeAggregated, addExistingMetadata) { //change this into a 'dataAggregator()'\n\t\tvar metadata = {};\n\t\tvar objects = listOfObjectsToBeAggregated;\n\t\tvar mergeExisting = true;\n\n\t\tif (addExistingMetadata !== null) mergeExisting = addExistingMetadata;\n\n\t\t// Transform objects that will be agregated to the common \"bridge format\"\n\t\tfor (var i = 0; i< objects.length; i++) {\n\t\t\tif (objects[i]) {\n\t\t\t\tobjects[i] = _getDataInBridgeFormat(objects[i]);\n\t\t\t}\n\t\t}\n\t\t// Aggregate objects\n\t\tif (mergeExisting) objects = objects.unshift(skdFormattedData);\n\t\tmetadata = _extend(objects);\n\t\t// Transform objects that will be agregated to format required by the sdk\n\t\tmetadata = _getDataInSdkFormat(metadata);\n\t\t// Modify the contentForm if needed\n\t\tmetadata = _setContentFormByLongFormLimit(metadata);\n\t\t// Change contentForm value format\n\t\t_changeContentFormFormat(metadata);\n\t\t// Add content form to tags\n\t\t_addContentFormToTags(metadata);\n\t\t//copy metadata to existing one\n\t\t_copyObjectProperties(skdFormattedData, metadata);\n\t\tisDataAgreggated = true;\n\t\tsetFlashFormat(metadata);\n\n\n\n\t\treturn metadata;\n\t}\n\n\t/**\n\t * Copies the values of the properties of the second object to the first object (only if the property names match)\n\t * @param  {object} copyTo   Object to get the values from the copyFrom matching properties\n\t * @param  {object} copyFrom Matching properties are copied to copyTo\n\t * @return {object}          copyTo object with the values of the copyFrom properties\n\t */\n\tfunction _copyObjectProperties(copyTo, copyFrom) {\n\t\tvar prop;\n\t\tfor (prop in copyTo) {\n\t\t\tif (copyTo.hasOwnProperty(prop) && copyFrom.hasOwnProperty(prop)) {\n\t\t\t\tcopyTo[prop] = copyFrom[prop];\n\t\t\t}\n\t\t}\n\t\treturn copyTo;\n\t}\n\n\t// function addData(dataObj) {\n\t// \tvar newData = {};\n\t// \tcurrentData = _getDataInBridgeFormat(skdFormattedData);\n\t// \tnewData = _getDataInBridgeFormat(dataObj);\n\t// \t_extend([currentData, newData]);\n\t// }\n\n\t/**\n\t * Returns contentMetadata object required by the requestAds method of the SDK. To get a populated object, run aggregateData() first\n\t * @return {object} contentMetadata\n\t */\n\tfunction getContentMetadata() {\n\t\tvar contentMetadata = {\n\t\t\t    category: '',\n\t\t\t    contentForm: '',\n\t\t\t    contentId: '',\n\t\t\t    contentPartner: '',\n\t\t\t    duration: null,\n\t\t\t    flags: [],\n\t\t\t    tags: [],\n\t\t\t    customParameters: {}\n\t\t\t};\n\n\t\t_copyObjectProperties(contentMetadata, skdFormattedData);\n\t\tif (!isDataAgreggated) {\n\t\t\treturn contentMetadata;\n\t\t} else {\n\t\t\treturn contentMetadata;\n\t\t}\n\t}\n\n\t/**\n\t * Returns adCallModuleSettings object required by the requestAds method of the SDK. To get a populated object, run aggregateData() first\n\t * @return {object} adCallModuleSettings\n\t */\n\tfunction getAdCallModuleSettings() {\n\t\tvar adCallModuleSettings = {\n\t\t\tvpHost: '',\n\t\t\topt: {\n\t\t\t\tdeviceContainer: '',\n\t\t\t\tpersistentId: ''\n\t\t\t}\n\t\t};\n\n\t\tadCallModuleSettings.vpHost = skdFormattedData.vpHost;\n\t\t_copyObjectProperties(adCallModuleSettings.opt, skdFormattedData);\n\n\t\tif (!isDataAgreggated) {\n\t\t\treturn adCallModuleSettings;\n\t\t} else {\n\t\t\treturn adCallModuleSettings;\n\t\t}\n\t}\n\n\t/**\n\t * Returns requestSettings  object required by the requestAds method of the SDK. To get a populated object, run aggregateData() first\n\t * @return {object} requestSettings\n\t */\n\tfunction getRequestSettings() {\n\t\tvar requestSettings = {\n\t\t\t\theight: null,\n\t\t\t\tmaxBitRate: null,\n\t\t\t\tplaybackPosition: null,\n\t\t\t\tinsertionType: '',\n\t\t\t\twidth: null,\n\t\t\t\treferrerUrl: ''\n\t\t\t};\n\t\t_copyObjectProperties(requestSettings, skdFormattedData);\n\n\t\tif (!isDataAgreggated) {\n\t\t\treturn requestSettings;\n\t\t} else {\n\t\t\treturn requestSettings;\n\t\t}\n\t}\n\n\tfunction getCuePoints() {\n\t\treturn skdFormattedData.cuepoints;\n\t}\n\n\tfunction getMetadata() {\n\t\treturn skdFormattedData;\n\t}\n\n\tfunction setFlashFormat(metaObj) {\n\t\tvar metadata = metaObj;\n\t\t//this should be automatic, adding vp in front of all options passed?\n\t\tvar flashConverter = {\n\t\t\tflags: 'vpFlags',\n\t\t\tenvironmenturl: 'vpEnvironmentUrl',\n\t\t\tcontentform: 'vpcontentform',\n\t\t\tcontentpartner: 'vpContentPartner',\n\t\t\tcontentid: 'vpContentId'\n\t\t};\n\t\t//each metadata[prop] is a object\n\t\tfor (var prop in metadata) {\n\t\t\tfor (var conv in flashConverter) {\n\t\t\t\tif (prop.toLowerCase() === conv.toLowerCase()) {\n\t\t\t\t\tflashFormatMetadata[flashConverter[conv]] = metadata[prop];\n\t\t\t\t} else {\n\t\t\t\t\tflashFormatMetadata[prop] = metadata[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\treturn flashFormatMetadata;\n\n\t}\n\n\tfunction getFlashFormat() {\n\t\treturn flashFormatMetadata;\n\t}\n\n\treturn {\n\t\taggregateData: aggregateData,\n\t\tgetAdCallModuleSettings: getAdCallModuleSettings,\n\t\tgetContentMetadata: getContentMetadata,\n\t\tgetRequestSettings: getRequestSettings,\n\t\tgetCuePoints: getCuePoints,\n\t\tgetMetadata: getMetadata,\n\t\tgetFlashFormat: getFlashFormat\n\t};\n}\n\nmodule.exports = metadataAggregator;\n},{}],8:[function(require,module,exports){\n/**\n * Creates a wrapper for the native console object.\n * @param  {[type]} enabled If enabled, messages are displayed to console. If not, supress them\n * @param  {[type]} name    Name space the logger for easy console filtering\n * @return {[type]}         Returns the wrapper object\n */\nfunction createLogger(enabled, name) {\n  var vplog = {}\n  if (!window.console) return function(){}\n  if (enabled || isLogEnabledByUrl()) {\n    for (var m in console)\n      if (typeof console[m] == 'function')\n        vplog[m] = console[m].bind(window.console, name.toString()+\":\")\n  }else{\n    for (var m in console)\n      if (typeof console[m] == 'function')\n        vplog[m] = function(){}\n  }\n  return vplog\n}\n\nfunction isLogEnabledByUrl() {\n    var value = getUrlQueryParameter('vplog');\n    var enabled = false;\n    switch (value) {\n        case 'true':\n        enabled = true;\n        break;\n        case 'false':\n        enabled = false;\n        break;\n        default:\n        enabled = false;\n        break;\n    }\n    return enabled;\n}\n\nfunction getUrlQueryParameter(name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n        results = regex.exec(location.search);\n    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\nmodule.exports = {\n    createLogger: createLogger,\n    getUrlQueryParameter: getUrlQueryParameter\n};\n\n\n},{}],9:[function(require,module,exports){\nvar metadataAggregator = require('html-metadata-aggregator'); /*Module*/\nvar videoplaza = require('videoplaza'); /*No need to modularise, it is stateless*/\nvar eventBusModule = require(\"./utils/eventBus.js\"); /*Module*/\nvar jsutils = require('jsutils');\n\nfunction sdke() {\n    var logger = jsutils.createLogger(false, 'ADS HTML5 SDKE');\n\tvar state = {\n\t\tadPlaying: false,\n\t\tprerollCalled: false,\n\t\tmidrollCalled: {\n\t\t//first values are cuepoints\n\t\t\t// 10: false,\n\t\t\t// 20: false\n\t\t},\n\t\tcuepoint: 0,\n\t\tpostrollCalled: false,\n\t\tinitCalled: false\n\t};\n\tvar conf = {};\n\tvar currentAd = {\n\t\ttracker: {}\n\t};\n\n\tvar tracker = {};\n\tvar adCallModule;\n\n\tvar playableAds = [];\n\tvar randomsdke = Math.random();\n\n\t/*Init dependencies*/\n\tvar vpData = metadataAggregator();\n\tvar eventBus = eventBusModule();\n\n\t/**\n\t * @function init(config)\n\t * @description Init videoplaza sdke - pass the needed params\n\t * @param {object} config Configuration object\n\t * @param {object} config.evtElement DOM element used as event bus - might suffer modifications\n\t * @param {object} config.videoPlayer - pass the video player\n\t */\n\tfunction init(config) {\n\t\tif (state.initCalled) return;\n\t\tstate.initCalled = true;\n\n\n\t\tvar adCallModuleSettings = vpData.getAdCallModuleSettings();\n\t\tlogger.log('adCallModuleSettings sdk', adCallModuleSettings, config.metadata.flags);\n\t\tconf = config; //you'd probably need to check this first\n\t\tconf.cuepoints = vpData.getCuePoints();\n\n\t\tif (conf.metadata.tags) {\n\t\t\tconf.metadata.tags.push('html5');\n\t\t} else {\n\t\t\tconf.metadata.tags = ['html5'];\n\t\t}\n\n\t\t//Parse cuepoint list and prepare the midrolls\n\t\t_parseCuepoints();\n\n\t\tadCallModule = new videoplaza.core.AdCallModule(adCallModuleSettings.vpHost, adCallModuleSettings.opt);\n\t\ttracker = new videoplaza.core.Tracker();\n\t}\n\n\t/**\n\t * @function requestAds(adType, playbackPosition)\n\t * @description Expose ad request functionality. It's a wrapper over _makeVideoplazaAdRequest, simply meant to be more 'user-friendly'\n\t * @param {string} adType Ad type in layman terms\n\t * @param {number} playbackPosition\n\t */\n\tfunction requestAds(adType, playbackPosition) {\n\t\tswitch (adType) {\n\t\t\tcase 'preroll':\n\t\t\tif (!hasFlag('noprerolls')) {\n\t\t\t\t_makeVideoplazaAdRequest('onBeforeContent');\n\t\t\t} else {\n\t\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 'midroll':\n\t\t\tif (!hasFlag('nomidrolls')) {\n\t\t\t\t_makeVideoplazaAdRequest('playbackPosition', playbackPosition);\n\t\t\t} else {\n\t\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 'postroll':\n\t\t\tif (!hasFlag('nopostrolls')) {\n\t\t\t\t_makeVideoplazaAdRequest('onContentEnd');\n\t\t\t} else {\n\t\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\tthrow 'Unregonised ad type';\n\t\t}\n\t\t//Saving the type of the ad playing for managing states\n\t\tcurrentAd.adType = adType;\n\t}\n\n\t/**\n\t * @function _makeVideoplazaAdRequest(tt, playbackPosition)\n\t * @description Make an ad request\n\t * @param {string} adType Ad type in layman terms\n\t * @param {number} playbackPosition\n\t */\n\tfunction _makeVideoplazaAdRequest(tt, playbackPosition) {\n\t\t//Init ad call module\n\t\t\tvar contentMetadata = vpData.getContentMetadata();\n\t\t\trequestSettings = vpData.getRequestSettings();\n\t\t\trequestSettings.insertionPointType = tt;\n\t\t\trequestSettings.playbackPosition = playbackPosition || '';\n\n\t\t\tadCallModule.requestAds(contentMetadata, requestSettings, _onGetAdsSuccess, _onGetAdsFail);\n\t}\n\n\t/**\n\t * @function adStarted()\n\t * @description Manage state of the sdk by putting it in adPlaying mode and track impression\n\t */\n\tfunction adStarted() {\n\t\tstate.adPlaying = true;\n\t\ttracker.track(playableAds[0], videoplaza.core.Tracker.trackingEvents.ad.impression);\n\t}\n\n\t/**\n\t * @function onClick()\n\t * @description If ad is playing, open the target url in a new page, track the click and update state\n\t */\n\tfunction onClick() {\n\t\tvar playerAdState = {\n\t\t\tadPlaying: state.adPlaying,\n\t\t\tadClicked: currentAd.tracker.click\n\t\t};\n\n\t\tif (!state.adPlaying || currentAd.tracker.click) return playerAdState;\n\t\twindow.open(currentAd.creative.clickThroughUri,'_blank');\n\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.clickThrough);\n\t\tcurrentAd.tracker.click = true;\n\n\t\treturn playerAdState;\n\t}\n\n\t/**\n\t * @function adEnded()\n\t * @description Executed when an ad is ended.\n\t * If more ads are available in the slot, play the next one.\n\t * If not, emit vp:adslot-complete and update the state accordingly\n\t */\n\tfunction adEnded() {\n\t\tif (!state.adPlaying) return;\n\n\t\t// Track complete quartile and remove the ad that ended\n\t\tplayableAds.shift();\n\n\t\t// Check if there are more ads available\n\t\tif (playableAds.length > 0) {\n\t\t\t_setCurrentAd(playableAds[0]);\n\t\t\t// Send vp:ads-ready event with the ad to be played\n\t\t\teventBus.dispatch('vp:ads-ready', currentAd);\n\t\t} else {\n\t\t\t// Send vp:adslot-complete event and update the state\n\t\t\tstate.adPlaying = false;\n\t\t\t_setAdComplete(currentAd.adType);\n\t\t\teventBus.dispatch('vp:adslot-complete', currentAd);\n\t\t}\n\t}\n\n\t/**\n\t * @function _setAdComplete(newState)\n\t * @description Used to update the state object of the sdke. Should be refactored - naming and usage are odd\n\t * @param {string} newState state that will be updated\n\t */\n\tfunction _setAdComplete(newState) {\n\t\tswitch (newState) {\n\t\t\tcase 'adPlaying':\n\t\t\tstate.adPlaying = true;\n\t\t\tbreak;\n\t\t\tcase 'preroll':\n\t\t\tstate.prerollCalled = true;\n\t\t\tbreak;\n\t\t\tcase 'midroll':\n\t\t\tstate.midrollCalled[state.cuepoint] = true;\n\t\t\t//identify which midroll played if you go forward in the timeline and remove that midroll\n\n\t\t\tbreak;\n\t\t\tcase 'postroll':\n\t\t\tstate.postrollCalled = true;\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tthrow \"The selected plugin state(\"+ newState +\") is not supported\";\n\t\t}\n\t}\n\n\t//NOT USED ANYMORE - REMOVE WHEN WRITING THE UNIT TESTS\n\tfunction _startAd() {\n\t\t//first check if the creative is fine and the ad can be played.\n\t\t//if it is, track impression and ad start\n\t\ttracker.track(currentAd.adObject, videoplaza.core.Tracker.trackingEvents.ad.impression);\n\t}\n\n\t/**\n\t * @function _quartileTracking(time)\n\t * @description Compares the current time with the defined quartiles and fires the quartile tracking when needed\n\t * @param {number/string} time Can be a number that indicates the time of the ad being played, or can be the string 'complete' indicating the ad finished\n\t */\n\tfunction _quartileTracking(time) {\n\t\tif (time >=0 && !currentAd.tracker.e14) {\n\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.start);\n\t\t\tcurrentAd.tracker.e14 = true;\n\t\t}\n\t\tif (time >= currentAd.duration/4 && !currentAd.tracker.e15) {\n\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.firstQuartile);\n\t\t\tcurrentAd.tracker.e15 = true;\n\t\t}\n\t\tif (time >= currentAd.duration/2 && !currentAd.tracker.e16) {\n\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.midpoint);\n\t\t\tcurrentAd.tracker.e16 = true;\n\t\t}\n\t\tif (time >= (currentAd.duration/2 + currentAd.duration/4) && !currentAd.tracker.e17) {\n\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.thirdQuartile);\n\t\t\tcurrentAd.tracker.e17 = true;\n\t\t}\n\t\tif (time >=  currentAd.duration-0.25 && !currentAd.tracker.e18) {\n\t\t\ttracker.track(currentAd.creative, videoplaza.core.Tracker.trackingEvents.creative.complete);\n\t\t\tcurrentAd.tracker.e18 = true;\n\t\t}\n\t}\n\n\t/**\n\t * @function update(time)\n\t * @description Ran on evety player update ideally. Depending if ad is playing or not, it either fires quartiles or checking if midrolls should be played\n\t * @param {number/string} time Can be a number that indicates the time of the ad being played, or can be the string 'complete' indicating the ad finished\n\t */\n\tfunction update(time) {\n\t\tif (state.adPlaying) {\n\t\t\t_quartileTracking(time);\n\t\t}\n\t\telse {\n\t\t\t_checkForMidroll(time);\n\t\t}\n\t}\n\n\t/**\n\t * @function _checkForMidroll(time)\n\t * @description If a cuepoint was reached, make a midroll ad request\n\t * @param {number} time Current playing time\n\t */\n\tfunction _checkForMidroll(time) {\n\t\tif (!(conf.cuepoints && conf.cuepoints.length > 0)) return;\n\n\t\tvar cuepointIndex = _getCupointIndex(time, 0);\n\n\t\tif (cuepointIndex !== false) {\n\t\t\trequestAds('midroll', conf.cuepoints[cuepointIndex]);\n\t\t\tstate.cuepoint = conf.cuepoints[cuepointIndex];\n\t\t\tstate.midrollCalled[state.cuepoint] = true;\n\t\t}\n\n\t}\n\n\t/**\n\t * @function _getCupointIndex(time, cuepointPos)\n\t * @description Recursive function checking the midroll that should be played. It handles video skipping scenarios too.\n\t *              For example, if you have 3 cuepoints, at 10s, 30s and 50s and the user jumps to 60s in the video,\n\t *              the cuepoint that will be triggered is the 50s one, with the 10s and 30s remaining active on the timeline\n\t * @param {number} time Current playing time\n\t * @param {number} cuepointPos Index in the cuepoints array\n\t */\n\tfunction _getCupointIndex(time, cuepointPos) {\n\t\t// Check if there are cuepoints left\n\t\tif (cuepointPos >= conf.cuepoints.length) return false;\n\n\t\t// If there is just one cuepoint left, check if it should be triggered\n\t\tif (cuepointPos + 1 === conf.cuepoints.length) {\n\t\t\treturn _getCuepointHit(time, cuepointPos);\n\t\t}\n\n\t\t// When there are multiple cuepoints, recursevly check which one can be triggered, starting with the second in the queue,\n\t\t// aiming for the furthest on the timeline (for the scenarios when the user skipped through the content)\n\t\tif (time >= conf.cuepoints[cuepointPos+1]) {\n\t\t\treturn _getCupointIndex(time, cuepointPos+1);\n\t\t}\n\t\telse {\n\t\t\t//If the recursion indicates the second cuepoint is not ready to be triggered, check against the first one\n\t\t\treturn _getCuepointHit(time, cuepointPos);\n\t\t}\n\t}\n\n\t/**\n\t * @function _getCuepointHit(time, cuepointPos)\n\t * @description Simply compare the current playing time with a defined cuepoint position and return cuepoint position or falsy\n\t * @param {number} time current playing time\n\t * @param {number} cuepointPos Index in the cuepoints array\n\t * @return {number} Returns the index of the cuepoint that can be triggered\n\t * @return {boolean} Returns false if no cuepoint is reached. Meant as a 'falsy' value\n\t */\n\tfunction _getCuepointHit(time, cuepointPos) {\n\t\tif (time >= conf.cuepoints[cuepointPos] && !state.midrollCalled[conf.cuepoints[cuepointPos]]) {\n\t\t\treturn _isSeekrollEnabled(time, cuepointPos);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction _isSeekrollEnabled(time, cuepointPos) {\n\t\tif (conf.metadata.optional && !conf.metadata.optional.playMidrollOnSeek) {\n\t\t\t//if Seekroll is disabled, check the time of midroll\n\t\t\t//if time is way greater than mid position, it's a seekroll and should not be returned\n\t\t\tif (time - 0.5 > conf.cuepoints[cuepointPos]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn cuepointPos;\n\t\t\t}\n\t\t} else {\n\t\t\t//if Seekroll is enabled (default), return the midroll position\n\t\t\treturn cuepointPos;\n\t\t}\n\t}\n\n\t/**\n\t * @function _onGetAdsSuccess(ads)\n\t * @description Success callback for HTML5 SDK requestAds method. Get the playable ads, if any emit the vp:ads-ready event\n\t * @param {object} ads Contains the ads returned by Karbon\n\t */\n\tfunction _onGetAdsSuccess(ads){\n\t\tvar videoAds = [];\n\t\t// Get the playable ads\n\t\tplayableAds = _filterPlayableAds(ads);\n\n\t\tif (playableAds.length > 0) {\n\t\t\t_setCurrentAd(playableAds[0]);\n\t\t\t eventBus.dispatch('vp:ads-ready', currentAd);\n\t\t} else {\n\t\t\teventBus.dispatch('vp:ads-error', currentAd);\n\t\t}\n\n\t}\n\n\t/**\n\t * @function _onGetAdsFail(ads)\n\t * @description Fail callback for HTML5 SDK requestAds method.\n\t * @param {object} erroMsg How are errors handled\n\t */\n\tfunction _onGetAdsFail(erroMsg) {\n\t}\n\n\t/**\n\t * @function _setCurrentAd(ad)\n\t * @description Populate the currentAd object with useful information about the ad currently playing\n\t * @param {object} ad Current ad object as returned by the server\n\t */\n\tfunction _setCurrentAd(ad) {\n\t\tif (!ad) return;\n\t\tcurrentAd.creative = ad.creatives[0]; //chose the linear\n\t\t// currentAd.mediaFile = ad.creatives[0].mediaFiles[0]; //choose first media file\n\t\tcurrentAd.mediaFile = _findMp4(currentAd.creative);\n\t\tcurrentAd.tracker = {\n\t\t\te14: false,\n\t\t\te15: false,\n\t\t\te16: false,\n\t\t\te17: false,\n\t\t\te18: false,\n\t\t\tclick: false\n\t\t};\n\t\tcurrentAd.adObject = ad;\n\t\tcurrentAd.duration = ad.creatives[0].duration;\n\t}\n\n\tfunction _findMp4(creative) {\n\t\tmediaFiles = creative.mediaFiles;\n\t\tfor (var i=0; i<mediaFiles.length; i++){\n\t\t\tif (mediaFiles[i].uri.slice(-3) === 'mp4') {\n\t\t\t\treturn mediaFiles[i];\n\t\t\t}\n\t\t}\n\t\treturn mediaFiles[0];\n\t}\n\n\t/**\n\t * Checks if current flag exists in the flags array\n\t * @param  {[type]}  adType [description]\n\t * @return {Boolean}        [description]\n\t */\n\tfunction hasFlag(flag) {\n\t\tif (!conf.metadata.flags) return;\n\n\t\tvar flags = conf.metadata.flags;\n\t\tfor (var i=0; i<flags.length; i++) {\n\t\t\tif (flags[i] === flag) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * @function _filterPlayableAds(ads)\n\t * @description Takes the ad response and returns only the playable one filtering out the inventory and the banners\n\t * @param {object} ads Raw ad object as returned by the server\n\t * @return {array} Arrays of ads that can be played in the current slot\n\t */\n\tfunction _filterPlayableAds(ads) {\n\t\tvar playableAds = [];\n\n\t\tfor (var i = 0; i < ads.length; i++) {\n\t\t\tswitch (ads[i].type) {\n\t\t\t\tcase 'standard_spot':\n\t\t\t\tif (ads[i].creatives[0].type === 'linear') { //can you have companion banners withoud video ad?\n\t\t\t\t\tplayableAds.push(ads[i]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'inventory':\n\t\t\t\t//track inventory\n\t\t\t\ttracker.track(ads[i], videoplaza.core.Tracker.trackingEvents.ad.impression);\n\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t//track error;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn playableAds;\n\t}\n\n\t/**\n\t * @function _parseCuepoints()\n\t * @description Assign cuepoints to the midroll state to keep track of them properly\n\t */\n\tfunction _parseCuepoints() {\n\t\tfor (var i = 0; i < conf.cuepoints.length; i++) {\n\t\t\tstate.midrollCalled[conf.cuepoints[i]] = false;\n\t\t}\n\t}\n\t/**\n\t * @function isAdPlaying()\n\t * @description Exposed function used to check if an ad is playing or not\n\t * @return {boolean} True/False if an ad is currently playing or not\n\t */\n\tfunction isAdPlaying() {\n\t\treturn state.adPlaying;\n\t}\n\n\tfunction reset() {\n\t\t_parseCuepoints();\n\t}\n\n\treturn {\n\t\tinit: init,\n\t\trequestAds: requestAds,\n\t\tadStarted: adStarted,\n\t\tadEnded: adEnded,\n\t\tupdate: update,\n\t\treset: reset,\n\t\tonClick: onClick,\n\t\tisAdPlaying: isAdPlaying,\n\t\tstate: state,\n\t\tmetadataTools: vpData,\n\t\tutils: {\n\t\t\teventBus: eventBus,\n\t\t\thasFlag: hasFlag\n\t\t}\n\t};\n}\n\nmodule.exports = sdke;\n\n},{\"./utils/eventBus.js\":10,\"html-metadata-aggregator\":7,\"jsutils\":8,\"videoplaza\":6}],10:[function(require,module,exports){\nfunction eventBusModule() {\n\t\"use strict\";\n\n\tvar registeredEvents = [];\n\tvar sep = Math.round(Math.random()*1000);\n\n\tfunction dispatch(name, details) {\n\t\tfor (var i = 0; i< registeredEvents.length; i++) {\n\t\t\tif (registeredEvents[i].eventName === name+sep) {\n\t\t\t\t//if the name match, call the callbacks and attach the details\n\t\t\t\tfor (var j = 0; j < registeredEvents[i].callbacks.length; j++) {\n\t\t\t\t\tregisteredEvents[i].callbacks[j](details);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addEventListener(name, callback) {\n\t\tvar eventObject = {\n\t\t\teventName : name+sep,\n\t\t\tcallbacks: [callback]\n\t\t};\n\t\tvar eventDefined = false;\n\t\tvar selectedEvent;\n\n\t\tif (registeredEvents.length === 0) {\n\t\t\tregisteredEvents.push(eventObject);\n\t\t\treturn;\n\t\t}\n\t\t// go through existing events and check if the current one has been registered\n\t\tfor (var i = 0; i< registeredEvents.length; i++) {\n\t\t\tif (registeredEvents[i].eventName === name+sep) {\n\t\t\t\teventDefined = true;\n\t\t\t\tselectedEvent = registeredEvents[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (eventDefined) {\n\t\t\t_checkCallback(selectedEvent, callback);\n\t\t} else {\n\t\t\tregisteredEvents.push(eventObject);\n\t\t}\n\t}\n\n\tfunction _checkCallback(selectedEvent, callback) {\n\t\tvar eventCallbackDefined = false;\n\t\tfor (var i = 0; i< selectedEvent.callbacks.length; i++) {\n\t\t\tif (selectedEvent.callbacks[i].toString() === callback.toString()) {\n\t\t\t\teventCallbackDefined = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!eventCallbackDefined) {\n\t\t\tselectedEvent.callbacks.push(callback);\n\t\t}\n\t}\n\n\tfunction _isInList(element, list, objProperty) {\n\t\tvar isInList = false;\n\t\tvar i;\n\t\tif (objProperty) {\n\t\t\tfor (i = 0; i< list.length; i++) {\n\t\t\t\tif (list[i][objProperty].toString() === element.toString()) {\n\t\t\t\t\tisInList = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0; i< list.length; i++) {\n\t\t\t\tif (list[i][objProperty] === element) {\n\t\t\t\t\tisInList = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn isInList;\n\t}\n\n\treturn {\n\t\tdispatch: dispatch,\n\t\taddEventListener: addEventListener,\n\t\trandomTest: sep,\n\t\tregisteredEvents: registeredEvents\n\t};\n}\n\nmodule.exports = eventBusModule;\n},{}],11:[function(require,module,exports){\narguments[4][8][0].apply(exports,arguments)\n},{\"dup\":8}],12:[function(require,module,exports){\nvar skipButton = require('./skip-button.js');\nvar jsutils = require('jsutils');\n\n\n/**\n * Initializes the core part of the HTML5 plugin and returns an instance.\n * @param  {[type]} playerObj      The videojs player\n * @param  {[type]} config         The aggregated config (after metadata from multiple sources has been processed)\n * @param  {[type]} playlistModule The playlist support module. This should go once the videojs contrib is integrated and can put stuff in ads mode\n * @return {[type]}                [description]\n */\nfunction bridge(sdke) {\n    var logger = jsutils.createLogger(false, 'BC ADS Plugin');\n\tvar player = {};\n\tvar playlist = {};\n\tvar ad;\n\tvar vpConfig = {};\n\tvar metadata = {};\n\n\tvar contentSrc;\n\tvar contentType;\n\tvar canPlayPreroll = true;\n\t// var contentInitiated = false;\n\n\t/**\n\t * Legacy entry point for the HTML5 part of the plugin, used to be main function between bridge.js got modularised and bridge() is used as initializer\n\t * Still, this has to be called for the plugin to actually run\n\t * Question: Can this be called multiple times on the same instance, with different config objects?\n\t * @param  {[type]} playerObj      The videojs player\n\t * @param  {[type]} config         The aggregated config (after metadata from multiple sources has been processed)\n\t * @param  {[type]} playlistModule The playlist support module. This should go once the videojs contrib is integrated and can put stuff in ads mode\n\t * @return {[type]}                [description]\n\t */\n\tfunction runPlugin(playerObj, config) {\n\t\tvpConfig = config;\n\t\tplayer = playerObj;\n\n\t\t// Add event handlers\n\t\t_addPlayerEventHandlers();\n\t\t_initAdvertisingModule();\n\t\tinitApi();\n\n\t\toptionalFeatures(config);\n\t}\n\n\tfunction optionalFeatures(config) {\n\t\t//add skip button\n\t\tif (config.optional.skip) skipButton(player, config.optional.skip.timeout, config.optional.skip.text);\n\t}\n\n\t/**\n\t * @method _addPlayerEventHandlers\n\t * @description Adding event handlers\n\t */\n\tfunction _addPlayerEventHandlers() {\n\t\t// Listen once to play event emiited by the player\n\t\tplayer.on('play', requestPrerolls);\n\n\t\t// Fired when the timeout setting is reached. The player will resume the content\n\t\tplayer.on('adtimeout', player.play);\n\n\t\t// Fired on every time update emmited by the player. Several times per second\n\t\t// These should normally be split into contentupdate and adtimeupdate\n\t\tplayer.on('timeupdate', _update);\n\t\tplayer.on('adtimeupdate', _update);\n\n\t\t// Fired when the player finished playing an ad\n\t\tplayer.on('adended', adEnded);\n\t\tplayer.on('contentended', _contentEnded);\n\n\t\tplayer.on('contentupdate', _showNewAd);\n\t\tplayer.on('readyforpreroll', function(){\n\t\t\tlogger.log('readyforpreroll');\n\t\t});\n\n\t\tplayer.on('contentloadedmetadata', function(){logger.log('contentloadedmetadata')});\n\t\tplayer.on('contentloadeddata', function(){logger.log('contentloadeddata')});\n\n\t\t// Fired when ads are ready to be played\n\t\tplayer.vpEvent.addEventListener('vp:ads-ready', startAdPlayback);\n\n\t\t// Fired when the ad request returns an error\n\t\tplayer.vpEvent.addEventListener('vp:ads-error', handleAdError);\n\n\t\t// Fired when all the ads in an adslot are played\n\t\tplayer.vpEvent.addEventListener('vp:adslot-complete', _resumePlayback);\n\n\t\t// Wraper for handling click and touch events\n\t\t_clickHandling();\n\t}\n\n\t/**\n\t * Request a preroll ad if prerolls haven't been played for the current video\n\t * @return {[type]} [description]\n\t */\n\tfunction requestPrerolls() {\n\t\tlogger.log('requestPrerolls - canPlayPreroll', canPlayPreroll);\n\t\tif (canPlayPreroll) {\n\t\t\t\tplayer.pause();\n\t\t\t\tsdke.requestAds('preroll');\n\t\t\tcanPlayPreroll = false;\n\t\t}\n\t}\n\n\t/**\n\t * Triggered by contentupdate. Happens at start and on new playlist element\n\t * Resets the plugin state. Forces a pause/play to trigger the ad\n\t * @return {[type]} [description]\n\t */\n\tfunction _showNewAd() {\n\t\t_reset();\n\t\tplayer.pause();\n\t\tplayer.play();\n\t}\n\n\t/**\n\t * @method _addPlayerEventHandlers\n\t * @description By default, vjs does not pause the player on touch, so we have to pause it\n\t */\n\tfunction _clickHandling() {\n\t\tvar el = document.getElementById(player.el().id).firstChild;\n\t\tel.addEventListener('click', function(){\n\t\t\tsdke.onClick();\n\t\t});\n\t\tel.addEventListener('touchstart', function(evt) {\n\t\t\tvar adState = sdke.onClick();\n\t\t\tif (adState.adPlaying && !adState.adClicked) {\n\t\t\t\tplayer.pause();\n\t\t\t}\n\t\t\tif (adState.adPlaying && adState.adClicked) {\n\t\t\t\tplayer.play();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @method _initAdvertisingModule\n\t * @description Save content info and init sdk\n\t */\n\tfunction _initAdvertisingModule() {\n\t\t// Init the HTML5 sdk wrapper\n\t\tsdke.init({\n\t\t\tevtElement: player.el(),\n\t\t\tvideoPlayer: player,\n\t\t\tmetadata: vpConfig\n\t\t});\n\t}\n\n\tfunction initApi() {\n\t\tplayer.vpApi.pauseAd = function() {\n\t\t\tif (player.ads.state !== 'ad-playback') return;\n\t\t\tplayer.pause();\n\t\t};\n\t\tplayer.vpApi.resumeAd = function() {\n\t\t\tif (player.ads.state !== 'ad-playback') return;\n\t\t\tplayer.play();\n\t\t};\n\t\tplayer.vpApi.skipAd = function() {\n\t\t\tif (player.ads.state !== 'ad-playback') return;\n\t\t\tplayer.vpEvent.dispatch('vp:ad-ended');\n\t\t\tsdke.adEnded();\n\t\t};\n\t}\n\n\t/**\n\t * @function startAdPlayback\n\t * @description Run when the sdke emits ads-ready event.\n\t * Propagate vp:ad-ready to be used be integrators if needed (this is probably not needed anymore)\n\t * Populate the global ad object with the one received from the SDK.\n\t */\n\tfunction startAdPlayback(adObj) {\n\t\tplayer.vpEvent.dispatch('vp:ad-ready');\n\t\tplayer.trigger('adsready');\n\t\tad = adObj;\n\t\t_playAd();\n\t}\n\n\t/**\n\t * @function handleError\n\t * @description Run when the sdke emits ads-ready event.\n\t * Propagate vp:ad-error to be used be integrators if needed (this is probably not needed anymore)\n\t * If error occured on postrolls, reset plugin state and pause player. Else simply resume content play\n\t */\n\tfunction handleAdError(adObj) {\n\t\tplayer.vpEvent.dispatch('vp:ad-error');\n\t\tplayer.trigger('adserror');\n\n\t\tplayer.play();\n\t}\n\n\t/**\n\t * @function _playAd\n\t * @description Start ad playing\n\t */\n\tfunction _playAd() {\n\t\t//hide the seek control\n\t\tplayer.controlBar.progressControl.seekBar.hide();\n\t\tsdke.adStarted();\n\n\t\t// Play your linear ad content\n\t\tplayer.ads.startLinearAdMode();\n\t\tplayer.src({\"type\": ad.mediaFile.mimeType, \"src\": ad.mediaFile.uri});\n\t\tplayer.play();\n\t}\n\n\t/**\n\t * @function adEnded\n\t *\n\t * @description On video ended check the type of the video ended (content or ad)\n\t * When ad, tell sdke the ad has ended\n\t * When content, request postroll ads\n\t */\n\tfunction adEnded() {\n\t\tlogger.log('ad ended fired');\n\t\tif (sdke.isAdPlaying()) {\n\t\t\tsdke.adEnded();\n\t\t\tplayer.vpEvent.dispatch('vp:ad-ended');\n\t\t}\n\t}\n\n\t/**\n\t * Trigger postroll 100 miliseconds before end\n\t * @return {[type]} [description]\n\t */\n\tfunction _checkForPostroll(time) {\n\t\tif (player.ads.state === 'ad-playback' || sdke.state.postrollCalled) return;\n\t\tvar buffer = 850;\n\t\tvar mstime = time * 1000;\n\t\tvar potime = player.duration() * 1000 - buffer;\n\n\t\tif (mstime >= potime) {\n\t\t\t_callPostroll();\n\t\t}\n\t}\n\n\tfunction _callPostroll() {\n\t\tif (!sdke.state.postrollCalled && !sdke.utils.hasFlag('nopostrolls')) {\n\t\t\tsdke.requestAds('postroll');\n\t\t\tsdke.state.postrollCalled = true;\n\t\t\tplayer.pause();\n\t\t}\n\t}\n\n\tfunction _contentEnded() {\n\t\tlogger.log('Content Ended');\n\t\t_reset();\n\t}\n\n\t/**\n\t * @function _resumePlayback\n\t * @description When the ad slot is complete, resume playback\n\t * @param {object} evt ad:ended event\n\t */\n\tfunction _resumePlayback(adObj) {\n\t\tlogger.log('resume playback', adObj);\n\t\tplayer.controlBar.progressControl.seekBar.show();\n\t\tplayer.ads.endLinearAdMode();\n\n\t\t//jump to end if postroll\n\t\tif (adObj.adType === \"postroll\") player.currentTime(player.duration() - 0.4);\n\t}\n\n\t/**\n\t * @function _update\n\t * @description Run it on every plyaer time update. Update sdke internal state on every timeline update\n\t *\n\t * @param {object} evt Timeupdate event sent by player\n\t */\n\tfunction _update(evt) {\n\t\tvar time = player.currentTime();\n\t\t_checkForPostroll(time);\n\t\tsdke.update(time);\n\t}\n\n\t/**\n\t * On video end reset plugin state so ads can be called again (by very popular client demand)\n\t * todo: should play prerolls too, but it is now broken\n\t */\n\tfunction _reset() {\n\t\tcanPlayPreroll = true;\n\t\tad = {};\n\t\tsdke.reset();\n\t\tsdke.state.postrollCalled = false;\n\t}\n\treturn {\n\t\trunPlugin: runPlugin\n\t};\n}\n\nmodule.exports = bridge;\n},{\"./skip-button.js\":17,\"jsutils\":11}],13:[function(require,module,exports){\nvar swfobject = require('swfobject');\nvar muteButton = require('./mute-button');\nvar jsutils = require('jsutils');\n\n/*Local*/\nvar flashComponentModule = require('../git_modules/js-flashadplayer-bridge/src/main.js'); //modularise\n/*Production*/\n// var flashComponentModule = require('js-flashadplayer-bridge'); //modularise\n\n\nfunction flashPlayer() {\n    var player, metadata, flashMetadata, flashWrapperElement, fc, flashEl;\n    var logger = jsutils.createLogger(false, 'BC ADS Plugin Flash Bridge');\n\n    function init(p, options) {\n        //create the flash element\n        player = p;\n        metadata = options;\n\n        fc = flashComponentModule();\n\n        addFlashElToPage();\n        optionalFeatures(metadata);\n    }\n\n    function optionalFeatures(config) {\n        if (player.vpApi.getAdMode() === 'html') return;\n        if (config.optional && config.optional.muteButton && config.optional.muteButton.flash) muteButton(player);\n    }\n\n    function addFlashElToPage() {\n        createFlashElement();\n        flashMetadata = flashVars(metadata);\n        var swf = embedFlashElement();\n        styleFlashElement(swf);\n    }\n\n    function createFlashElement() {\n        // Create TWO(!) DIV wrappers, one outer which will stick around and one inner which will be replaced with the SWF object\n        flashEl = document.createElement(\"div\");\n        var randomIndex = Math.floor(Math.random() * (999999 - 100000)) + 100000;\n        flashEl.id = 'vpJSFlashBridge'+ player.id().replace(/-/g, '') + randomIndex;\n\n        flashWrapperElement = document.createElement(\"div\");\n        flashWrapperElement.id = \"vpJSFlashBridgeWrapper\" + randomIndex;\n        flashWrapperElement.style.position = \"absolute\";\n        flashWrapperElement.style.margin = \"0\";\n        flashWrapperElement.style.padding = \"0\";\n        flashWrapperElement.style.top = \"0\";\n        flashWrapperElement.style.left = \"0\";\n        flashWrapperElement.style.width = '1px';\n        flashWrapperElement.style.height = '1px';\n        flashWrapperElement.appendChild(flashEl);\n        player.el().appendChild(flashWrapperElement);\n    }\n\n    function embedFlashElement() {\n        var swfObjectParams = {\n          // url: \"../AdPlayer_1.0.7.swf\",\n          url: \"//cdn.videoplaza.tv/resources/flash/flash-js-bridge/AdPlayer_1.0.7.swf\",\n          placeHolderId: flashEl.id,\n          width: \"100%\",\n          height: \"100%\",\n          minFlashVersion: \"11.0\",\n          expressInstallSwfUrl: null,\n          flashVars: flashVars(metadata),\n          parameters: {\n             classid: 'classid'+flashEl.id,\n             id: flashEl.id,\n             name: flashEl.id,\n             allowScriptAccess: 'always',\n             wmode: 'opaque'\n          },\n          attributes: {\n\n          },\n          callbackFn: initFlashAdPlayer\n        };\n        swfobject.embedSWF(\n          swfObjectParams.url,\n          swfObjectParams.placeHolderId,\n          swfObjectParams.width,\n          swfObjectParams.height,\n          swfObjectParams.minFlashVersion,\n          swfObjectParams.expressInstallSwfUrl,\n          swfObjectParams.flashVars,\n          swfObjectParams.parameters,\n          swfObjectParams.attributes,\n          swfObjectParams.callbackFn\n        );\n\n        return swfObjectParams;\n    }\n\n    function styleFlashElement(swfObjectParams) {\n        swfobject.createCSS(\"#\" + swfObjectParams.parameters.id, \"position:absolute;top:0;left:0;\", \"screen\", true);\n        swfobject.createCSS(\".\" + flashWrapperElement.id, \"height:100%!important;width:100%!important;\", \"screen\", true);\n    }\n\n    function insertAfter(referenceNode, newNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    }\n\n    function initFlashAdPlayer(info) {\n       // NOTE:\n       // This does NOT mean that the Flash plugin has been loaded successfully. It only means that the SWF Url was resolved and that <object> was created\n       // So, the success tasks should wait until we know that the Flash plugin is ready or when a timeout has been reached.\n\n       if (info.success) {\n          player.vpEvent.dispatch('flashLoaded');\n          fc.flashComponent.init(player, flashMetadata, flashEl.id);\n\n          //if autoplay, start player\n          // if (player.autoplay()) {player.play()};\n       } else {\n          player.vpEvent.dispatch('flashFailed');\n       }\n    }\n\n    function flashVars(playerConf) {\n        var config= {};\n        logger.log('flashPlayer flashVars', playerConf);\n        for (var prop in playerConf) {\n            config[prop] = playerConf[prop];\n        }\n\n\n        config.width= player.width();\n        config.height= player.height();\n        config.vphost= playerConf.vpHost;\n        config.vpcategory= playerConf.category;\n        config.vptags= playerConf.tags;\n        config.vpcustomparameters = playerConf.customParameters;\n\n        // config.vpflags= 'nopostroll';\n        config.divId= flashEl.id;\n\n        if (config.cuepoints){\n            config.cuepoints= playerConf.cuepoints.toString();\n        }\n        // allowScriptAccess= 'always',\n        // config.wmode = 'opaque';\n\n\n        return config;\n\n    }\n\n    return {\n       init: init\n    };\n}\n\nmodule.exports = flashPlayer;\n},{\"../git_modules/js-flashadplayer-bridge/src/main.js\":4,\"./mute-button\":16,\"jsutils\":11,\"swfobject\":1}],14:[function(require,module,exports){\n/*Proper fix is to have this toggle in the build process*/\n/*Local*/\nvar sdkeModule = require('../git_modules/sdke-html5/src/main.js');\n/*Production*/\n// var sdkeModule = require('sdke-html5');\n\nvar contribAds = require('contribAds');\nvar bridgeModule = require('./bridge');\nvar flashPlayerModule = require('./flashPlayer');\nvar metaModuleMain = require('./metadata');\nvar jsutils = require('jsutils');\n\n\n\n/** Register the plugin to the player */\nvideojs.plugin('vpbc', pluginModule);\n\n/**\n * Main function of the plugin. To have the plugin working, call this with a configuration object\n * @param {object} options Configuration Object\n */\nfunction pluginModule(options) {\n    var logger = jsutils.createLogger(false, 'BC ADS Plugin');\n    var metadata, player, config, vpPlugin, vpEvent, sdke, metaModule, flashPlayer;\n    var playerInitialized = false;\n    var forcedPause = false;\n    var adMode = null;\n    createConsoleIE9();\n\n    player = this;\n    player.ads();\n    initPlugin(options);\n    /**\n     * Run plugin initialisation methods\n     * @param {object} options Configuration Object\n     */\n    function initPlugin(options) {\n        config = options;\n        initDependencies();\n        eventHandlers();\n    }\n\n    function createConsoleIE9() {\n        if (!window.console) window.console = {};\n        if (!window.console.log) window.console.log = function () {};\n    }\n\n    /**\n     * Instantiate the plugin dependencies\n     */\n    function initDependencies() {\n        sdke = sdkeModule();\n        vpPlugin = bridgeModule(sdke);\n        vpEvent = sdke.utils.eventBus;\n        player.vpEvent = vpEvent;\n        metaModule = metaModuleMain(sdke);\n        flashPlayer = flashPlayerModule();\n        initialiseApi();\n    }\n\n    function initialiseApi() {\n        player.vpApi = {\n            getAdMode: getAdMode,\n            pauseAd: function() {logger.log('not implemented');},\n            resumeAd: function() {logger.log('not implemented');},\n            skipAd: function() {logger.log('not implemented');}\n        };\n    }\n\n    /**\n     * Combining player handlers\n     */\n    function eventHandlers() {\n        player.on('play', checkIfPlayerIsInitialised);\n        player.vpEvent.addEventListener('flashFailed', function(){\n            adMode = 'html';\n            vpPlugin.runPlugin(player, metadata);\n        });\n\n        if (!player.duration()) {\n            player.on('contentupdate', function(){logger.log('content was updated');});\n            player.on('loadedmetadata', onMetadataLoaded);\n        } else {\n            player.on('contentupdate', function(){logger.log('content was updated');});\n            onMetadataLoaded();\n        }\n    }\n\n    /**\n     * If play is triggered and metadata is not ready yet, put the player on pause\n     * @return {[type]} [description]\n     */\n    function checkIfPlayerIsInitialised() {\n        if(!playerInitialized) {\n            // The player is not initialized yet, pause playback immediately and resume when ready\n            player.pause();\n            forcedPause = true;\n        }\n    }\n\n    function getAdMode() {\n        return adMode;\n    }\n\n    /**\n     * First check if player has ben initialised. This ensures it runs only once per player which might be problematic for playlists, as multiple videos,\n     *     with different metadata can be loaded and they'd need their own metadata\n     * Init metadata module.\n     * Based on the config, choose if HTML5 or Flash should run.\n     * If the player was forced to wait (forcedPause) trigger player play\n     * @return {[type]} [description]\n     */\n    function onMetadataLoaded() {\n        // logger.log('Metadata was received, initialisation continues');\n        if (playerInitialized) return;\n        setVideoDuration();\n        playerInitialized = true;\n\n        metadata = metaModule.init(player, config);\n\n\n        if(metadata.optional && metadata.optional.flashEnabled) {\n            adMode = 'flash';\n            // logger.log('flashWorks, adMode flash');\n            flashPlayer.init(player, metaModule.getFlashMetadata());\n        } else {\n            // logger.log('eventHandlers, vpPlugin.runPlugin() called');\n            adMode = 'html';\n            // logger.log('run plugin html metadata', metadata);\n            vpPlugin.runPlugin(player, metadata);\n        }\n\n        if(forcedPause) {\n            // Playback was halted because the player was not yet ready. Reset flag and resume playback\n            forcedPause = false;\n            // logger.log('perform src main.js play');\n            player.play();\n        }\n    }\n\n    function setVideoDuration() {\n        if (!config.duration) {\n            config.duration = player.duration();\n        }\n    }\n}\n},{\"../git_modules/sdke-html5/src/main.js\":9,\"./bridge\":12,\"./flashPlayer\":13,\"./metadata\":15,\"contribAds\":2,\"jsutils\":11}],15:[function(require,module,exports){\nvar urlDataModule = require('./url-metadata');\nvar jsutils = require('jsutils');\n\n\"use strict\";\n/**\n * Module start function\n * Offers some tools for managing Brightcove specific metadata and passing it in html and flash formats\n * @return {[type]} [description]\n */\nfunction metadataModule(sdkeInstance) {\n\tvar player, metadata, videoCustomFields;\n\tvar sdke = sdkeInstance;\n\tvar vpConfig;\n    var logger = jsutils.createLogger(false, 'BC ADS Plugin');\n\n\n\t/**\n\t * Legacy entry point\n\t * Collect metadata from different sources and aggregate it\n\t * Check how does this work when changing videos\n\t * @return {[type]} [description]\n\t */\n\tfunction init(p, config) {\n\t\tvar videoMetadata, mappedMetadata, vocentoMeta, urlData;\n\t\tplayer = p;\n\t\tif (player.mediainfo) {\n\t\t\tvideoMetadata = player.mediainfo || {};\n\t\t\tvideoCustomFields = player.mediainfo.custom_fields || {};\n\t\t\tmappedMetadata = _getMappedMetadata(player.mediainfo);\n\t\t}\n\t\tvar bcCuepoints = _getBcVideoMidrollCuepoints();\n\t\tif (config.optional && config.optional.urlMetadata) {\n\t\t\turlData = urlDataModule.getQueryMetadata();\n\t\t}\n\n\t\t//Ovewrite cuepoints sent in config if the video has cuepoints defined.\n\t\tif (bcCuepoints.length > 0) {\n\t\t\tmetadata = sdke.metadataTools.aggregateData([config, clientConfigOverride(), urlData, videoMetadata, videoCustomFields, mappedMetadata, {cuepoints: bcCuepoints}]);\n\t\t} else {\n\t\t\tmetadata = sdke.metadataTools.aggregateData([config, clientConfigOverride(), urlData, videoMetadata, videoCustomFields, mappedMetadata,vocentoMeta]);\n\t\t}\n\n\t\treturn metadata;\n\t}\n\n\tfunction clientConfigOverride() {\n\t\tlogger.log('updated version vpconfig');\n\t\tvar data = {};\n\t\tif (player.vpConfig) {\n\t\t\tdata = player.vpConfig || {};\n\t\t}\n\t\treturn data;\n\t}\n\n\t//SERIOUSLY UNIT TEST THIS, PLEASE\n\tfunction _getMappedMetadata(mediainfo) {\n\t\tvar metadata = {};\n\t\tvar prop;\n\t\tvar mappedMetadata = {};\n\t\tvar mappedParamValues =  {\n\t\t\ttags: 'vpBCMapTags',\n\t\t\tcategory: 'vpBCMapCategory',\n\t\t\tflags: 'vpBCMapFlags',\n\t\t\tcontentPartner: 'vpBCMapContentPartner'\n\t\t};\n\t\tif (vpConfig) { //do a try catch instead. Also check why stuff is not sent to flash when flash is initialized\n\t\t\tfor (prop in mappedParamValues) {\n\t\t\t\tif (mediainfo.custom_fields !== undefined && mediainfo.custom_fields[vpConfig[mappedParamValues[prop]]] !== undefined) {\n\t\t\t\t\tmetadata[prop] = mediainfo.custom_fields[vpConfig[mappedParamValues[prop]]];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (prop in mappedParamValues) {\n\t\t\t\tif (mediainfo.custom_fields !== undefined && mediainfo.custom_fields[mediainfo[mappedParamValues[prop]]] !== undefined) {\n\t\t\t\t\tmetadata[prop] = mediainfo.custom_fields[mediainfo[mappedParamValues[prop]]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn metadata;\n\t}\n\n\tfunction _getBcVideoMidrollCuepoints() {\n\t\tvar bcCuepoints;\n\t\tif (player.mediainfo) {\n\t\t\tbcCuepoints = player.mediainfo.cue_points;\n\t\t}\n\t\tvar cuepoints = [];\n\t\tif (bcCuepoints && bcCuepoints.length > 0) {\n\t\t\tfor (var i = 0; i < bcCuepoints.length; i++) {\n\t\t\t\tif (bcCuepoints[i].name === 'vpspot') {\n\t\t\t\t\tcuepoints.push(bcCuepoints[i].time);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cuepoints;\n\t}\n\n    function getFlashMetadata() {\n        return sdke.metadataTools.getFlashFormat();\n    }\n\n\treturn {\n\t\tinit: init,\n\t\tgetFlashMetadata: getFlashMetadata\n\t};\n}\n\nmodule.exports = metadataModule;\n},{\"./url-metadata\":18,\"jsutils\":11}],16:[function(require,module,exports){\nfunction muteButton(player) {\n    var button;\n    var btnBackground = 'url(//cdn.videoplaza.tv/contrib/es-vocento/new-brightcove/resources/volume_sprite.png)'\n    var mutedPosition = '34px 0px';\n    var unmutedPosition = '0px 0px';\n\n    function init() {\n        button = insert();\n        player.on('adstart', show);\n        player.on('adend', hide);\n\n        button.addEventListener(\"click\", muteToggle);\n    }\n\n    function insert() {\n        var button = create(player);\n        player.el().appendChild(button);\n\n        return button;\n    }\n\n    function create() {\n        var button = document.createElement(\"div\");\n        var textDiv = document.createElement('div');\n\n        button.className = 'mute-control'\n\n        button.style['position'] = \"absolute\";\n        button.style['font-size'] = \"14px\";\n        button.style['color'] = \"white\";\n        button.style['bottom'] = \"0px\";\n        button.style['right'] = \"0px\";\n        button.style.width = '36px';\n        button.style.height = '30px';\n        button.style.visibility = 'hidden';\n\n        button.style.cursor = 'pointer';\n        button.style['background-image'] = btnBackground;\n        button.style['background-position']= '0px 0px';\n        button.style['border-style'] = 'solid';\n        button.style['border-width'] = '1px';\n        button.style['border-right-width'] = '0px';\n\n        // textDiv.innerHTML = text || 'Skip ad';\n\n        // button.appendChild(textDiv);\n\n        return button;\n    }\n\n    function show() {\n        isMuted();\n        button.style.visibility = 'visible';\n    }\n\n    function hide() {\n        button.style.visibility = 'hidden';\n    }\n\n    function isMuted() {\n        if (player.volume() === 0 || player.muted()) {\n            button.style['background-position']= unmutedPosition;\n            return true;\n        } else {\n            button.style['background-position']= mutedPosition;\n            return false;\n        }\n    }\n\n    function muteToggle() {\n        if (isMuted()) {\n            player.muted(false);\n            button.style['background-position']= mutedPosition;\n        } else {\n            player.muted(true);\n            button.style['background-position']= unmutedPosition;\n        }\n    }\n\n    init();\n}\n\nmodule.exports = muteButton;\n},{}],17:[function(require,module,exports){\nfunction skipButton(player, timeout, text) {\n    var button;\n\n    function init() {\n        button = insert();\n        player.on('adtimeupdate', show);\n        player.vpEvent.addEventListener('vp:ad-ended', hide);\n\n        button.addEventListener(\"click\", player.vpApi.skipAd);\n    }\n\n    function insert() {\n        var button = create(player);\n        player.el().appendChild(button);\n\n        return button;\n    }\n\n    function create() {\n        var button = document.createElement(\"div\");\n        var textDiv = document.createElement('div');\n\n        button.className = 'skip-control'\n\n        button.style['position'] = \"absolute\";\n        button.style['font-size'] = \"14px\";\n        button.style['color'] = \"white\";\n        button.style['bottom'] = \"30px\";\n        button.style['right'] = \"0px\";\n        button.style['padding'] = \"10px 30px 10px 25px\";\n        button.style.width = 'auto';\n        button.style.visibility = 'hidden';\n        button.style.cursor = 'pointer';\n        button.style['background-color'] = 'rgba(7,20,30,.7)';\n        button.style['border-style'] = 'solid';\n        button.style['border-width'] = '1px';\n        button.style['border-right-width'] = '0px';\n\n        textDiv.innerHTML = text || 'Skip ad';\n\n        button.appendChild(textDiv);\n\n        return button;\n    }\n\n    function show() {\n        if (player.ads.state !== 'ad-playback') return;\n        var time = timeout || 0;\n\n        if (player.currentTime() > time) {\n            button.style.visibility = 'visible';\n        }\n    }\n\n    function hide() {\n        button.style.visibility = 'hidden';\n    }\n\n    init();\n}\n\nmodule.exports = skipButton;\n},{}],18:[function(require,module,exports){\nfunction getQueryMetadata() {\n    var metadata = {\n        vpCategory: getParameterByName('category'),\n        contentPartner: getParameterByName('contentPartner'),\n        tags: getParameterByName('tags').split(','),\n    };\n\n    return metadata;\n}\nfunction getParameterByName(name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n        results = regex.exec(location.search);\n    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\nmodule.exports = {\n    getQueryMetadata: getQueryMetadata\n}\n\n\n},{}]},{},[14]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/videojs-vp-plugin/index.js\n ** module id = 6\n ** module chunks = 0 1\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 8\n ** module chunks = 0 1\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 9\n ** module chunks = 0 1\n **/","// TODO - This needs to be merged with the adjacent sharetools.js...\nvar _shareTools = function () {\n  this.networks = {};\n  this.storageKeyPrefix = 'shareTools-';\n};\n\n_shareTools.prototype.addNetwork = function (options) {\n  this.networks[options.name] = options;\n  return this;\n};\n\n_shareTools.prototype.getUrlFor = function (networkName, params) {\n  var network = this.networks[networkName];\n  return network.url(params);\n};\n\n_shareTools.prototype.shouldShowPostShareDialog = function (networkName) {\n  if (localStorage.getItem(this.storageKeyPrefix + 'dont-bother') != null) {\n    return false;\n  }\n  if (isMobile.any) {  // dont do it on small screens\n    return false;\n  }\n  return this.networks[networkName].postShareDialog || false;\n};\n\n_shareTools.prototype.flagDontShowPostShareDialog = function () {\n  localStorage.setItem(this.storageKeyPrefix + 'dont-bother', 'yup');\n};\n\n_shareTools.prototype.setupElements = function (selector) {\n\n  var $shareToolElements = selector instanceof jQuery ? selector : $(selector);\n\n  // where all the dom-related stuff gets wired up\n  var self = this;\n  $shareToolElements.each(function (i, element) {\n    element = $(element);\n    for (var networkName in self.networks) {\n      if (!self.networks.hasOwnProperty(networkName)) {\n        continue;\n      }\n      // We wait until the last moment to get the url so more dynamic\n      // things like quizzes have an opportunity to override the DOM params.\n      // e.g. \"I answered X out of Y correctly\"\n      $('.share-' + networkName, element).click(function (name, shareWidget) {\n        return function (event) {\n          var euc = encodeURIComponent;\n          var params = {\n            title: euc(shareWidget.data('shareTitle')),\n            description: euc(shareWidget.data('shareDescription')),\n            image: euc(shareWidget.data('shareImageUrl')),\n            url: euc(shareWidget.data('shareUrl')),\n            redirectUrl: euc(shareWidget.data('shareRedirectUrl'))\n          };\n          var url = self.getUrlFor(name, params);\n          var link = $(this);\n\n          // position it in the middle of the browser window\n          var left = 0,\n            top = 0;\n          if (typeof window.screenLeft !== 'undefined') {\n            left = window.screenLeft;\n            top = window.screenTop;\n          } else if (typeof window.screenX !== 'undefined') {\n            left = window.screenX;\n            tp = window.screenY;\n          }\n          // popup dimensions\n          var width = 600,\n            height = 260;\n          left += ($(window).width() - width) / 2;\n          top += ($(window).height() - height) / 2;\n          var shareWindow = window.open(\n            url, '',\n            'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height='\n            + height + ',width=' + width + ',top=' + top + ',left=' + left\n          );\n          event.preventDefault();\n        }\n      }(networkName, element));\n    }\n  });\n};\n\nmodule.exports = _shareTools;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/_sharetools.js\n ** module id = 10\n ** module chunks = 0 1\n **/","if (window.addEventListener) {\n  window.addEventListener('loadedmetadata', function (event) {\n    event.target.setAttribute('data-loadedmetadata', true);\n  }, true);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/loaded_metadata.js\n ** module id = 11\n ** module chunks = 0 1\n **/","// We're requiring these libraries, but not doing\n//   anything with them in-place. Further, these libraries\n//   expect to find jQuery and videojs globally. This\n//   might be a bad thing.\n\n// Require player css.\nrequire('./video-js.scss');\n\n// Load up jQuery plugins\nrequire('succinct/jQuery.succinct');\nwindow.isMobile = require('isMobile/isMobile');\n\n// Make videojs available on window\n// The plugins we're loading expect to find it globally.\nvar videojs = window.videojs = require('video.js');\n\n// Load up all our videojs plugins;\nrequire('videojs-vp-plugin/index');\nrequire('videojs-autoplay-toggle/videojs.autoplay-toggle');\nrequire('videojs-ga/dist/videojs.ga.js');\n\n// Requires our own code\nrequire('./utils/swfobject');\nrequire('./loaded_metadata');\nrequire('./sharetools');\nrequire('./videojs-endcard');\nrequire('./videojs-analytics');\nrequire('./videojs-videometrix');\nrequire('./videojs-sharetools');\n\nvar VideoPlayer = function(element, options) {\n  var defaults = {\n    pluginConfig: {\n      vpbc: {\n        vpHost: 'http://us-theonion.videoplaza.tv',\n        optional: {\n          playlistAutoPlay: true,\n          flashTimeout: 3,\n          skip: {\n            timeout: 3,\n            text: 'Skip Ad'\n          },\n          muteButton: {\n            html: false,\n            flash: true\n          }\n        },\n        vpContentForm: 'shortForm'\n      },\n      autoplayToggle: {\n        namespace: 'onionstudios'\n      },\n      sharetools: {\n        showOnPause: true,\n        embed: function(settings) {\n          return '<iframe name=\"embedded\" allowfullscreen webkitallowfullscreen mozallowfullscreen frameborder=\"no\" width=\"480\" height=\"270\" scrolling=\"no\" src=\"http://' + document.location.host + '/embed?id=' + settings.videoId + '\"></iframe>';\n        },\n        facebook: function(settings) {\n          return \"https://www.facebook.com/sharer/sharer.php?u=\" + settings.shareUrl;\n        },\n        twitter: function(settings) {\n          return \"https://twitter.com/share?url=\" + settings.shareUrl + \"&via=\" + settings.shareTwitterHandle;\n        }\n      }\n    },\n    nativeControlsForTouch: window.isMobile.any,\n    autoplay: true,\n    mute: false,\n    adsEnabled: true\n  };\n\n  this.element = element;\n  this.settings = $.extend(true, defaults, options);\n  this.setCustomOptions();\n  this.playedOnce = false;\n  this.preventWeakPlay = false;\n  this.preventWeakMute = false;\n  this.ignoreAutoplay = false;\n  this.bindEventHandlerContext();\n  this.player = videojs(element, this.settings);\n  this.setupPlugins();\n  this.player.ready(this.playerReady.bind(this));\n};\n\nVideoPlayer.prototype.bindEventHandlerContext = function() {\n  this.handleMessagePlay = this.handleMessagePlay.bind(this);\n  this.handleMessagePause = this.handleMessagePause.bind(this);\n  this.handleMessageVolume = this.handleMessageVolume.bind(this);\n  this.handleMessageMuteWeak = this.handleMessageMuteWeak.bind(this);\n  this.handleMessagePauseAllowWeakPlay = this.handleMessagePauseAllowWeakPlay.bind(this);\n  this.handleMessagePlayWeak = this.handleMessagePlayWeak.bind(this);\n};\n\nVideoPlayer.prototype.isEmbedPlayer = function() {\n  return window.location.pathname.match(/embed/i);\n};\n\nVideoPlayer.prototype.isAutoplayEnabled = function() {\n  var autoplayEnabled = this.settings.autoplay;\n  this.storedAutoplay = videojs.autoplaySettingFromStorage({\n    namespace: this.settings.pluginConfig.autoplayToggle.namespace\n  });\n\n  if (this.isEmbedPlayer()) {\n    // Prevent autoplay, parent is responsible for sending a weakPlay event to start playing\n    autoplayEnabled = false;\n  } else if (videojs.hasOwnProperty('autoplaySettingFromStorage')) {\n    autoplayEnabled = this.storedAutoplay && this.settings.autoplay;\n  }\n\n  return autoplayEnabled;\n};\n\nVideoPlayer.prototype.setCustomOptions = function() {\n  this.settings.embed = this.isEmbedPlayer();\n  this.settings.autoplay = this.isAutoplayEnabled();\n  if (!window.AnalyticsManager) {\n    console.error('AnalyticsManager unavailable');\n  } else {\n    window.AnalyticsManager.sendEvent({\n      eventCategory: 'Video:' + window.channelName,\n      eventAction: 'autoplay',\n      eventLabel: this.settings.autoplay\n    });\n    window.AnalyticsManager.sendEvent({\n      eventCategory: 'Video:' + window.channelName,\n      eventAction: 'storedAutoplay',\n      eventLabel: this.storedAutoplay\n    });\n  }\n  ga('set', 'dimension8', this.settings.autoplay);\n};\n\nVideoPlayer.prototype.setupPlugins = function() {\n  this.setupPulsePlugin();\n  this.setupShareToolsPlugin();\n  this.setupAutoplayTogglePlugin();\n  this.setupEndCardPlugin();\n  this.setupVideoMetrixPlugin();\n};\n\nVideoPlayer.prototype.setupPulsePlugin = function() {\n  if (!this.settings.adsEnabled) {\n    return;\n  }\n  this.player.vpbc(this.settings.pluginConfig.vpbc);\n};\n\nVideoPlayer.prototype.setupAutoplayTogglePlugin = function() {\n  this.player.autoplayToggle({ namespace: this.settings.pluginConfig.autoplayToggle.namespace });\n};\n\nVideoPlayer.prototype.setupShareToolsPlugin = function() {\n  if (this.settings.isDiscoverable) {\n    var options = $.extend({ videoId: this.settings.videoId }, this.settings.pluginConfig.sharetools);\n    this.player.sharetools(options);\n  }\n};\n\nVideoPlayer.prototype.setupEndCardPlugin = function() {\n  this.player.endcard(this.settings.pluginConfig.endcard);\n};\n\nVideoPlayer.prototype.setupVideoMetrixPlugin = function() {\n  this.player.videometrix(this.settings.pluginConfig.videometrix);\n};\n\nVideoPlayer.prototype.setupCustomAnalyticsPlugin = function() {\n  this.player.videoanalytics(this.settings.pluginConfig.videoanalytics);\n};\n\nVideoPlayer.prototype.setupGoogleAnalyticsPlugin = function() {\n  var defaultConfig = {\n    gaPrefix: this.settings.pluginConfig.ga.gaPrefix,\n    eventActionPrefix: 'video_',\n    percentsPlayedInterval: 25,\n    eventCategory: 'Video:' + window.channelName,\n    eventLabel: window.videoUrl\n  };\n  var gaConfig = this.settings.pluginConfig.ga || {};\n  this.player.ga(Object.assign(defaultConfig, gaConfig));\n};\n\nVideoPlayer.prototype.playerReady = function() {\n  var player = this.player;\n\n  if (this.settings.mute) {\n    player.muted(true);\n  }\n\n  if (isMobile.any) {\n    player.controlBar.hide();\n  }\n\n  this.setupCustomAnalyticsPlugin();\n  this.setupGoogleAnalyticsPlugin();\n\n  // We are in a transition from <iframe> to <bulbs-video> embeds\n  if (this.settings.embed) {\n    this.sendParentPlayerEvents();\n    this.initMessageEventListeners();\n  }\n\n  this.initPlayerEventListeners();\n};\n\nVideoPlayer.prototype.playerVisible = function() {\n  return $(this.player.el()).is(':visible');\n};\n\nVideoPlayer.prototype.initPlayerEventListeners = function() {\n  var that = this;\n\n  this.player.on('play', function () {\n    that.playedOnce = true;\n  });\n\n  // If a user pauses, keep video paused until they manually hit play, weak\n  // plays will continue once user hits play again\n  this.player.on('pause', function () {\n    that.preventWeakPlay = true;\n  });\n\n  // Works in same fashion as weak play\n  this.player.on('volumechange', function () {\n    that.preventWeakMute = true;\n  });\n\n  // If we have autoplay off, but the ad hasn't finished, we want to continue\n  //    playing automatically, since the user doesn't have controls, this works\n  //    in conjunction with the playedOnce flag since we don't care about autoplay\n  //    after both first play and ads have started\n  this.player.on('adstart', function () {\n    that.ignoreAutoplay = true;\n  });\n\n  // We are in a transition from <iframe> to <bulbs-video> embeds\n  if (this.settings.embed) {\n    this.player.on('dispose', function() {\n      if (that.messageHandler) {\n        window.removeEventListener('message', that.messageHandler);\n      }\n    });\n  }\n};\n\nVideoPlayer.prototype.isPulseAdPlaying = function() {\n  return this.player.vpApi && this.player.ads.state === 'ad-playback';\n};\n\nVideoPlayer.prototype.handleMessagePlay = function() {\n  if (!this.player.el()) {\n    return;\n  }\n\n  if (!this.playerVisible()) {\n    return;\n  }\n\n  this.resumePlay();\n};\n\nVideoPlayer.prototype.handleMessagePause = function() {\n  if (!this.player.el()) {\n    return;\n  }\n\n  if (this.isPulseAdPlaying()) {\n    this.player.vpApi.pauseAd();\n  } else {\n    this.player.pause();\n  }\n};\n\nVideoPlayer.prototype.handleMessageVolume = function(params) {\n  if (!this.player.el()) {\n    return;\n  }\n\n  this.player.volume(params);\n};\n\n/**\n* Mute only if user has never manually changed the volume.\n*/\nVideoPlayer.prototype.handleMessageMuteWeak = function() {\n  if (!this.player.el() || this.player.muted() || this.preventWeakMute) {\n    return;\n  }\n\n  var that = this;\n  this.player.one('volumechange', function () {\n    // TODO - ask Kos\n    that.preventWeakMute = false;\n  });\n\n  this.player.muted(true);\n};\n\n/**\n* Pause with an event that allows weak plays.\n*/\nVideoPlayer.prototype.handleMessagePauseAllowWeakPlay = function() {\n  var player = this.player;\n\n  if (!player.el()) {\n    return;\n  }\n\n  if (!player.paused()) {\n    player.one('pause', function () {\n      preventWeakPlay = false;\n    });\n    player.pause();\n  } else if (this.isPulseAdPlaying()) {\n    player.vpApi.pauseAd();\n  }\n};\n\nVideoPlayer.prototype.resumePlay = function() {\n  if (this.isPulseAdPlaying()) {\n    this.player.vpApi.resumeAd();\n  } else {\n    this.player.play();\n  }\n};\n\n/**\n* Play only if user has never manually paused and autoplay is on.\n*/\nVideoPlayer.prototype.handleMessagePlayWeak = function() {\n  if (!this.player.el()) {\n    return;\n  }\n\n  // TODO - Ask Kos, if not played once and preventWeakPlay on, still play?\n  if ((!this.playedOnce || !this.preventWeakPlay) &&\n      (this.ignoreAutoplay || this.isAutoplayEnabled()) &&\n      this.player.paused()) {\n    this.resumePlay();\n  }\n};\n\n\n// These are relevant to <iframe> embeds, not <bulbs-video> embeds\n  VideoPlayer.prototype.initMessageEventListeners = function() {\n    var player = this.player;\n\n    player.messageHandlers = {\n      play: this.handleMessagePlay,\n      pause: this.handleMessagePause,\n      setVolume: this.handleMessageVolume,\n      muteWeak: this.handleMessageMuteWeak,\n      pauseAllowWeakPlay: this.handleMessagePauseAllowWeakPlay,\n      playWeak: this.handleMessagePlayWeak\n    };\n\n    this.messageHandler = function(event) {\n      if (event.data.name in player.messageHandlers) {\n        player.messageHandlers[event.data.name](event.data.params);\n      }\n    };\n    window.addEventListener('message', this.messageHandler);\n  };\n\n  VideoPlayer.prototype.sendParentPlayerEvents = function() {\n    if (!window.parent) {\n      return;\n    }\n\n    this.player.on('play', function () {\n      window.parent.postMessage({name: 'video-play'}, '*');\n    });\n\n    this.player.on('pause', function () {\n      window.parent.postMessage({name: 'video-pause'}, '*');\n    });\n\n    this.player.on('replay', function () {\n      window.parent.postMessage({name: 'video-replay'}, '*');\n    });\n  };\n// END of <iframe> relevant methods.\n\nmodule.exports = VideoPlayer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/player.js\n ** module id = 12\n ** module chunks = 0 1\n **/","(function (window) {\n\n// this is probably a little overkill\n  function agentIsMobile() {\n    var check = false;\n    (function (a) {\n      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))check = true\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n  }\n\n  function objToParams(obj) {\n    var urlParams = [];\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        urlParams.push(key + '=' + obj[key]);\n      }\n    }\n    return urlParams.join('&');\n  }\n\n  function ShareTools() {\n    this.networks = {};\n    this.storageKeyPrefix = 'shareTools-'\n  }\n\n  ShareTools.prototype.addNetwork = function (options) {\n    this.networks[options.name] = options;\n    return this;\n  };\n\n  ShareTools.prototype.getUrlFor = function (networkName, params) {\n    var network = this.networks[networkName];\n    return network.url(params);\n  };\n\n  ShareTools.prototype.shouldShowPostShareDialog = function (networkName) {\n    if (localStorage.getItem(this.storageKeyPrefix + 'dont-bother') != null) {\n      return false;\n    }\n    if (agentIsMobile()) {  // dont do it on small screens\n      return false;\n    }\n    return this.networks[networkName].postShareDialog || false;\n  };\n\n  ShareTools.prototype.flagDontShowPostShareDialog = function () {\n    localStorage.setItem(this.storageKeyPrefix + 'dont-bother', 'yup');\n  };\n\n  ShareTools.prototype.setupElements = function (selector) {\n\n    var $shareToolElements = selector instanceof jQuery ? selector : $(selector);\n\n    // where all the dom-related stuff gets wired up\n    var shareTools = this;\n    $shareToolElements.each(function (i, element) {\n      element = $(element);\n      for (var networkName in shareTools.networks) {\n        if (!shareTools.networks.hasOwnProperty(networkName)) {\n          continue;\n        }\n        // We wait until the last moment to get the url so more dynamic\n        // things like quizzes have an opportunity to override the DOM params.\n        // e.g. \"I answered X out of Y correctly\"\n        $('.share-' + networkName, element).click(function (name, shareWidget) {\n          return function (event) {\n            var euc = encodeURIComponent;\n            var params = {\n              title: euc(shareWidget.data('shareTitle')),\n              description: euc(shareWidget.data('shareDescription')),\n              image: euc(shareWidget.data('shareImageUrl')),\n              url: euc(shareWidget.data('shareUrl')),\n              redirectUrl: euc(shareWidget.data('shareRedirectUrl'))\n            };\n            var url = shareTools.getUrlFor(name, params);\n            var link = $(this);\n            if (name != 'mail') {\n              // position it in the middle of the browser window\n              var left = 0,\n                top = 0;\n              if (typeof window.screenLeft !== 'undefined') {\n                left = window.screenLeft;\n                top = window.screenTop;\n              } else if (typeof window.screenX !== 'undefined') {\n                left = window.screenX;\n                tp = window.screenY;\n              }\n              // popup dimensions\n              var width = 600,\n                height = 260;\n              left += ($(window).width() - width) / 2;\n              top += ($(window).height() - height) / 2;\n              var shareWindow = window.open(\n                url, '',\n                'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height='\n                + height + ',width=' + width + ',top=' + top + ',left=' + left\n              );\n              // show a post-share dialog?\n              if (shareTools.shouldShowPostShareDialog(name) && shareWindow) {\n                // wait for the share window to close. gotta poll here :(\n                var windowInterval = setInterval(function () {\n                  if (shareWindow.closed) {\n                    clearInterval(windowInterval);\n                    var psd = $('<div class=\"post-share-modal modal\"></div>');\n                    psd.load('/shared?s=' + name, function (data) {\n                      $('body').append(psd);\n                      $('.dont-show-again', psd).click(function (event) {\n                        event.preventDefault();\n                        shareTools.flagDontShowPostShareDialog();\n                        $.modal.close();\n                      });\n                      psd.modal({\n                        zIndex: 30000,\n                        closeText: '<span class=\"fa fa-times\"></span>'\n                      });\n                      shareTools.setupElements(psd);\n                    });\n                    ;\n                  }\n                }, 500);\n              }\n              event.preventDefault();\n            } else {\n              // email is special\n              link.attr('href', url);\n            }\n          }\n        }(networkName, element));\n      }\n    });\n  };\n\n\n  $(function () {\n    // configure our social networks\n    var shareTools = window.shareTools = new ShareTools()\n\n    shareTools.addNetwork({\n      name: 'facebook',\n      url: function (params, element) {\n        var ps = {\n          app_id: '632832353489701',\n          display: 'popup',\n          link: params.url,\n          name: params.title,\n          description: params.description,\n          image: params.image,\n          redirect_uri: params.redirectUrl\n        };\n        return 'https://www.facebook.com/dialog/feed?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'facebook-follow',\n      url: function (params, element) {\n        return 'http://www.facebook.com/plugins/follow.php?href=https%3A%2F%2Fwww.facebook.com%2Ftheonion';\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'twitter',\n      url: function (params, element) {\n        var text = params.title;\n        text = text.substr(0, 139);\n        ps = {\n          text: text,\n          url: params.url,\n          via: twitter_handle\n        };\n        return 'https://www.twitter.com/share?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'twitter-follow',\n      url: function (params, element) {\n        var text = params.title;\n        text = text.substr(0, 139);\n        ps = {\n          screen_name: 'theonion'\n        };\n        return 'https://twitter.com/intent/follow?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'mail',\n      url: function (params, element) {\n        var body = params.url + '%0D%0A%0D%0A' + params.description + '%0D%0A%0D%0Avia theonion.com';\n        var ps = {\n          subject: params.title,\n          body: body\n        };\n        return 'mailto:?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'pinterest',\n      url: function (params, element) {\n        var ps = {\n          url: params.url,\n          media: params.image,\n          description: params.title + ' - ' + params.description + ' @theonion'\n        };\n        return 'http://www.pinterest.com/pin/create/button/?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'pinterest-follow',\n      url: function (params, element) {\n        return 'http://www.pinterest.com/theonion/';\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'reddit',\n      url: function (params, element) {\n        var ps = {\n          url: params.url,\n          title: params.title\n        };\n        return 'http://www.reddit.com/submit?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'tumblr',\n      url: function (params, element) {\n        var ps = {\n          url: params.url,\n          name: params.title,\n          description: params.description\n        };\n        return 'http://www.tumblr.com/share/link?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'tumblr-follow',\n      url: function (params, element) {\n        return 'http://www.tumblr.com/follow/theonion';\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'google-plus',\n      url: function (params, element) {\n        var ps = {\n          url: params.url\n        };\n        return 'https://plus.google.com/share?' + objToParams(ps);\n      },\n      postShareDialog: false\n    }).addNetwork({\n      name: 'google-plus-follow',\n      url: function (params, element) {\n        return 'https://plus.google.com/101973235797849021923';\n      },\n      postShareDialog: false\n    });\n    shareTools.setupElements('.share-widget');\n  });\n\n}(window));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/sharetools.js\n ** module id = 13\n ** module chunks = 0 1\n **/","// Copyright (c) 2014 comScore, Inc.\nwindow.ns_=window.ns_||{};ns_.StreamSense=ns_.StreamSense||function(){function h(t,n){var r=t||\"\",i=\"undefined\",s=l.comScore||l.sitestat||function(t){var n=\"comScore=\",r=c.cookie,s=\"\",o=\"indexOf\",a=\"substring\",f=\"length\",h=e.browserAcceptsLargeURLs()?g.URL_LENGTH_LIMIT:g.RESTRICTED_URL_LENGTH_LIMIT,p,d=\"&ns_\",v=\"&\",m,y,b,w,E=l.encodeURIComponent||escape;if(r[o](n)+1)for(b=0,y=r.split(\";\"),w=y[f];b<w;b++)m=y[b][o](n),m+1&&(s=v+unescape(y[b][a](m+n[f])));t+=d+\"_t=\"+ +(new Date)+d+\"c=\"+(c.characterSet||c.defaultCharset||\"\")+s,t.length>h&&t.indexOf(v)>0&&(p=t.substr(0,h-8).lastIndexOf(v),t=(t.substring(0,p)+d+\"cut=\"+E(t.substring(p+1))).substr(0,h)),u.httpGet(t),typeof ns_p===i&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof n!==i){var o=[],a=l.encodeURIComponent||escape;for(var f in n)n.hasOwnProperty(f)&&o.push(a(f)+\"=\"+a(n[f]));/[\\?\\&]$/.test(r)||(r+=\"&\"),r+=o.join(\"&\")}return s(r)}function p(t,n){var r,i=l.encodeURIComponent||escape,s=[],o=g.LABELS_ORDER,u=t.split(\"?\"),a=u[0],f=u[1],h=f.split(\"&\");for(var p=0,d=h.length;p<d;p++){var v=h[p].split(\"=\"),m=unescape(v[0]),y=unescape(v[1]);m&&(n[m]=y)}var b={};for(var p=0,d=o.length;p<d;p++){var w=o[p];if(n.hasOwnProperty(w)){var E=n[w];typeof E!=\"undefined\"&&E!=null&&(b[w]=!0,s.push(i(w)+\"=\"+i(n[w])))}}for(var w in n){if(b[w])continue;if(n.hasOwnProperty(w)){var E=n[w];typeof E!=\"undefined\"&&E!=null&&s.push(i(w)+\"=\"+i(n[w]))}}r=a+\"?\"+s.join(\"&\"),r=r+(r.indexOf(\"&c8=\")<0?\"&c8=\"+i(c.title):\"\")+(r.indexOf(\"&c7=\")<0?\"&c7=\"+i(c.URL):\"\")+(r.indexOf(\"&c9=\")<0?\"&c9=\"+i(c.referrer):\"\");var S=e.browserAcceptsLargeURLs()?g.URL_LENGTH_LIMIT:g.RESTRICTED_URL_LENGTH_LIMIT;if(r.length>S&&r.indexOf(\"&\")>0){var x=r.substr(0,S-8).lastIndexOf(\"&\");r=(r.substring(0,x)+\"&ns_cut=\"+i(r.substring(x+1))).substr(0,S)}return r}var e=function(){var e={uid:function(){var e=1;return function(){return+(new Date)+\"_\"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t=arguments.length,n;e=e||{};for(var r=1;r<t;r++){n=arguments[r];if(!n)continue;for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},getString:function(e,t){var n=String(e);return e==null?t||\"na\":n},getLong:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getBoolean:function(e,t){var n=String(e).toLowerCase()==\"true\";return e==null?t||!1:n},isNotEmpty:function(e){return typeof e!=\"undefined\"&&e!=null&&typeof e.length!=\"undefined\"&&e.length>0},indexOf:function(t,n){var r=-1;return e.forEach(n,function(e,n){e==t&&(r=n)}),r},forEach:function(e,t,n){try{if(typeof t==\"function\"){n=typeof n!=\"undefined\"?n:null;if(typeof e[\"length\"]!=\"number\"||typeof e[0]==\"undefined\"){var r=typeof e.__proto__!=\"undefined\";for(var i in e)(!r||r&&typeof e.__proto__[i]==\"undefined\")&&typeof e[i]!=\"function\"&&t.call(n,e[i],i)}else for(var i=0,s=e.length;i<s;i++)t.call(n,e[i],i)}}catch(o){}},regionMatches:function(e,t,n,r,i){if(t<0||r<0||t+i>e.length||r+i>n.length)return!1;while(--i>=0){var s=e.charAt(t++),o=n.charAt(r++);if(s!=o)return!1}return!0},size:function(e){var t=0,n;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(typeof t!=\"undefined\"&&t){var n=new Date,r=n.getHours()+\":\"+n.getMinutes()+\":\"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return typeof e==\"undefined\"?!1:typeof e==\"string\"?(e=e.toLowerCase(),e===\"true\"||e===\"1\"||e===\"on\"):e?!0:!1},toString:function(t){if(typeof t==\"undefined\")return\"undefined\";if(typeof t==\"string\")return t;if(Object.prototype.toString.call(t)===\"[object Array]\")return t.join(\",\");if(e.size(t)>0){var n=\"\";for(var r in t)t.hasOwnProperty(r)&&(n+=r+\":\"+t[r]+\";\");return n}return t.toString()},exists:function(e){return typeof e!=\"undefined\"&&e!=null},firstGreaterThan0:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||\"object\"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},safeGet:function(t,n){return n=e.exists(n)?n:\"\",e.exists(t)?t:n},getBrowserName:function(){var e=navigator.userAgent,t=navigator.appName,n,r;return(r=e.indexOf(\"Opera\"))!=-1||(r=e.indexOf(\"OPR/\"))!=-1?t=\"Opera\":(r=e.indexOf(\"Android\"))!=-1?t=\"Android\":(r=e.indexOf(\"Chrome\"))!=-1?t=\"Chrome\":(r=e.indexOf(\"Safari\"))!=-1?t=\"Safari\":(r=e.indexOf(\"Firefox\"))!=-1?t=\"Firefox\":(r=e.indexOf(\"IEMobile\"))!=-1?t=\"Internet Explorer Mobile\":t==\"Microsoft Internet Explorer\"||t==\"Netscape\"?t=\"Internet Explorer\":(n=e.lastIndexOf(\" \")+1)<(r=e.lastIndexOf(\"/\"))&&(t=e.substring(n,r),t.toLowerCase()==t.toUpperCase()&&(t=navigator.appName)),t},getBrowserFullVersion:function(){var e=navigator.userAgent,t=navigator.appName,n=\"\"+parseFloat(navigator.appVersion),r,i,s,o,u;return(s=e.indexOf(\"Opera\"))!=-1?(n=e.substring(s+6),(s=e.indexOf(\"Version\"))!=-1&&(n=e.substring(s+8))):(s=e.indexOf(\"OPR/\"))!=-1?n=e.substring(s+4):(s=e.indexOf(\"Android\"))!=-1?n=e.substring(s+11):(s=e.indexOf(\"Chrome\"))!=-1?n=e.substring(s+7):(s=e.indexOf(\"Safari\"))!=-1?(n=e.substring(s+7),(s=e.indexOf(\"Version\"))!=-1&&(n=e.substring(s+8))):(s=e.indexOf(\"Firefox\"))!=-1?n=e.substring(s+8):t==\"Microsoft Internet Explorer\"?(u=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"),u.exec(e)!=null&&(n=parseFloat(RegExp.$1))):t==\"Netscape\"?(u=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"),u.exec(e)!=null&&(n=parseFloat(RegExp.$1))):(i=e.lastIndexOf(\" \")+1)<(s=e.lastIndexOf(\"/\"))&&(n=e.substring(s+1)),n=n.toString(),(o=n.indexOf(\";\"))!=-1&&(n=n.substring(0,o)),(o=n.indexOf(\" \"))!=-1&&(n=n.substring(0,o)),(o=n.indexOf(\")\"))!=-1&&(n=n.substring(0,o)),r=parseInt(\"\"+n,10),isNaN(r)&&(n=\"\"+parseFloat(navigator.appVersion)),n},browserAcceptsLargeURLs:function(){return window.ActiveXObject===null||!0}};return e}(),t=function(){var t=\"cs_\",n=function(){var n=this,r=typeof localStorage!=\"undefined\"?localStorage:{};e.extend(this,{get:function(e){return r[t+e]},set:function(e,n){r[t+e]=n},has:function(e){return t+e in r},remove:function(e){delete r[t+e]},clear:function(){for(var e in r)r.hasOwnProperty(e)&&delete r[e]}})};return n}(),n=function(e,t){var n=new Image;n.onload=function(){t&&t(200)},n.onerror=function(){t&&t()},n.src=e},r=function(e,t){t&&setTimeout(t,0)},i=function(e,t,n){n&&setTimeout(n,0)},s=function(){return{dir:function(e){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(e,t){return!1},read:function(e,t){return null}}}(),o=function(e,t){typeof engine!=\"undefined\"&&t&&setTimeout(t,0);var n=engine.createHttpClient(),r=n.createRequest(\"GET\",e,null);r.start(),t&&setTimeout(t,0)},u=function(){var e={PLATFORM:\"generic\",httpGet:n,httpPost:i,Storage:t,IO:s,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(e){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +(new Date)+~~(Math.random()*1e3)},getVisitorIdSuffix:function(){return\"72\"},getDeviceName:function(){return\"\"},getPlatformVersion:function(){return\"\"},getPlatformName:function(){return\"js\"},getRuntimeName:function(){return\"\"},getRuntimeVersion:function(){return\"\"},getResolution:function(){return\"\"},getLanguage:function(){return\"\"},getPackageName:function(){return\"\"},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},isCrossPublisherIdChanged:function(){return!1}};return e}(),a=function(){function f(){return typeof engine!=\"undefined\"&&typeof engine.stats!=\"undefined\"}function l(){return e.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:e.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function c(){if(r==null){var e=l();e!=null?(r=e,u=\"31\",a=e):(r=+(new Date)+~~(Math.random()*1e3),u=\"72\",a=null)}}var n=this,r=null,u=null,a=null;return{PLATFORM:\"trilithium\",httpGet:o,httpPost:i,Storage:t,IO:s,getCrossPublisherId:function(){return c(),a},getAppName:function(){return e.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(t){return e.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return c(),r},getVisitorIdSuffix:function(){return u},getDeviceName:function(){return e.safeGet(engine.stats.device.platform,\"\")},getPlatformVersion:function(){return e.safeGet(engine.stats.device.version,\"\")},getPlatformName:function(){return\"js\"},getRuntimeName:function(){return\"trilithium\"},getRuntimeVersion:function(){return\"\"},getResolution:function(){return typeof screen!=\"undefined\"&&typeof screen.height!=\"undefined\"&&typeof screen.width!=\"undefined\"?screen.height+\"x\"+screen.width:\"\"},getLanguage:function(){return\"\"},getPackageName:function(){return\"\"},isConnectionAvailable:function(){return!0},isCompatible:f}}();u.autoSelect=function(){a.isCompatible()&&e.extend(u,a)};var f=typeof window!=\"undefined\"&&typeof document!=\"undefined\",l,c;f?(l=window,c=document):(l={},c={location:{href:\"\"},title:\"\",URL:\"\",referrer:\"\",cookie:\"\"});var e=e||{};e.filterMap=function(t,n){for(var r in t)e.indexOf(r,n)==-1&&delete t[r]},e.getKeys=function(e,t){var n,r=[];for(n in e)(!t||t.test(n))&&e.hasOwnProperty(n)&&(r[r.length]=n);return r};var d=function(){var e=[\"play\",\"pause\",\"end\",\"buffer\",\"keep-alive\",\"hb\",\"custom\",\"ad_play\",\"ad_pause\",\"ad_end\",\"ad_click\"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),v=function(){var e=[d.END,d.PLAY,d.PAUSE,d.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),m={ADPLAY:d.AD_PLAY,ADPAUSE:d.AD_PAUSE,ADEND:d.AD_END,ADCLICK:d.AD_CLICK},g={STREAMSENSE_VERSION:\"4.1411.18\",DEFAULT_PLAYERNAME:\"streamsense\",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:\"19\",C10_VALUE:\"js\",NS_AP_C12M_VALUE:\"1\",NS_NC_VALUE:\"1\",PAGE_NAME_LABEL:\"name\",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:[\"c1\",\"c2\",\"ca2\",\"cb2\",\"cc2\",\"cd2\",\"ns_site\",\"ca_ns_site\",\"cb_ns_site\",\"cc_ns_site\",\"cd_ns_site\",\"ns_vsite\",\"ca_ns_vsite\",\"cb_ns_vsite\",\"cc_ns_vsite\",\"cd_ns_vsite\",\"ns_ap_an\",\"ca_ns_ap_an\",\"cb_ns_ap_an\",\"cc_ns_ap_an\",\"cd_ns_ap_an\",\"ns_ap_pn\",\"ns_ap_pv\",\"c12\",\"ca12\",\"cb12\",\"cc12\",\"cd12\",\"ns_ak\",\"ns_ns_ap_hw\",\"name\",\"ns_ap_ni\",\"ns_ap_ec\",\"ns_ap_ev\",\"ns_ap_device\",\"ns_ap_id\",\"ns_ap_csf\",\"ns_ap_bi\",\"ns_ap_pfm\",\"ns_ap_pfv\",\"ns_ap_ver\",\"ca_ns_ap_ver\",\"cb_ns_ap_ver\",\"cc_ns_ap_ver\",\"cd_ns_ap_ver\",\"ns_ap_sv\",\"ns_ap_cv\",\"ns_type\",\"ca_ns_type\",\"cb_ns_type\",\"cc_ns_type\",\"cd_ns_type\",\"ns_radio\",\"ns_nc\",\"ns_ap_ui\",\"ca_ns_ap_ui\",\"cb_ns_ap_ui\",\"cc_ns_ap_ui\",\"cd_ns_ap_ui\",\"ns_ap_gs\",\"ns_st_sv\",\"ns_st_pv\",\"ns_st_it\",\"ns_st_id\",\"ns_st_ec\",\"ns_st_sp\",\"ns_st_sq\",\"ns_st_cn\",\"ns_st_ev\",\"ns_st_po\",\"ns_st_cl\",\"ns_st_el\",\"ns_st_pb\",\"ns_st_hc\",\"ns_st_mp\",\"ca_ns_st_mp\",\"cb_ns_st_mp\",\"cc_ns_st_mp\",\"cd_ns_st_mp\",\"ns_st_mv\",\"ca_ns_st_mv\",\"cb_ns_st_mv\",\"cc_ns_st_mv\",\"cd_ns_st_mv\",\"ns_st_pn\",\"ns_st_tp\",\"ns_st_pt\",\"ns_st_pa\",\"ns_st_ad\",\"ns_st_li\",\"ns_st_ci\",\"ns_ap_jb\",\"ns_ap_res\",\"ns_ap_c12m\",\"ns_ap_install\",\"ns_ap_updated\",\"ns_ap_lastrun\",\"ns_ap_cs\",\"ns_ap_runs\",\"ns_ap_usage\",\"ns_ap_fg\",\"ns_ap_ft\",\"ns_ap_dft\",\"ns_ap_bt\",\"ns_ap_dbt\",\"ns_ap_dit\",\"ns_ap_as\",\"ns_ap_das\",\"ns_ap_it\",\"ns_ap_uc\",\"ns_ap_aus\",\"ns_ap_daus\",\"ns_ap_us\",\"ns_ap_dus\",\"ns_ap_ut\",\"ns_ap_oc\",\"ns_ap_uxc\",\"ns_ap_uxs\",\"ns_ap_lang\",\"ns_ap_ar\",\"ns_ap_miss\",\"ns_ts\",\"ns_st_ca\",\"ns_st_cp\",\"ns_st_er\",\"ca_ns_st_er\",\"cb_ns_st_er\",\"cc_ns_st_er\",\"cd_ns_st_er\",\"ns_st_pe\",\"ns_st_ui\",\"ca_ns_st_ui\",\"cb_ns_st_ui\",\"cc_ns_st_ui\",\"cd_ns_st_ui\",\"ns_st_bc\",\"ns_st_bt\",\"ns_st_bp\",\"ns_st_pc\",\"ns_st_pp\",\"ns_st_br\",\"ns_st_ub\",\"ns_st_vo\",\"ns_st_ws\",\"ns_st_pl\",\"ns_st_pr\",\"ns_st_ep\",\"ns_st_ty\",\"ns_st_ct\",\"ns_st_cs\",\"ns_st_ge\",\"ns_st_st\",\"ns_st_dt\",\"ns_st_de\",\"ns_st_pu\",\"ns_st_cu\",\"ns_st_fee\",\"ns_ap_i1\",\"ns_ap_i2\",\"ns_ap_i3\",\"ns_ap_i4\",\"ns_ap_i5\",\"ns_ap_i6\",\"c3\",\"ca3\",\"cb3\",\"cc3\",\"cd3\",\"c4\",\"ca4\",\"cb4\",\"cc4\",\"cd4\",\"c5\",\"ca5\",\"cb5\",\"cc5\",\"cd5\",\"c6\",\"ca6\",\"cb6\",\"cc6\",\"cd6\",\"c10\",\"c11\",\"c13\",\"c14\",\"c15\",\"c16\",\"c7\",\"c8\",\"c9\"]},y=function(){var t=function(){function l(e,t){var n=t[e];n!=null&&(f[e]=n)}var t=this,n=0,r=0,i=0,s=0,o=0,u=0,a,f;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},f.hasOwnProperty(\"ns_st_cl\")||(f.ns_st_cl=\"0\"),f.hasOwnProperty(\"ns_st_pn\")||(f.ns_st_pn=\"1\"),f.hasOwnProperty(\"ns_st_tp\")||(f.ns_st_tp=\"1\"),t.setPauses(0),t.setStarts(0),t.setBufferingTime(0),t.setBufferingTimestamp(-1),t.setPlaybackTime(0),t.setPlaybackTimestamp(-1)},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClipId:function(){return(typeof a==\"undefined\"||a==null)&&t.setClipId(\"1\"),a},setClipId:function(e){a=e},setRegisters:function(e,s){var u=e.ns_st_cn;u!=null&&(t.setClipId(u),delete e.ns_st_cn),u=e.ns_st_bt,u!=null&&(i=Number(u),delete e.ns_st_bt),l(\"ns_st_cl\",e),l(\"ns_st_pn\",e),l(\"ns_st_tp\",e),l(\"ns_st_ub\",e),l(\"ns_st_br\",e);if(s==v.PLAYING||s==null)u=e.ns_st_sq,u!=null&&(r=Number(u),delete e.ns_st_sq);s!=v.BUFFERING&&(u=e.ns_st_pt,u!=null&&(o=Number(u),delete e.ns_st_pt));if(s==v.PAUSED||s==v.IDLE||s==null)u=e.ns_st_pc,u!=null&&(n=Number(u),delete e.ns_st_pc)},createLabels:function(i,s){var o=s||{};o.ns_st_cn=t.getClipId(),o.ns_st_bt=String(t.getBufferingTime());if(i==d.PLAY||i==null)o.ns_st_sq=String(r);if(i==d.PAUSE||i==d.END||i==d.KEEP_ALIVE||i==d.HEART_BEAT||i==null)o.ns_st_pt=String(t.getPlaybackTime()),o.ns_st_pc=String(n);return e.extend(o,t.getLabels()),o},incrementPauses:function(){n++},incrementStarts:function(){r++},getBufferingTime:function(){var e=i;return s>=0&&(e+=+(new Date)-s),e},setBufferingTime:function(e){i=e},getPlaybackTime:function(){var e=o;return u>=0&&(e+=+(new Date)-u),e},setPlaybackTime:function(e){o=e},getPlaybackTimestamp:function(){return u},setPlaybackTimestamp:function(e){u=e},getBufferingTimestamp:function(){return s},setBufferingTimestamp:function(e){s=e},getPauses:function(){return n},setPauses:function(e){n=e},getStarts:function(){return r},setStarts:function(e){r=e}}),f={},t.reset()};return t}(),b=function(){var t=function(){var t=this,n=null,r,i=0,s=0,o=0,u=0,a=0,f,l=0,c=!1;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},t.setPlaylistId(+(new Date)+\"_\"+l),t.setBufferingTime(0),t.setPlaybackTime(0),t.setPauses(0),t.setStarts(0),t.setRebufferCount(0),c=!1},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClip:function(){return n},getPlaylistId:function(){return r},setPlaylistId:function(e){r=e},setRegisters:function(e,t){var n=e.ns_st_sp;n!=null&&(i=Number(n),delete e.ns_st_sp),n=e.ns_st_bc,n!=null&&(o=Number(n),delete e.ns_st_bc),n=e.ns_st_bp,n!=null&&(u=Number(n),delete e.ns_st_bp),n=e.ns_st_id,n!=null&&(r=n,delete e.ns_st_id),t!=v.BUFFERING&&(n=e.ns_st_pa,n!=null&&(a=Number(n),delete e.ns_st_pa));if(t==v.PAUSED||t==v.IDLE||t==null)n=e.ns_st_pp,n!=null&&(s=Number(n),delete e.ns_st_pp)},createLabels:function(n,u){var a=u||{};a.ns_st_bp=String(t.getBufferingTime()),a.ns_st_sp=String(i),a.ns_st_id=String(r),o>0&&(a.ns_st_bc=String(o));if(n==d.PAUSE||n==d.END||n==d.KEEP_ALIVE||n==d.HEART_BEAT||n==null)a.ns_st_pa=String(t.getPlaybackTime()),a.ns_st_pp=String(s);if(n==d.PLAY||n==null)t.didFirstPlayOccurred()||(a.ns_st_pb=\"1\",t.setFirstPlayOccurred(!0));return e.extend(a,t.getLabels()),a},incrementStarts:function(){i++},incrementPauses:function(){s++,n.incrementPauses()},setPlaylistCounter:function(e){l=e},incrementPlaylistCounter:function(){l++},addPlaybackTime:function(e){if(n.getPlaybackTimestamp()>=0){var r=e-n.getPlaybackTimestamp();n.setPlaybackTimestamp(-1),n.setPlaybackTime(n.getPlaybackTime()+r),t.setPlaybackTime(t.getPlaybackTime()+r)}},addBufferingTime:function(e){if(n.getBufferingTimestamp()>=0){var r=e-n.getBufferingTimestamp();n.setBufferingTimestamp(-1),n.setBufferingTime(n.getBufferingTime()+r),t.setBufferingTime(t.getBufferingTime()+r)}},getBufferingTime:function(){var e=u;return n.getBufferingTimestamp()>=0&&(e+=+(new Date)-n.getBufferingTimestamp()),e},setBufferingTime:function(e){u=e},getPlaybackTime:function(){var e=a;return n.getPlaybackTimestamp()>=0&&(e+=+(new Date)-n.getPlaybackTimestamp()),e},setPlaybackTime:function(e){a=e},getStarts:function(){return i},setStarts:function(e){i=e},getPauses:function(){return s},setPauses:function(e){s=e},getRebufferCount:function(){return o},incrementRebufferCount:function(){o++},setRebufferCount:function(e){o=e},didFirstPlayOccurred:function(){return c},setFirstPlayOccurred:function(e){c=e}}),n=new y,f={},t.reset()};return t}(),w=function(){var t=function(t,n){function q(e){var t=0;if(k!=null)for(var n=0;n<k.length;n++){var r=k[n],i=r.playingtime;if(!i||e<i){t=r.interval;break}}return t}function R(){X();var e=q(w.getClip().getPlaybackTime());if(e>0){var t=O>0?O:e;C=setTimeout(W,t)}O=0}function U(){X();var e=q(w.getClip().getPlaybackTime());O=e-w.getClip().getPlaybackTime()%e,C!=null&&X()}function z(){O=0,_=0,M=0}function W(){M++;var e=mt(d.HEART_BEAT,null);rt(e),O=0,R()}function X(){C!=null&&(clearTimeout(C),C=null)}function V(){J(),N=setTimeout($,L)}function $(){var e=mt(d.KEEP_ALIVE,null);rt(e),y++,V()}function J(){N!=null&&(clearTimeout(N),N=null)}function K(){G(),r.isPauseOnBufferingEnabled()&&at(v.PAUSED)&&(x=setTimeout(Q,A))}function Q(){if(P==v.PLAYING){w.incrementRebufferCount(),w.incrementPauses();var e=mt(d.PAUSE,null);rt(e),y++,P=v.PAUSED}}function G(){x!=null&&(clearTimeout(x),x=null)}function Y(e){return e==v.PLAYING||e==v.PAUSED}function Z(){l&&(clearTimeout(l),l=null)}function et(e){return e==d.PLAY?v.PLAYING:e==d.PAUSE?v.PAUSED:e==d.BUFFER?v.BUFFERING:e==d.END?v.IDLE:null}function tt(t,n,r){Z();if(r)l=setTimeout(function(e,t){return function(){tt(e,t)}}(t,n),r);else if(ct(t)){var i=pt(),s=a,o=lt(n),u=s>=0?o-s:0;ot(pt(),n),ut(t,n),dt(pt()),ht(t);for(var f=0,c=F.length;f<c;f++)F[f](i,t,n,u);nt(n),w.setRegisters(n,t),w.getClip().setRegisters(n,t);var h=mt(v.toEventType(t),n);e.extend(h,n),at(m)&&(rt(h),P=m,y++)}}function nt(e){var t=e.ns_st_mp;t!=null&&(H=t,delete e.ns_st_mp),t=e.ns_st_mv,t!=null&&(B=t,delete e.ns_st_mv),t=e.ns_st_ec,t!=null&&(y=Number(t),delete e.ns_st_ec)}function rt(e,t){t===undefined&&(t=!0),t&&st(e);var n=r.getPixelURL();if(E){if(!it()){var i=I.am,s=I.et,o=i.newApplicationMeasurement(E,s.HIDDEN,e,n);E.getQueue().offer(o)}}else n&&u.httpGet(p(n,e))}function it(){var e=E.getAppContext(),t=E.getSalt(),n=E.getPixelURL();return e==null||t==null||t.length==0||n==null||n.length==0}function st(t){j=mt(null),e.extend(j,t)}function ot(t,n){var r=lt(n);if(t==v.PLAYING)w.addPlaybackTime(r),U(),J();else if(t==v.BUFFERING)w.addBufferingTime(r),G();else if(t==v.IDLE){var i=e.getKeys(w.getClip().getLabels());w.getClip().reset(i)}}function ut(e,t){var n=lt(t),r=ft(t);f=r,e==v.PLAYING?(R(),V(),w.getClip().setPlaybackTimestamp(n),at(e)&&(w.getClip().incrementStarts(),w.getStarts()<1&&w.setStarts(1))):e==v.PAUSED?at(e)&&w.incrementPauses():e==v.BUFFERING?(w.getClip().setBufferingTimestamp(n),T&&K()):e==v.IDLE&&z()}function at(e){return e!=v.PAUSED&&e!=v.IDLE||P!=v.IDLE&&P!=null?e!=v.BUFFERING&&P!=e:!1}function ft(t){var n=-1;return t.hasOwnProperty(\"ns_st_po\")&&(n=e.getInteger(t.ns_st_po)),n}function lt(e){var t=-1;return e.hasOwnProperty(\"ns_ts\")&&(t=Number(e.ns_ts)),t}function ct(e){return e!=null&&pt()!=e}function ht(e){m=e,a=+(new Date)}function pt(){return m}function dt(e){c=e}function vt(){return c}function mt(){var t,n;arguments.length==1?(t=v.toEventType(m),n=arguments[0]):(t=arguments[0],n=arguments[1]);var i={};if(typeof document!=\"undefined\"){var s=document;i.c7=s.URL,i.c8=s.title,i.c9=s.referrer}return n!=null&&e.extend(i,n),i.hasOwnProperty(\"ns_ts\")||(i.ns_ts=String(+(new Date))),t!=null&&!i.hasOwnProperty(\"ns_st_ev\")&&(i.ns_st_ev=d.toString(t)),r.isPersistentLabelsShared()&&E&&e.extend(i,E.getLabels()),e.extend(i,r.getLabels()),gt(t,i),w.createLabels(t,i),w.getClip().createLabels(t,i),i.hasOwnProperty(\"ns_st_mp\")||(i.ns_st_mp=H),i.hasOwnProperty(\"ns_st_mv\")||(i.ns_st_mv=B),i.hasOwnProperty(\"ns_st_ub\")||(i.ns_st_ub=\"0\"),i.hasOwnProperty(\"ns_st_br\")||(i.ns_st_br=\"0\"),i.hasOwnProperty(\"ns_st_pn\")||(i.ns_st_pn=\"1\"),i.hasOwnProperty(\"ns_st_tp\")||(i.ns_st_tp=\"1\"),i.hasOwnProperty(\"ns_st_it\")||(i.ns_st_it=\"c\"),i.ns_st_sv=g.STREAMSENSE_VERSION,i.ns_type=\"hidden\",i}function gt(t,n){var r=n||{};r.ns_st_ec=String(y);if(!r.hasOwnProperty(\"ns_st_po\")){var i=f,s=lt(r);if(t==d.PLAY||t==d.KEEP_ALIVE||t==d.HEART_BEAT||t==null&&m==v.PLAYING)i+=s-w.getClip().getPlaybackTimestamp();r.ns_st_po=e.getInteger(i)}return t==d.HEART_BEAT&&(r.ns_st_hc=String(M)),r}function yt(e){var t=lt(e);t<0&&(e.ns_ts=String(+(new Date)))}function bt(e,t,n){t=t||{},t.ns_st_ad=1,e>=d.AD_PLAY&&e<=d.AD_CLICK&&r.notify(e,t,n)}function wt(e,t){r.notify(d.CUSTOM,e,t)}var r=this,i=500,s,o=null,a=0,f=0,l,c,m,y=0,w=null,E,S=!0,x,T=!0,N,C,k=g.DEFAULT_HEARTBEAT_INTERVAL,L=g.DEFAULT_KEEP_ALIVE_INTERVAL,A=g.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,O=0,M=0,_=0,D=!1,P,H,B,j,F,I={};u.autoSelect(),e.extend(this,{reset:function(t){w.reset(t),w.setPlaylistCounter(0),w.setPlaylistId(+(new Date)+\"_1\"),w.getClip().reset(t),t!=null&&!t.isEmpty()?e.filterMap(s,t):s={},y=1,M=0,U(),z(),J(),G(),Z(),m=v.IDLE,c=null,a=-1,P=null,H=g.DEFAULT_PLAYERNAME,B=g.STREAMSENSE_VERSION,j=null},setPauseOnBufferingInterval:function(e){A=e},getPauseOnBufferingInterval:function(){return A},setKeepAliveInterval:function(e){L=e},getKeepAliveInterval:function(){return L},setHeartbeatIntervals:function(e){k=e},notify:function(){var t,n,s,o;n=arguments[0],arguments.length==3?(s=arguments[1],o=arguments[2]):(s={},o=arguments[1]),t=et(n);var u=e.extend({},s);yt(u),u.hasOwnProperty(\"ns_st_po\")||(u.ns_st_po=e.getInteger(o).toString());if(n==d.PLAY||n==d.PAUSE||n==d.BUFFER||n==d.END)r.isPausePlaySwitchDelayEnabled()&&Y(m)&&Y(t)&&(m!=v.PLAYING||t!=v.PAUSED||!!l)?tt(t,u,i):tt(t,u);else{var a=mt(n,u);e.extend(a,u),rt(a,!1),y++}},getLabels:function(){return s},getState:function(){return m},setLabels:function(t){t!=null&&(s==null?s=t:e.extend(s,t))},getLabel:function(e){return s[e]},setLabel:function(e,t){t==null?delete s[e]:s[e]=t},setPixelURL:function(e){if(e==null||e.length==0)return null;var t=decodeURIComponent||unescape,n=e.indexOf(\"?\");if(n>=0){if(n<e.length-1){var i=e.substring(n+1).split(\"&\");for(var s=0,u=i.length;s<u;s++){var a=i[s],f=a.split(\"=\");f.length==2?r.setLabel(f[0],t(f[1])):f.length==1&&r.setLabel(g.PAGE_NAME_LABEL,t(f[0]))}e=e.substring(0,n+1)}}else e+=\"?\";return o=e,o},getPixelURL:function(){return o?o:typeof ns_p!=\"undefined\"&&typeof ns_p.src==\"string\"?o=ns_p.src.replace(/&amp;/,\"&\").replace(/&ns__t=\\d+/,\"\"):typeof ns_pixelUrl==\"string\"?o=ns_pixelUrl.replace(/&amp;/,\"&\").replace(/&ns__t=\\d+/,\"\"):null},isPersistentLabelsShared:function(){return S},setPersistentLabelsShared:function(e){S=e},isPauseOnBufferingEnabled:function(){return T},setPauseOnBufferingEnabled:function(e){T=e},isPausePlaySwitchDelayEnabled:function(){return D},setPausePlaySwitchDelayEnabled:function(e){D=e},setPausePlaySwitchDelay:function(e){e&&e>0&&(i=e)},getPausePlaySwitchDelay:function(){return i},setClip:function(e,t){var n=!1;return m==v.IDLE&&(w.getClip().reset(),w.getClip().setLabels(e,null),t&&w.incrementStarts(),n=!0),n},setPlaylist:function(e){var t=!1;return m==v.IDLE&&(w.incrementPlaylistCounter(),w.reset(),w.getClip().reset(),w.setLabels(e,null),t=!0),t},importState:function(t){reset();var n=e.extend({},t);w.setRegisters(n,null),w.getClip().setRegisters(n,null),nt(n),y++},exportState:function(){return j},getVersion:function(){return g.STREAMSENSE_VERSION},addListener:function(e){F.push(e)},removeListener:function(t){F.splice(e.indexOf(t,F),1)},getClip:function(){return w.getClip()},getPlaylist:function(){return w}}),e.extend(this,{adNotify:bt,customNotify:wt,viewNotify:function(e,t){e=e||r.getPixelURL(),e&&h(e,t)}}),ns_.comScore&&(I=ns_.comScore.exports,E=I.c()),s={},y=1,m=v.IDLE,w=new b,x=null,T=!0,C=null,M=0,z(),N=null,l=null,D=!1,P=null,f=0,F=[],r.reset(),t&&r.setLabels(t),n&&r.setPixelURL(n)};return function(t){function s(e,t){return n[i]||u(e,t)}function o(){i=-1;for(var e=0;e<=r;e++)if(n.hasOwnProperty(e)){i=e;break}return ns_.StreamSense.activeIndex=i,i}function u(e,t){return e=e||null,t=t||null,e&&typeof e==\"object\"&&(t=e,e=null),n[++r]=new ns_.StreamSense(t,e),o(),n[r]}function a(){var e=!1,t=i;if(typeof arguments[0]==\"number\"&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var r in n)if(n[r]===arguments[0]){t=r;break}return n.hasOwnProperty(t)&&(e=n[t],delete n[t],e.reset(),o()),e}function f(e){return e=e||{},s().setPlaylist(e),s().getPlaylist()}function l(e,t,n){return e=e||{},typeof t==\"number\"&&(e.ns_st_cn=t),s().setClip(e,n),s().getClip()}function c(e,t,n){return typeof e==\"undefined\"?!1:(n=n||null,t=t||{},s().notify(e,t,n))}function h(e){typeof e!=\"undefined\"&&s().setLabels(e)}function p(){return s().getLabels()}function d(e){typeof e!=\"undefined\"&&s().getPlaylist().setLabels(e)}function v(){return s().getPlaylist().getLabels()}function m(e){typeof e!=\"undefined\"&&s().getClip().setLabels(e)}function g(){return s().getClip().getLabels()}function y(e){return s().reset(e||{})}function b(e){return s().getPlaylist().reset(e||{})}function w(e){return s().getClip().reset(e||{})}function E(e){return e=e||{},s().viewNotify(null,e)}function S(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},typeof t==\"number\"&&(e.ns_st_po=t),s().customNotify(e,t)}function x(){return s().exportState()}function T(e){s().importState(e)}var n={},r=-1,i=-1;e.extend(t,{activeIndex:i,newInstance:u,\"new\":u,destroyInstance:a,destroy:a,newPlaylist:f,newClip:l,notify:c,setLabels:h,getLabels:p,setPlaylistLabels:d,getPlaylistLabels:v,setClipLabels:m,getClipLabels:g,resetInstance:y,resetPlaylist:b,resetClip:w,viewEvent:E,customEvent:S,exportState:x,importState:T})}(t),t}();return w.AdEvents=m,w.PlayerEvents=d,ns_.StreamingTag=ns_.StreamingTag||function(){var t=function(){var t=function(t){function l(){if(!ns_.comScore&&e.exists(t)){f=e.isTrue(t.debug);if(e.exists(t.customerC2)){var n=t.secure?\"https://sb\":\"http\"+(document.location.href.charAt(4)==\"s\"?\"s://sb\":\"://b\");a.setPixelURL(n+\".scorecardresearch.com/p?c1=2\"),a.setLabel(\"c2\",t.customerC2)}else a.setPixelURL(\"\"),f&&console.log(\"Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.\")}a.setLabel(\"ns_st_it\",\"r\")}function c(t){return e.exists(t)||(t={}),e.exists(t.ns_st_ci)||(t.ns_st_ci=\"0\"),e.exists(t.c3)||(t.c3=\"*null\"),e.exists(t.c4)||(t.c4=\"*null\"),e.exists(t.c6)||(t.c6=\"*null\"),t}function h(e){return i>0&&e>=i?s+=e-i:s=0,s}function p(e){a.getState()!=v.IDLE&&a.getState()!=v.PAUSED?a.notify(d.END,h(e)):a.getState()==v.PAUSED&&a.notify(d.END,s)}function m(e){return g(\"ns_st_ci\",o,e)&&g(\"c3\",o,e)&&g(\"c4\",o,e)&&g(\"c6\",o,e)}function g(t,n,r){if(e.exists(t)&&e.exists(n)&&e.exists(r)){var i=n[t],s=r[t];return e.exists(i)&&e.exists(s)&&i===s}return!1}function y(t,n){p(t),r++;var u={ns_st_cn:r,ns_st_pn:\"1\",ns_st_tp:\"0\"};e.extend(u,n),a.setClip(u),o=n,i=t,s=0,a.notify(d.PLAY,s)}function b(t){var n=+(new Date);p(n),r++,t=c(t);var o={ns_st_cn:r,ns_st_pn:\"1\",ns_st_tp:\"1\",ns_st_ad:\"1\"};e.extend(o,t),a.setClip(o),s=0,a.notify(d.PLAY,s),i=n,u=!1}function E(e){var t=+(new Date);e=c(e),u?m(e)?(a.getClip().setLabels(e),a.getState()!=v.PLAYING&&(i=t,a.notify(d.PLAY,s))):y(t,e):y(t,e),u=!0}var n=this,r=0,i=0,s=0,o=null,u=!1,a=new w,f=!1;e.extend(this,{playAdvertisement:function(){f&&console&&console.warn(\"Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.\");var e={ns_st_ct:\"va\"};b(e)},playVideoAdvertisement:function(t){var n={ns_st_ct:\"va\"};t&&e.extend(n,t),b(n)},playAudioAdvertisement:function(t){var n={ns_st_ct:\"aa\"};t&&e.extend(n,t),b(n)},playContentPart:function(t){f&&console&&console.warn(\"Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.\");var n={ns_st_ct:\"vc\"};t&&e.extend(n,t),E(n)},playVideoContentPart:function(t){var n={ns_st_ct:\"vc\"};t&&e.extend(n,t),E(n)},playAudioContentPart:function(t){var n={ns_st_ct:\"ac\"};t&&e.extend(n,t),E(n)},stop:function(){var e=+(new Date);a.notify(d.PAUSE,h(e))}}),l()};return function(e){}(t),t}();return t}(),w}();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/streamsense.4.1411.18.min.js\n ** module id = 14\n ** module chunks = 0 1\n **/","/*\tSWFObject v2.2 <http://code.google.com/p/swfobject/>\n\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php>\n*/\nvar swfobject=function(){var D=\"undefined\",r=\"object\",S=\"Shockwave Flash\",W=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",R=\"SWFObjectExprInst\",x=\"onreadystatechange\",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,X=!+\"\\v1\",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");ag[0]=parseInt(ab.replace(/^(.*)\\..*$/,\"$1\"),10);ag[1]=parseInt(ab.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable(\"$version\");if(ab){X=true;ab=ab.split(\" \")[1].split(\",\");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState==\"complete\")||(typeof j.readyState==D&&(j.getElementsByTagName(\"body\")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener(\"DOMContentLoaded\",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState==\"complete\"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll(\"left\")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName(\"body\")[0].appendChild(C(\"span\"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener(\"load\",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener(\"load\",Y,false)}else{if(typeof O.attachEvent!=D){i(O,\"onload\",Y)}else{if(typeof O.onload==\"function\"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName(\"body\")[0];var aa=C(r);aa.setAttribute(\"type\",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable(\"$version\");if(ab){ab=ab.split(\" \")[1].split(\",\");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute(\"width\")||\"0\";ai.height=ae.getAttribute(\"height\")||\"0\";if(ae.getAttribute(\"class\")){ai.styleclass=ae.getAttribute(\"class\")}if(ae.getAttribute(\"align\")){ai.align=ae.getAttribute(\"align\")}var ah={};var X=ae.getElementsByTagName(\"param\");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute(\"name\").toLowerCase()!=\"movie\"){ah[X[ad].getAttribute(\"name\")]=X[ad].getAttribute(\"value\")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName==\"OBJECT\"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F(\"6.0.65\")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName==\"OBJECT\"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width=\"310\"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height=\"137\"}j.title=j.title.slice(0,47)+\" - Flash Player Installation\";var ad=M.ie&&M.win?\"ActiveX\":\"PlugIn\",ac=\"MMredirectURL=\"+O.location.toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+ad+\"&MMdoctitle=\"+j.title;if(typeof ab.flashvars!=D){ab.flashvars+=\"&\"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C(\"div\");X+=\"SWFObjectNew\";Y.setAttribute(\"id\",X);ae.parentNode.insertBefore(Y,ae);ae.style.display=\"none\";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C(\"div\");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display=\"none\";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C(\"div\");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName==\"PARAM\")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah=\"\";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()==\"data\"){ag.movie=ai[ae]}else{if(ae.toLowerCase()==\"styleclass\"){ah+=' class=\"'+ai[ae]+'\"'}else{if(ae.toLowerCase()!=\"classid\"){ah+=\" \"+ae+'=\"'+ai[ae]+'\"'}}}}}var af=\"\";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name=\"'+ad+'\" value=\"'+ag[ad]+'\" />'}}aa.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+ah+\">\"+af+\"</object>\";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute(\"type\",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()==\"styleclass\"){Z.setAttribute(\"class\",ai[ac])}else{if(ac.toLowerCase()!=\"classid\"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!=\"movie\"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C(\"param\");aa.setAttribute(\"name\",X);aa.setAttribute(\"value\",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName==\"OBJECT\"){if(M.ie&&M.win){X.style.display=\"none\";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]==\"function\"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(\".\");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName(\"head\")[0];if(!aa){return}var X=(ad&&typeof ad==\"string\")?ad:\"screen\";if(ab){n=null;G=null}if(!n||G!=X){var Z=C(\"style\");Z.setAttribute(\"type\",\"text/css\");Z.setAttribute(\"media\",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+\" {\"+Y+\"}\"))}}}function w(Z,X){if(!m){return}var Y=X?\"visible\":\"hidden\";if(J&&c(Z)){c(Z).style.visibility=Y}else{v(\"#\"+Z,\"visibility:\"+Y)}}function L(Y){var Z=/[\\\\\\\"<>\\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent(\"onunload\",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+=\"\";ag+=\"\";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+=\"&\"+ai+\"=\"+Z[ai]}else{am.flashvars=ai+\"=\"+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\\?/.test(Z)){Z=Z.split(\"?\")[1]}if(aa==null){return L(Z)}var Y=Z.split(\"&\");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf(\"=\"))==aa){return L(Y[X].substring((Y[X].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display=\"block\"}}if(E){E(B)}}a=false}}}}();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/swfobject.js\n ** module id = 15\n ** module chunks = 0 1\n **/","var videojs = require('video.js');\n\nvar VideoAnalytics = function(player, options) {\n  if (!window.AnalyticsManager) {\n    console.error('AnalyticsManager unavailable');\n    return;\n  }\n\n  this.player = player;\n  this.handleTimeUpdate = this.handleTimeUpdate.bind(this);\n  this.handlePlayerEnded = this.handlePlayerEnded.bind(this);\n  this.sentEvents = {};\n  player.on('timeupdate', this.handleTimeUpdate);\n  player.on('ended', this.handlePlayerEnded);\n};\n\nVideoAnalytics.prototype.handlePlayerEnded = function() {\n  this.sendThirtySeconds();\n};\n\nVideoAnalytics.prototype.sendAnalyticsEvent = function(key, action) {\n  if (this.sentEvents[key]) {\n    return;\n  }\n\n  var event = {\n    eventCategory: 'Video:' + window.channelName,\n    eventAction: action,\n    eventLabel: window.videoUrl\n  };\n  AnalyticsManager.sendEvent(event);\n  this.sentEvents[key] = event;\n};\n\nVideoAnalytics.prototype.sendThreeSeconds = function() {\n  this.sendAnalyticsEvent('threeSeconds', '3 seconds');\n};\n\nVideoAnalytics.prototype.sendThirtySeconds = function() {\n  this.sendAnalyticsEvent('thirtySeconds', '30 seconds');\n};\n\nVideoAnalytics.prototype.sendNinetyFivePercentComplete = function() {\n  this.sendAnalyticsEvent('ninetyFivePercent', '95 percent');\n};\n\nVideoAnalytics.prototype.handleTimeUpdate = function() {\n  if (this.player.ads && this.player.ads.state === 'ad-playback') {\n    return;\n  }\n\n  var elapsedTime =  this.player.currentTime();\n  var duration = this.player.duration();\n  var ninetyFivePercentComplete = (duration * .95);\n\n  if (duration === 0) {\n    if (!this.warned) {\n      console.warn('Video has an empty duration');\n      this.warned = true;\n    }\n\n    return;\n  }\n\n  if (elapsedTime >= 3) {\n    this.sendThreeSeconds();\n  };\n\n  if (elapsedTime >= 30) {\n    this.sendThirtySeconds();\n  };\n\n  if (elapsedTime >= ninetyFivePercentComplete) {\n    this.sendNinetyFivePercentComplete();\n  };\n};\n\nvar initVideoAnalytics = function (options) {\n  var player = this;\n  var videoAnalytics = new VideoAnalytics(player, options);\n};\n\nvideojs.plugin('videoanalytics', initVideoAnalytics);\n\nmodule.exports = VideoAnalytics;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/videojs-analytics.js\n ** module id = 16\n ** module chunks = 0 1\n **/","var videojs = require('video.js');\n\nvar EndCard = function(player, options) {\n  this.player = player;\n  this.videoEnded = this.videoEnded.bind(this);\n  var defaults = {\n    countdown: 5,\n    next: null,\n    allowCountdown: true,\n    replayAllow: true\n  };\n  this.player.on('ended', this.videoEnded);\n  this.settings = $.extend(defaults, options);\n  this.$overlay = null;\n};\n\nEndCard.prototype.videoEnded = function() {\n  var player = this.player;\n  if (player.ads && player.ads.state === 'ad-playback') {\n    // Don't show an endcard after ad play.\n    return;\n  }\n  if (this.settings.countdown !== null) {\n    this.timeLeft = parseInt(this.settings.countdown, 10);\n  }\n\n  if (this.$overlay === null) {\n    this.setupEndcard();\n  }\n};\n\nEndCard.prototype.setupEndcard = function() {\n  $.get(this.settings.URL, this.endcardFetched.bind(this));\n};\n\nEndCard.prototype.teardownEndcard = function () {\n  if (this.$overlay) {\n    $(this.player.el()).find('.endcard').remove();\n    this.$overlay = null;\n  }\n  if (this.timeout) {\n    this.clearCountdown();\n  }\n  this.player.posterImage.hide();\n  this.player.controlBar.show();\n};\n\nEndCard.prototype.replayVideo = function() {\n  if (this.settings.replayAllow) {\n    this.player.trigger('replay');\n    this.teardownEndcard();\n    clearInterval(this.timeout);\n    this.player.play();\n  }\n};\n\nEndCard.prototype.setupReplay = function() {\n  var replayButton = this.$overlay.find('.ec-replay')[0];\n  $(replayButton).on('click', this.replayVideo.bind(this));\n};\n\nEndCard.prototype.startCountdown = function() {\n  if (this.settings.countdown !== null) {\n    this.timeout = setInterval(this.updateCountdown.bind(this), 1000);\n  }\n};\n\nEndCard.prototype.toggleCountdown = function() {\n  var $pause = $('.pause');\n\n  $pause\n    .toggleClass('paused')\n    .data('trackLabel', '#');\n\n  if (this.timeout) {\n    $pause.data('trackAction', 'Autostart: Pause');\n    this.clearCountdown();\n  } else {\n    $pause.data('trackAction', 'Autostart: Play');\n    this.startCountdown();\n  }\n};\n\nEndCard.prototype.clearCountdown = function() {\n  clearInterval(this.timeout);\n  this.timeout = null;\n};\n\nEndCard.prototype.setupCountdown = function() {\n  this.$overlay.find('.count, .pause').addClass('visible');\n\n  if (this.$overlay.find('.countdown').length > 0) {\n    this.$overlay.find('.pause').on('click', this.toggleCountdown.bind(this));\n    this.startCountdown();\n  }\n};\n\nEndCard.prototype.updateCountdown = function () {\n  if (this.timeLeft > 0) {\n    this.timeLeft -= 1;\n    $(this.player.el()).find('.count').html(this.timeLeft.toString());\n  } else {\n    this.clearCountdown();\n    var nextUrl = this.$overlay.find('.next a')[0].href;\n    this.redirectTo(nextUrl);\n  }\n};\n\nEndCard.prototype.redirectTo = function(url) {\n  window.location = url;\n};\n\nEndCard.prototype.displayShareTools = function() {\n  if ($('#custom-endcard').length > 0 || this.isRailPlayer()) {\n    this.$overlay.find('.next-video-container a').attr('target','_blank');\n    $('.sharetool').remove();\n  } else if ($.isFunction(this.player.shareTools.setup)) {\n    this.player.shareTools.setup();\n  }\n};\n\nEndCard.prototype.endcardFetched = function(endCardMarkup) {\n  var playerElement = this.player.el();\n\n  if (this.$overlay) {\n    return;\n  }\n\n  if (this.player.posterImage) {\n    this.player.posterImage.show();\n  }\n\n  this.$overlay = $(endCardMarkup);\n\n  this.setupReplay();\n\n  // Don't do countdown if embed or if it is the rail player\n  if (this.isRailPlayer() || this.isEmbedPlayer()) {\n    this.settings.allowCountdown = false;\n  }\n\n  if (this.settings.allowCountdown) {\n    this.setupCountdown();\n  } else {\n    this.$overlay.find('.next-video-container a').attr('target','_blank');\n  }\n\n  this.displayShareTools();\n\n  playerElement.appendChild(this.$overlay[0]);\n\n  var $shareTool = $(playerElement).find('.sharetool');\n  var $endcardShareContainer = $(playerElement).find('.ec-social');\n  $shareTool.appendTo($endcardShareContainer).show();\n\n  this.player.controlBar.hide();\n  if (window.picturefill) {\n    window.picturefill(document.querySelectorAll('.endcard [data-type=\"image\"]'));\n  }\n  else {\n    console.warn('videohub-player could not find `window.picturefill`');\n  }\n};\n\nEndCard.prototype.pathInfo = function() {\n  return window.location.pathname;\n};\n\nEndCard.prototype.isRailPlayer = function() {\n  return this.pathInfo().match(/^\\/channels\\/.+\\/rail/) ? true : false;\n};\n\nEndCard.prototype.isEmbedPlayer = function() {\n  return this.pathInfo().match(/embed/i) ? true : false;\n};\n\nvar initEndCard = function (options) {\n  var player = this;\n  var endCard = new EndCard(player, options);\n};\n\nvideojs.plugin('endcard', initEndCard);\n\nmodule.exports = EndCard;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/videojs-endcard.js\n ** module id = 17\n ** module chunks = 0 1\n **/","var videojs = require('video.js');\nvar _sharetools = require('./_sharetools');\n\nvar ShareTools = function(player, options) {\n  this.player = player;\n  var defaults = {};\n  this.settings = $.extend(defaults, options);\n  this.shareTools = new _sharetools();\n};\n\nShareTools.prototype.prepareOverlay = function() {\n  var $overlay = $('<div>');\n  $overlay.addClass('sharetool share-widget');\n\n  $overlay.attr({\n    'data-share-url': window.shareUrl,\n    'data-share-description': window.share_description,\n    'data-share-title': window.share_title,\n    'data-share-redirect-url': 'http://www.onionstudios.com/fb-close'\n  });\n\n  return $overlay;\n};\n\nShareTools.prototype.setupTwitter = function($shareToolDiv) {\n  if (!this.settings.twitter) {\n    return;\n  }\n\n  this.shareTools.addNetwork({\n    name: 'twitter',\n    url: function (params, element) {\n      var text = params.title;\n      text = text.substr(0, 139);\n      var queryParams = {\n        text: text,\n        url: params.url,\n        via: window.twitter_handle\n      };\n      var serializedParams = decodeURIComponent($.param(queryParams));\n      return 'https://www.twitter.com/share?' + serializedParams;\n    }\n  });\n\n  var $twitter = $('<a>');\n  $twitter.attr('title', 'Share via Twitter');\n  $twitter.data('trackAction', 'Share');\n  $twitter.data('trackLabel', 'Twitter');\n  $twitter.addClass('share-twitter button twitter');\n  $shareToolDiv.append($twitter);\n};\n\nShareTools.prototype.setupFacebook = function($shareToolDiv) {\n  if (!this.settings.facebook) {\n    return;\n  }\n\n  this.shareTools.addNetwork({\n    name: 'facebook',\n    url: function (params, element) {\n      var queryParams = {\n        app_id: '632832353489701',\n        display: 'popup',\n        link: params.url,\n        name: params.title,\n        description: params.description,\n        image: params.image,\n        redirect_uri: params.redirectUrl\n      };\n      var serializedParams = decodeURIComponent($.param(queryParams));\n      return 'https://www.facebook.com/dialog/feed?' + serializedParams;\n    }\n  });\n\n  var $facebook = $('<a>');\n  $facebook.attr('title', 'Share via Facebook');\n  $facebook.data('trackAction', 'Share');\n  $facebook.data('trackLabel', 'Facebook');\n  $facebook.addClass('share-facebook button fb');\n  $shareToolDiv.append($facebook);\n};\n\nShareTools.prototype.setupEmbedCode = function($shareToolDiv) {\n  if (!this.settings.embed) {\n    return;\n  }\n\n  var $embed = $('<a>');\n  $embed.addClass('button embed');\n  $embed.data('trackAction', 'Share');\n  $embed.data('trackLabel', 'Embed');\n  $shareToolDiv.append($embed);\n};\n\nShareTools.prototype.setup = function() {\n  this.open = true;\n\n  var $overlay = this.prepareOverlay();\n  var $shareToolDiv = $('<div class=\"share-buttons\"></div>');\n\n  this.setupTwitter($shareToolDiv);\n  this.setupFacebook($shareToolDiv);\n  this.setupEmbedCode($shareToolDiv);\n\n  $overlay.append($shareToolDiv);\n  this.shareTools.setupElements($overlay);\n\n  $(this.player.el()).append($overlay);\n\n  $('.embed').on('click', function() {\n    $('.embed-div').toggleClass('embed-active');\n  });\n};\n\nvar initShareTools = function(options) {\n  var player = this;\n  player.shareTools = new ShareTools(player, options);\n};\n\nvideojs.plugin('sharetools', initShareTools);\n\nmodule.exports = ShareTools;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/videojs-sharetools.js\n ** module id = 18\n ** module chunks = 0 1\n **/","var videojs = require('video.js');\nrequire('./streamsense.4.1411.18.min');\n\nvar VideoMetrix = function(player, options) {\n  var defaults = {};\n  this.player = player;\n  this.settings = $.extend(defaults, options);\n\n  if (!this.settings.id) {\n    console.warn('Invalid video metrics configuration.  Must contain ID');\n    return;\n  }\n\n  this.streamingTag = new ns_.StreamingTag({ customerC2: this.settings.id });\n\n  var that = this;\n\n  player.on('adstart', function(){\n    that.streamingTag.playVideoAdvertisement();\n  });\n\n  player.on('adend', function(){\n    that.streamingTag.stop();\n  });\n\n  player.on('play', function(){\n    if (!that.isAdPlaying()) {\n      that.streamingTag.playVideoContentPart(that.settings.metadata);\n    }\n  });\n\n  player.on('pause', function(){\n    if(!that.isAdPlaying()) {\n      that.streamingTag.stop();\n    }\n  });\n\n  player.on('ended', function(){\n    if(!that.isAdPlaying()) {\n      that.streamingTag.stop();\n    }\n  });\n};\n\nVideoMetrix.prototype.isAdPlaying = function() {\n  return (this.player.ads && (this.player.ads.state === 'ad-playback' || this.player.ads.state === 'ads-ready'));\n};\n\nvar initVideoMetrix = function(options) {\n  var player = this;\n  var videoMetrix = new VideoMetrix(player, options);\n};\n\nvideojs.plugin('videometrix', initVideoMetrix);\n\nmodule.exports = VideoMetrix;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/videojs-videometrix.js\n ** module id = 19\n ** module chunks = 0 1\n **/"],"sourceRoot":""}